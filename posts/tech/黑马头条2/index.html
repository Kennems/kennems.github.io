<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>黑马头条（2） | Kennem&#39;s Blog</title>
<meta name="keywords" content="Java, Web">
<meta name="description" content="黑马头条（2）">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A12/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.62a7eeae50111b169accaf54360fa68001ac13582e542f2b7f808927f82c7b28.css" integrity="sha256-YqfurlARGxaazK9UNg&#43;mgAGsE1guVC8rf4CJJ/gseyg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A12/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

<meta property="og:url" content="https://kennems.github.io/posts/tech/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A12/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="黑马头条（2）">
  <meta property="og:description" content="黑马头条（2）">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-01T15:37:01+08:00">
    <meta property="article:modified_time" content="2024-12-01T15:37:01+08:00">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黑马头条（2）">
<meta name="twitter:description" content="黑马头条（2）">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻技术",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "黑马头条（2）",
      "item": "https://kennems.github.io/posts/tech/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A12/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "黑马头条（2）",
  "name": "黑马头条（2）",
  "description": "黑马头条（2）",
  "keywords": [
    "Java", "Web"
  ],
  "articleBody": "黑马头条（2） 表结构分析 ap_article 文章基本信息表\nap_article_config 文章配置表\nap_article_content 文章内容表\n三张表关系分析\n从业务角度分析如何分表 滚屏分页的逻辑 表的拆分-垂直分表 垂直分表：将一个表的字段分散到多个表中，每个表存储其中一部分字段。\n优势：\n减少IO争抢，减少锁表的几率，查看文章概述与文章详情互不影响 充分发挥高频数据的操作效率，对文章概述数据的操作的高效率不会被操作文章详情数据的低效率所拖累 拆分规则：\n把不常用的字段单独放在一张表 把text、blob等大字段拆分出来单独放在一张表 经常组合查询的字段单独放在一张表中 导入对应实体类 ApArticle package com.heima.model.article.pojos; import com.baomidou.mybatisplus.annotation.IdType; import com.baomidou.mybatisplus.annotation.TableField; import com.baomidou.mybatisplus.annotation.TableId; import com.baomidou.mybatisplus.annotation.TableName; import lombok.Data; import java.io.Serializable; import java.util.Date; /** * * 文章信息表，存储已发布的文章 * * * @author itheima */ @Data @TableName(\"ap_article\") public class ApArticle implements Serializable { @TableId(value = \"id\",type = IdType.ID_WORKER) private Long id; /** * 标题 */ private String title; /** * 作者id */ @TableField(\"author_id\") private Long authorId; /** * 作者名称 */ @TableField(\"author_name\") private String authorName; /** * 频道id */ @TableField(\"channel_id\") private Integer channelId; /** * 频道名称 */ @TableField(\"channel_name\") private String channelName; /** * 文章布局 0 无图文章 1 单图文章 2 多图文章 */ private Short layout; /** * 文章标记 0 普通文章 1 热点文章 2 置顶文章 3 精品文章 4 大V 文章 */ private Byte flag; /** * 文章封面图片 多张逗号分隔 */ private String images; /** * 标签 */ private String labels; /** * 点赞数量 */ private Integer likes; /** * 收藏数量 */ private Integer collection; /** * 评论数量 */ private Integer comment; /** * 阅读数量 */ private Integer views; /** * 省市 */ @TableField(\"province_id\") private Integer provinceId; /** * 市区 */ @TableField(\"city_id\") private Integer cityId; /** * 区县 */ @TableField(\"county_id\") private Integer countyId; /** * 创建时间 */ @TableField(\"created_time\") private Date createdTime; /** * 发布时间 */ @TableField(\"publish_time\") private Date publishTime; /** * 同步状态 */ @TableField(\"sync_status\") private Boolean syncStatus; /** * 来源 */ private Boolean origin; /** * 静态页面地址 */ @TableField(\"static_url\") private String staticUrl; } ap_article_config文章配置对应实体类 package com.heima.model.article.pojos; import com.baomidou.mybatisplus.annotation.IdType; import com.baomidou.mybatisplus.annotation.TableField; import com.baomidou.mybatisplus.annotation.TableId; import com.baomidou.mybatisplus.annotation.TableName; import lombok.Data; import java.io.Serializable; /** * * APP已发布文章配置表 * * * @author itheima */ @Data @TableName(\"ap_article_config\") public class ApArticleConfig implements Serializable { @TableId(value = \"id\",type = IdType.ID_WORKER) private Long id; /** * 文章id */ @TableField(\"article_id\") private Long articleId; /** * 是否可评论 * true: 可以评论 1 * false: 不可评论 0 */ @TableField(\"is_comment\") private Boolean isComment; /** * 是否转发 * true: 可以转发 1 * false: 不可转发 0 */ @TableField(\"is_forward\") private Boolean isForward; /** * 是否下架 * true: 下架 1 * false: 没有下架 0 */ @TableField(\"is_down\") private Boolean isDown; /** * 是否已删除 * true: 删除 1 * false: 没有删除 0 */ @TableField(\"is_delete\") private Boolean isDelete; } ap_article_content 文章内容对应的实体类 package com.heima.model.article.pojos; import com.baomidou.mybatisplus.annotation.IdType; import com.baomidou.mybatisplus.annotation.TableField; import com.baomidou.mybatisplus.annotation.TableId; import com.baomidou.mybatisplus.annotation.TableName; import lombok.Data; import java.io.Serializable; @Data @TableName(\"ap_article_content\") public class ApArticleContent implements Serializable { @TableId(value = \"id\",type = IdType.ID_WORKER) private Long id; /** * 文章id */ @TableField(\"article_id\") private Long articleId; /** * 文章内容 */ private String content; } 接口定义 加载首页 加载更多 加载最新 接口路径 /api/v1/article/load /api/v1/article/loadmore /api/v1/article/loadnew 请求方式 POST POST POST 参数 ArticleHomeDto ArticleHomeDto ArticleHomeDto 响应结果 ResponseResult ResponseResult ResponseResult ArticleHomeDto\npackage com.heima.model.article.dtos; import lombok.Data; import java.util.Date; @Data public class ArticleHomeDto { // 最大时间 Date maxBehotTime; // 最小时间 Date minBehotTime; // 分页size Integer size; // 频道ID String tag; } 导入heima-leadnews-article微服务，资料在当天的文件夹中\n文章详情 大文本静态化方案：\nfreemarker minio FreeMarker FreeMarker是一款模板引擎：即一种基于模板和要改变的数据，并用来生成输出文本（HTML网页，电子邮件，配置文件，原代码等）的通用工具。它不是面向最终用户的，而是一个Java类库，是一款程序员可以嵌入所开发产品的组件。\n依赖导入： junit junit 3.8.1 test org.springframework.boot spring-boot-starter-web org.springframework.boot spring-boot-starter-freemarker org.springframework.boot spring-boot-starter-test org.projectlombok lombok org.apache.commons commons-io 1.3.2 controller中指定对应的数据： @Controller public class HelloController { @GetMapping(\"/basic\") public String hello(Model model){ // name model.addAttribute(\"name\", \"freemarker\"); Student student = new Student(); student.setName(\"Kennem\"); student.setAge(21); student.setBirthday(new Date(2003, 1, 15)); model.addAttribute(\"stu\", student); return \"01-basic\"; } } template中指定对应的样式：01-basic.ftl 最终样式：\nFreemarker指令语法 注释，即\u003c#– –\u003e，介于其之间的内容会被freemarker忽略 \u003c#--这里是注释--\u003e 插值（Interpolation）：即${..}部分，freemarker会用真实的值代替${..} Hello ${name} FTL指令：和HTML标记类似，名字前加#予以区分，Freemarker会解析标签中的表达式或逻辑。 \u003c# \u003eFTL指令\u003c/#\u003e 文本，仅文本信息，这些不是freemarker的注释、插值、FTL指令的内容会被freemarker忽略 \u003c#-- freemarker中的普通文本 --\u003e\r这是普通文本 集合指令-List \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003eHello World!\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003c#--List 数据展示--\u003e \u003cb\u003eList 数据展示：\u003c/b\u003e \u003cbr\u003e\u003cbr\u003e \u003ctable\u003e \u003ctr\u003e \u003ctd\u003e序号\u003c/td\u003e \u003ctd\u003e姓名\u003c/td\u003e \u003ctd\u003e年龄\u003c/td\u003e \u003ctd\u003e钱包\u003c/td\u003e \u003c/tr\u003e \u003c#list stus as stu\u003e \u003ctr\u003e \u003ctd\u003e${stu_index + 1}\u003c/td\u003e \u003ctd\u003e${stu.name}\u003c/td\u003e \u003ctd\u003e${stu.age}\u003c/td\u003e \u003ctd\u003e${stu.money}\u003c/td\u003e \u003c/tr\u003e \u003c/#list\u003e \u003c/table\u003e \u003chr\u003e \u003c#--Map 数据展示--\u003e \u003cb\u003eMap 数据展示：\u003c/b\u003e\u003cbr\u003e\u003cbr\u003e \u003ca href=\"###\"\u003e方式一：通过map['keyname'].property\u003c/a\u003e\u003cbr/\u003e 输出stu1的学生信息：\u003cbr/\u003e 姓名：${stuMap['stu1'].name}\u003cbr/\u003e 年龄：${stuMap['stu1'].age}\u003cbr/\u003e 钱包：${stuMap['stu1'].money}\u003cbr/\u003e \u003chr\u003e \u003cbr\u003e \u003ca href=\"###\"\u003e方式二：通过map.keyname.property\u003c/a\u003e\u003cbr/\u003e 输出stu2的学生信息：\u003cbr/\u003e 姓名：${stuMap.stu2.name}\u003cbr/\u003e 年龄：${stuMap.stu2.age}\u003cbr/\u003e 钱包：${stuMap.stu2.money}\u003cbr/\u003e \u003chr\u003e \u003cbr/\u003e \u003ca href=\"###\"\u003e遍历map中两个学生信息：\u003c/a\u003e\u003cbr/\u003e \u003ctable\u003e \u003ctr\u003e \u003ctd\u003e序号\u003c/td\u003e \u003ctd\u003e姓名\u003c/td\u003e \u003ctd\u003e年龄\u003c/td\u003e \u003ctd\u003e钱包\u003c/td\u003e \u003c/tr\u003e \u003c#list stuMap?keys as key\u003e \u003ctr\u003e \u003ctd\u003e${key_index + 1}\u003c/td\u003e \u003ctd\u003e${stuMap[key].name}\u003c/td\u003e \u003ctd\u003e${stuMap[key].age}\u003c/td\u003e \u003ctd\u003e${stuMap[key].money}\u003c/td\u003e \u003c/tr\u003e \u003c/#list\u003e \u003c/table\u003e \u003chr\u003e \u003c/body\u003e \u003c/html\u003e if指令 \u003ctable\u003e \u003ctr\u003e \u003ctd\u003e序号\u003c/td\u003e \u003ctd\u003e姓名\u003c/td\u003e \u003ctd\u003e年龄\u003c/td\u003e \u003ctd\u003e钱包\u003c/td\u003e \u003c/tr\u003e \u003c#list stus as stu\u003e \u003ctr\u003e \u003c#if stu.name='小红'\u003e \u003ctd\u003e${stu_index + 1}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"red\"\u003e${stu.name}\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e${stu.age}\u003c/td\u003e \u003ctd\u003e${stu.money}\u003c/td\u003e \u003c#else\u003e \u003ctd\u003e${stu_index + 1}\u003c/td\u003e \u003ctd\u003e${stu.name}\u003c/td\u003e \u003ctd\u003e${stu.age}\u003c/td\u003e \u003ctd\u003e${stu.money}\u003c/td\u003e \u003c/#if\u003e \u003c/tr\u003e \u003c/#list\u003e \u003c/table\u003e 运算符 算术运算符 FreeMarker表达式中完全支持算术运算，FreeMarker支持的算术运算符包括：\n加法：+ 减法：- 乘法：* 除法：/ 求模（求余）：% 比较运算符 =或者==\n!=\n\u003e 或者 gt\n\u003e= 或者 gte\n\u003c或者lt\n\u003c=或者lte\n逻辑运算符 逻辑与：\u0026\u0026 逻辑或：|| 逻辑非：！ 空值处理 判断某变量是否存在使用?? 用法为：variable??，如果该变量存在，返回true，否则返回false\n\u003c#if stus??\u003e \u003c#list stus as stu\u003e \u003ctr\u003e \u003c#if stu.name='小红'\u003e \u003ctd\u003e${stu_index + 1}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"red\"\u003e${stu.name}\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e${stu.age}\u003c/td\u003e \u003ctd\u003e${stu.money}\u003c/td\u003e \u003c#else\u003e \u003ctd\u003e${stu_index + 1}\u003c/td\u003e \u003ctd\u003e${stu.name}\u003c/td\u003e \u003ctd\u003e${stu.age}\u003c/td\u003e \u003ctd\u003e${stu.money}\u003c/td\u003e \u003c/#if\u003e \u003c/tr\u003e \u003c/#list\u003e \u003c/#if\u003e 缺失变量默认值使用! 使用!要以指定一个默认值，当变量为空时显示默认值 例如：${name!''}表示如果name为空显示空字符串 如果是嵌套对象则建议使用()括起来 例如：${(stu.name)''}表示，如果stu或name为空默认显示空字符串 内建函数 内建函数语法格式：变量 + ？+ 函数名称\n1.集合的大小 ${集合名?size} 2.日期格式化 当前的日期：${today?date}\u003cbr/\u003e 当前的日期：${today?time}\u003cbr/\u003e 当前的日期：${today?datetime}\u003cbr/\u003e 当前的日期：${today?string(\"yyyy-MM-mm\")}\u003cbr/\u003e 3.内建函数c //长数值类型 model.addAttribute(\"point\", 6549255147894651651L); 默认每三位使用逗号分隔\n如果不想显示为每三位分隔的数字，可以使用c函数将数字型转成字符串输出\n${point?c} 4.将json字符串转成对象 一个例子：\n其中用到了assign标签，assign的作用是定义一个变量\n输出静态化文件 代码补全时注意选择哪一个包\n@SpringBootTest(classes = FreemarkerDemoApplication.class) @RunWith(SpringRunner.class) public class FreemarkerTest { @Autowired private Configuration configuration; @Test public void test() throws IOException, TemplateException { Template template = configuration.getTemplate(\"02-list.ftl\"); /** * 合成方法 * * 参数1：数据模型 * 参数2：输出流 */ Map map = getData(); template.process(map, new FileWriter(\"d:/test/list.html\")); } private Map getData() { Map\u003cString, Object\u003e map = new HashMap\u003c\u003e(); //------------------------------------ Student stu1 = new Student(); stu1.setName(\"小强\"); stu1.setAge(18); stu1.setMoney(1000.86f); stu1.setBirthday(new Date()); //小红对象模型数据 Student stu2 = new Student(); stu2.setName(\"小红\"); stu2.setMoney(200.1f); stu2.setAge(19); //将两个对象模型数据存放到List集合中 List\u003cStudent\u003e list = new ArrayList\u003c\u003e(); list.add(stu1); list.add(stu2); //向model中存放List集合数据 map.put(\"stus\", list); //------------------------------------ //创建Map数据 Map\u003cString, Student\u003e stuMap = new HashMap\u003c\u003e(); stuMap.put(\"stu1\", stu1); stuMap.put(\"stu2\", stu2); // 3.1 向model中存放Map数据 map.put(\"stuMap\", stuMap); map.put(\"today\", new Date()); //长数值类型 map.put(\"point\", 6549255147894651651L); return map; } } 输出对应含有数据的html文件 MinIO 对象存储的方式对比：\n存储方式 优点 缺点 FastDFS 1. 主备服务，高可用2. 支持主从文件，支持自定义扩展名3. 支持动态扩容 1. 没有完善的官方文档，近几年没有更新2. 环境搭建较为麻烦 MinIO 1. 性能高，准硬件条件下它能达到55GB/s的读、35GB/s的写速率2. 部署自带管理界面3. MinIO Inc运营的开源项目，社区活跃度高4. 提供了所有主流开发语言的SDK 1. 不支持动态增加节点 docker部署 docker search minio docker run -p 9000:9000 --name minio -d --restart=always -e \"MINIO_ACCESS_KEY=minio\" -e \"MINIO_SECRET_KEY=minio123\" -v /home/data:/data -v /home/config:/root/.minio minio/minio server /data 基本概念 bucket-类比于文件系统的目录 Object-类比文件系统的文件 Keys-类比文件名 上传文件进行静态访问 public class MinIOTest { public static void main(String[] args){ try { FileInputStream fileInputStream = new FileInputStream(\"D:\\\\test\\\\list.html\"); // 获取minio的链接信息， 创建一个minio的客户端 MinioClient minioClient = MinioClient.builder().credentials(\"minio\", \"minio123\").endpoint(\"http://192.168.200.130:9000/\").build(); // 上传 PutObjectArgs putObjectArgs = PutObjectArgs.builder() .object(\"list.html\") .contentType(\"text/html\") .bucket(\"leadnews\") .stream(fileInputStream, fileInputStream.available(), -1).build(); minioClient.putObject(putObjectArgs); } catch (Exception e) { throw new RuntimeException(e); } } } 封装MinIO为starter MinIO为starter\n错误： @Autowire不成功\n解决方法： 检查启动类是否有@SpringBootApplication\n模块内导入依赖：\n",
  "wordCount" : "3803",
  "inLanguage": "zh",
  "datePublished": "2024-12-01T15:37:01+08:00",
  "dateModified": "2024-12-01T15:37:01+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A12/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="🗂️分类">
                    <span>🗂️分类</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/tech/">💻技术</a></div>
    <h1 class="post-title entry-hint-parent">
      黑马头条（2）
    </h1>
    <div class="post-description">
      黑马头条（2）
    </div>
    <div class="post-meta"><span title='2024-12-01 15:37:01 +0800 CST'>2024-12-01</span>&nbsp;·&nbsp;8 分钟&nbsp;·&nbsp;3803 字&nbsp;·&nbsp;updated:&nbsp;2024-12-01&nbsp;·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e9%bb%91%e9%a9%ac%e5%a4%b4%e6%9d%a12" aria-label="黑马头条（2）">黑马头条（2）</a><ul>
                            
                    <li>
                        <a href="#%e8%a1%a8%e7%bb%93%e6%9e%84%e5%88%86%e6%9e%90" aria-label="表结构分析">表结构分析</a><ul>
                            
                    <li>
                        <a href="#%e8%a1%a8%e7%9a%84%e6%8b%86%e5%88%86-%e5%9e%82%e7%9b%b4%e5%88%86%e8%a1%a8" aria-label="表的拆分-垂直分表">表的拆分-垂直分表</a></li>
                    <li>
                        <a href="#%e5%af%bc%e5%85%a5%e5%af%b9%e5%ba%94%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="导入对应实体类">导入对应实体类</a><ul>
                            
                    <li>
                        <a href="#aparticle" aria-label="ApArticle">ApArticle</a></li>
                    <li>
                        <a href="#ap_article_config%e6%96%87%e7%ab%a0%e9%85%8d%e7%bd%ae%e5%af%b9%e5%ba%94%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="ap_article_config文章配置对应实体类">ap_article_config文章配置对应实体类</a></li>
                    <li>
                        <a href="#ap_article_content-%e6%96%87%e7%ab%a0%e5%86%85%e5%ae%b9%e5%af%b9%e5%ba%94%e7%9a%84%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="ap_article_content 文章内容对应的实体类">ap_article_content 文章内容对应的实体类</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%8e%a5%e5%8f%a3%e5%ae%9a%e4%b9%89" aria-label="接口定义">接口定义</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%96%87%e7%ab%a0%e8%af%a6%e6%83%85" aria-label="文章详情">文章详情</a><ul>
                            
                    <li>
                        <a href="#freemarker" aria-label="FreeMarker"><code>FreeMarker</code></a><ul>
                            
                    <li>
                        <a href="#%e4%be%9d%e8%b5%96%e5%af%bc%e5%85%a5" aria-label="依赖导入：">依赖导入：</a></li>
                    <li>
                        <a href="#controller%e4%b8%ad%e6%8c%87%e5%ae%9a%e5%af%b9%e5%ba%94%e7%9a%84%e6%95%b0%e6%8d%ae" aria-label="controller中指定对应的数据："><strong>controller</strong>中指定对应的数据：</a></li>
                    <li>
                        <a href="#template%e4%b8%ad%e6%8c%87%e5%ae%9a%e5%af%b9%e5%ba%94%e7%9a%84%e6%a0%b7%e5%bc%8f01-basicftl" aria-label="template中指定对应的样式：01-basic.ftl">template中指定对应的样式：01-basic.ftl</a></li>
                    <li>
                        <a href="#%e9%9b%86%e5%90%88%e6%8c%87%e4%bb%a4-list" aria-label="集合指令-List">集合指令-List</a></li>
                    <li>
                        <a href="#if%e6%8c%87%e4%bb%a4" aria-label="if指令">if指令</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="运算符">运算符</a><ul>
                            
                    <li>
                        <a href="#%e7%ae%97%e6%9c%af%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="算术运算符">算术运算符</a></li>
                    <li>
                        <a href="#%e6%af%94%e8%be%83%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="比较运算符">比较运算符</a></li>
                    <li>
                        <a href="#%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="逻辑运算符">逻辑运算符</a></li>
                    <li>
                        <a href="#%e7%a9%ba%e5%80%bc%e5%a4%84%e7%90%86" aria-label="空值处理">空值处理</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%86%85%e5%bb%ba%e5%87%bd%e6%95%b0" aria-label="内建函数">内建函数</a><ul>
                            
                    <li>
                        <a href="#1%e9%9b%86%e5%90%88%e7%9a%84%e5%a4%a7%e5%b0%8f" aria-label="1.集合的大小">1.集合的大小</a></li>
                    <li>
                        <a href="#2%e6%97%a5%e6%9c%9f%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="2.日期格式化">2.日期格式化</a></li>
                    <li>
                        <a href="#3%e5%86%85%e5%bb%ba%e5%87%bd%e6%95%b0c" aria-label="3.内建函数c">3.内建函数c</a></li>
                    <li>
                        <a href="#4%e5%b0%86json%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bd%ac%e6%88%90%e5%af%b9%e8%b1%a1" aria-label="4.将json字符串转成对象">4.将<code>json</code>字符串转成对象</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%be%93%e5%87%ba%e9%9d%99%e6%80%81%e5%8c%96%e6%96%87%e4%bb%b6" aria-label="输出静态化文件">输出静态化文件</a><ul>
                            
                    <li>
                        <a href="#%e8%be%93%e5%87%ba%e5%af%b9%e5%ba%94%e5%90%ab%e6%9c%89%e6%95%b0%e6%8d%ae%e7%9a%84html%e6%96%87%e4%bb%b6" aria-label="输出对应含有数据的html文件">输出对应含有数据的html文件</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#minio" aria-label="MinIO">MinIO</a><ul>
                            
                    <li>
                        <a href="#docker%e9%83%a8%e7%bd%b2" aria-label="docker部署">docker部署</a></li>
                    <li>
                        <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="基本概念">基本概念</a></li>
                    <li>
                        <a href="#%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6%e8%bf%9b%e8%a1%8c%e9%9d%99%e6%80%81%e8%ae%bf%e9%97%ae" aria-label="上传文件进行静态访问">上传文件进行静态访问</a></li>
                    <li>
                        <a href="#%e5%b0%81%e8%a3%85minio%e4%b8%bastarter" aria-label="封装MinIO为starter">封装MinIO为starter</a></li>
                    <li>
                        <a href="#%e9%94%99%e8%af%af" aria-label="错误：">错误：</a><ul>
                            
                    <li>
                        <a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95" aria-label="解决方法：">解决方法：</a>
                    </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="黑马头条2">黑马头条（2）<a hidden class="anchor" aria-hidden="true" href="#黑马头条2">#</a></h1>
<h2 id="表结构分析">表结构分析<a hidden class="anchor" aria-hidden="true" href="#表结构分析">#</a></h2>
<p>ap_article  文章基本信息表</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151839634.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151839634.png" alt="image-20210419151839634"  />
        </a>
    </div>
</p>
<p>ap_article_config  文章配置表</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151854868.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151854868.png" alt="image-20210419151854868"  />
        </a>
    </div>
</p>
<p>ap_article_content 文章内容表</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151912063.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151912063.png" alt="image-20210419151912063"  />
        </a>
    </div>
</p>
<p>三张表关系分析</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151938103.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20210419151938103.png" alt="image-20210419151938103"  />
        </a>
    </div>
</p>
<ul>
<li>从业务角度分析如何分表</li>
<li>滚屏分页的逻辑</li>
</ul>
<h3 id="表的拆分-垂直分表">表的拆分-垂直分表<a hidden class="anchor" aria-hidden="true" href="#表的拆分-垂直分表">#</a></h3>
<p><strong>垂直分表</strong>：将一个表的字段分散到多个表中，每个表存储其中一部分字段。</p>
<p><strong>优势</strong>：</p>
<ol>
<li>减少IO争抢，减少锁表的几率，查看文章概述与文章详情互不影响</li>
<li>充分发挥高频数据的操作效率，对文章概述数据的操作的高效率不会被操作文章详情数据的低效率所拖累</li>
</ol>
<p><strong>拆分规则</strong>：</p>
<ol>
<li>把<strong>不常用</strong>的字段单独放在一张表</li>
<li>把text、blob等<strong>大字段</strong>拆分出来单独放在一张表</li>
<li><strong>经常组合查询的字段</strong>单独放在一张表中</li>
</ol>
<h3 id="导入对应实体类">导入对应实体类<a hidden class="anchor" aria-hidden="true" href="#导入对应实体类">#</a></h3>
<h4 id="aparticle">ApArticle<a hidden class="anchor" aria-hidden="true" href="#aparticle">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.heima.model.article.pojos;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.IdType;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableField;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableId;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableName;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Serializable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Date;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 文章信息表，存储已发布的文章
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author itheima
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@TableName</span>(<span style="color:#e6db74">&#34;ap_article&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ApArticle</span> <span style="color:#66d9ef">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableId</span>(value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>,type <span style="color:#f92672">=</span> IdType.<span style="color:#a6e22e">ID_WORKER</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 标题
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String title;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 作者id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;author_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long authorId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 作者名称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;author_name&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String authorName;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 频道id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;channel_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer channelId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 频道名称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;channel_name&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String channelName;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章布局  0 无图文章   1 单图文章    2 多图文章
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Short layout;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章标记  0 普通文章   1 热点文章   2 置顶文章   3 精品文章   4 大V 文章
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Byte flag;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章封面图片 多张逗号分隔
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String images;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 标签
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String labels;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 点赞数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer likes;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 收藏数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer collection;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 评论数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer comment;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 阅读数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer views;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 省市
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;province_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer provinceId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 市区
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;city_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer cityId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 区县
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;county_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer countyId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 创建时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;created_time&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Date createdTime;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 发布时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;publish_time&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Date publishTime;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 同步状态
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;sync_status&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean syncStatus;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 来源
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean origin;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 静态页面地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;static_url&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String staticUrl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="ap_article_config文章配置对应实体类">ap_article_config文章配置对应实体类<a hidden class="anchor" aria-hidden="true" href="#ap_article_config文章配置对应实体类">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.heima.model.article.pojos;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.IdType;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableField;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableId;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableName;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Serializable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * APP已发布文章配置表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author itheima
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@TableName</span>(<span style="color:#e6db74">&#34;ap_article_config&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ApArticleConfig</span> <span style="color:#66d9ef">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableId</span>(value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>,type <span style="color:#f92672">=</span> IdType.<span style="color:#a6e22e">ID_WORKER</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;article_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long articleId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 是否可评论
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * true: 可以评论   1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * false: 不可评论  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;is_comment&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean isComment;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 是否转发
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * true: 可以转发   1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * false: 不可转发  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;is_forward&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean isForward;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 是否下架
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * true: 下架   1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * false: 没有下架  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;is_down&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean isDown;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 是否已删除
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * true: 删除   1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * false: 没有删除  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;is_delete&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Boolean isDelete;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="ap_article_content-文章内容对应的实体类">ap_article_content 文章内容对应的实体类<a hidden class="anchor" aria-hidden="true" href="#ap_article_content-文章内容对应的实体类">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.heima.model.article.pojos;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.IdType;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableField;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableId;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.baomidou.mybatisplus.annotation.TableName;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Serializable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@TableName</span>(<span style="color:#e6db74">&#34;ap_article_content&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ApArticleContent</span> <span style="color:#66d9ef">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableId</span>(value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>,type <span style="color:#f92672">=</span> IdType.<span style="color:#a6e22e">ID_WORKER</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@TableField</span>(<span style="color:#e6db74">&#34;article_id&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long articleId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 文章内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String content;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="接口定义">接口定义<a hidden class="anchor" aria-hidden="true" href="#接口定义">#</a></h3>
<table>
<thead>
<tr>
<th></th>
<th><strong>加载首页</strong></th>
<th><strong>加载更多</strong></th>
<th><strong>加载最新</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>接口路径</td>
<td>/api/v1/article/load</td>
<td>/api/v1/article/loadmore</td>
<td>/api/v1/article/loadnew</td>
</tr>
<tr>
<td>请求方式</td>
<td>POST</td>
<td>POST</td>
<td>POST</td>
</tr>
<tr>
<td>参数</td>
<td>ArticleHomeDto</td>
<td>ArticleHomeDto</td>
<td>ArticleHomeDto</td>
</tr>
<tr>
<td>响应结果</td>
<td>ResponseResult</td>
<td>ResponseResult</td>
<td>ResponseResult</td>
</tr>
</tbody>
</table>
<p>ArticleHomeDto</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.heima.model.article.dtos;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Date;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ArticleHomeDto</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 最大时间</span>
</span></span><span style="display:flex;"><span>    Date maxBehotTime;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 最小时间</span>
</span></span><span style="display:flex;"><span>    Date minBehotTime;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 分页size</span>
</span></span><span style="display:flex;"><span>    Integer size;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 频道ID</span>
</span></span><span style="display:flex;"><span>    String tag;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>导入heima-leadnews-article微服务，资料在当天的文件夹中</p>
<h2 id="文章详情">文章详情<a hidden class="anchor" aria-hidden="true" href="#文章详情">#</a></h2>
<p>大文本静态化方案：</p>
<ul>
<li><code>freemarker</code></li>
<li><code>minio</code></li>
</ul>
<h3 id="freemarker"><code>FreeMarker</code><a hidden class="anchor" aria-hidden="true" href="#freemarker">#</a></h3>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241129225816684.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241129225816684.png" alt="image-20241129225816684"  />
        </a>
    </div>
</p>
<p><code>FreeMarker</code>是一款模板引擎：即一种基于模板和要改变的数据，并用来生成输出文本（HTML网页，电子邮件，配置文件，原代码等）的通用工具。它不是面向最终用户的，而是一个Java类库，是一款程序员可以嵌入所开发产品的组件。</p>
<h4 id="依赖导入">依赖导入：<a hidden class="anchor" aria-hidden="true" href="#依赖导入">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>junit<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>junit<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>3.8.1<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-freemarker<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- lombok --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.projectlombok<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>lombok<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- apache 对 java io 的封装工具库 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.commons<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>commons-io<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>1.3.2<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><h4 id="controller中指定对应的数据"><strong>controller</strong>中指定对应的数据：<a hidden class="anchor" aria-hidden="true" href="#controller中指定对应的数据">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Controller</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloController</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@GetMapping</span>(<span style="color:#e6db74">&#34;/basic&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">hello</span>(Model model){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// name</span>
</span></span><span style="display:flex;"><span>        model.<span style="color:#a6e22e">addAttribute</span>(<span style="color:#e6db74">&#34;name&#34;</span>, <span style="color:#e6db74">&#34;freemarker&#34;</span>);
</span></span><span style="display:flex;"><span>        Student student <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student();
</span></span><span style="display:flex;"><span>        student.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;Kennem&#34;</span>);
</span></span><span style="display:flex;"><span>        student.<span style="color:#a6e22e">setAge</span>(21);
</span></span><span style="display:flex;"><span>        student.<span style="color:#a6e22e">setBirthday</span>(<span style="color:#66d9ef">new</span> Date(2003, 1, 15));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        model.<span style="color:#a6e22e">addAttribute</span>(<span style="color:#e6db74">&#34;stu&#34;</span>, student);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;01-basic&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="template中指定对应的样式01-basicftl">template中指定对应的样式：01-basic.ftl<a hidden class="anchor" aria-hidden="true" href="#template中指定对应的样式01-basicftl">#</a></h4>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130155700342.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130155700342.png" alt="image-20241130155700342"  />
        </a>
    </div>
</p>
<p>最终样式：</p>
<h3 id="image-20241130160048122httpsrawgithubusercontentcomkennemsblog-imagemainimage-20241130160048122pngfreemarker指令语法">






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130160048122.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130160048122.png" alt="image-20241130160048122"  />
        </a>
    </div>
Freemarker指令语法</h3>
<ol>
<li>注释，即<code>&lt;#– –&gt;</code>，介于其之间的内容会被freemarker忽略</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;</span>#--这里是注释--&gt;
</span></span></code></pre></div><ol start="2">
<li>插值（Interpolation）：即<code>${..}</code>部分，freemarker会用真实的值代替<code>${..}</code></li>
</ol>
<pre tabindex="0"><code>Hello ${name}
</code></pre><ol start="3">
<li>FTL指令：和HTML标记类似，名字前加#予以区分，Freemarker会解析标签中的表达式或逻辑。</li>
</ol>
<pre tabindex="0"><code>&lt;# &gt;FTL指令&lt;/#&gt;
</code></pre><ol start="4">
<li>文本，仅文本信息，这些不是freemarker的注释、插值、FTL指令的内容会被freemarker忽略</li>
</ol>
<pre tabindex="0"><code>&lt;#-- freemarker中的普通文本 --&gt;
这是普通文本
</code></pre><h4 id="集合指令-list">集合指令-List<a hidden class="anchor" aria-hidden="true" href="#集合指令-list">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">title</span>&gt;Hello World!&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;</span>#--List 数据展示--&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">b</span>&gt;List 数据展示：&lt;/<span style="color:#f92672">b</span>&gt; &lt;<span style="color:#f92672">br</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;序号&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;姓名&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;年龄&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;钱包&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>#list stus as stu&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stu_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stu.name}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stu.age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stu.money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>/#list&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">hr</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;</span>#--Map 数据展示--&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">b</span>&gt;Map 数据展示：&lt;/<span style="color:#f92672">b</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;###&#34;</span>&gt;方式一：通过map[&#39;keyname&#39;].property&lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>输出stu1的学生信息：&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>姓名：${stuMap[&#39;stu1&#39;].name}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>年龄：${stuMap[&#39;stu1&#39;].age}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>钱包：${stuMap[&#39;stu1&#39;].money}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">hr</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">br</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;###&#34;</span>&gt;方式二：通过map.keyname.property&lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>输出stu2的学生信息：&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>姓名：${stuMap.stu2.name}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>年龄：${stuMap.stu2.age}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>钱包：${stuMap.stu2.money}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">hr</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;###&#34;</span>&gt;遍历map中两个学生信息：&lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;序号&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;姓名&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;年龄&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;钱包&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>#list stuMap?keys as key&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${key_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stuMap[key].name}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stuMap[key].age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">td</span>&gt;${stuMap[key].money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>/#list&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">hr</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><h4 id="if指令">if指令<a hidden class="anchor" aria-hidden="true" href="#if指令">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;序号&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;姓名&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;年龄&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">td</span>&gt;钱包&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>#list stus as stu&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">&lt;</span>#if stu.name=&#39;小红&#39;&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;&lt;<span style="color:#f92672">font</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span>&gt;${stu.name}&lt;/<span style="color:#f92672">font</span>&gt;&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu.age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu.money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">&lt;</span>#else&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu.name}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu.age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;${stu.money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">&lt;</span>/#if&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>/#list&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">table</span>&gt;
</span></span></code></pre></div><h3 id="运算符">运算符<a hidden class="anchor" aria-hidden="true" href="#运算符">#</a></h3>
<h4 id="算术运算符">算术运算符<a hidden class="anchor" aria-hidden="true" href="#算术运算符">#</a></h4>
<p>FreeMarker表达式中完全支持算术运算，FreeMarker支持的算术运算符包括：</p>
<ul>
<li>加法：+</li>
<li>减法：-</li>
<li>乘法：*</li>
<li>除法：/</li>
<li>求模（求余）：%</li>
</ul>
<h4 id="比较运算符">比较运算符<a hidden class="anchor" aria-hidden="true" href="#比较运算符">#</a></h4>
<ul>
<li>
<p><code>=</code>或者<code>==</code></p>
</li>
<li>
<p><code>!=</code></p>
</li>
<li>
<p><code>&gt;</code> 或者 <code>gt</code></p>
</li>
<li>
<p><code>&gt;=</code> 或者 <code>gte</code></p>
</li>
<li>
<p><code>&lt;</code>或者<code>lt</code></p>
</li>
<li>
<p><code>&lt;=</code>或者<code>lte</code></p>
</li>
</ul>
<h4 id="逻辑运算符">逻辑运算符<a hidden class="anchor" aria-hidden="true" href="#逻辑运算符">#</a></h4>
<ol>
<li>逻辑与：<code>&amp;&amp;</code></li>
<li>逻辑或：<code>||</code></li>
<li>逻辑非：<code>！</code></li>
</ol>
<h4 id="空值处理">空值处理<a hidden class="anchor" aria-hidden="true" href="#空值处理">#</a></h4>
<ol>
<li>判断某变量是否存在使用<code>??</code></li>
</ol>
<p>用法为：<code>variable??</code>，如果该变量存在，返回true，否则返回false</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>#if stus??&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">&lt;</span>#list stus as stu&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#960050;background-color:#1e0010">&lt;</span>#if stu.name=&#39;小红&#39;&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;&lt;<span style="color:#f92672">font</span> <span style="color:#a6e22e">color</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span>&gt;${stu.name}&lt;/<span style="color:#f92672">font</span>&gt;&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu.age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu.money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#960050;background-color:#1e0010">&lt;</span>#else&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu_index + 1}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu.name}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu.age}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">td</span>&gt;${stu.money}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#960050;background-color:#1e0010">&lt;</span>/#if&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">&lt;</span>/#list&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>/#if&gt;
</span></span></code></pre></div><ol start="2">
<li>缺失变量默认值使用<code>!</code>
<ul>
<li>使用<code>!</code>要以指定一个默认值，当变量为空时显示默认值
<ul>
<li>例如：<code>${name!''}</code>表示如果<code>name</code>为空显示空字符串</li>
</ul>
</li>
<li>如果是嵌套对象则建议使用()括起来
<ul>
<li>例如：<code>${(stu.name)''}</code>表示，如果<code>stu</code>或<code>name</code>为空默认显示空字符串</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="内建函数">内建函数<a hidden class="anchor" aria-hidden="true" href="#内建函数">#</a></h3>
<p>内建函数语法格式：变量 + ？+ 函数名称</p>
<h4 id="1集合的大小">1.集合的大小<a hidden class="anchor" aria-hidden="true" href="#1集合的大小">#</a></h4>
<pre tabindex="0"><code>${集合名?size}
</code></pre><h4 id="2日期格式化">2.日期格式化<a hidden class="anchor" aria-hidden="true" href="#2日期格式化">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>当前的日期：${today?date}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>当前的日期：${today?time}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>当前的日期：${today?datetime}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>当前的日期：${today?string(&#34;yyyy-MM-mm&#34;)}&lt;<span style="color:#f92672">br</span>/&gt;
</span></span></code></pre></div><h4 id="3内建函数c">3.内建函数c<a hidden class="anchor" aria-hidden="true" href="#3内建函数c">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        <span style="color:#75715e">//长数值类型</span>
</span></span><span style="display:flex;"><span>        model.<span style="color:#a6e22e">addAttribute</span>(<span style="color:#e6db74">&#34;point&#34;</span>, 6549255147894651651L);
</span></span></code></pre></div><p>默认每三位使用逗号分隔</p>
<p>如果不想显示为每三位分隔的数字，可以使用c函数将数字型转成字符串输出</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>${point?c}
</span></span></code></pre></div><h4 id="4将json字符串转成对象">4.将<code>json</code>字符串转成对象<a hidden class="anchor" aria-hidden="true" href="#4将json字符串转成对象">#</a></h4>
<p>一个例子：</p>
<p>其中用到了assign标签，assign的作用是定义一个变量</p>
<h3 id="输出静态化文件">输出静态化文件<a hidden class="anchor" aria-hidden="true" href="#输出静态化文件">#</a></h3>
<p>代码补全时注意选择哪一个包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@SpringBootTest</span>(classes <span style="color:#f92672">=</span> FreemarkerDemoApplication.<span style="color:#a6e22e">class</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RunWith</span>(SpringRunner.<span style="color:#a6e22e">class</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FreemarkerTest</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Configuration configuration;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() <span style="color:#66d9ef">throws</span> IOException, TemplateException {
</span></span><span style="display:flex;"><span>        Template template <span style="color:#f92672">=</span> configuration.<span style="color:#a6e22e">getTemplate</span>(<span style="color:#e6db74">&#34;02-list.ftl&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * 合成方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * 参数1：数据模型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * 参数2：输出流
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         */</span>
</span></span><span style="display:flex;"><span>        Map map <span style="color:#f92672">=</span> getData();
</span></span><span style="display:flex;"><span>        template.<span style="color:#a6e22e">process</span>(map, <span style="color:#66d9ef">new</span> FileWriter(<span style="color:#e6db74">&#34;d:/test/list.html&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Map <span style="color:#a6e22e">getData</span>() {
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, Object<span style="color:#f92672">&gt;</span> map <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//------------------------------------</span>
</span></span><span style="display:flex;"><span>        Student stu1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student();
</span></span><span style="display:flex;"><span>        stu1.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;小强&#34;</span>);
</span></span><span style="display:flex;"><span>        stu1.<span style="color:#a6e22e">setAge</span>(18);
</span></span><span style="display:flex;"><span>        stu1.<span style="color:#a6e22e">setMoney</span>(1000.<span style="color:#a6e22e">86f</span>);
</span></span><span style="display:flex;"><span>        stu1.<span style="color:#a6e22e">setBirthday</span>(<span style="color:#66d9ef">new</span> Date());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//小红对象模型数据</span>
</span></span><span style="display:flex;"><span>        Student stu2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student();
</span></span><span style="display:flex;"><span>        stu2.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;小红&#34;</span>);
</span></span><span style="display:flex;"><span>        stu2.<span style="color:#a6e22e">setMoney</span>(200.<span style="color:#a6e22e">1f</span>);
</span></span><span style="display:flex;"><span>        stu2.<span style="color:#a6e22e">setAge</span>(19);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//将两个对象模型数据存放到List集合中</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        list.<span style="color:#a6e22e">add</span>(stu1);
</span></span><span style="display:flex;"><span>        list.<span style="color:#a6e22e">add</span>(stu2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//向model中存放List集合数据</span>
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;stus&#34;</span>, list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//------------------------------------</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//创建Map数据</span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, Student<span style="color:#f92672">&gt;</span> stuMap <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        stuMap.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;stu1&#34;</span>, stu1);
</span></span><span style="display:flex;"><span>        stuMap.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;stu2&#34;</span>, stu2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3.1 向model中存放Map数据</span>
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;stuMap&#34;</span>, stuMap);
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;today&#34;</span>, <span style="color:#66d9ef">new</span> Date());
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//长数值类型</span>
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;point&#34;</span>, 6549255147894651651L);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> map;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="输出对应含有数据的html文件">输出对应含有数据的html文件<a hidden class="anchor" aria-hidden="true" href="#输出对应含有数据的html文件">#</a></h4>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130193923416.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241130193923416.png" alt="image-20241130193923416"  />
        </a>
    </div>
</p>
<h2 id="minio">MinIO<a hidden class="anchor" aria-hidden="true" href="#minio">#</a></h2>
<p>对象存储的方式对比：</p>
<table>
<thead>
<tr>
<th>存储方式</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FastDFS</strong></td>
<td>1. 主备服务，高可用<!-- raw HTML omitted -->2. 支持主从文件，支持自定义扩展名<!-- raw HTML omitted -->3. 支持动态扩容</td>
<td>1. 没有完善的官方文档，近几年没有更新<!-- raw HTML omitted -->2. 环境搭建较为麻烦</td>
</tr>
<tr>
<td><strong>MinIO</strong></td>
<td>1. 性能高，准硬件条件下它能达到55GB/s的读、35GB/s的写速率<!-- raw HTML omitted -->2. 部署自带管理界面<!-- raw HTML omitted -->3. MinIO Inc运营的开源项目，社区活跃度高<!-- raw HTML omitted -->4. 提供了所有主流开发语言的SDK</td>
<td>1. 不支持动态增加节点</td>
</tr>
</tbody>
</table>
<h3 id="docker部署">docker部署<a hidden class="anchor" aria-hidden="true" href="#docker部署">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker search minio
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -p 9000:9000 --name minio -d --restart<span style="color:#f92672">=</span>always -e <span style="color:#e6db74">&#34;MINIO_ACCESS_KEY=minio&#34;</span> -e <span style="color:#e6db74">&#34;MINIO_SECRET_KEY=minio123&#34;</span> -v /home/data:/data -v /home/config:/root/.minio minio/minio server /data
</span></span></code></pre></div><h3 id="基本概念">基本概念<a hidden class="anchor" aria-hidden="true" href="#基本概念">#</a></h3>
<ul>
<li>bucket-类比于文件系统的目录</li>
<li>Object-类比文件系统的文件</li>
<li>Keys-类比文件名</li>
</ul>
<h3 id="上传文件进行静态访问">上传文件进行静态访问<a hidden class="anchor" aria-hidden="true" href="#上传文件进行静态访问">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MinIOTest</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            FileInputStream fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(<span style="color:#e6db74">&#34;D:\\test\\list.html&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 获取minio的链接信息， 创建一个minio的客户端</span>
</span></span><span style="display:flex;"><span>            MinioClient minioClient <span style="color:#f92672">=</span> MinioClient.<span style="color:#a6e22e">builder</span>().<span style="color:#a6e22e">credentials</span>(<span style="color:#e6db74">&#34;minio&#34;</span>, <span style="color:#e6db74">&#34;minio123&#34;</span>).<span style="color:#a6e22e">endpoint</span>(<span style="color:#e6db74">&#34;http://192.168.200.130:9000/&#34;</span>).<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 上传</span>
</span></span><span style="display:flex;"><span>            PutObjectArgs putObjectArgs <span style="color:#f92672">=</span> PutObjectArgs.<span style="color:#a6e22e">builder</span>()
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">object</span>(<span style="color:#e6db74">&#34;list.html&#34;</span>)
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">contentType</span>(<span style="color:#e6db74">&#34;text/html&#34;</span>)
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">bucket</span>(<span style="color:#e6db74">&#34;leadnews&#34;</span>)
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">stream</span>(fileInputStream, fileInputStream.<span style="color:#a6e22e">available</span>(), <span style="color:#f92672">-</span>1).<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            minioClient.<span style="color:#a6e22e">putObject</span>(putObjectArgs);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="封装minio为starter">封装MinIO为starter<a hidden class="anchor" aria-hidden="true" href="#封装minio为starter">#</a></h3>
<p>MinIO为starter</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201211856551.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201211856551.png" alt="image-20241201211856551"  />
        </a>
    </div>
</p>
<h3 id="错误">错误：<a hidden class="anchor" aria-hidden="true" href="#错误">#</a></h3>
<p><code>@Autowire</code>不成功</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201220045180.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201220045180.png" alt="image-20241201220045180"  />
        </a>
    </div>
</p>
<h4 id="解决方法">解决方法：<a hidden class="anchor" aria-hidden="true" href="#解决方法">#</a></h4>
<p>检查启动类是否有<code>@SpringBootApplication</code></p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201220122711.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201220122711.png" alt="image-20241201220122711"  />
        </a>
    </div>
</p>
<p>模块内导入依赖：</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201230942863.png">
            <img src="https://raw.githubusercontent.com/Kennems/blog-image/main/image-20241201230942863.png" alt="image-20241201230942863"  />
        </a>
    </div>
</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/java/">Java</a></li>
      <li><a href="https://kennems.github.io/tags/web/">Web</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">JavaWeb学习笔记</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/tech/leetcode-hot-100-2-/">
    <span class="title">« 上一页</span>
    <br>
    <span>LeetCode Hot 100 精练🥸(2)</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/leetcode-1124-1125-%E5%91%A8%E8%B5%9B%E5%8F%8C%E5%91%A8%E8%B5%9B/">
    <span class="title">下一页 »</span>
    <br>
    <span>LeetCode周赛425 &amp; 144(241124)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
<footer class="footer">
    <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        Visitors: <span id="busuanzi_value_page_uv"></span>
        Views: <span id="busuanzi_value_page_pv"></span>

        
    </span>
</footer>



</body>

</html>
