<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>absl | Kennem&#39;s Blog</title>
<meta name="keywords" content="AI">
<meta name="description" content="absl">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/absl/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1a7bc7e6d01b82c8ca2b2e53cfcf7e33d2fd9058f6b28245f94da0d91447c6a0.css" integrity="sha256-GnvH5tAbgsjKKy5Tz89&#43;M9L9kFj2soJF&#43;U2g2RRHxqA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/absl/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>



<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


  

<meta property="og:url" content="https://kennems.github.io/posts/tech/absl/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="absl">
  <meta property="og:description" content="absl">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-04-01T01:30:13+08:00">
    <meta property="article:modified_time" content="2025-04-01T01:40:13+08:00">
    <meta property="article:tag" content="AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="absl">
<meta name="twitter:description" content="absl">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻技术",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "absl",
      "item": "https://kennems.github.io/posts/tech/absl/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "absl",
  "name": "absl",
  "description": "absl",
  "keywords": [
    "AI"
  ],
  "articleBody": "1. 简介 absl（Abseil Python Common Libraries） 是由 Google 开发的一套常用工具库，主要目的是为大型项目提供更稳定、更灵活、更高效的基础工具。它不仅在 Google 内部被广泛使用，在 TensorFlow 等开源项目中也有应用。absl 的设计理念是提供比 Python 标准库更高效、功能更强大的工具，帮助开发者解决日常开发中遇到的各种问题。\n2. 安装 absl 已发布到 PyPI，因此可以直接使用 pip 安装：\npip install absl-py 安装完成后，即可在 Python 项目中导入和使用其模块。\n3. 主要模块详解 3.1 absl.flags —— 命令行参数解析 3.1.1 概述 absl.flags 模块为命令行参数解析提供了一套功能更强、语法更简洁的接口，尤其适用于大型项目和复杂命令行工具的开发。相比 Python 内置的 argparse，它有更友好的语法和更多高级功能，比如支持 flag 重定义、自动生成帮助文档等。\n3.1.2 基本使用 首先需要定义全局变量 FLAGS，然后通过 flags.DEFINE_* 系列函数定义所需要的命令行参数：\nfrom absl import app, flags # 获取全局的 flags 对象 FLAGS = flags.FLAGS # 定义字符串参数，默认值为 'world' flags.DEFINE_string('name', 'world', '输入你的名字') # 定义整数参数，默认值为 1 flags.DEFINE_integer('count', 1, '重复次数') def main(argv): # 这里的 argv 已经经过 absl 的处理 for _ in range(FLAGS.count): print(f'Hello, {FLAGS.name}!') if __name__ == '__main__': app.run(main) 运行程序时，可以通过命令行指定参数：\npython script.py --name=Alice --count=3 输出结果：\nHello, Alice! Hello, Alice! Hello, Alice! 3.1.3 高级用法 Flag 分组：对于大型程序，可以将 flags 分组，方便管理与帮助文档的生成。 Flag 互斥和依赖关系：可以定义多个参数之间的逻辑关系，确保参数配置的正确性。 Flag 动态修改：在运行过程中可以修改某些 flags 的值以适应不同环境。 3.2 absl.logging —— 日志记录 3.2.1 概述 absl.logging 提供了一套增强版的日志记录工具，默认格式与 Google 内部使用的日志风格一致。它可以自动记录时间、代码行号、文件名等信息，同时也能与 Python 的 logging 模块很好地集成。\n3.2.2 基本使用 使用方法非常简单，只需导入模块并设置日志级别即可：\nfrom absl import logging # 设置日志级别 logging.set_verbosity(logging.INFO) logging.info(\"这是信息日志\") logging.warning(\"这是警告日志\") logging.error(\"这是错误日志\") 3.2.3 日志格式与扩展 日志记录默认会输出类似下面的格式：\nI0321 12:00:00.123456 12345 script.py:10] 这是信息日志 W0321 12:00:00.123456 12345 script.py:11] 这是警告日志 E0321 12:00:00.123456 12345 script.py:12] 这是错误日志 其中的前缀（I/W/E）、时间戳、进程号、代码位置等信息对调试大型项目非常有帮助。你也可以通过配置进一步定制日志格式。\n3.3 absl.testing —— 单元测试扩展 3.3.1 概述 absl.testing 是对 Python 内置 unittest 的扩展，旨在提供更丰富的测试功能与更易读的测试输出。它在 Google 内部被广泛用于大规模测试场景。\n3.3.2 基本使用 编写测试用例与使用 unittest 基本一致，下面是一个简单示例：\nfrom absl.testing import absltest class MyTest(absltest.TestCase): def test_addition(self): self.assertEqual(1 + 1, 2) if __name__ == '__main__': absltest.main() 运行该脚本会自动发现并执行测试用例，同时生成格式化良好的测试报告。\n3.3.3 高级功能 参数化测试：可以方便地定义多组输入输出进行批量测试。 集成测试支持：与其他 absl 模块（例如 absl.flags）无缝整合，适合编写集成测试脚本。 3.4 absl.app —— 应用程序入口管理 3.4.1 概述 absl.app 用于管理程序的启动和初始化过程，主要解决参数解析和程序入口之间的关联问题。通过 app.run(main) 方法，可以将参数解析与主函数逻辑统一起来。\n3.4.2 使用示例 在前面的 absl.flags 示例中，使用了 app.run(main) 来启动程序。app 模块还支持在应用启动前进行一些额外的初始化工作，比如设定默认日志格式、配置全局变量等。\n3.5 absl.time —— 时间工具 3.5.1 概述 虽然 Python 内置有 datetime 模块，absl.time 提供了更高效和灵活的时间处理工具，尤其在时间间隔、时间戳转换等操作中表现更好。\n3.5.2 使用示例 absl.time 的具体使用可能较少见，一般用于内部时间计算任务。开发者可以通过查看官方文档获得更多细节说明。\n4. 综合示例 下面给出一个综合示例，展示如何在一个程序中同时使用 absl.flags、absl.logging 与 absl.testing 模块：\nfrom absl import app, flags, logging from absl.testing import absltest FLAGS = flags.FLAGS flags.DEFINE_string('greeting', 'Hello', '问候语') flags.DEFINE_integer('times', 1, '问候次数') def greet(): for i in range(FLAGS.times): logging.info(f'{FLAGS.greeting}, 第{i+1}次问候') # 主程序入口 def main(argv): logging.info(\"程序开始运行\") greet() logging.info(\"程序运行结束\") # 定义测试用例 class GreetingTest(absltest.TestCase): def test_greet(self): # 测试默认问候次数和问候语是否符合预期 self.assertEqual(FLAGS.greeting, 'Hello') self.assertEqual(FLAGS.times, 1) if __name__ == '__main__': # 根据参数决定执行测试或主程序 import sys if '--test' in sys.argv: absltest.main() else: app.run(main) 运行说明：\n运行主程序：\npython script.py --greeting=Hi --times=3 程序会按设定参数进行输出，同时记录日志信息。\n运行测试：\npython script.py --test 将执行测试用例，并生成测试报告。\n5. 进阶使用与注意事项 5.1 参数验证与错误处理 absl.flags 支持对参数进行类型检查和范围限制，这在设计命令行接口时非常有用。例如，可以定义只允许特定取值的 flag，确保输入合法性。\n5.2 与其他库的集成 由于 absl 的设计风格与 Python 内置库及其他第三方库保持良好兼容，因此在大型项目中，可以很方便地将 absl 与 TensorFlow、Keras 等其他库集成，既保证了命令行工具的灵活性，也能满足高效日志和测试需求。\n5.3 代码组织建议 模块化设计：将命令行解析、业务逻辑和测试代码分离，便于维护和扩展。 统一入口：利用 absl.app 将应用入口统一管理，方便日后扩展和增加启动前的初始化逻辑。 日志级别控制：在开发和生产环境中，可以根据需要调整日志级别，提高调试效率和系统性能。 6. 参考与拓展阅读 Abseil 官方 GitHub 仓库 仓库中不仅包含 absl 的源码，还有详细的使用示例和说明文档。 Abseil Python API 文档 在线文档提供了各个模块和函数的详细说明，适合开发者查阅和深入学习。 总结 本教程详细介绍了 absl 的安装、各个主要模块（flags、logging、testing、app、time）的功能和使用方法，并给出了综合示例和进阶使用建议。通过掌握这些内容，你可以利用 absl 提升项目的命令行处理、日志记录和测试效率，为大型项目的开发提供坚实的基础。\n",
  "wordCount" : "2250",
  "inLanguage": "zh",
  "datePublished": "2025-04-01T01:30:13+08:00",
  "dateModified": "2025-04-01T01:40:13+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/absl/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="🗂️分类">
                    <span>🗂️分类</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/tech/">💻技术</a></div>
    <h1 class="post-title entry-hint-parent">
      absl
    </h1>
    <div class="post-description">
      absl
    </div>
    <div class="post-meta"><span title='2025-04-01 01:30:13 +0800 CST'>2025-04-01</span>&nbsp;·&nbsp;5 分钟&nbsp;·&nbsp;2250 字&nbsp;·&nbsp;updated:&nbsp;2025-04-01&nbsp;·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#1-%e7%ae%80%e4%bb%8b" aria-label="1. 简介">1. 简介</a></li>
                    <li>
                        <a href="#2-%e5%ae%89%e8%a3%85" aria-label="2. 安装">2. 安装</a></li>
                    <li>
                        <a href="#3-%e4%b8%bb%e8%a6%81%e6%a8%a1%e5%9d%97%e8%af%a6%e8%a7%a3" aria-label="3. 主要模块详解">3. 主要模块详解</a><ul>
                            
                    <li>
                        <a href="#31-abslflags--%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%8f%82%e6%95%b0%e8%a7%a3%e6%9e%90" aria-label="3.1 absl.flags —— 命令行参数解析">3.1 absl.flags —— 命令行参数解析</a><ul>
                            
                    <li>
                        <a href="#311-%e6%a6%82%e8%bf%b0" aria-label="3.1.1 概述">3.1.1 概述</a></li>
                    <li>
                        <a href="#312-%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8" aria-label="3.1.2 基本使用">3.1.2 基本使用</a></li>
                    <li>
                        <a href="#313-%e9%ab%98%e7%ba%a7%e7%94%a8%e6%b3%95" aria-label="3.1.3 高级用法">3.1.3 高级用法</a></li></ul>
                    </li>
                    <li>
                        <a href="#32-absllogging--%e6%97%a5%e5%bf%97%e8%ae%b0%e5%bd%95" aria-label="3.2 absl.logging —— 日志记录">3.2 absl.logging —— 日志记录</a><ul>
                            
                    <li>
                        <a href="#321-%e6%a6%82%e8%bf%b0" aria-label="3.2.1 概述">3.2.1 概述</a></li>
                    <li>
                        <a href="#322-%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8" aria-label="3.2.2 基本使用">3.2.2 基本使用</a></li>
                    <li>
                        <a href="#323-%e6%97%a5%e5%bf%97%e6%a0%bc%e5%bc%8f%e4%b8%8e%e6%89%a9%e5%b1%95" aria-label="3.2.3 日志格式与扩展">3.2.3 日志格式与扩展</a></li></ul>
                    </li>
                    <li>
                        <a href="#33-absltesting--%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%89%a9%e5%b1%95" aria-label="3.3 absl.testing —— 单元测试扩展">3.3 absl.testing —— 单元测试扩展</a><ul>
                            
                    <li>
                        <a href="#331-%e6%a6%82%e8%bf%b0" aria-label="3.3.1 概述">3.3.1 概述</a></li>
                    <li>
                        <a href="#332-%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8" aria-label="3.3.2 基本使用">3.3.2 基本使用</a></li>
                    <li>
                        <a href="#333-%e9%ab%98%e7%ba%a7%e5%8a%9f%e8%83%bd" aria-label="3.3.3 高级功能">3.3.3 高级功能</a></li></ul>
                    </li>
                    <li>
                        <a href="#34-abslapp--%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%85%a5%e5%8f%a3%e7%ae%a1%e7%90%86" aria-label="3.4 absl.app —— 应用程序入口管理">3.4 absl.app —— 应用程序入口管理</a><ul>
                            
                    <li>
                        <a href="#341-%e6%a6%82%e8%bf%b0" aria-label="3.4.1 概述">3.4.1 概述</a></li>
                    <li>
                        <a href="#342-%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b" aria-label="3.4.2 使用示例">3.4.2 使用示例</a></li></ul>
                    </li>
                    <li>
                        <a href="#35-absltime--%e6%97%b6%e9%97%b4%e5%b7%a5%e5%85%b7" aria-label="3.5 absl.time —— 时间工具">3.5 absl.time —— 时间工具</a><ul>
                            
                    <li>
                        <a href="#351-%e6%a6%82%e8%bf%b0" aria-label="3.5.1 概述">3.5.1 概述</a></li>
                    <li>
                        <a href="#352-%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b" aria-label="3.5.2 使用示例">3.5.2 使用示例</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#4-%e7%bb%bc%e5%90%88%e7%a4%ba%e4%be%8b" aria-label="4. 综合示例">4. 综合示例</a></li>
                    <li>
                        <a href="#5-%e8%bf%9b%e9%98%b6%e4%bd%bf%e7%94%a8%e4%b8%8e%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="5. 进阶使用与注意事项">5. 进阶使用与注意事项</a><ul>
                            
                    <li>
                        <a href="#51-%e5%8f%82%e6%95%b0%e9%aa%8c%e8%af%81%e4%b8%8e%e9%94%99%e8%af%af%e5%a4%84%e7%90%86" aria-label="5.1 参数验证与错误处理">5.1 参数验证与错误处理</a></li>
                    <li>
                        <a href="#52-%e4%b8%8e%e5%85%b6%e4%bb%96%e5%ba%93%e7%9a%84%e9%9b%86%e6%88%90" aria-label="5.2 与其他库的集成">5.2 与其他库的集成</a></li>
                    <li>
                        <a href="#53-%e4%bb%a3%e7%a0%81%e7%bb%84%e7%bb%87%e5%bb%ba%e8%ae%ae" aria-label="5.3 代码组织建议">5.3 代码组织建议</a></li></ul>
                    </li>
                    <li>
                        <a href="#6-%e5%8f%82%e8%80%83%e4%b8%8e%e6%8b%93%e5%b1%95%e9%98%85%e8%af%bb" aria-label="6. 参考与拓展阅读">6. 参考与拓展阅读</a></li>
                    <li>
                        <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="1-简介">1. 简介<a hidden class="anchor" aria-hidden="true" href="#1-简介">#</a></h1>
<p><strong>absl（Abseil Python Common Libraries）</strong> 是由 Google 开发的一套常用工具库，主要目的是为大型项目提供更稳定、更灵活、更高效的基础工具。它不仅在 Google 内部被广泛使用，在 TensorFlow 等开源项目中也有应用。absl 的设计理念是提供比 Python 标准库更高效、功能更强大的工具，帮助开发者解决日常开发中遇到的各种问题。</p>
<hr>
<h1 id="2-安装">2. 安装<a hidden class="anchor" aria-hidden="true" href="#2-安装">#</a></h1>
<p>absl 已发布到 PyPI，因此可以直接使用 pip 安装：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install absl-py
</span></span></code></pre></div><p>安装完成后，即可在 Python 项目中导入和使用其模块。</p>
<hr>
<h1 id="3-主要模块详解">3. 主要模块详解<a hidden class="anchor" aria-hidden="true" href="#3-主要模块详解">#</a></h1>
<h2 id="31-abslflags--命令行参数解析">3.1 absl.flags —— 命令行参数解析<a hidden class="anchor" aria-hidden="true" href="#31-abslflags--命令行参数解析">#</a></h2>
<h3 id="311-概述">3.1.1 概述<a hidden class="anchor" aria-hidden="true" href="#311-概述">#</a></h3>
<p>absl.flags 模块为命令行参数解析提供了一套功能更强、语法更简洁的接口，尤其适用于大型项目和复杂命令行工具的开发。相比 Python 内置的 argparse，它有更友好的语法和更多高级功能，比如支持 flag 重定义、自动生成帮助文档等。</p>
<h3 id="312-基本使用">3.1.2 基本使用<a hidden class="anchor" aria-hidden="true" href="#312-基本使用">#</a></h3>
<p>首先需要定义全局变量 <code>FLAGS</code>，然后通过 <code>flags.DEFINE_*</code> 系列函数定义所需要的命令行参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> absl <span style="color:#f92672">import</span> app, flags
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取全局的 flags 对象</span>
</span></span><span style="display:flex;"><span>FLAGS <span style="color:#f92672">=</span> flags<span style="color:#f92672">.</span>FLAGS
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义字符串参数，默认值为 &#39;world&#39;</span>
</span></span><span style="display:flex;"><span>flags<span style="color:#f92672">.</span>DEFINE_string(<span style="color:#e6db74">&#39;name&#39;</span>, <span style="color:#e6db74">&#39;world&#39;</span>, <span style="color:#e6db74">&#39;输入你的名字&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义整数参数，默认值为 1</span>
</span></span><span style="display:flex;"><span>flags<span style="color:#f92672">.</span>DEFINE_integer(<span style="color:#e6db74">&#39;count&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;重复次数&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(argv):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 这里的 argv 已经经过 absl 的处理</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(FLAGS<span style="color:#f92672">.</span>count):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Hello, </span><span style="color:#e6db74">{</span>FLAGS<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">!&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    app<span style="color:#f92672">.</span>run(main)
</span></span></code></pre></div><p>运行程序时，可以通过命令行指定参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python script.py --name<span style="color:#f92672">=</span>Alice --count<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><p>输出结果：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Hello, Alice!
</span></span><span style="display:flex;"><span>Hello, Alice!
</span></span><span style="display:flex;"><span>Hello, Alice!
</span></span></code></pre></div><h3 id="313-高级用法">3.1.3 高级用法<a hidden class="anchor" aria-hidden="true" href="#313-高级用法">#</a></h3>
<ul>
<li><strong>Flag 分组</strong>：对于大型程序，可以将 flags 分组，方便管理与帮助文档的生成。</li>
<li><strong>Flag 互斥和依赖关系</strong>：可以定义多个参数之间的逻辑关系，确保参数配置的正确性。</li>
<li><strong>Flag 动态修改</strong>：在运行过程中可以修改某些 flags 的值以适应不同环境。</li>
</ul>
<hr>
<h2 id="32-absllogging--日志记录">3.2 absl.logging —— 日志记录<a hidden class="anchor" aria-hidden="true" href="#32-absllogging--日志记录">#</a></h2>
<h3 id="321-概述">3.2.1 概述<a hidden class="anchor" aria-hidden="true" href="#321-概述">#</a></h3>
<p>absl.logging 提供了一套增强版的日志记录工具，默认格式与 Google 内部使用的日志风格一致。它可以自动记录时间、代码行号、文件名等信息，同时也能与 Python 的 logging 模块很好地集成。</p>
<h3 id="322-基本使用">3.2.2 基本使用<a hidden class="anchor" aria-hidden="true" href="#322-基本使用">#</a></h3>
<p>使用方法非常简单，只需导入模块并设置日志级别即可：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> absl <span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置日志级别</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>set_verbosity(logging<span style="color:#f92672">.</span>INFO)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#34;这是信息日志&#34;</span>)
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>warning(<span style="color:#e6db74">&#34;这是警告日志&#34;</span>)
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#34;这是错误日志&#34;</span>)
</span></span></code></pre></div><h3 id="323-日志格式与扩展">3.2.3 日志格式与扩展<a hidden class="anchor" aria-hidden="true" href="#323-日志格式与扩展">#</a></h3>
<p>日志记录默认会输出类似下面的格式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>I0321 12:00:00.123456 12345 script.py:10] 这是信息日志
</span></span><span style="display:flex;"><span>W0321 12:00:00.123456 12345 script.py:11] 这是警告日志
</span></span><span style="display:flex;"><span>E0321 12:00:00.123456 12345 script.py:12] 这是错误日志
</span></span></code></pre></div><p>其中的前缀（I/W/E）、时间戳、进程号、代码位置等信息对调试大型项目非常有帮助。你也可以通过配置进一步定制日志格式。</p>
<hr>
<h2 id="33-absltesting--单元测试扩展">3.3 absl.testing —— 单元测试扩展<a hidden class="anchor" aria-hidden="true" href="#33-absltesting--单元测试扩展">#</a></h2>
<h3 id="331-概述">3.3.1 概述<a hidden class="anchor" aria-hidden="true" href="#331-概述">#</a></h3>
<p>absl.testing 是对 Python 内置 unittest 的扩展，旨在提供更丰富的测试功能与更易读的测试输出。它在 Google 内部被广泛用于大规模测试场景。</p>
<h3 id="332-基本使用">3.3.2 基本使用<a hidden class="anchor" aria-hidden="true" href="#332-基本使用">#</a></h3>
<p>编写测试用例与使用 unittest 基本一致，下面是一个简单示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> absl.testing <span style="color:#f92672">import</span> absltest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyTest</span>(absltest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_addition</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    absltest<span style="color:#f92672">.</span>main()
</span></span></code></pre></div><p>运行该脚本会自动发现并执行测试用例，同时生成格式化良好的测试报告。</p>
<h3 id="333-高级功能">3.3.3 高级功能<a hidden class="anchor" aria-hidden="true" href="#333-高级功能">#</a></h3>
<ul>
<li><strong>参数化测试</strong>：可以方便地定义多组输入输出进行批量测试。</li>
<li><strong>集成测试支持</strong>：与其他 absl 模块（例如 absl.flags）无缝整合，适合编写集成测试脚本。</li>
</ul>
<hr>
<h2 id="34-abslapp--应用程序入口管理">3.4 absl.app —— 应用程序入口管理<a hidden class="anchor" aria-hidden="true" href="#34-abslapp--应用程序入口管理">#</a></h2>
<h3 id="341-概述">3.4.1 概述<a hidden class="anchor" aria-hidden="true" href="#341-概述">#</a></h3>
<p>absl.app 用于管理程序的启动和初始化过程，主要解决参数解析和程序入口之间的关联问题。通过 app.run(main) 方法，可以将参数解析与主函数逻辑统一起来。</p>
<h3 id="342-使用示例">3.4.2 使用示例<a hidden class="anchor" aria-hidden="true" href="#342-使用示例">#</a></h3>
<p>在前面的 absl.flags 示例中，使用了 app.run(main) 来启动程序。app 模块还支持在应用启动前进行一些额外的初始化工作，比如设定默认日志格式、配置全局变量等。</p>
<hr>
<h2 id="35-absltime--时间工具">3.5 absl.time —— 时间工具<a hidden class="anchor" aria-hidden="true" href="#35-absltime--时间工具">#</a></h2>
<h3 id="351-概述">3.5.1 概述<a hidden class="anchor" aria-hidden="true" href="#351-概述">#</a></h3>
<p>虽然 Python 内置有 datetime 模块，absl.time 提供了更高效和灵活的时间处理工具，尤其在时间间隔、时间戳转换等操作中表现更好。</p>
<h3 id="352-使用示例">3.5.2 使用示例<a hidden class="anchor" aria-hidden="true" href="#352-使用示例">#</a></h3>
<p>absl.time 的具体使用可能较少见，一般用于内部时间计算任务。开发者可以通过查看官方文档获得更多细节说明。</p>
<hr>
<h1 id="4-综合示例">4. 综合示例<a hidden class="anchor" aria-hidden="true" href="#4-综合示例">#</a></h1>
<p>下面给出一个综合示例，展示如何在一个程序中同时使用 absl.flags、absl.logging 与 absl.testing 模块：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> absl <span style="color:#f92672">import</span> app, flags, logging
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> absl.testing <span style="color:#f92672">import</span> absltest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FLAGS <span style="color:#f92672">=</span> flags<span style="color:#f92672">.</span>FLAGS
</span></span><span style="display:flex;"><span>flags<span style="color:#f92672">.</span>DEFINE_string(<span style="color:#e6db74">&#39;greeting&#39;</span>, <span style="color:#e6db74">&#39;Hello&#39;</span>, <span style="color:#e6db74">&#39;问候语&#39;</span>)
</span></span><span style="display:flex;"><span>flags<span style="color:#f92672">.</span>DEFINE_integer(<span style="color:#e6db74">&#39;times&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;问候次数&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(FLAGS<span style="color:#f92672">.</span>times):
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>FLAGS<span style="color:#f92672">.</span>greeting<span style="color:#e6db74">}</span><span style="color:#e6db74">, 第</span><span style="color:#e6db74">{</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">次问候&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 主程序入口</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(argv):
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#34;程序开始运行&#34;</span>)
</span></span><span style="display:flex;"><span>    greet()
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#34;程序运行结束&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义测试用例</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GreetingTest</span>(absltest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_greet</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 测试默认问候次数和问候语是否符合预期</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(FLAGS<span style="color:#f92672">.</span>greeting, <span style="color:#e6db74">&#39;Hello&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(FLAGS<span style="color:#f92672">.</span>times, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 根据参数决定执行测试或主程序</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;--test&#39;</span> <span style="color:#f92672">in</span> sys<span style="color:#f92672">.</span>argv:
</span></span><span style="display:flex;"><span>        absltest<span style="color:#f92672">.</span>main()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        app<span style="color:#f92672">.</span>run(main)
</span></span></code></pre></div><p>运行说明：</p>
<ul>
<li>
<p>运行主程序：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python script.py --greeting<span style="color:#f92672">=</span>Hi --times<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><p>程序会按设定参数进行输出，同时记录日志信息。</p>
</li>
<li>
<p>运行测试：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python script.py --test
</span></span></code></pre></div><p>将执行测试用例，并生成测试报告。</p>
</li>
</ul>
<hr>
<h1 id="5-进阶使用与注意事项">5. 进阶使用与注意事项<a hidden class="anchor" aria-hidden="true" href="#5-进阶使用与注意事项">#</a></h1>
<h2 id="51-参数验证与错误处理">5.1 参数验证与错误处理<a hidden class="anchor" aria-hidden="true" href="#51-参数验证与错误处理">#</a></h2>
<p>absl.flags 支持对参数进行类型检查和范围限制，这在设计命令行接口时非常有用。例如，可以定义只允许特定取值的 flag，确保输入合法性。</p>
<h2 id="52-与其他库的集成">5.2 与其他库的集成<a hidden class="anchor" aria-hidden="true" href="#52-与其他库的集成">#</a></h2>
<p>由于 absl 的设计风格与 Python 内置库及其他第三方库保持良好兼容，因此在大型项目中，可以很方便地将 absl 与 TensorFlow、Keras 等其他库集成，既保证了命令行工具的灵活性，也能满足高效日志和测试需求。</p>
<h2 id="53-代码组织建议">5.3 代码组织建议<a hidden class="anchor" aria-hidden="true" href="#53-代码组织建议">#</a></h2>
<ul>
<li><strong>模块化设计</strong>：将命令行解析、业务逻辑和测试代码分离，便于维护和扩展。</li>
<li><strong>统一入口</strong>：利用 absl.app 将应用入口统一管理，方便日后扩展和增加启动前的初始化逻辑。</li>
<li><strong>日志级别控制</strong>：在开发和生产环境中，可以根据需要调整日志级别，提高调试效率和系统性能。</li>
</ul>
<hr>
<h1 id="6-参考与拓展阅读">6. 参考与拓展阅读<a hidden class="anchor" aria-hidden="true" href="#6-参考与拓展阅读">#</a></h1>
<ul>
<li><a href="https://github.com/abseil/abseil-py">Abseil 官方 GitHub 仓库</a>
仓库中不仅包含 absl 的源码，还有详细的使用示例和说明文档。</li>
<li><a href="https://abseil.io/docs/python/">Abseil Python API 文档</a>
在线文档提供了各个模块和函数的详细说明，适合开发者查阅和深入学习。</li>
</ul>
<hr>
<h1 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h1>
<p>本教程详细介绍了 absl 的安装、各个主要模块（flags、logging、testing、app、time）的功能和使用方法，并给出了综合示例和进阶使用建议。通过掌握这些内容，你可以利用 absl 提升项目的命令行处理、日志记录和测试效率，为大型项目的开发提供坚实的基础。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/ai/">AI</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/ai">AI</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/read/%E6%80%9D%E8%80%83%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E8%B6%85%E9%93%BE%E6%8E%A5/">
    <span class="title">« 上一页</span>
    <br>
    <span>思考——关于时间的超链接</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/20250329leetcode%E5%8F%8C%E5%91%A8%E8%B5%9B--20250330leetcode%E5%91%A8%E8%B5%9B/">
    <span class="title">下一页 »</span>
    <br>
    <span>20250329LeetCode双周赛 &amp; 20250330LeetCode周赛</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<footer class="footer">
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container">
    👤 Visitors: <span id="busuanzi_value_site_uv"></span>
    👀 Views: <span id="busuanzi_value_site_pv"></span>
  </span>
</footer>



</body>

</html>
