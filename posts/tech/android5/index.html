<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>Android（5） | Kennem&#39;s Blog</title>
<meta name="keywords" content="Android">
<meta name="description" content="Android学习笔记">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/android5/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1a7bc7e6d01b82c8ca2b2e53cfcf7e33d2fd9058f6b28245f94da0d91447c6a0.css" integrity="sha256-GnvH5tAbgsjKKy5Tz89&#43;M9L9kFj2soJF&#43;U2g2RRHxqA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/android5/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

<meta property="og:url" content="https://kennems.github.io/posts/tech/android5/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="Android（5）">
  <meta property="og:description" content="Android学习笔记">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-29T22:30:13+08:00">
    <meta property="article:modified_time" content="2024-06-29T22:20:13+08:00">
    <meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android（5）">
<meta name="twitter:description" content="Android学习笔记">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻技术",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Android（5）",
      "item": "https://kennems.github.io/posts/tech/android5/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Android（5）",
  "name": "Android（5）",
  "description": "Android学习笔记",
  "keywords": [
    "Android"
  ],
  "articleBody": "Android（5） 高级控件 SpinnerDialog + ArrayAdapter XML 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e ",
  "wordCount" : "7752",
  "inLanguage": "zh",
  "datePublished": "2024-06-29T22:30:13+08:00",
  "dateModified": "2024-06-29T22:20:13+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/android5/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="🗂️分类">
                    <span>🗂️分类</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/tech/">💻技术</a></div>
    <h1 class="post-title entry-hint-parent">
      Android（5）
    </h1>
    <div class="post-description">
      Android学习笔记
    </div>
    <div class="post-meta"><span title='2024-06-29 22:30:13 +0800 CST'>2024-06-29</span>&nbsp;·&nbsp;16 分钟&nbsp;·&nbsp;7752 字&nbsp;·&nbsp;updated:&nbsp;2024-06-29&nbsp;·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#android5" aria-label="Android（5）">Android（5）</a><ul>
                            
                    <li>
                        <a href="#%e9%ab%98%e7%ba%a7%e6%8e%a7%e4%bb%b6" aria-label="高级控件">高级控件</a><ul>
                            
                    <li>
                        <a href="#spinnerdialog--arrayadapter" aria-label="SpinnerDialog &#43; ArrayAdapter">SpinnerDialog + ArrayAdapter</a></li>
                    <li>
                        <a href="#xml" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#item_selectxml" aria-label="item_select.xml">item_select.xml</a></li>
                    <li>
                        <a href="#java" aria-label="Java">Java</a></li>
                    <li>
                        <a href="#spinnerdropdown" aria-label="SpinnerDropdown">SpinnerDropdown</a></li>
                    <li>
                        <a href="#xml-1" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-1" aria-label="Java">Java</a></li>
                    <li>
                        <a href="#simpleadapter%e7%ae%80%e5%8d%95%e9%80%82%e9%85%8d%e5%99%a8" aria-label="SimpleAdapter简单适配器">SimpleAdapter简单适配器</a></li>
                    <li>
                        <a href="#xml-2" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-2" aria-label="Java">Java</a></li></ul>
                    </li>
                    <li>
                        <a href="#baseadapter%e5%9f%ba%e6%9c%ac%e9%80%82%e9%85%8d%e5%99%a8" aria-label="BaseAdapter基本适配器">BaseAdapter基本适配器</a><ul>
                            
                    <li>
                        <a href="#planetbaseadapterjava" aria-label="PlanetBaseAdapter.java">PlanetBaseAdapter.java</a></li>
                    <li>
                        <a href="#item_basexml" aria-label="item_base.xml">item_base.xml</a></li>
                    <li>
                        <a href="#baseadapteractivityjava" aria-label="BaseAdapterActivity.java">BaseAdapterActivity.java</a></li></ul>
                    </li>
                    <li>
                        <a href="#baseadapter%e4%bc%98%e5%8c%96" aria-label="BaseAdapter优化">BaseAdapter优化</a></li>
                    <li>
                        <a href="#%e5%88%97%e8%a1%a8%e8%a7%86%e5%9b%belistview" aria-label="列表视图ListView">列表视图ListView</a><ul>
                            
                    <li>
                        <a href="#xml-3" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-3" aria-label="Java">Java</a></li></ul>
                    </li>
                    <li>
                        <a href="#listview%e6%b3%a8%e6%84%8f%e7%82%b9" aria-label="ListView注意点">ListView注意点</a></li>
                    <li>
                        <a href="#%e7%bd%91%e6%a0%bc%e8%a7%86%e5%9b%begridview" aria-label="网格视图GridView">网格视图GridView</a><ul>
                            
                    <li>
                        <a href="#xml-4" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-4" aria-label="Java">Java</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8gridview%e9%87%8d%e6%9e%84%e8%b4%ad%e7%89%a9%e8%bd%a6" aria-label="使用GridView重构购物车">使用GridView重构购物车</a><ul>
                            
                    <li>
                        <a href="#xml-5" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-5" aria-label="Java">Java</a><ul>
                            
                    <li>
                        <a href="#goodsgridadapterjava" aria-label="GoodsGridAdapter.java">GoodsGridAdapter.java</a></li>
                    <li>
                        <a href="#shoppingchannelactivityjava" aria-label="ShoppingChannelActivity.java">ShoppingChannelActivity.java</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#viewpager" aria-label="ViewPager">ViewPager</a><ul>
                            
                    <li>
                        <a href="#xml-6" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-6" aria-label="Java">Java</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%bf%bb%e9%a1%b5%e6%a0%87%e7%ad%be%e6%a0%8fpagertabstrip" aria-label="翻页标签栏PagerTabStrip">翻页标签栏PagerTabStrip</a><ul>
                            
                    <li>
                        <a href="#xml-7" aria-label="XML">XML</a></li>
                    <li>
                        <a href="#java-7" aria-label="Java">Java</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ae%80%e5%8d%95%e7%9a%84%e5%90%af%e5%8a%a8%e5%bc%95%e5%af%bc%e9%a1%b5" aria-label="简单的启动引导页">简单的启动引导页</a><ul>
                            
                    <li>
                        <a href="#xml-8" aria-label="XML">XML</a><ul>
                            
                    <li>
                        <a href="#activity_launch_simplexml" aria-label="activity_launch_simple.xml">activity_launch_simple.xml</a></li>
                    <li>
                        <a href="#item_launchxml" aria-label="item_launch.xml">item_launch.xml</a></li></ul>
                    </li>
                    <li>
                        <a href="#java-8" aria-label="Java">Java</a><ul>
                            
                    <li>
                        <a href="#launchsimpleactivityjava" aria-label="LaunchSimpleActivity.java">LaunchSimpleActivity.java</a></li>
                    <li>
                        <a href="#launchpageradapterjava" aria-label="LaunchPagerAdapter.java">LaunchPagerAdapter.java</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e7%a2%8e%e7%89%87fragment-" aria-label="碎片Fragment ⭐⭐⭐⭐⭐">碎片Fragment ⭐⭐⭐⭐⭐</a></li>
                    <li>
                        <a href="#staticfragment" aria-label="StaticFragment">StaticFragment</a><ul>
                            
                    <li>
                        <a href="#xml-9" aria-label="XML">XML</a><ul>
                            
                    <li>
                        <a href="#activity_fragement_staticxml" aria-label="activity_fragement_static.xml">activity_fragement_static.xml</a></li>
                    <li>
                        <a href="#fragment_staticxml" aria-label="fragment_static.xml">fragment_static.xml</a></li></ul>
                    </li>
                    <li>
                        <a href="#java-9" aria-label="Java">Java</a><ul>
                            
                    <li>
                        <a href="#fragmentstaticactivityjava" aria-label="FragmentStaticActivity.java">FragmentStaticActivity.java</a></li>
                    <li>
                        <a href="#staticfragmentjava" aria-label="StaticFragment.java">StaticFragment.java</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#fragment%e6%b3%a8%e5%86%8c" aria-label="Fragment注册">Fragment注册</a></li>
                    <li>
                        <a href="#fragment%e5%a3%b0%e6%98%8e%e5%91%a8%e6%9c%9f" aria-label="Fragment声明周期">Fragment声明周期</a></li>
                    <li>
                        <a href="#dynamicfragment" aria-label="DynamicFragment">DynamicFragment</a><ul>
                            
                    <li>
                        <a href="#xml-10" aria-label="XML">XML</a><ul>
                            
                    <li>
                        <a href="#activity_fragment_dynamicxml" aria-label="activity_fragment_dynamic.xml">activity_fragment_dynamic.xml</a></li>
                    <li>
                        <a href="#fragment_dynamicxml" aria-label="fragment_dynamic.xml">fragment_dynamic.xml</a></li></ul>
                    </li>
                    <li>
                        <a href="#java-10" aria-label="Java">Java</a><ul>
                            
                    <li>
                        <a href="#fragmentdynamicactivityjava" aria-label="FragmentDynamicActivity.java">FragmentDynamicActivity.java</a></li>
                    <li>
                        <a href="#mobilepageradapterjava" aria-label="MobilePagerAdapter.java">MobilePagerAdapter.java</a></li>
                    <li>
                        <a href="#dynamicfragmentjava" aria-label="DynamicFragment.java">DynamicFragment.java</a>
                    </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="android5">Android（5）<a hidden class="anchor" aria-hidden="true" href="#android5">#</a></h1>
<h2 id="高级控件">高级控件<a hidden class="anchor" aria-hidden="true" href="#高级控件">#</a></h2>
<h3 id="spinnerdialog--arrayadapter">SpinnerDialog + ArrayAdapter<a hidden class="anchor" aria-hidden="true" href="#spinnerdialog--arrayadapter">#</a></h3>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/spinnerDialog.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/spinnerDialog.gif" alt="spinnerDialog"  />
        </a>
    </div>
</p>
<h3 id="xml">XML<a hidden class="anchor" aria-hidden="true" href="#xml">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a class="lnlinks" href="#hl-0-1"> 1</a>
</span><span class="lnt" id="hl-0-2"><a class="lnlinks" href="#hl-0-2"> 2</a>
</span><span class="lnt" id="hl-0-3"><a class="lnlinks" href="#hl-0-3"> 3</a>
</span><span class="lnt" id="hl-0-4"><a class="lnlinks" href="#hl-0-4"> 4</a>
</span><span class="lnt" id="hl-0-5"><a class="lnlinks" href="#hl-0-5"> 5</a>
</span><span class="lnt" id="hl-0-6"><a class="lnlinks" href="#hl-0-6"> 6</a>
</span><span class="lnt" id="hl-0-7"><a class="lnlinks" href="#hl-0-7"> 7</a>
</span><span class="lnt" id="hl-0-8"><a class="lnlinks" href="#hl-0-8"> 8</a>
</span><span class="lnt" id="hl-0-9"><a class="lnlinks" href="#hl-0-9"> 9</a>
</span><span class="lnt" id="hl-0-10"><a class="lnlinks" href="#hl-0-10">10</a>
</span><span class="lnt" id="hl-0-11"><a class="lnlinks" href="#hl-0-11">11</a>
</span><span class="lnt" id="hl-0-12"><a class="lnlinks" href="#hl-0-12">12</a>
</span><span class="lnt" id="hl-0-13"><a class="lnlinks" href="#hl-0-13">13</a>
</span><span class="lnt" id="hl-0-14"><a class="lnlinks" href="#hl-0-14">14</a>
</span><span class="lnt" id="hl-0-15"><a class="lnlinks" href="#hl-0-15">15</a>
</span><span class="lnt" id="hl-0-16"><a class="lnlinks" href="#hl-0-16">16</a>
</span><span class="lnt" id="hl-0-17"><a class="lnlinks" href="#hl-0-17">17</a>
</span><span class="lnt" id="hl-0-18"><a class="lnlinks" href="#hl-0-18">18</a>
</span><span class="lnt" id="hl-0-19"><a class="lnlinks" href="#hl-0-19">19</a>
</span><span class="lnt" id="hl-0-20"><a class="lnlinks" href="#hl-0-20">20</a>
</span><span class="lnt" id="hl-0-21"><a class="lnlinks" href="#hl-0-21">21</a>
</span><span class="lnt" id="hl-0-22"><a class="lnlinks" href="#hl-0-22">22</a>
</span><span class="lnt" id="hl-0-23"><a class="lnlinks" href="#hl-0-23">23</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.SpinnerDropdownActivity&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;下拉模式的列表框&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Spinner</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@id/sp_dialog&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:spinnerMode=</span><span class="s">&#34;dialog&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="item_selectxml">item_select.xml<a hidden class="anchor" aria-hidden="true" href="#item_selectxml">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-1-1"><a class="lnlinks" href="#hl-1-1"> 1</a>
</span><span class="lnt" id="hl-1-2"><a class="lnlinks" href="#hl-1-2"> 2</a>
</span><span class="lnt" id="hl-1-3"><a class="lnlinks" href="#hl-1-3"> 3</a>
</span><span class="lnt" id="hl-1-4"><a class="lnlinks" href="#hl-1-4"> 4</a>
</span><span class="lnt" id="hl-1-5"><a class="lnlinks" href="#hl-1-5"> 5</a>
</span><span class="lnt" id="hl-1-6"><a class="lnlinks" href="#hl-1-6"> 6</a>
</span><span class="lnt" id="hl-1-7"><a class="lnlinks" href="#hl-1-7"> 7</a>
</span><span class="lnt" id="hl-1-8"><a class="lnlinks" href="#hl-1-8"> 8</a>
</span><span class="lnt" id="hl-1-9"><a class="lnlinks" href="#hl-1-9"> 9</a>
</span><span class="lnt" id="hl-1-10"><a class="lnlinks" href="#hl-1-10">10</a>
</span><span class="lnt" id="hl-1-11"><a class="lnlinks" href="#hl-1-11">11</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;TextView</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;50dp&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:textColor=</span><span class="s">&#34;#0000ff&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:text=</span><span class="s">&#34;火星&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/TextView&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java">Java<a hidden class="anchor" aria-hidden="true" href="#java">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-2-1"><a class="lnlinks" href="#hl-2-1"> 1</a>
</span><span class="lnt" id="hl-2-2"><a class="lnlinks" href="#hl-2-2"> 2</a>
</span><span class="lnt" id="hl-2-3"><a class="lnlinks" href="#hl-2-3"> 3</a>
</span><span class="lnt" id="hl-2-4"><a class="lnlinks" href="#hl-2-4"> 4</a>
</span><span class="lnt" id="hl-2-5"><a class="lnlinks" href="#hl-2-5"> 5</a>
</span><span class="lnt" id="hl-2-6"><a class="lnlinks" href="#hl-2-6"> 6</a>
</span><span class="lnt" id="hl-2-7"><a class="lnlinks" href="#hl-2-7"> 7</a>
</span><span class="lnt" id="hl-2-8"><a class="lnlinks" href="#hl-2-8"> 8</a>
</span><span class="lnt" id="hl-2-9"><a class="lnlinks" href="#hl-2-9"> 9</a>
</span><span class="lnt" id="hl-2-10"><a class="lnlinks" href="#hl-2-10">10</a>
</span><span class="lnt" id="hl-2-11"><a class="lnlinks" href="#hl-2-11">11</a>
</span><span class="lnt" id="hl-2-12"><a class="lnlinks" href="#hl-2-12">12</a>
</span><span class="lnt" id="hl-2-13"><a class="lnlinks" href="#hl-2-13">13</a>
</span><span class="lnt" id="hl-2-14"><a class="lnlinks" href="#hl-2-14">14</a>
</span><span class="lnt" id="hl-2-15"><a class="lnlinks" href="#hl-2-15">15</a>
</span><span class="lnt" id="hl-2-16"><a class="lnlinks" href="#hl-2-16">16</a>
</span><span class="lnt" id="hl-2-17"><a class="lnlinks" href="#hl-2-17">17</a>
</span><span class="lnt" id="hl-2-18"><a class="lnlinks" href="#hl-2-18">18</a>
</span><span class="lnt" id="hl-2-19"><a class="lnlinks" href="#hl-2-19">19</a>
</span><span class="lnt" id="hl-2-20"><a class="lnlinks" href="#hl-2-20">20</a>
</span><span class="lnt" id="hl-2-21"><a class="lnlinks" href="#hl-2-21">21</a>
</span><span class="lnt" id="hl-2-22"><a class="lnlinks" href="#hl-2-22">22</a>
</span><span class="lnt" id="hl-2-23"><a class="lnlinks" href="#hl-2-23">23</a>
</span><span class="lnt" id="hl-2-24"><a class="lnlinks" href="#hl-2-24">24</a>
</span><span class="lnt" id="hl-2-25"><a class="lnlinks" href="#hl-2-25">25</a>
</span><span class="lnt" id="hl-2-26"><a class="lnlinks" href="#hl-2-26">26</a>
</span><span class="lnt" id="hl-2-27"><a class="lnlinks" href="#hl-2-27">27</a>
</span><span class="lnt" id="hl-2-28"><a class="lnlinks" href="#hl-2-28">28</a>
</span><span class="lnt" id="hl-2-29"><a class="lnlinks" href="#hl-2-29">29</a>
</span><span class="lnt" id="hl-2-30"><a class="lnlinks" href="#hl-2-30">30</a>
</span><span class="lnt" id="hl-2-31"><a class="lnlinks" href="#hl-2-31">31</a>
</span><span class="lnt" id="hl-2-32"><a class="lnlinks" href="#hl-2-32">32</a>
</span><span class="lnt" id="hl-2-33"><a class="lnlinks" href="#hl-2-33">33</a>
</span><span class="lnt" id="hl-2-34"><a class="lnlinks" href="#hl-2-34">34</a>
</span><span class="lnt" id="hl-2-35"><a class="lnlinks" href="#hl-2-35">35</a>
</span><span class="lnt" id="hl-2-36"><a class="lnlinks" href="#hl-2-36">36</a>
</span><span class="lnt" id="hl-2-37"><a class="lnlinks" href="#hl-2-37">37</a>
</span><span class="lnt" id="hl-2-38"><a class="lnlinks" href="#hl-2-38">38</a>
</span><span class="lnt" id="hl-2-39"><a class="lnlinks" href="#hl-2-39">39</a>
</span><span class="lnt" id="hl-2-40"><a class="lnlinks" href="#hl-2-40">40</a>
</span><span class="lnt" id="hl-2-41"><a class="lnlinks" href="#hl-2-41">41</a>
</span><span class="lnt" id="hl-2-42"><a class="lnlinks" href="#hl-2-42">42</a>
</span><span class="lnt" id="hl-2-43"><a class="lnlinks" href="#hl-2-43">43</a>
</span><span class="lnt" id="hl-2-44"><a class="lnlinks" href="#hl-2-44">44</a>
</span><span class="lnt" id="hl-2-45"><a class="lnlinks" href="#hl-2-45">45</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.AdapterView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ArrayAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.Spinner</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SpinnerDialogActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemSelectedListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Spinner</span><span class="w"> </span><span class="n">sp_dialog</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w">  </span><span class="n">starArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">&#34;水星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;金星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;地球&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;火星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;木星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;土星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;天王星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;海王星&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_spinner_dialog</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">sp_dialog</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ArrayAdapter</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">starAdapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayAdapter</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_select</span><span class="p">,</span><span class="w">  </span><span class="n">starArray</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dialog</span><span class="p">.</span><span class="na">setPrompt</span><span class="p">(</span><span class="s">&#34;🌤选择行星&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dialog</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">starAdapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dialog</span><span class="p">.</span><span class="na">setSelection</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dialog</span><span class="p">.</span><span class="na">setOnItemSelectedListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;您选择了： &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">starArray</span><span class="o">[</span><span class="n">position</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNothingSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="spinnerdropdown">SpinnerDropdown<a hidden class="anchor" aria-hidden="true" href="#spinnerdropdown">#</a></h3>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/spinnerDropdown.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/spinnerDropdown.gif" alt="spinnerDropdown"  />
        </a>
    </div>
</p>
<h3 id="xml-1">XML<a hidden class="anchor" aria-hidden="true" href="#xml-1">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-3-1"><a class="lnlinks" href="#hl-3-1"> 1</a>
</span><span class="lnt" id="hl-3-2"><a class="lnlinks" href="#hl-3-2"> 2</a>
</span><span class="lnt" id="hl-3-3"><a class="lnlinks" href="#hl-3-3"> 3</a>
</span><span class="lnt" id="hl-3-4"><a class="lnlinks" href="#hl-3-4"> 4</a>
</span><span class="lnt" id="hl-3-5"><a class="lnlinks" href="#hl-3-5"> 5</a>
</span><span class="lnt" id="hl-3-6"><a class="lnlinks" href="#hl-3-6"> 6</a>
</span><span class="lnt" id="hl-3-7"><a class="lnlinks" href="#hl-3-7"> 7</a>
</span><span class="lnt" id="hl-3-8"><a class="lnlinks" href="#hl-3-8"> 8</a>
</span><span class="lnt" id="hl-3-9"><a class="lnlinks" href="#hl-3-9"> 9</a>
</span><span class="lnt" id="hl-3-10"><a class="lnlinks" href="#hl-3-10">10</a>
</span><span class="lnt" id="hl-3-11"><a class="lnlinks" href="#hl-3-11">11</a>
</span><span class="lnt" id="hl-3-12"><a class="lnlinks" href="#hl-3-12">12</a>
</span><span class="lnt" id="hl-3-13"><a class="lnlinks" href="#hl-3-13">13</a>
</span><span class="lnt" id="hl-3-14"><a class="lnlinks" href="#hl-3-14">14</a>
</span><span class="lnt" id="hl-3-15"><a class="lnlinks" href="#hl-3-15">15</a>
</span><span class="lnt" id="hl-3-16"><a class="lnlinks" href="#hl-3-16">16</a>
</span><span class="lnt" id="hl-3-17"><a class="lnlinks" href="#hl-3-17">17</a>
</span><span class="lnt" id="hl-3-18"><a class="lnlinks" href="#hl-3-18">18</a>
</span><span class="lnt" id="hl-3-19"><a class="lnlinks" href="#hl-3-19">19</a>
</span><span class="lnt" id="hl-3-20"><a class="lnlinks" href="#hl-3-20">20</a>
</span><span class="lnt" id="hl-3-21"><a class="lnlinks" href="#hl-3-21">21</a>
</span><span class="lnt" id="hl-3-22"><a class="lnlinks" href="#hl-3-22">22</a>
</span><span class="lnt" id="hl-3-23"><a class="lnlinks" href="#hl-3-23">23</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.SpinnerDropdownActivity&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;下拉模式的列表框&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Spinner</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@id/sp_dropdown&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:spinnerMode=</span><span class="s">&#34;dropdown&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-1">Java<a hidden class="anchor" aria-hidden="true" href="#java-1">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-4-1"><a class="lnlinks" href="#hl-4-1"> 1</a>
</span><span class="lnt" id="hl-4-2"><a class="lnlinks" href="#hl-4-2"> 2</a>
</span><span class="lnt" id="hl-4-3"><a class="lnlinks" href="#hl-4-3"> 3</a>
</span><span class="lnt" id="hl-4-4"><a class="lnlinks" href="#hl-4-4"> 4</a>
</span><span class="lnt" id="hl-4-5"><a class="lnlinks" href="#hl-4-5"> 5</a>
</span><span class="lnt" id="hl-4-6"><a class="lnlinks" href="#hl-4-6"> 6</a>
</span><span class="lnt" id="hl-4-7"><a class="lnlinks" href="#hl-4-7"> 7</a>
</span><span class="lnt" id="hl-4-8"><a class="lnlinks" href="#hl-4-8"> 8</a>
</span><span class="lnt" id="hl-4-9"><a class="lnlinks" href="#hl-4-9"> 9</a>
</span><span class="lnt" id="hl-4-10"><a class="lnlinks" href="#hl-4-10">10</a>
</span><span class="lnt" id="hl-4-11"><a class="lnlinks" href="#hl-4-11">11</a>
</span><span class="lnt" id="hl-4-12"><a class="lnlinks" href="#hl-4-12">12</a>
</span><span class="lnt" id="hl-4-13"><a class="lnlinks" href="#hl-4-13">13</a>
</span><span class="lnt" id="hl-4-14"><a class="lnlinks" href="#hl-4-14">14</a>
</span><span class="lnt" id="hl-4-15"><a class="lnlinks" href="#hl-4-15">15</a>
</span><span class="lnt" id="hl-4-16"><a class="lnlinks" href="#hl-4-16">16</a>
</span><span class="lnt" id="hl-4-17"><a class="lnlinks" href="#hl-4-17">17</a>
</span><span class="lnt" id="hl-4-18"><a class="lnlinks" href="#hl-4-18">18</a>
</span><span class="lnt" id="hl-4-19"><a class="lnlinks" href="#hl-4-19">19</a>
</span><span class="lnt" id="hl-4-20"><a class="lnlinks" href="#hl-4-20">20</a>
</span><span class="lnt" id="hl-4-21"><a class="lnlinks" href="#hl-4-21">21</a>
</span><span class="lnt" id="hl-4-22"><a class="lnlinks" href="#hl-4-22">22</a>
</span><span class="lnt" id="hl-4-23"><a class="lnlinks" href="#hl-4-23">23</a>
</span><span class="lnt" id="hl-4-24"><a class="lnlinks" href="#hl-4-24">24</a>
</span><span class="lnt" id="hl-4-25"><a class="lnlinks" href="#hl-4-25">25</a>
</span><span class="lnt" id="hl-4-26"><a class="lnlinks" href="#hl-4-26">26</a>
</span><span class="lnt" id="hl-4-27"><a class="lnlinks" href="#hl-4-27">27</a>
</span><span class="lnt" id="hl-4-28"><a class="lnlinks" href="#hl-4-28">28</a>
</span><span class="lnt" id="hl-4-29"><a class="lnlinks" href="#hl-4-29">29</a>
</span><span class="lnt" id="hl-4-30"><a class="lnlinks" href="#hl-4-30">30</a>
</span><span class="lnt" id="hl-4-31"><a class="lnlinks" href="#hl-4-31">31</a>
</span><span class="lnt" id="hl-4-32"><a class="lnlinks" href="#hl-4-32">32</a>
</span><span class="lnt" id="hl-4-33"><a class="lnlinks" href="#hl-4-33">33</a>
</span><span class="lnt" id="hl-4-34"><a class="lnlinks" href="#hl-4-34">34</a>
</span><span class="lnt" id="hl-4-35"><a class="lnlinks" href="#hl-4-35">35</a>
</span><span class="lnt" id="hl-4-36"><a class="lnlinks" href="#hl-4-36">36</a>
</span><span class="lnt" id="hl-4-37"><a class="lnlinks" href="#hl-4-37">37</a>
</span><span class="lnt" id="hl-4-38"><a class="lnlinks" href="#hl-4-38">38</a>
</span><span class="lnt" id="hl-4-39"><a class="lnlinks" href="#hl-4-39">39</a>
</span><span class="lnt" id="hl-4-40"><a class="lnlinks" href="#hl-4-40">40</a>
</span><span class="lnt" id="hl-4-41"><a class="lnlinks" href="#hl-4-41">41</a>
</span><span class="lnt" id="hl-4-42"><a class="lnlinks" href="#hl-4-42">42</a>
</span><span class="lnt" id="hl-4-43"><a class="lnlinks" href="#hl-4-43">43</a>
</span><span class="lnt" id="hl-4-44"><a class="lnlinks" href="#hl-4-44">44</a>
</span><span class="lnt" id="hl-4-45"><a class="lnlinks" href="#hl-4-45">45</a>
</span><span class="lnt" id="hl-4-46"><a class="lnlinks" href="#hl-4-46">46</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.AdapterView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ArrayAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.Spinner</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.activity.EdgeToEdge</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.graphics.Insets</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.ViewCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.WindowInsetsCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SpinnerDropdownActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemSelectedListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Spinner</span><span class="w"> </span><span class="n">sp_dropdown</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w">  </span><span class="n">starArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">&#34;水星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;金星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;地球&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;火星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;木星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;土星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;天王星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;海王星&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_spinner_dropdown</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dropdown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">sp_dropdown</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ArrayAdapter</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">starAdapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayAdapter</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_select</span><span class="p">,</span><span class="w">  </span><span class="n">starArray</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dropdown</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">starAdapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dropdown</span><span class="p">.</span><span class="na">setSelection</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_dropdown</span><span class="p">.</span><span class="na">setOnItemSelectedListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;您选择了： &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">starArray</span><span class="o">[</span><span class="n">position</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNothingSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="simpleadapter简单适配器">SimpleAdapter简单适配器<a hidden class="anchor" aria-hidden="true" href="#simpleadapter简单适配器">#</a></h3>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/SpinerIcon.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/SpinerIcon.gif" alt="SpinerIcon"  />
        </a>
    </div>
</p>
<h3 id="xml-2">XML<a hidden class="anchor" aria-hidden="true" href="#xml-2">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-5-1"><a class="lnlinks" href="#hl-5-1"> 1</a>
</span><span class="lnt" id="hl-5-2"><a class="lnlinks" href="#hl-5-2"> 2</a>
</span><span class="lnt" id="hl-5-3"><a class="lnlinks" href="#hl-5-3"> 3</a>
</span><span class="lnt" id="hl-5-4"><a class="lnlinks" href="#hl-5-4"> 4</a>
</span><span class="lnt" id="hl-5-5"><a class="lnlinks" href="#hl-5-5"> 5</a>
</span><span class="lnt" id="hl-5-6"><a class="lnlinks" href="#hl-5-6"> 6</a>
</span><span class="lnt" id="hl-5-7"><a class="lnlinks" href="#hl-5-7"> 7</a>
</span><span class="lnt" id="hl-5-8"><a class="lnlinks" href="#hl-5-8"> 8</a>
</span><span class="lnt" id="hl-5-9"><a class="lnlinks" href="#hl-5-9"> 9</a>
</span><span class="lnt" id="hl-5-10"><a class="lnlinks" href="#hl-5-10">10</a>
</span><span class="lnt" id="hl-5-11"><a class="lnlinks" href="#hl-5-11">11</a>
</span><span class="lnt" id="hl-5-12"><a class="lnlinks" href="#hl-5-12">12</a>
</span><span class="lnt" id="hl-5-13"><a class="lnlinks" href="#hl-5-13">13</a>
</span><span class="lnt" id="hl-5-14"><a class="lnlinks" href="#hl-5-14">14</a>
</span><span class="lnt" id="hl-5-15"><a class="lnlinks" href="#hl-5-15">15</a>
</span><span class="lnt" id="hl-5-16"><a class="lnlinks" href="#hl-5-16">16</a>
</span><span class="lnt" id="hl-5-17"><a class="lnlinks" href="#hl-5-17">17</a>
</span><span class="lnt" id="hl-5-18"><a class="lnlinks" href="#hl-5-18">18</a>
</span><span class="lnt" id="hl-5-19"><a class="lnlinks" href="#hl-5-19">19</a>
</span><span class="lnt" id="hl-5-20"><a class="lnlinks" href="#hl-5-20">20</a>
</span><span class="lnt" id="hl-5-21"><a class="lnlinks" href="#hl-5-21">21</a>
</span><span class="lnt" id="hl-5-22"><a class="lnlinks" href="#hl-5-22">22</a>
</span><span class="lnt" id="hl-5-23"><a class="lnlinks" href="#hl-5-23">23</a>
</span><span class="lnt" id="hl-5-24"><a class="lnlinks" href="#hl-5-24">24</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.SpinnerDropdownActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;行星的简单适配器&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Spinner</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@id/sp_icon&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:spinnerMode=</span><span class="s">&#34;dropdown&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-2">Java<a hidden class="anchor" aria-hidden="true" href="#java-2">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-6-1"><a class="lnlinks" href="#hl-6-1"> 1</a>
</span><span class="lnt" id="hl-6-2"><a class="lnlinks" href="#hl-6-2"> 2</a>
</span><span class="lnt" id="hl-6-3"><a class="lnlinks" href="#hl-6-3"> 3</a>
</span><span class="lnt" id="hl-6-4"><a class="lnlinks" href="#hl-6-4"> 4</a>
</span><span class="lnt" id="hl-6-5"><a class="lnlinks" href="#hl-6-5"> 5</a>
</span><span class="lnt" id="hl-6-6"><a class="lnlinks" href="#hl-6-6"> 6</a>
</span><span class="lnt" id="hl-6-7"><a class="lnlinks" href="#hl-6-7"> 7</a>
</span><span class="lnt" id="hl-6-8"><a class="lnlinks" href="#hl-6-8"> 8</a>
</span><span class="lnt" id="hl-6-9"><a class="lnlinks" href="#hl-6-9"> 9</a>
</span><span class="lnt" id="hl-6-10"><a class="lnlinks" href="#hl-6-10">10</a>
</span><span class="lnt" id="hl-6-11"><a class="lnlinks" href="#hl-6-11">11</a>
</span><span class="lnt" id="hl-6-12"><a class="lnlinks" href="#hl-6-12">12</a>
</span><span class="lnt" id="hl-6-13"><a class="lnlinks" href="#hl-6-13">13</a>
</span><span class="lnt" id="hl-6-14"><a class="lnlinks" href="#hl-6-14">14</a>
</span><span class="lnt" id="hl-6-15"><a class="lnlinks" href="#hl-6-15">15</a>
</span><span class="lnt" id="hl-6-16"><a class="lnlinks" href="#hl-6-16">16</a>
</span><span class="lnt" id="hl-6-17"><a class="lnlinks" href="#hl-6-17">17</a>
</span><span class="lnt" id="hl-6-18"><a class="lnlinks" href="#hl-6-18">18</a>
</span><span class="lnt" id="hl-6-19"><a class="lnlinks" href="#hl-6-19">19</a>
</span><span class="lnt" id="hl-6-20"><a class="lnlinks" href="#hl-6-20">20</a>
</span><span class="lnt" id="hl-6-21"><a class="lnlinks" href="#hl-6-21">21</a>
</span><span class="lnt" id="hl-6-22"><a class="lnlinks" href="#hl-6-22">22</a>
</span><span class="lnt" id="hl-6-23"><a class="lnlinks" href="#hl-6-23">23</a>
</span><span class="lnt" id="hl-6-24"><a class="lnlinks" href="#hl-6-24">24</a>
</span><span class="lnt" id="hl-6-25"><a class="lnlinks" href="#hl-6-25">25</a>
</span><span class="lnt" id="hl-6-26"><a class="lnlinks" href="#hl-6-26">26</a>
</span><span class="lnt" id="hl-6-27"><a class="lnlinks" href="#hl-6-27">27</a>
</span><span class="lnt" id="hl-6-28"><a class="lnlinks" href="#hl-6-28">28</a>
</span><span class="lnt" id="hl-6-29"><a class="lnlinks" href="#hl-6-29">29</a>
</span><span class="lnt" id="hl-6-30"><a class="lnlinks" href="#hl-6-30">30</a>
</span><span class="lnt" id="hl-6-31"><a class="lnlinks" href="#hl-6-31">31</a>
</span><span class="lnt" id="hl-6-32"><a class="lnlinks" href="#hl-6-32">32</a>
</span><span class="lnt" id="hl-6-33"><a class="lnlinks" href="#hl-6-33">33</a>
</span><span class="lnt" id="hl-6-34"><a class="lnlinks" href="#hl-6-34">34</a>
</span><span class="lnt" id="hl-6-35"><a class="lnlinks" href="#hl-6-35">35</a>
</span><span class="lnt" id="hl-6-36"><a class="lnlinks" href="#hl-6-36">36</a>
</span><span class="lnt" id="hl-6-37"><a class="lnlinks" href="#hl-6-37">37</a>
</span><span class="lnt" id="hl-6-38"><a class="lnlinks" href="#hl-6-38">38</a>
</span><span class="lnt" id="hl-6-39"><a class="lnlinks" href="#hl-6-39">39</a>
</span><span class="lnt" id="hl-6-40"><a class="lnlinks" href="#hl-6-40">40</a>
</span><span class="lnt" id="hl-6-41"><a class="lnlinks" href="#hl-6-41">41</a>
</span><span class="lnt" id="hl-6-42"><a class="lnlinks" href="#hl-6-42">42</a>
</span><span class="lnt" id="hl-6-43"><a class="lnlinks" href="#hl-6-43">43</a>
</span><span class="lnt" id="hl-6-44"><a class="lnlinks" href="#hl-6-44">44</a>
</span><span class="lnt" id="hl-6-45"><a class="lnlinks" href="#hl-6-45">45</a>
</span><span class="lnt" id="hl-6-46"><a class="lnlinks" href="#hl-6-46">46</a>
</span><span class="lnt" id="hl-6-47"><a class="lnlinks" href="#hl-6-47">47</a>
</span><span class="lnt" id="hl-6-48"><a class="lnlinks" href="#hl-6-48">48</a>
</span><span class="lnt" id="hl-6-49"><a class="lnlinks" href="#hl-6-49">49</a>
</span><span class="lnt" id="hl-6-50"><a class="lnlinks" href="#hl-6-50">50</a>
</span><span class="lnt" id="hl-6-51"><a class="lnlinks" href="#hl-6-51">51</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w"> </span><span class="c1">// 包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SpinnerIconActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemSelectedListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 定义一个整型数组，存储星球图标的资源ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">iconArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">shuixing</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">jinxing</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">diqiu</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">huoxing</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">muxing</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">tuxing</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 定义一个字符串数组，存储星球的名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">starArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">&#34;水星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;金星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;地球&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;火星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;木星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;土星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;天王星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;海王星&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// onCreate方法，活动启动时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w"> </span><span class="c1">// 调用父类的onCreate方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_spinner_icon</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置活动的布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// 创建一个列表，用于存储图标和名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">iconArray</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 遍历图标数组</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// 创建一个HashMap对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">item</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;icon&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">iconArray</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span><span class="w"> </span><span class="c1">// 将图标资源ID放入Map中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">item</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">starArray</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span><span class="w"> </span><span class="c1">// 将名称放入Map中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">item</span><span class="p">);</span><span class="w"> </span><span class="c1">// 将Map添加到列表中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建一个SimpleAdapter，连接数据和布局</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SimpleAdapter</span><span class="w"> </span><span class="n">startAdapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="c1">// 数据源</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_simple</span><span class="p">,</span><span class="w"> </span><span class="c1">// 列表项布局</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="s">&#34;icon&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;name&#34;</span><span class="p">},</span><span class="w"> </span><span class="c1">// Map中的键</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_icon</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_name</span><span class="p">});</span><span class="w"> </span><span class="c1">// 布局中的视图ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Spinner</span><span class="w"> </span><span class="n">sp_icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">sp_icon</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取Spinner控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_icon</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">startAdapter</span><span class="p">);</span><span class="w"> </span><span class="c1">// 为Spinner设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_icon</span><span class="p">.</span><span class="na">setSelection</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// 默认选中第0项</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_icon</span><span class="p">.</span><span class="na">setOnItemSelectedListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置选项选中监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 当选择一个选项时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;你选择的是：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">starArray</span><span class="o">[</span><span class="n">position</span><span class="o">]</span><span class="p">);</span><span class="w"> </span><span class="c1">// 显示选择的星球名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNothingSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 当没有选项被选择时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="baseadapter基本适配器">BaseAdapter基本适配器<a hidden class="anchor" aria-hidden="true" href="#baseadapter基本适配器">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/SpinnerBaseAdapter.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/SpinnerBaseAdapter.gif" alt="SpinnerBaseAdapter"  />
        </a>
    </div>
</p>
<p>BaseAdapter是一个抽象类，所以需要重写</p>
<h3 id="planetbaseadapterjava">PlanetBaseAdapter.java<a hidden class="anchor" aria-hidden="true" href="#planetbaseadapterjava">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-7-1"><a class="lnlinks" href="#hl-7-1"> 1</a>
</span><span class="lnt" id="hl-7-2"><a class="lnlinks" href="#hl-7-2"> 2</a>
</span><span class="lnt" id="hl-7-3"><a class="lnlinks" href="#hl-7-3"> 3</a>
</span><span class="lnt" id="hl-7-4"><a class="lnlinks" href="#hl-7-4"> 4</a>
</span><span class="lnt" id="hl-7-5"><a class="lnlinks" href="#hl-7-5"> 5</a>
</span><span class="lnt" id="hl-7-6"><a class="lnlinks" href="#hl-7-6"> 6</a>
</span><span class="lnt" id="hl-7-7"><a class="lnlinks" href="#hl-7-7"> 7</a>
</span><span class="lnt" id="hl-7-8"><a class="lnlinks" href="#hl-7-8"> 8</a>
</span><span class="lnt" id="hl-7-9"><a class="lnlinks" href="#hl-7-9"> 9</a>
</span><span class="lnt" id="hl-7-10"><a class="lnlinks" href="#hl-7-10">10</a>
</span><span class="lnt" id="hl-7-11"><a class="lnlinks" href="#hl-7-11">11</a>
</span><span class="lnt" id="hl-7-12"><a class="lnlinks" href="#hl-7-12">12</a>
</span><span class="lnt" id="hl-7-13"><a class="lnlinks" href="#hl-7-13">13</a>
</span><span class="lnt" id="hl-7-14"><a class="lnlinks" href="#hl-7-14">14</a>
</span><span class="lnt" id="hl-7-15"><a class="lnlinks" href="#hl-7-15">15</a>
</span><span class="lnt" id="hl-7-16"><a class="lnlinks" href="#hl-7-16">16</a>
</span><span class="lnt" id="hl-7-17"><a class="lnlinks" href="#hl-7-17">17</a>
</span><span class="lnt" id="hl-7-18"><a class="lnlinks" href="#hl-7-18">18</a>
</span><span class="lnt" id="hl-7-19"><a class="lnlinks" href="#hl-7-19">19</a>
</span><span class="lnt" id="hl-7-20"><a class="lnlinks" href="#hl-7-20">20</a>
</span><span class="lnt" id="hl-7-21"><a class="lnlinks" href="#hl-7-21">21</a>
</span><span class="lnt" id="hl-7-22"><a class="lnlinks" href="#hl-7-22">22</a>
</span><span class="lnt" id="hl-7-23"><a class="lnlinks" href="#hl-7-23">23</a>
</span><span class="lnt" id="hl-7-24"><a class="lnlinks" href="#hl-7-24">24</a>
</span><span class="lnt" id="hl-7-25"><a class="lnlinks" href="#hl-7-25">25</a>
</span><span class="lnt" id="hl-7-26"><a class="lnlinks" href="#hl-7-26">26</a>
</span><span class="lnt" id="hl-7-27"><a class="lnlinks" href="#hl-7-27">27</a>
</span><span class="lnt" id="hl-7-28"><a class="lnlinks" href="#hl-7-28">28</a>
</span><span class="lnt" id="hl-7-29"><a class="lnlinks" href="#hl-7-29">29</a>
</span><span class="lnt" id="hl-7-30"><a class="lnlinks" href="#hl-7-30">30</a>
</span><span class="lnt" id="hl-7-31"><a class="lnlinks" href="#hl-7-31">31</a>
</span><span class="lnt" id="hl-7-32"><a class="lnlinks" href="#hl-7-32">32</a>
</span><span class="lnt" id="hl-7-33"><a class="lnlinks" href="#hl-7-33">33</a>
</span><span class="lnt" id="hl-7-34"><a class="lnlinks" href="#hl-7-34">34</a>
</span><span class="lnt" id="hl-7-35"><a class="lnlinks" href="#hl-7-35">35</a>
</span><span class="lnt" id="hl-7-36"><a class="lnlinks" href="#hl-7-36">36</a>
</span><span class="lnt" id="hl-7-37"><a class="lnlinks" href="#hl-7-37">37</a>
</span><span class="lnt" id="hl-7-38"><a class="lnlinks" href="#hl-7-38">38</a>
</span><span class="lnt" id="hl-7-39"><a class="lnlinks" href="#hl-7-39">39</a>
</span><span class="lnt" id="hl-7-40"><a class="lnlinks" href="#hl-7-40">40</a>
</span><span class="lnt" id="hl-7-41"><a class="lnlinks" href="#hl-7-41">41</a>
</span><span class="lnt" id="hl-7-42"><a class="lnlinks" href="#hl-7-42">42</a>
</span><span class="lnt" id="hl-7-43"><a class="lnlinks" href="#hl-7-43">43</a>
</span><span class="lnt" id="hl-7-44"><a class="lnlinks" href="#hl-7-44">44</a>
</span><span class="lnt" id="hl-7-45"><a class="lnlinks" href="#hl-7-45">45</a>
</span><span class="lnt" id="hl-7-46"><a class="lnlinks" href="#hl-7-46">46</a>
</span><span class="lnt" id="hl-7-47"><a class="lnlinks" href="#hl-7-47">47</a>
</span><span class="lnt" id="hl-7-48"><a class="lnlinks" href="#hl-7-48">48</a>
</span><span class="lnt" id="hl-7-49"><a class="lnlinks" href="#hl-7-49">49</a>
</span><span class="lnt" id="hl-7-50"><a class="lnlinks" href="#hl-7-50">50</a>
</span><span class="lnt" id="hl-7-51"><a class="lnlinks" href="#hl-7-51">51</a>
</span><span class="lnt" id="hl-7-52"><a class="lnlinks" href="#hl-7-52">52</a>
</span><span class="lnt" id="hl-7-53"><a class="lnlinks" href="#hl-7-53">53</a>
</span><span class="lnt" id="hl-7-54"><a class="lnlinks" href="#hl-7-54">54</a>
</span><span class="lnt" id="hl-7-55"><a class="lnlinks" href="#hl-7-55">55</a>
</span><span class="lnt" id="hl-7-56"><a class="lnlinks" href="#hl-7-56">56</a>
</span><span class="lnt" id="hl-7-57"><a class="lnlinks" href="#hl-7-57">57</a>
</span><span class="lnt" id="hl-7-58"><a class="lnlinks" href="#hl-7-58">58</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter</span><span class="p">;</span><span class="w"> </span><span class="c1">// 包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.content.Context</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入Context类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.LayoutInflater</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入LayoutInflater类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入View类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.ViewGroup</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入ViewGroup类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.BaseAdapter</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入BaseAdapter类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ImageView</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入ImageView类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.TextView</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入TextView类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.R</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入项目的R类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.bean.Planet</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入自定义的Planet类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w"> </span><span class="c1">// 导入List接口</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PlanetBaseAdapter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseAdapter</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 定义PlanetBaseAdapter类，继承自BaseAdapter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Context</span><span class="w"> </span><span class="n">mContext</span><span class="p">;</span><span class="w"> </span><span class="c1">// 上下文对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Planet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">;</span><span class="w"> </span><span class="c1">// 存储Planet对象的列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 构造方法，初始化上下文和列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">PlanetBaseAdapter</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">mContext</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Planet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mContext</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化上下文</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mPlanetList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化星球列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 返回列表项的数量</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w"> </span><span class="c1">// 返回星球列表的大小</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getItem</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 获取指定位置的列表项</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w"> </span><span class="c1">// 返回指定位置的Planet对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">getItemId</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 获取指定位置项的ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">position</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回位置作为项的ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="nf">getView</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">convertView</span><span class="p">,</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 获取每个列表项的视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 根据布局文件item_base.xml生成转换视图对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LayoutInflater</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">mContext</span><span class="p">).</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_base</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ImageView</span><span class="w"> </span><span class="n">iv_icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_icon</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取图标视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_name</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取名称视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取描述视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 给控件设置数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Planet</span><span class="w"> </span><span class="n">planet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取当前星球对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">iv_icon</span><span class="p">.</span><span class="na">setImageResource</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">image</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置图标资源</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_name</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置星球名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_desc</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置星球描述</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">view</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回生成的视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="item_basexml">item_base.xml<a hidden class="anchor" aria-hidden="true" href="#item_basexml">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-8-1"><a class="lnlinks" href="#hl-8-1"> 1</a>
</span><span class="lnt" id="hl-8-2"><a class="lnlinks" href="#hl-8-2"> 2</a>
</span><span class="lnt" id="hl-8-3"><a class="lnlinks" href="#hl-8-3"> 3</a>
</span><span class="lnt" id="hl-8-4"><a class="lnlinks" href="#hl-8-4"> 4</a>
</span><span class="lnt" id="hl-8-5"><a class="lnlinks" href="#hl-8-5"> 5</a>
</span><span class="lnt" id="hl-8-6"><a class="lnlinks" href="#hl-8-6"> 6</a>
</span><span class="lnt" id="hl-8-7"><a class="lnlinks" href="#hl-8-7"> 7</a>
</span><span class="lnt" id="hl-8-8"><a class="lnlinks" href="#hl-8-8"> 8</a>
</span><span class="lnt" id="hl-8-9"><a class="lnlinks" href="#hl-8-9"> 9</a>
</span><span class="lnt" id="hl-8-10"><a class="lnlinks" href="#hl-8-10">10</a>
</span><span class="lnt" id="hl-8-11"><a class="lnlinks" href="#hl-8-11">11</a>
</span><span class="lnt" id="hl-8-12"><a class="lnlinks" href="#hl-8-12">12</a>
</span><span class="lnt" id="hl-8-13"><a class="lnlinks" href="#hl-8-13">13</a>
</span><span class="lnt" id="hl-8-14"><a class="lnlinks" href="#hl-8-14">14</a>
</span><span class="lnt" id="hl-8-15"><a class="lnlinks" href="#hl-8-15">15</a>
</span><span class="lnt" id="hl-8-16"><a class="lnlinks" href="#hl-8-16">16</a>
</span><span class="lnt" id="hl-8-17"><a class="lnlinks" href="#hl-8-17">17</a>
</span><span class="lnt" id="hl-8-18"><a class="lnlinks" href="#hl-8-18">18</a>
</span><span class="lnt" id="hl-8-19"><a class="lnlinks" href="#hl-8-19">19</a>
</span><span class="lnt" id="hl-8-20"><a class="lnlinks" href="#hl-8-20">20</a>
</span><span class="lnt" id="hl-8-21"><a class="lnlinks" href="#hl-8-21">21</a>
</span><span class="lnt" id="hl-8-22"><a class="lnlinks" href="#hl-8-22">22</a>
</span><span class="lnt" id="hl-8-23"><a class="lnlinks" href="#hl-8-23">23</a>
</span><span class="lnt" id="hl-8-24"><a class="lnlinks" href="#hl-8-24">24</a>
</span><span class="lnt" id="hl-8-25"><a class="lnlinks" href="#hl-8-25">25</a>
</span><span class="lnt" id="hl-8-26"><a class="lnlinks" href="#hl-8-26">26</a>
</span><span class="lnt" id="hl-8-27"><a class="lnlinks" href="#hl-8-27">27</a>
</span><span class="lnt" id="hl-8-28"><a class="lnlinks" href="#hl-8-28">28</a>
</span><span class="lnt" id="hl-8-29"><a class="lnlinks" href="#hl-8-29">29</a>
</span><span class="lnt" id="hl-8-30"><a class="lnlinks" href="#hl-8-30">30</a>
</span><span class="lnt" id="hl-8-31"><a class="lnlinks" href="#hl-8-31">31</a>
</span><span class="lnt" id="hl-8-32"><a class="lnlinks" href="#hl-8-32">32</a>
</span><span class="lnt" id="hl-8-33"><a class="lnlinks" href="#hl-8-33">33</a>
</span><span class="lnt" id="hl-8-34"><a class="lnlinks" href="#hl-8-34">34</a>
</span><span class="lnt" id="hl-8-35"><a class="lnlinks" href="#hl-8-35">35</a>
</span><span class="lnt" id="hl-8-36"><a class="lnlinks" href="#hl-8-36">36</a>
</span><span class="lnt" id="hl-8-37"><a class="lnlinks" href="#hl-8-37">37</a>
</span><span class="lnt" id="hl-8-38"><a class="lnlinks" href="#hl-8-38">38</a>
</span><span class="lnt" id="hl-8-39"><a class="lnlinks" href="#hl-8-39">39</a>
</span><span class="lnt" id="hl-8-40"><a class="lnlinks" href="#hl-8-40">40</a>
</span><span class="lnt" id="hl-8-41"><a class="lnlinks" href="#hl-8-41">41</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;ImageView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/iv_icon&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;60dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">tools:src=</span><span class="s">&#34;@drawable/diqiu&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;LinearLayout</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_weight=</span><span class="s">&#34;3&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/tv_name&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:text=</span><span class="s">&#34;地球&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textColor=</span><span class="s">&#34;@color/black&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textSize=</span><span class="s">&#34;20sp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/tv_desc&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:text=</span><span class="s">&#34;地球&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textColor=</span><span class="s">&#34;@color/black&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textSize=</span><span class="s">&#34;12sp&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">tools:text=</span><span class="s">&#34;地球快一点毁灭吧！地球快一点毁灭吧！地球快一点毁灭吧！地球快一点毁灭吧！地球快一点毁灭吧！地球快一点毁灭吧！&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/LinearLayout&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="baseadapteractivityjava">BaseAdapterActivity.java<a hidden class="anchor" aria-hidden="true" href="#baseadapteractivityjava">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-9-1"><a class="lnlinks" href="#hl-9-1"> 1</a>
</span><span class="lnt" id="hl-9-2"><a class="lnlinks" href="#hl-9-2"> 2</a>
</span><span class="lnt" id="hl-9-3"><a class="lnlinks" href="#hl-9-3"> 3</a>
</span><span class="lnt" id="hl-9-4"><a class="lnlinks" href="#hl-9-4"> 4</a>
</span><span class="lnt" id="hl-9-5"><a class="lnlinks" href="#hl-9-5"> 5</a>
</span><span class="lnt" id="hl-9-6"><a class="lnlinks" href="#hl-9-6"> 6</a>
</span><span class="lnt" id="hl-9-7"><a class="lnlinks" href="#hl-9-7"> 7</a>
</span><span class="lnt" id="hl-9-8"><a class="lnlinks" href="#hl-9-8"> 8</a>
</span><span class="lnt" id="hl-9-9"><a class="lnlinks" href="#hl-9-9"> 9</a>
</span><span class="lnt" id="hl-9-10"><a class="lnlinks" href="#hl-9-10">10</a>
</span><span class="lnt" id="hl-9-11"><a class="lnlinks" href="#hl-9-11">11</a>
</span><span class="lnt" id="hl-9-12"><a class="lnlinks" href="#hl-9-12">12</a>
</span><span class="lnt" id="hl-9-13"><a class="lnlinks" href="#hl-9-13">13</a>
</span><span class="lnt" id="hl-9-14"><a class="lnlinks" href="#hl-9-14">14</a>
</span><span class="lnt" id="hl-9-15"><a class="lnlinks" href="#hl-9-15">15</a>
</span><span class="lnt" id="hl-9-16"><a class="lnlinks" href="#hl-9-16">16</a>
</span><span class="lnt" id="hl-9-17"><a class="lnlinks" href="#hl-9-17">17</a>
</span><span class="lnt" id="hl-9-18"><a class="lnlinks" href="#hl-9-18">18</a>
</span><span class="lnt" id="hl-9-19"><a class="lnlinks" href="#hl-9-19">19</a>
</span><span class="lnt" id="hl-9-20"><a class="lnlinks" href="#hl-9-20">20</a>
</span><span class="lnt" id="hl-9-21"><a class="lnlinks" href="#hl-9-21">21</a>
</span><span class="lnt" id="hl-9-22"><a class="lnlinks" href="#hl-9-22">22</a>
</span><span class="lnt" id="hl-9-23"><a class="lnlinks" href="#hl-9-23">23</a>
</span><span class="lnt" id="hl-9-24"><a class="lnlinks" href="#hl-9-24">24</a>
</span><span class="lnt" id="hl-9-25"><a class="lnlinks" href="#hl-9-25">25</a>
</span><span class="lnt" id="hl-9-26"><a class="lnlinks" href="#hl-9-26">26</a>
</span><span class="lnt" id="hl-9-27"><a class="lnlinks" href="#hl-9-27">27</a>
</span><span class="lnt" id="hl-9-28"><a class="lnlinks" href="#hl-9-28">28</a>
</span><span class="lnt" id="hl-9-29"><a class="lnlinks" href="#hl-9-29">29</a>
</span><span class="lnt" id="hl-9-30"><a class="lnlinks" href="#hl-9-30">30</a>
</span><span class="lnt" id="hl-9-31"><a class="lnlinks" href="#hl-9-31">31</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w"> </span><span class="c1">// 包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BaseAdapterActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemSelectedListener</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 定义活动类，实现选项选择监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">starArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="w"> </span><span class="c1">// 定义星球名称数组</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">&#34;水星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;金星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;地球&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;火星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;木星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;土星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;天王星&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;海王星&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Planet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">planetList</span><span class="p">;</span><span class="w"> </span><span class="c1">// 存储Planet对象的列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 活动创建时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w"> </span><span class="c1">// 调用父类的onCreate方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_base_adapter</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置活动的布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Spinner</span><span class="w"> </span><span class="n">sp_planet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">sp_planet</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取Spinner控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">planetList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Planet</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w"> </span><span class="c1">// 获取默认的星球列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PlanetBaseAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PlanetBaseAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">planetList</span><span class="p">);</span><span class="w"> </span><span class="c1">// 创建适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_planet</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w"> </span><span class="c1">// 为Spinner设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_planet</span><span class="p">.</span><span class="na">setSelection</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// 默认选中第0项</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">sp_planet</span><span class="p">.</span><span class="na">setOnItemSelectedListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置选项选中监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 当选择一个选项时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;您选择的是&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">planetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w"> </span><span class="c1">// 显示选择的星球名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNothingSelected</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 当没有选项被选择时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="baseadapter优化">BaseAdapter优化<a hidden class="anchor" aria-hidden="true" href="#baseadapter优化">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-10-1"><a class="lnlinks" href="#hl-10-1"> 1</a>
</span><span class="lnt" id="hl-10-2"><a class="lnlinks" href="#hl-10-2"> 2</a>
</span><span class="lnt" id="hl-10-3"><a class="lnlinks" href="#hl-10-3"> 3</a>
</span><span class="lnt" id="hl-10-4"><a class="lnlinks" href="#hl-10-4"> 4</a>
</span><span class="lnt" id="hl-10-5"><a class="lnlinks" href="#hl-10-5"> 5</a>
</span><span class="lnt" id="hl-10-6"><a class="lnlinks" href="#hl-10-6"> 6</a>
</span><span class="lnt" id="hl-10-7"><a class="lnlinks" href="#hl-10-7"> 7</a>
</span><span class="lnt" id="hl-10-8"><a class="lnlinks" href="#hl-10-8"> 8</a>
</span><span class="lnt" id="hl-10-9"><a class="lnlinks" href="#hl-10-9"> 9</a>
</span><span class="lnt" id="hl-10-10"><a class="lnlinks" href="#hl-10-10">10</a>
</span><span class="lnt" id="hl-10-11"><a class="lnlinks" href="#hl-10-11">11</a>
</span><span class="lnt" id="hl-10-12"><a class="lnlinks" href="#hl-10-12">12</a>
</span><span class="lnt" id="hl-10-13"><a class="lnlinks" href="#hl-10-13">13</a>
</span><span class="lnt" id="hl-10-14"><a class="lnlinks" href="#hl-10-14">14</a>
</span><span class="lnt" id="hl-10-15"><a class="lnlinks" href="#hl-10-15">15</a>
</span><span class="lnt" id="hl-10-16"><a class="lnlinks" href="#hl-10-16">16</a>
</span><span class="lnt" id="hl-10-17"><a class="lnlinks" href="#hl-10-17">17</a>
</span><span class="lnt" id="hl-10-18"><a class="lnlinks" href="#hl-10-18">18</a>
</span><span class="lnt" id="hl-10-19"><a class="lnlinks" href="#hl-10-19">19</a>
</span><span class="lnt" id="hl-10-20"><a class="lnlinks" href="#hl-10-20">20</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="nf">getView</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">convertView</span><span class="p">,</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 获取每个列表项的视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewHolder</span><span class="w"> </span><span class="n">holder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">convertView</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">convertView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LayoutInflater</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">mContext</span><span class="p">).</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_base</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ViewHolder</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">iv_icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_icon</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取图标视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_name</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取名称视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// 获取描述视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 将视图持有者保存到转换视图当中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">convertView</span><span class="p">.</span><span class="na">setTag</span><span class="p">(</span><span class="n">holder</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ViewHolder</span><span class="p">)</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">getTag</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Planet</span><span class="w"> </span><span class="n">planet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mPlanetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">iv_icon</span><span class="p">.</span><span class="na">setImageResource</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">image</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_name</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_desc</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">planet</span><span class="p">.</span><span class="na">desc</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">convertView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="列表视图listview">列表视图ListView<a hidden class="anchor" aria-hidden="true" href="#列表视图listview">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/ListView.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/ListView.gif" alt="ListView"  />
        </a>
    </div>
</p>
<h3 id="xml-3">XML<a hidden class="anchor" aria-hidden="true" href="#xml-3">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-11-1"><a class="lnlinks" href="#hl-11-1"> 1</a>
</span><span class="lnt" id="hl-11-2"><a class="lnlinks" href="#hl-11-2"> 2</a>
</span><span class="lnt" id="hl-11-3"><a class="lnlinks" href="#hl-11-3"> 3</a>
</span><span class="lnt" id="hl-11-4"><a class="lnlinks" href="#hl-11-4"> 4</a>
</span><span class="lnt" id="hl-11-5"><a class="lnlinks" href="#hl-11-5"> 5</a>
</span><span class="lnt" id="hl-11-6"><a class="lnlinks" href="#hl-11-6"> 6</a>
</span><span class="lnt" id="hl-11-7"><a class="lnlinks" href="#hl-11-7"> 7</a>
</span><span class="lnt" id="hl-11-8"><a class="lnlinks" href="#hl-11-8"> 8</a>
</span><span class="lnt" id="hl-11-9"><a class="lnlinks" href="#hl-11-9"> 9</a>
</span><span class="lnt" id="hl-11-10"><a class="lnlinks" href="#hl-11-10">10</a>
</span><span class="lnt" id="hl-11-11"><a class="lnlinks" href="#hl-11-11">11</a>
</span><span class="lnt" id="hl-11-12"><a class="lnlinks" href="#hl-11-12">12</a>
</span><span class="lnt" id="hl-11-13"><a class="lnlinks" href="#hl-11-13">13</a>
</span><span class="lnt" id="hl-11-14"><a class="lnlinks" href="#hl-11-14">14</a>
</span><span class="lnt" id="hl-11-15"><a class="lnlinks" href="#hl-11-15">15</a>
</span><span class="lnt" id="hl-11-16"><a class="lnlinks" href="#hl-11-16">16</a>
</span><span class="lnt" id="hl-11-17"><a class="lnlinks" href="#hl-11-17">17</a>
</span><span class="lnt" id="hl-11-18"><a class="lnlinks" href="#hl-11-18">18</a>
</span><span class="lnt" id="hl-11-19"><a class="lnlinks" href="#hl-11-19">19</a>
</span><span class="lnt" id="hl-11-20"><a class="lnlinks" href="#hl-11-20">20</a>
</span><span class="lnt" id="hl-11-21"><a class="lnlinks" href="#hl-11-21">21</a>
</span><span class="lnt" id="hl-11-22"><a class="lnlinks" href="#hl-11-22">22</a>
</span><span class="lnt" id="hl-11-23"><a class="lnlinks" href="#hl-11-23">23</a>
</span><span class="lnt" id="hl-11-24"><a class="lnlinks" href="#hl-11-24">24</a>
</span><span class="lnt" id="hl-11-25"><a class="lnlinks" href="#hl-11-25">25</a>
</span><span class="lnt" id="hl-11-26"><a class="lnlinks" href="#hl-11-26">26</a>
</span><span class="lnt" id="hl-11-27"><a class="lnlinks" href="#hl-11-27">27</a>
</span><span class="lnt" id="hl-11-28"><a class="lnlinks" href="#hl-11-28">28</a>
</span><span class="lnt" id="hl-11-29"><a class="lnlinks" href="#hl-11-29">29</a>
</span><span class="lnt" id="hl-11-30"><a class="lnlinks" href="#hl-11-30">30</a>
</span><span class="lnt" id="hl-11-31"><a class="lnlinks" href="#hl-11-31">31</a>
</span><span class="lnt" id="hl-11-32"><a class="lnlinks" href="#hl-11-32">32</a>
</span><span class="lnt" id="hl-11-33"><a class="lnlinks" href="#hl-11-33">33</a>
</span><span class="lnt" id="hl-11-34"><a class="lnlinks" href="#hl-11-34">34</a>
</span><span class="lnt" id="hl-11-35"><a class="lnlinks" href="#hl-11-35">35</a>
</span><span class="lnt" id="hl-11-36"><a class="lnlinks" href="#hl-11-36">36</a>
</span><span class="lnt" id="hl-11-37"><a class="lnlinks" href="#hl-11-37">37</a>
</span><span class="lnt" id="hl-11-38"><a class="lnlinks" href="#hl-11-38">38</a>
</span><span class="lnt" id="hl-11-39"><a class="lnlinks" href="#hl-11-39">39</a>
</span><span class="lnt" id="hl-11-40"><a class="lnlinks" href="#hl-11-40">40</a>
</span><span class="lnt" id="hl-11-41"><a class="lnlinks" href="#hl-11-41">41</a>
</span><span class="lnt" id="hl-11-42"><a class="lnlinks" href="#hl-11-42">42</a>
</span><span class="lnt" id="hl-11-43"><a class="lnlinks" href="#hl-11-43">43</a>
</span><span class="lnt" id="hl-11-44"><a class="lnlinks" href="#hl-11-44">44</a>
</span><span class="lnt" id="hl-11-45"><a class="lnlinks" href="#hl-11-45">45</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.ListViewActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;LinearLayout</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;CheckBox</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/ck_divider&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;40dp&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:gravity=</span><span class="s">&#34;start|center&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:text=</span><span class="s">&#34;显示分割线&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;CheckBox</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/ck_bgc&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;40dp&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:gravity=</span><span class="s">&#34;start|center&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:text=</span><span class="s">&#34;显示按压背景&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/LinearLayout&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;ListView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/lv_planet&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:divider=</span><span class="s">&#34;@null&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:dividerHeight=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:listSelector=</span><span class="s">&#34;@color/transparent&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-3">Java<a hidden class="anchor" aria-hidden="true" href="#java-3">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-12-1"><a class="lnlinks" href="#hl-12-1"> 1</a>
</span><span class="lnt" id="hl-12-2"><a class="lnlinks" href="#hl-12-2"> 2</a>
</span><span class="lnt" id="hl-12-3"><a class="lnlinks" href="#hl-12-3"> 3</a>
</span><span class="lnt" id="hl-12-4"><a class="lnlinks" href="#hl-12-4"> 4</a>
</span><span class="lnt" id="hl-12-5"><a class="lnlinks" href="#hl-12-5"> 5</a>
</span><span class="lnt" id="hl-12-6"><a class="lnlinks" href="#hl-12-6"> 6</a>
</span><span class="lnt" id="hl-12-7"><a class="lnlinks" href="#hl-12-7"> 7</a>
</span><span class="lnt" id="hl-12-8"><a class="lnlinks" href="#hl-12-8"> 8</a>
</span><span class="lnt" id="hl-12-9"><a class="lnlinks" href="#hl-12-9"> 9</a>
</span><span class="lnt" id="hl-12-10"><a class="lnlinks" href="#hl-12-10">10</a>
</span><span class="lnt" id="hl-12-11"><a class="lnlinks" href="#hl-12-11">11</a>
</span><span class="lnt" id="hl-12-12"><a class="lnlinks" href="#hl-12-12">12</a>
</span><span class="lnt" id="hl-12-13"><a class="lnlinks" href="#hl-12-13">13</a>
</span><span class="lnt" id="hl-12-14"><a class="lnlinks" href="#hl-12-14">14</a>
</span><span class="lnt" id="hl-12-15"><a class="lnlinks" href="#hl-12-15">15</a>
</span><span class="lnt" id="hl-12-16"><a class="lnlinks" href="#hl-12-16">16</a>
</span><span class="lnt" id="hl-12-17"><a class="lnlinks" href="#hl-12-17">17</a>
</span><span class="lnt" id="hl-12-18"><a class="lnlinks" href="#hl-12-18">18</a>
</span><span class="lnt" id="hl-12-19"><a class="lnlinks" href="#hl-12-19">19</a>
</span><span class="lnt" id="hl-12-20"><a class="lnlinks" href="#hl-12-20">20</a>
</span><span class="lnt" id="hl-12-21"><a class="lnlinks" href="#hl-12-21">21</a>
</span><span class="lnt" id="hl-12-22"><a class="lnlinks" href="#hl-12-22">22</a>
</span><span class="lnt" id="hl-12-23"><a class="lnlinks" href="#hl-12-23">23</a>
</span><span class="lnt" id="hl-12-24"><a class="lnlinks" href="#hl-12-24">24</a>
</span><span class="lnt" id="hl-12-25"><a class="lnlinks" href="#hl-12-25">25</a>
</span><span class="lnt" id="hl-12-26"><a class="lnlinks" href="#hl-12-26">26</a>
</span><span class="lnt" id="hl-12-27"><a class="lnlinks" href="#hl-12-27">27</a>
</span><span class="lnt" id="hl-12-28"><a class="lnlinks" href="#hl-12-28">28</a>
</span><span class="lnt" id="hl-12-29"><a class="lnlinks" href="#hl-12-29">29</a>
</span><span class="lnt" id="hl-12-30"><a class="lnlinks" href="#hl-12-30">30</a>
</span><span class="lnt" id="hl-12-31"><a class="lnlinks" href="#hl-12-31">31</a>
</span><span class="lnt" id="hl-12-32"><a class="lnlinks" href="#hl-12-32">32</a>
</span><span class="lnt" id="hl-12-33"><a class="lnlinks" href="#hl-12-33">33</a>
</span><span class="lnt" id="hl-12-34"><a class="lnlinks" href="#hl-12-34">34</a>
</span><span class="lnt" id="hl-12-35"><a class="lnlinks" href="#hl-12-35">35</a>
</span><span class="lnt" id="hl-12-36"><a class="lnlinks" href="#hl-12-36">36</a>
</span><span class="lnt" id="hl-12-37"><a class="lnlinks" href="#hl-12-37">37</a>
</span><span class="lnt" id="hl-12-38"><a class="lnlinks" href="#hl-12-38">38</a>
</span><span class="lnt" id="hl-12-39"><a class="lnlinks" href="#hl-12-39">39</a>
</span><span class="lnt" id="hl-12-40"><a class="lnlinks" href="#hl-12-40">40</a>
</span><span class="lnt" id="hl-12-41"><a class="lnlinks" href="#hl-12-41">41</a>
</span><span class="lnt" id="hl-12-42"><a class="lnlinks" href="#hl-12-42">42</a>
</span><span class="lnt" id="hl-12-43"><a class="lnlinks" href="#hl-12-43">43</a>
</span><span class="lnt" id="hl-12-44"><a class="lnlinks" href="#hl-12-44">44</a>
</span><span class="lnt" id="hl-12-45"><a class="lnlinks" href="#hl-12-45">45</a>
</span><span class="lnt" id="hl-12-46"><a class="lnlinks" href="#hl-12-46">46</a>
</span><span class="lnt" id="hl-12-47"><a class="lnlinks" href="#hl-12-47">47</a>
</span><span class="lnt" id="hl-12-48"><a class="lnlinks" href="#hl-12-48">48</a>
</span><span class="lnt" id="hl-12-49"><a class="lnlinks" href="#hl-12-49">49</a>
</span><span class="lnt" id="hl-12-50"><a class="lnlinks" href="#hl-12-50">50</a>
</span><span class="lnt" id="hl-12-51"><a class="lnlinks" href="#hl-12-51">51</a>
</span><span class="lnt" id="hl-12-52"><a class="lnlinks" href="#hl-12-52">52</a>
</span><span class="lnt" id="hl-12-53"><a class="lnlinks" href="#hl-12-53">53</a>
</span><span class="lnt" id="hl-12-54"><a class="lnlinks" href="#hl-12-54">54</a>
</span><span class="lnt" id="hl-12-55"><a class="lnlinks" href="#hl-12-55">55</a>
</span><span class="lnt" id="hl-12-56"><a class="lnlinks" href="#hl-12-56">56</a>
</span><span class="lnt" id="hl-12-57"><a class="lnlinks" href="#hl-12-57">57</a>
</span><span class="lnt" id="hl-12-58"><a class="lnlinks" href="#hl-12-58">58</a>
</span><span class="lnt" id="hl-12-59"><a class="lnlinks" href="#hl-12-59">59</a>
</span><span class="lnt" id="hl-12-60"><a class="lnlinks" href="#hl-12-60">60</a>
</span><span class="lnt" id="hl-12-61"><a class="lnlinks" href="#hl-12-61">61</a>
</span><span class="lnt" id="hl-12-62"><a class="lnlinks" href="#hl-12-62">62</a>
</span><span class="lnt" id="hl-12-63"><a class="lnlinks" href="#hl-12-63">63</a>
</span><span class="lnt" id="hl-12-64"><a class="lnlinks" href="#hl-12-64">64</a>
</span><span class="lnt" id="hl-12-65"><a class="lnlinks" href="#hl-12-65">65</a>
</span><span class="lnt" id="hl-12-66"><a class="lnlinks" href="#hl-12-66">66</a>
</span><span class="lnt" id="hl-12-67"><a class="lnlinks" href="#hl-12-67">67</a>
</span><span class="lnt" id="hl-12-68"><a class="lnlinks" href="#hl-12-68">68</a>
</span><span class="lnt" id="hl-12-69"><a class="lnlinks" href="#hl-12-69">69</a>
</span><span class="lnt" id="hl-12-70"><a class="lnlinks" href="#hl-12-70">70</a>
</span><span class="lnt" id="hl-12-71"><a class="lnlinks" href="#hl-12-71">71</a>
</span><span class="lnt" id="hl-12-72"><a class="lnlinks" href="#hl-12-72">72</a>
</span><span class="lnt" id="hl-12-73"><a class="lnlinks" href="#hl-12-73">73</a>
</span><span class="lnt" id="hl-12-74"><a class="lnlinks" href="#hl-12-74">74</a>
</span><span class="lnt" id="hl-12-75"><a class="lnlinks" href="#hl-12-75">75</a>
</span><span class="lnt" id="hl-12-76"><a class="lnlinks" href="#hl-12-76">76</a>
</span><span class="lnt" id="hl-12-77"><a class="lnlinks" href="#hl-12-77">77</a>
</span><span class="lnt" id="hl-12-78"><a class="lnlinks" href="#hl-12-78">78</a>
</span><span class="lnt" id="hl-12-79"><a class="lnlinks" href="#hl-12-79">79</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ListViewActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemClickListener</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="p">.</span><span class="na">OnClickListener</span><span class="p">,</span><span class="w"> </span><span class="n">CompoundButton</span><span class="p">.</span><span class="na">OnCheckedChangeListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 星球列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Planet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">planetList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 分割线复选框</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">CheckBox</span><span class="w"> </span><span class="n">ck_divider</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 背景色复选框</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">CheckBox</span><span class="w"> </span><span class="n">ck_bgc</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 列表视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ListView</span><span class="w"> </span><span class="n">lv_planet</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_list_view</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 初始化列表视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lv_planet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">lv_planet</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 初始化分割线复选框并设置监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ck_divider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">ck_divider</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ck_divider</span><span class="p">.</span><span class="na">setOnCheckedChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 初始化背景色复选框并设置监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ck_bgc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">ck_bgc</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ck_bgc</span><span class="p">.</span><span class="na">setOnCheckedChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取默认星球列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">planetList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Planet</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建适配器并设置给列表视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PlanetBaseAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PlanetBaseAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">planetList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置列表项点击监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setOnItemClickListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemClick</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 当列表项被点击时，显示对应星球名称的 Toast 消息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;您选择的是&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">planetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">View</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 空实现，暂时没有需要处理的点击事件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCheckedChanged</span><span class="p">(</span><span class="n">CompoundButton</span><span class="w"> </span><span class="n">buttonView</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isChecked</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 当复选框状态改变时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonView</span><span class="p">.</span><span class="na">getId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">ck_divider</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 处理分割线复选框的状态改变</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ck_divider</span><span class="p">.</span><span class="na">isChecked</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// 如果复选框被选中，设置黑色分割线和高度</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Drawable</span><span class="w"> </span><span class="n">black</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getResources</span><span class="p">().</span><span class="na">getDrawable</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">color</span><span class="p">.</span><span class="na">black</span><span class="p">,</span><span class="w"> </span><span class="n">getTheme</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setDivider</span><span class="p">(</span><span class="n">black</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setDividerHeight</span><span class="p">(</span><span class="n">Utils</span><span class="p">.</span><span class="na">dip2px</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">1</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// 如果复选框未选中，移除分割线</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setDivider</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setDividerHeight</span><span class="p">(</span><span class="n">Utils</span><span class="p">.</span><span class="na">dip2px</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonView</span><span class="p">.</span><span class="na">getId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">ck_bgc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 处理背景色复选框的状态改变</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ck_bgc</span><span class="p">.</span><span class="na">isChecked</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// 如果复选框被选中，设置列表项的选择器背景</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setSelector</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">list_selector</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// 如果复选框未选中，设置透明背景</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Drawable</span><span class="w"> </span><span class="n">transparent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getResources</span><span class="p">().</span><span class="na">getDrawable</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">color</span><span class="p">.</span><span class="na">transparent</span><span class="p">,</span><span class="w"> </span><span class="n">getTheme</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lv_planet</span><span class="p">.</span><span class="na">setSelector</span><span class="p">(</span><span class="n">transparent</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="listview注意点">ListView注意点<a hidden class="anchor" aria-hidden="true" href="#listview注意点">#</a></h2>
<p>在ListView中添加按钮并设置监听时， 会导致原来的ListView中<code>onItemClick</code>无效，此时需要在XML文件中设置<code>android:descendantFocusability=&quot;blocksDescendants</code>才能同时生效。</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/ListFocus.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/ListFocus.gif" alt="ListFocus"  />
        </a>
    </div>
</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630191703768.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630191703768.png" alt="image-20240630191703768"  />
        </a>
    </div>
</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-13-1"><a class="lnlinks" href="#hl-13-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    android:descendantFocusability=&#34;blocksDescendants&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="网格视图gridview">网格视图GridView<a hidden class="anchor" aria-hidden="true" href="#网格视图gridview">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/GridView.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/GridView.gif" alt="GridView"  />
        </a>
    </div>
</p>
<h3 id="xml-4">XML<a hidden class="anchor" aria-hidden="true" href="#xml-4">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-14-1"><a class="lnlinks" href="#hl-14-1"> 1</a>
</span><span class="lnt" id="hl-14-2"><a class="lnlinks" href="#hl-14-2"> 2</a>
</span><span class="lnt" id="hl-14-3"><a class="lnlinks" href="#hl-14-3"> 3</a>
</span><span class="lnt" id="hl-14-4"><a class="lnlinks" href="#hl-14-4"> 4</a>
</span><span class="lnt" id="hl-14-5"><a class="lnlinks" href="#hl-14-5"> 5</a>
</span><span class="lnt" id="hl-14-6"><a class="lnlinks" href="#hl-14-6"> 6</a>
</span><span class="lnt" id="hl-14-7"><a class="lnlinks" href="#hl-14-7"> 7</a>
</span><span class="lnt" id="hl-14-8"><a class="lnlinks" href="#hl-14-8"> 8</a>
</span><span class="lnt" id="hl-14-9"><a class="lnlinks" href="#hl-14-9"> 9</a>
</span><span class="lnt" id="hl-14-10"><a class="lnlinks" href="#hl-14-10">10</a>
</span><span class="lnt" id="hl-14-11"><a class="lnlinks" href="#hl-14-11">11</a>
</span><span class="lnt" id="hl-14-12"><a class="lnlinks" href="#hl-14-12">12</a>
</span><span class="lnt" id="hl-14-13"><a class="lnlinks" href="#hl-14-13">13</a>
</span><span class="lnt" id="hl-14-14"><a class="lnlinks" href="#hl-14-14">14</a>
</span><span class="lnt" id="hl-14-15"><a class="lnlinks" href="#hl-14-15">15</a>
</span><span class="lnt" id="hl-14-16"><a class="lnlinks" href="#hl-14-16">16</a>
</span><span class="lnt" id="hl-14-17"><a class="lnlinks" href="#hl-14-17">17</a>
</span><span class="lnt" id="hl-14-18"><a class="lnlinks" href="#hl-14-18">18</a>
</span><span class="lnt" id="hl-14-19"><a class="lnlinks" href="#hl-14-19">19</a>
</span><span class="lnt" id="hl-14-20"><a class="lnlinks" href="#hl-14-20">20</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;GridView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/gv_planet&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:numColumns=</span><span class="s">&#34;2&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:background=</span><span class="s">&#34;@color/pink&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:columnWidth=</span><span class="s">&#34;100dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:verticalSpacing=</span><span class="s">&#34;10dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:stretchMode=</span><span class="s">&#34;none&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-4">Java<a hidden class="anchor" aria-hidden="true" href="#java-4">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-15-1"><a class="lnlinks" href="#hl-15-1"> 1</a>
</span><span class="lnt" id="hl-15-2"><a class="lnlinks" href="#hl-15-2"> 2</a>
</span><span class="lnt" id="hl-15-3"><a class="lnlinks" href="#hl-15-3"> 3</a>
</span><span class="lnt" id="hl-15-4"><a class="lnlinks" href="#hl-15-4"> 4</a>
</span><span class="lnt" id="hl-15-5"><a class="lnlinks" href="#hl-15-5"> 5</a>
</span><span class="lnt" id="hl-15-6"><a class="lnlinks" href="#hl-15-6"> 6</a>
</span><span class="lnt" id="hl-15-7"><a class="lnlinks" href="#hl-15-7"> 7</a>
</span><span class="lnt" id="hl-15-8"><a class="lnlinks" href="#hl-15-8"> 8</a>
</span><span class="lnt" id="hl-15-9"><a class="lnlinks" href="#hl-15-9"> 9</a>
</span><span class="lnt" id="hl-15-10"><a class="lnlinks" href="#hl-15-10">10</a>
</span><span class="lnt" id="hl-15-11"><a class="lnlinks" href="#hl-15-11">11</a>
</span><span class="lnt" id="hl-15-12"><a class="lnlinks" href="#hl-15-12">12</a>
</span><span class="lnt" id="hl-15-13"><a class="lnlinks" href="#hl-15-13">13</a>
</span><span class="lnt" id="hl-15-14"><a class="lnlinks" href="#hl-15-14">14</a>
</span><span class="lnt" id="hl-15-15"><a class="lnlinks" href="#hl-15-15">15</a>
</span><span class="lnt" id="hl-15-16"><a class="lnlinks" href="#hl-15-16">16</a>
</span><span class="lnt" id="hl-15-17"><a class="lnlinks" href="#hl-15-17">17</a>
</span><span class="lnt" id="hl-15-18"><a class="lnlinks" href="#hl-15-18">18</a>
</span><span class="lnt" id="hl-15-19"><a class="lnlinks" href="#hl-15-19">19</a>
</span><span class="lnt" id="hl-15-20"><a class="lnlinks" href="#hl-15-20">20</a>
</span><span class="lnt" id="hl-15-21"><a class="lnlinks" href="#hl-15-21">21</a>
</span><span class="lnt" id="hl-15-22"><a class="lnlinks" href="#hl-15-22">22</a>
</span><span class="lnt" id="hl-15-23"><a class="lnlinks" href="#hl-15-23">23</a>
</span><span class="lnt" id="hl-15-24"><a class="lnlinks" href="#hl-15-24">24</a>
</span><span class="lnt" id="hl-15-25"><a class="lnlinks" href="#hl-15-25">25</a>
</span><span class="lnt" id="hl-15-26"><a class="lnlinks" href="#hl-15-26">26</a>
</span><span class="lnt" id="hl-15-27"><a class="lnlinks" href="#hl-15-27">27</a>
</span><span class="lnt" id="hl-15-28"><a class="lnlinks" href="#hl-15-28">28</a>
</span><span class="lnt" id="hl-15-29"><a class="lnlinks" href="#hl-15-29">29</a>
</span><span class="lnt" id="hl-15-30"><a class="lnlinks" href="#hl-15-30">30</a>
</span><span class="lnt" id="hl-15-31"><a class="lnlinks" href="#hl-15-31">31</a>
</span><span class="lnt" id="hl-15-32"><a class="lnlinks" href="#hl-15-32">32</a>
</span><span class="lnt" id="hl-15-33"><a class="lnlinks" href="#hl-15-33">33</a>
</span><span class="lnt" id="hl-15-34"><a class="lnlinks" href="#hl-15-34">34</a>
</span><span class="lnt" id="hl-15-35"><a class="lnlinks" href="#hl-15-35">35</a>
</span><span class="lnt" id="hl-15-36"><a class="lnlinks" href="#hl-15-36">36</a>
</span><span class="lnt" id="hl-15-37"><a class="lnlinks" href="#hl-15-37">37</a>
</span><span class="lnt" id="hl-15-38"><a class="lnlinks" href="#hl-15-38">38</a>
</span><span class="lnt" id="hl-15-39"><a class="lnlinks" href="#hl-15-39">39</a>
</span><span class="lnt" id="hl-15-40"><a class="lnlinks" href="#hl-15-40">40</a>
</span><span class="lnt" id="hl-15-41"><a class="lnlinks" href="#hl-15-41">41</a>
</span><span class="lnt" id="hl-15-42"><a class="lnlinks" href="#hl-15-42">42</a>
</span><span class="lnt" id="hl-15-43"><a class="lnlinks" href="#hl-15-43">43</a>
</span><span class="lnt" id="hl-15-44"><a class="lnlinks" href="#hl-15-44">44</a>
</span><span class="lnt" id="hl-15-45"><a class="lnlinks" href="#hl-15-45">45</a>
</span><span class="lnt" id="hl-15-46"><a class="lnlinks" href="#hl-15-46">46</a>
</span><span class="lnt" id="hl-15-47"><a class="lnlinks" href="#hl-15-47">47</a>
</span><span class="lnt" id="hl-15-48"><a class="lnlinks" href="#hl-15-48">48</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.AdapterView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.GridView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.PlanetGridAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.Planet</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GridViewActivity 类实现了 AdapterView.OnItemClickListener 接口</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GridViewActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AdapterView</span><span class="p">.</span><span class="na">OnItemClickListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 声明一个 Planet 对象的 List，用于存储行星数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Planet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">planetList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置活动的布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_grid_view</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取 GridView 控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">GridView</span><span class="w"> </span><span class="n">gv_planet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">gv_planet</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取默认的行星列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">planetList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Planet</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建一个适配器，将行星列表传递给适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PlanetGridAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PlanetGridAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">planetList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置 GridView 的适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">gv_planet</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置 GridView 的 item 点击事件监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">gv_planet</span><span class="p">.</span><span class="na">setOnItemClickListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置 GridView 的拉伸模式</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">gv_planet</span><span class="p">.</span><span class="na">setStretchMode</span><span class="p">(</span><span class="n">GridView</span><span class="p">.</span><span class="na">STRETCH_COLUMN_WIDTH</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 当 GridView 的 item 被点击时调用此方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onItemClick</span><span class="p">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 显示一个 Toast，提示用户选择了哪个行星</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;你选择了&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">planetList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="使用gridview重构购物车">使用GridView重构购物车<a hidden class="anchor" aria-hidden="true" href="#使用gridview重构购物车">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630190848784.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630190848784.png" alt="image-20240630190848784"  />
        </a>
    </div>
</p>
<h3 id="xml-5">XML<a hidden class="anchor" aria-hidden="true" href="#xml-5">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-16-1"><a class="lnlinks" href="#hl-16-1"> 1</a>
</span><span class="lnt" id="hl-16-2"><a class="lnlinks" href="#hl-16-2"> 2</a>
</span><span class="lnt" id="hl-16-3"><a class="lnlinks" href="#hl-16-3"> 3</a>
</span><span class="lnt" id="hl-16-4"><a class="lnlinks" href="#hl-16-4"> 4</a>
</span><span class="lnt" id="hl-16-5"><a class="lnlinks" href="#hl-16-5"> 5</a>
</span><span class="lnt" id="hl-16-6"><a class="lnlinks" href="#hl-16-6"> 6</a>
</span><span class="lnt" id="hl-16-7"><a class="lnlinks" href="#hl-16-7"> 7</a>
</span><span class="lnt" id="hl-16-8"><a class="lnlinks" href="#hl-16-8"> 8</a>
</span><span class="lnt" id="hl-16-9"><a class="lnlinks" href="#hl-16-9"> 9</a>
</span><span class="lnt" id="hl-16-10"><a class="lnlinks" href="#hl-16-10">10</a>
</span><span class="lnt" id="hl-16-11"><a class="lnlinks" href="#hl-16-11">11</a>
</span><span class="lnt" id="hl-16-12"><a class="lnlinks" href="#hl-16-12">12</a>
</span><span class="lnt" id="hl-16-13"><a class="lnlinks" href="#hl-16-13">13</a>
</span><span class="lnt" id="hl-16-14"><a class="lnlinks" href="#hl-16-14">14</a>
</span><span class="lnt" id="hl-16-15"><a class="lnlinks" href="#hl-16-15">15</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:background=</span><span class="s">&#34;@color/AntiqueWhite1&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;include</span> <span class="na">layout=</span><span class="s">&#34;@layout/title_shopping&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;GridView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/gv_channel&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:numColumns=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-5">Java<a hidden class="anchor" aria-hidden="true" href="#java-5">#</a></h3>
<h4 id="goodsgridadapterjava">GoodsGridAdapter.java<a hidden class="anchor" aria-hidden="true" href="#goodsgridadapterjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-17-1"><a class="lnlinks" href="#hl-17-1"> 1</a>
</span><span class="lnt" id="hl-17-2"><a class="lnlinks" href="#hl-17-2"> 2</a>
</span><span class="lnt" id="hl-17-3"><a class="lnlinks" href="#hl-17-3"> 3</a>
</span><span class="lnt" id="hl-17-4"><a class="lnlinks" href="#hl-17-4"> 4</a>
</span><span class="lnt" id="hl-17-5"><a class="lnlinks" href="#hl-17-5"> 5</a>
</span><span class="lnt" id="hl-17-6"><a class="lnlinks" href="#hl-17-6"> 6</a>
</span><span class="lnt" id="hl-17-7"><a class="lnlinks" href="#hl-17-7"> 7</a>
</span><span class="lnt" id="hl-17-8"><a class="lnlinks" href="#hl-17-8"> 8</a>
</span><span class="lnt" id="hl-17-9"><a class="lnlinks" href="#hl-17-9"> 9</a>
</span><span class="lnt" id="hl-17-10"><a class="lnlinks" href="#hl-17-10">10</a>
</span><span class="lnt" id="hl-17-11"><a class="lnlinks" href="#hl-17-11">11</a>
</span><span class="lnt" id="hl-17-12"><a class="lnlinks" href="#hl-17-12">12</a>
</span><span class="lnt" id="hl-17-13"><a class="lnlinks" href="#hl-17-13">13</a>
</span><span class="lnt" id="hl-17-14"><a class="lnlinks" href="#hl-17-14">14</a>
</span><span class="lnt" id="hl-17-15"><a class="lnlinks" href="#hl-17-15">15</a>
</span><span class="lnt" id="hl-17-16"><a class="lnlinks" href="#hl-17-16">16</a>
</span><span class="lnt" id="hl-17-17"><a class="lnlinks" href="#hl-17-17">17</a>
</span><span class="lnt" id="hl-17-18"><a class="lnlinks" href="#hl-17-18">18</a>
</span><span class="lnt" id="hl-17-19"><a class="lnlinks" href="#hl-17-19">19</a>
</span><span class="lnt" id="hl-17-20"><a class="lnlinks" href="#hl-17-20">20</a>
</span><span class="lnt" id="hl-17-21"><a class="lnlinks" href="#hl-17-21">21</a>
</span><span class="lnt" id="hl-17-22"><a class="lnlinks" href="#hl-17-22">22</a>
</span><span class="lnt" id="hl-17-23"><a class="lnlinks" href="#hl-17-23">23</a>
</span><span class="lnt" id="hl-17-24"><a class="lnlinks" href="#hl-17-24">24</a>
</span><span class="lnt" id="hl-17-25"><a class="lnlinks" href="#hl-17-25">25</a>
</span><span class="lnt" id="hl-17-26"><a class="lnlinks" href="#hl-17-26">26</a>
</span><span class="lnt" id="hl-17-27"><a class="lnlinks" href="#hl-17-27">27</a>
</span><span class="lnt" id="hl-17-28"><a class="lnlinks" href="#hl-17-28">28</a>
</span><span class="lnt" id="hl-17-29"><a class="lnlinks" href="#hl-17-29">29</a>
</span><span class="lnt" id="hl-17-30"><a class="lnlinks" href="#hl-17-30">30</a>
</span><span class="lnt" id="hl-17-31"><a class="lnlinks" href="#hl-17-31">31</a>
</span><span class="lnt" id="hl-17-32"><a class="lnlinks" href="#hl-17-32">32</a>
</span><span class="lnt" id="hl-17-33"><a class="lnlinks" href="#hl-17-33">33</a>
</span><span class="lnt" id="hl-17-34"><a class="lnlinks" href="#hl-17-34">34</a>
</span><span class="lnt" id="hl-17-35"><a class="lnlinks" href="#hl-17-35">35</a>
</span><span class="lnt" id="hl-17-36"><a class="lnlinks" href="#hl-17-36">36</a>
</span><span class="lnt" id="hl-17-37"><a class="lnlinks" href="#hl-17-37">37</a>
</span><span class="lnt" id="hl-17-38"><a class="lnlinks" href="#hl-17-38">38</a>
</span><span class="lnt" id="hl-17-39"><a class="lnlinks" href="#hl-17-39">39</a>
</span><span class="lnt" id="hl-17-40"><a class="lnlinks" href="#hl-17-40">40</a>
</span><span class="lnt" id="hl-17-41"><a class="lnlinks" href="#hl-17-41">41</a>
</span><span class="lnt" id="hl-17-42"><a class="lnlinks" href="#hl-17-42">42</a>
</span><span class="lnt" id="hl-17-43"><a class="lnlinks" href="#hl-17-43">43</a>
</span><span class="lnt" id="hl-17-44"><a class="lnlinks" href="#hl-17-44">44</a>
</span><span class="lnt" id="hl-17-45"><a class="lnlinks" href="#hl-17-45">45</a>
</span><span class="lnt" id="hl-17-46"><a class="lnlinks" href="#hl-17-46">46</a>
</span><span class="lnt" id="hl-17-47"><a class="lnlinks" href="#hl-17-47">47</a>
</span><span class="lnt" id="hl-17-48"><a class="lnlinks" href="#hl-17-48">48</a>
</span><span class="lnt" id="hl-17-49"><a class="lnlinks" href="#hl-17-49">49</a>
</span><span class="lnt" id="hl-17-50"><a class="lnlinks" href="#hl-17-50">50</a>
</span><span class="lnt" id="hl-17-51"><a class="lnlinks" href="#hl-17-51">51</a>
</span><span class="lnt" id="hl-17-52"><a class="lnlinks" href="#hl-17-52">52</a>
</span><span class="lnt" id="hl-17-53"><a class="lnlinks" href="#hl-17-53">53</a>
</span><span class="lnt" id="hl-17-54"><a class="lnlinks" href="#hl-17-54">54</a>
</span><span class="lnt" id="hl-17-55"><a class="lnlinks" href="#hl-17-55">55</a>
</span><span class="lnt" id="hl-17-56"><a class="lnlinks" href="#hl-17-56">56</a>
</span><span class="lnt" id="hl-17-57"><a class="lnlinks" href="#hl-17-57">57</a>
</span><span class="lnt" id="hl-17-58"><a class="lnlinks" href="#hl-17-58">58</a>
</span><span class="lnt" id="hl-17-59"><a class="lnlinks" href="#hl-17-59">59</a>
</span><span class="lnt" id="hl-17-60"><a class="lnlinks" href="#hl-17-60">60</a>
</span><span class="lnt" id="hl-17-61"><a class="lnlinks" href="#hl-17-61">61</a>
</span><span class="lnt" id="hl-17-62"><a class="lnlinks" href="#hl-17-62">62</a>
</span><span class="lnt" id="hl-17-63"><a class="lnlinks" href="#hl-17-63">63</a>
</span><span class="lnt" id="hl-17-64"><a class="lnlinks" href="#hl-17-64">64</a>
</span><span class="lnt" id="hl-17-65"><a class="lnlinks" href="#hl-17-65">65</a>
</span><span class="lnt" id="hl-17-66"><a class="lnlinks" href="#hl-17-66">66</a>
</span><span class="lnt" id="hl-17-67"><a class="lnlinks" href="#hl-17-67">67</a>
</span><span class="lnt" id="hl-17-68"><a class="lnlinks" href="#hl-17-68">68</a>
</span><span class="lnt" id="hl-17-69"><a class="lnlinks" href="#hl-17-69">69</a>
</span><span class="lnt" id="hl-17-70"><a class="lnlinks" href="#hl-17-70">70</a>
</span><span class="lnt" id="hl-17-71"><a class="lnlinks" href="#hl-17-71">71</a>
</span><span class="lnt" id="hl-17-72"><a class="lnlinks" href="#hl-17-72">72</a>
</span><span class="lnt" id="hl-17-73"><a class="lnlinks" href="#hl-17-73">73</a>
</span><span class="lnt" id="hl-17-74"><a class="lnlinks" href="#hl-17-74">74</a>
</span><span class="lnt" id="hl-17-75"><a class="lnlinks" href="#hl-17-75">75</a>
</span><span class="lnt" id="hl-17-76"><a class="lnlinks" href="#hl-17-76">76</a>
</span><span class="lnt" id="hl-17-77"><a class="lnlinks" href="#hl-17-77">77</a>
</span><span class="lnt" id="hl-17-78"><a class="lnlinks" href="#hl-17-78">78</a>
</span><span class="lnt" id="hl-17-79"><a class="lnlinks" href="#hl-17-79">79</a>
</span><span class="lnt" id="hl-17-80"><a class="lnlinks" href="#hl-17-80">80</a>
</span><span class="lnt" id="hl-17-81"><a class="lnlinks" href="#hl-17-81">81</a>
</span><span class="lnt" id="hl-17-82"><a class="lnlinks" href="#hl-17-82">82</a>
</span><span class="lnt" id="hl-17-83"><a class="lnlinks" href="#hl-17-83">83</a>
</span><span class="lnt" id="hl-17-84"><a class="lnlinks" href="#hl-17-84">84</a>
</span><span class="lnt" id="hl-17-85"><a class="lnlinks" href="#hl-17-85">85</a>
</span><span class="lnt" id="hl-17-86"><a class="lnlinks" href="#hl-17-86">86</a>
</span><span class="lnt" id="hl-17-87"><a class="lnlinks" href="#hl-17-87">87</a>
</span><span class="lnt" id="hl-17-88"><a class="lnlinks" href="#hl-17-88">88</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.content.Context</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.net.Uri</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.LayoutInflater</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.ViewGroup</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.BaseAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.Button</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ImageView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.TextView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.R</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.ShoppingChannelActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GoodsGridAdapter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseAdapter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Context</span><span class="w"> </span><span class="n">mContext</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AddCartListener</span><span class="w"> </span><span class="n">mAddCartListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GoodsGridAdapter</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">mContext</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">,</span><span class="w"> </span><span class="n">AddCartListener</span><span class="w"> </span><span class="n">addCartListener</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mContext</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mGoodsInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mAddCartListener</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addCartListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getItem</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">getItemId</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">position</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="nf">getView</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">convertView</span><span class="p">,</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">GoodsInfo</span><span class="w"> </span><span class="n">goodsInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewHolder</span><span class="w"> </span><span class="n">holder</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">convertView</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ViewHolder</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 将 XML 布局文件扩展为相应的 View 对象的类</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">convertView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LayoutInflater</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">mContext</span><span class="p">).</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">item_goods</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">iv_thumb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_thumb</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_price</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="p">.</span><span class="na">btn_add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">btn_add</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">convertView</span><span class="p">.</span><span class="na">setTag</span><span class="p">(</span><span class="n">holder</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">holder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ViewHolder</span><span class="p">)</span><span class="w"> </span><span class="n">convertView</span><span class="p">.</span><span class="na">getTag</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">GoodsInfo</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mGoodsInfo</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">iv_thumb</span><span class="p">.</span><span class="na">setImageURI</span><span class="p">(</span><span class="n">Uri</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="na">picPath</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_name</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">tv_price</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="na">price</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">holder</span><span class="p">.</span><span class="na">btn_add</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//            ShoppingChannelActivity activity = (ShoppingChannelActivity) mContext;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//            activity.addToCart(info.id, info.name);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">mAddCartListener</span><span class="p">.</span><span class="na">addToCart</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="na">id</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">convertView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ViewHolder</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">ImageView</span><span class="w"> </span><span class="n">iv_thumb</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_price</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">btn_add</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AddCartListener</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addToCart</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">goodsId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">goodsName</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="shoppingchannelactivityjava">ShoppingChannelActivity.java<a hidden class="anchor" aria-hidden="true" href="#shoppingchannelactivityjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-18-1"><a class="lnlinks" href="#hl-18-1"> 1</a>
</span><span class="lnt" id="hl-18-2"><a class="lnlinks" href="#hl-18-2"> 2</a>
</span><span class="lnt" id="hl-18-3"><a class="lnlinks" href="#hl-18-3"> 3</a>
</span><span class="lnt" id="hl-18-4"><a class="lnlinks" href="#hl-18-4"> 4</a>
</span><span class="lnt" id="hl-18-5"><a class="lnlinks" href="#hl-18-5"> 5</a>
</span><span class="lnt" id="hl-18-6"><a class="lnlinks" href="#hl-18-6"> 6</a>
</span><span class="lnt" id="hl-18-7"><a class="lnlinks" href="#hl-18-7"> 7</a>
</span><span class="lnt" id="hl-18-8"><a class="lnlinks" href="#hl-18-8"> 8</a>
</span><span class="lnt" id="hl-18-9"><a class="lnlinks" href="#hl-18-9"> 9</a>
</span><span class="lnt" id="hl-18-10"><a class="lnlinks" href="#hl-18-10">10</a>
</span><span class="lnt" id="hl-18-11"><a class="lnlinks" href="#hl-18-11">11</a>
</span><span class="lnt" id="hl-18-12"><a class="lnlinks" href="#hl-18-12">12</a>
</span><span class="lnt" id="hl-18-13"><a class="lnlinks" href="#hl-18-13">13</a>
</span><span class="lnt" id="hl-18-14"><a class="lnlinks" href="#hl-18-14">14</a>
</span><span class="lnt" id="hl-18-15"><a class="lnlinks" href="#hl-18-15">15</a>
</span><span class="lnt" id="hl-18-16"><a class="lnlinks" href="#hl-18-16">16</a>
</span><span class="lnt" id="hl-18-17"><a class="lnlinks" href="#hl-18-17">17</a>
</span><span class="lnt" id="hl-18-18"><a class="lnlinks" href="#hl-18-18">18</a>
</span><span class="lnt" id="hl-18-19"><a class="lnlinks" href="#hl-18-19">19</a>
</span><span class="lnt" id="hl-18-20"><a class="lnlinks" href="#hl-18-20">20</a>
</span><span class="lnt" id="hl-18-21"><a class="lnlinks" href="#hl-18-21">21</a>
</span><span class="lnt" id="hl-18-22"><a class="lnlinks" href="#hl-18-22">22</a>
</span><span class="lnt" id="hl-18-23"><a class="lnlinks" href="#hl-18-23">23</a>
</span><span class="lnt" id="hl-18-24"><a class="lnlinks" href="#hl-18-24">24</a>
</span><span class="lnt" id="hl-18-25"><a class="lnlinks" href="#hl-18-25">25</a>
</span><span class="lnt" id="hl-18-26"><a class="lnlinks" href="#hl-18-26">26</a>
</span><span class="lnt" id="hl-18-27"><a class="lnlinks" href="#hl-18-27">27</a>
</span><span class="lnt" id="hl-18-28"><a class="lnlinks" href="#hl-18-28">28</a>
</span><span class="lnt" id="hl-18-29"><a class="lnlinks" href="#hl-18-29">29</a>
</span><span class="lnt" id="hl-18-30"><a class="lnlinks" href="#hl-18-30">30</a>
</span><span class="lnt" id="hl-18-31"><a class="lnlinks" href="#hl-18-31">31</a>
</span><span class="lnt" id="hl-18-32"><a class="lnlinks" href="#hl-18-32">32</a>
</span><span class="lnt" id="hl-18-33"><a class="lnlinks" href="#hl-18-33">33</a>
</span><span class="lnt" id="hl-18-34"><a class="lnlinks" href="#hl-18-34">34</a>
</span><span class="lnt" id="hl-18-35"><a class="lnlinks" href="#hl-18-35">35</a>
</span><span class="lnt" id="hl-18-36"><a class="lnlinks" href="#hl-18-36">36</a>
</span><span class="lnt" id="hl-18-37"><a class="lnlinks" href="#hl-18-37">37</a>
</span><span class="lnt" id="hl-18-38"><a class="lnlinks" href="#hl-18-38">38</a>
</span><span class="lnt" id="hl-18-39"><a class="lnlinks" href="#hl-18-39">39</a>
</span><span class="lnt" id="hl-18-40"><a class="lnlinks" href="#hl-18-40">40</a>
</span><span class="lnt" id="hl-18-41"><a class="lnlinks" href="#hl-18-41">41</a>
</span><span class="lnt" id="hl-18-42"><a class="lnlinks" href="#hl-18-42">42</a>
</span><span class="lnt" id="hl-18-43"><a class="lnlinks" href="#hl-18-43">43</a>
</span><span class="lnt" id="hl-18-44"><a class="lnlinks" href="#hl-18-44">44</a>
</span><span class="lnt" id="hl-18-45"><a class="lnlinks" href="#hl-18-45">45</a>
</span><span class="lnt" id="hl-18-46"><a class="lnlinks" href="#hl-18-46">46</a>
</span><span class="lnt" id="hl-18-47"><a class="lnlinks" href="#hl-18-47">47</a>
</span><span class="lnt" id="hl-18-48"><a class="lnlinks" href="#hl-18-48">48</a>
</span><span class="lnt" id="hl-18-49"><a class="lnlinks" href="#hl-18-49">49</a>
</span><span class="lnt" id="hl-18-50"><a class="lnlinks" href="#hl-18-50">50</a>
</span><span class="lnt" id="hl-18-51"><a class="lnlinks" href="#hl-18-51">51</a>
</span><span class="lnt" id="hl-18-52"><a class="lnlinks" href="#hl-18-52">52</a>
</span><span class="lnt" id="hl-18-53"><a class="lnlinks" href="#hl-18-53">53</a>
</span><span class="lnt" id="hl-18-54"><a class="lnlinks" href="#hl-18-54">54</a>
</span><span class="lnt" id="hl-18-55"><a class="lnlinks" href="#hl-18-55">55</a>
</span><span class="lnt" id="hl-18-56"><a class="lnlinks" href="#hl-18-56">56</a>
</span><span class="lnt" id="hl-18-57"><a class="lnlinks" href="#hl-18-57">57</a>
</span><span class="lnt" id="hl-18-58"><a class="lnlinks" href="#hl-18-58">58</a>
</span><span class="lnt" id="hl-18-59"><a class="lnlinks" href="#hl-18-59">59</a>
</span><span class="lnt" id="hl-18-60"><a class="lnlinks" href="#hl-18-60">60</a>
</span><span class="lnt" id="hl-18-61"><a class="lnlinks" href="#hl-18-61">61</a>
</span><span class="lnt" id="hl-18-62"><a class="lnlinks" href="#hl-18-62">62</a>
</span><span class="lnt" id="hl-18-63"><a class="lnlinks" href="#hl-18-63">63</a>
</span><span class="lnt" id="hl-18-64"><a class="lnlinks" href="#hl-18-64">64</a>
</span><span class="lnt" id="hl-18-65"><a class="lnlinks" href="#hl-18-65">65</a>
</span><span class="lnt" id="hl-18-66"><a class="lnlinks" href="#hl-18-66">66</a>
</span><span class="lnt" id="hl-18-67"><a class="lnlinks" href="#hl-18-67">67</a>
</span><span class="lnt" id="hl-18-68"><a class="lnlinks" href="#hl-18-68">68</a>
</span><span class="lnt" id="hl-18-69"><a class="lnlinks" href="#hl-18-69">69</a>
</span><span class="lnt" id="hl-18-70"><a class="lnlinks" href="#hl-18-70">70</a>
</span><span class="lnt" id="hl-18-71"><a class="lnlinks" href="#hl-18-71">71</a>
</span><span class="lnt" id="hl-18-72"><a class="lnlinks" href="#hl-18-72">72</a>
</span><span class="lnt" id="hl-18-73"><a class="lnlinks" href="#hl-18-73">73</a>
</span><span class="lnt" id="hl-18-74"><a class="lnlinks" href="#hl-18-74">74</a>
</span><span class="lnt" id="hl-18-75"><a class="lnlinks" href="#hl-18-75">75</a>
</span><span class="lnt" id="hl-18-76"><a class="lnlinks" href="#hl-18-76">76</a>
</span><span class="lnt" id="hl-18-77"><a class="lnlinks" href="#hl-18-77">77</a>
</span><span class="lnt" id="hl-18-78"><a class="lnlinks" href="#hl-18-78">78</a>
</span><span class="lnt" id="hl-18-79"><a class="lnlinks" href="#hl-18-79">79</a>
</span><span class="lnt" id="hl-18-80"><a class="lnlinks" href="#hl-18-80">80</a>
</span><span class="lnt" id="hl-18-81"><a class="lnlinks" href="#hl-18-81">81</a>
</span><span class="lnt" id="hl-18-82"><a class="lnlinks" href="#hl-18-82">82</a>
</span><span class="lnt" id="hl-18-83"><a class="lnlinks" href="#hl-18-83">83</a>
</span><span class="lnt" id="hl-18-84"><a class="lnlinks" href="#hl-18-84">84</a>
</span><span class="lnt" id="hl-18-85"><a class="lnlinks" href="#hl-18-85">85</a>
</span><span class="lnt" id="hl-18-86"><a class="lnlinks" href="#hl-18-86">86</a>
</span><span class="lnt" id="hl-18-87"><a class="lnlinks" href="#hl-18-87">87</a>
</span><span class="lnt" id="hl-18-88"><a class="lnlinks" href="#hl-18-88">88</a>
</span><span class="lnt" id="hl-18-89"><a class="lnlinks" href="#hl-18-89">89</a>
</span><span class="lnt" id="hl-18-90"><a class="lnlinks" href="#hl-18-90">90</a>
</span><span class="lnt" id="hl-18-91"><a class="lnlinks" href="#hl-18-91">91</a>
</span><span class="lnt" id="hl-18-92"><a class="lnlinks" href="#hl-18-92">92</a>
</span><span class="lnt" id="hl-18-93"><a class="lnlinks" href="#hl-18-93">93</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ShoppingChannelActivity 类实现了 GoodsGridAdapter.AddCartListener 和 View.OnClickListener 接口</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ShoppingChannelActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GoodsGridAdapter</span><span class="p">.</span><span class="na">AddCartListener</span><span class="p">,</span><span class="w"> </span><span class="n">View</span><span class="p">.</span><span class="na">OnClickListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Kennem&#34;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 日志标签</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ShoppingDBHelper</span><span class="w"> </span><span class="n">mDBHelper</span><span class="p">;</span><span class="w"> </span><span class="c1">// 数据库助手对象</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_title</span><span class="p">;</span><span class="w"> </span><span class="c1">// 显示标题的 TextView</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">GridView</span><span class="w"> </span><span class="n">gv_channel</span><span class="p">;</span><span class="w"> </span><span class="c1">// 显示商品的 GridView</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_count</span><span class="p">;</span><span class="w"> </span><span class="c1">// 显示购物车商品数量的 TextView</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置活动的布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_shopping_channel</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 初始化控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_title</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_title</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&#34;手机商城&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_count</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">gv_channel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">gv_channel</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置点击事件监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_back</span><span class="p">).</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_cart</span><span class="p">).</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 初始化数据库助手并打开读写链接</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mDBHelper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ShoppingDBHelper</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">openWriteLink</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">openReadLink</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 显示商品信息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">showGoods</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onResume</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onResume</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 在活动恢复时，显示购物车的总信息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">showCartTotalInfo</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 显示购物车总信息的方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showCartTotalInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">countCartInfo</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">MyApplication</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">goodsCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_count</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">count</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 显示商品信息的方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showGoods</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">queryAllGoods</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">GoodsGridAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GoodsGridAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">gv_channel</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 添加商品到购物车的方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addToCart</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">goodsId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">insertCartInfo</span><span class="p">(</span><span class="n">goodsId</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">MyApplication</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">goodsCount</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">tv_count</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">count</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;已添加一部 &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;到购物车成功！&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDestroy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onDestroy</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 在活动销毁时，关闭数据库链接</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mDBHelper</span><span class="p">.</span><span class="na">closeLink</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 处理点击事件的方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">View</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="na">getId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_back</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 点击返回按钮时，结束当前活动</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">finish</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="na">getId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_cart</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 点击购物车按钮时，启动购物车活动</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Intent</span><span class="w"> </span><span class="n">intent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">ShoppingCartActivity</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">intent</span><span class="p">.</span><span class="na">setFlags</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="na">FLAG_ACTIVITY_SINGLE_TOP</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">startActivity</span><span class="p">(</span><span class="n">intent</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPointerCaptureChanged</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasCapture</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onPointerCaptureChanged</span><span class="p">(</span><span class="n">hasCapture</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="viewpager">ViewPager<a hidden class="anchor" aria-hidden="true" href="#viewpager">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/ViewPager.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/ViewPager.gif" alt="ViewPager"  />
        </a>
    </div>
</p>
<h3 id="xml-6">XML<a hidden class="anchor" aria-hidden="true" href="#xml-6">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-19-1"><a class="lnlinks" href="#hl-19-1"> 1</a>
</span><span class="lnt" id="hl-19-2"><a class="lnlinks" href="#hl-19-2"> 2</a>
</span><span class="lnt" id="hl-19-3"><a class="lnlinks" href="#hl-19-3"> 3</a>
</span><span class="lnt" id="hl-19-4"><a class="lnlinks" href="#hl-19-4"> 4</a>
</span><span class="lnt" id="hl-19-5"><a class="lnlinks" href="#hl-19-5"> 5</a>
</span><span class="lnt" id="hl-19-6"><a class="lnlinks" href="#hl-19-6"> 6</a>
</span><span class="lnt" id="hl-19-7"><a class="lnlinks" href="#hl-19-7"> 7</a>
</span><span class="lnt" id="hl-19-8"><a class="lnlinks" href="#hl-19-8"> 8</a>
</span><span class="lnt" id="hl-19-9"><a class="lnlinks" href="#hl-19-9"> 9</a>
</span><span class="lnt" id="hl-19-10"><a class="lnlinks" href="#hl-19-10">10</a>
</span><span class="lnt" id="hl-19-11"><a class="lnlinks" href="#hl-19-11">11</a>
</span><span class="lnt" id="hl-19-12"><a class="lnlinks" href="#hl-19-12">12</a>
</span><span class="lnt" id="hl-19-13"><a class="lnlinks" href="#hl-19-13">13</a>
</span><span class="lnt" id="hl-19-14"><a class="lnlinks" href="#hl-19-14">14</a>
</span><span class="lnt" id="hl-19-15"><a class="lnlinks" href="#hl-19-15">15</a>
</span><span class="lnt" id="hl-19-16"><a class="lnlinks" href="#hl-19-16">16</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.ViewPageActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;androidx.viewpager.widget.ViewPager</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/vp_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;300dp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-6">Java<a hidden class="anchor" aria-hidden="true" href="#java-6">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-20-1"><a class="lnlinks" href="#hl-20-1"> 1</a>
</span><span class="lnt" id="hl-20-2"><a class="lnlinks" href="#hl-20-2"> 2</a>
</span><span class="lnt" id="hl-20-3"><a class="lnlinks" href="#hl-20-3"> 3</a>
</span><span class="lnt" id="hl-20-4"><a class="lnlinks" href="#hl-20-4"> 4</a>
</span><span class="lnt" id="hl-20-5"><a class="lnlinks" href="#hl-20-5"> 5</a>
</span><span class="lnt" id="hl-20-6"><a class="lnlinks" href="#hl-20-6"> 6</a>
</span><span class="lnt" id="hl-20-7"><a class="lnlinks" href="#hl-20-7"> 7</a>
</span><span class="lnt" id="hl-20-8"><a class="lnlinks" href="#hl-20-8"> 8</a>
</span><span class="lnt" id="hl-20-9"><a class="lnlinks" href="#hl-20-9"> 9</a>
</span><span class="lnt" id="hl-20-10"><a class="lnlinks" href="#hl-20-10">10</a>
</span><span class="lnt" id="hl-20-11"><a class="lnlinks" href="#hl-20-11">11</a>
</span><span class="lnt" id="hl-20-12"><a class="lnlinks" href="#hl-20-12">12</a>
</span><span class="lnt" id="hl-20-13"><a class="lnlinks" href="#hl-20-13">13</a>
</span><span class="lnt" id="hl-20-14"><a class="lnlinks" href="#hl-20-14">14</a>
</span><span class="lnt" id="hl-20-15"><a class="lnlinks" href="#hl-20-15">15</a>
</span><span class="lnt" id="hl-20-16"><a class="lnlinks" href="#hl-20-16">16</a>
</span><span class="lnt" id="hl-20-17"><a class="lnlinks" href="#hl-20-17">17</a>
</span><span class="lnt" id="hl-20-18"><a class="lnlinks" href="#hl-20-18">18</a>
</span><span class="lnt" id="hl-20-19"><a class="lnlinks" href="#hl-20-19">19</a>
</span><span class="lnt" id="hl-20-20"><a class="lnlinks" href="#hl-20-20">20</a>
</span><span class="lnt" id="hl-20-21"><a class="lnlinks" href="#hl-20-21">21</a>
</span><span class="lnt" id="hl-20-22"><a class="lnlinks" href="#hl-20-22">22</a>
</span><span class="lnt" id="hl-20-23"><a class="lnlinks" href="#hl-20-23">23</a>
</span><span class="lnt" id="hl-20-24"><a class="lnlinks" href="#hl-20-24">24</a>
</span><span class="lnt" id="hl-20-25"><a class="lnlinks" href="#hl-20-25">25</a>
</span><span class="lnt" id="hl-20-26"><a class="lnlinks" href="#hl-20-26">26</a>
</span><span class="lnt" id="hl-20-27"><a class="lnlinks" href="#hl-20-27">27</a>
</span><span class="lnt" id="hl-20-28"><a class="lnlinks" href="#hl-20-28">28</a>
</span><span class="lnt" id="hl-20-29"><a class="lnlinks" href="#hl-20-29">29</a>
</span><span class="lnt" id="hl-20-30"><a class="lnlinks" href="#hl-20-30">30</a>
</span><span class="lnt" id="hl-20-31"><a class="lnlinks" href="#hl-20-31">31</a>
</span><span class="lnt" id="hl-20-32"><a class="lnlinks" href="#hl-20-32">32</a>
</span><span class="lnt" id="hl-20-33"><a class="lnlinks" href="#hl-20-33">33</a>
</span><span class="lnt" id="hl-20-34"><a class="lnlinks" href="#hl-20-34">34</a>
</span><span class="lnt" id="hl-20-35"><a class="lnlinks" href="#hl-20-35">35</a>
</span><span class="lnt" id="hl-20-36"><a class="lnlinks" href="#hl-20-36">36</a>
</span><span class="lnt" id="hl-20-37"><a class="lnlinks" href="#hl-20-37">37</a>
</span><span class="lnt" id="hl-20-38"><a class="lnlinks" href="#hl-20-38">38</a>
</span><span class="lnt" id="hl-20-39"><a class="lnlinks" href="#hl-20-39">39</a>
</span><span class="lnt" id="hl-20-40"><a class="lnlinks" href="#hl-20-40">40</a>
</span><span class="lnt" id="hl-20-41"><a class="lnlinks" href="#hl-20-41">41</a>
</span><span class="lnt" id="hl-20-42"><a class="lnlinks" href="#hl-20-42">42</a>
</span><span class="lnt" id="hl-20-43"><a class="lnlinks" href="#hl-20-43">43</a>
</span><span class="lnt" id="hl-20-44"><a class="lnlinks" href="#hl-20-44">44</a>
</span><span class="lnt" id="hl-20-45"><a class="lnlinks" href="#hl-20-45">45</a>
</span><span class="lnt" id="hl-20-46"><a class="lnlinks" href="#hl-20-46">46</a>
</span><span class="lnt" id="hl-20-47"><a class="lnlinks" href="#hl-20-47">47</a>
</span><span class="lnt" id="hl-20-48"><a class="lnlinks" href="#hl-20-48">48</a>
</span><span class="lnt" id="hl-20-49"><a class="lnlinks" href="#hl-20-49">49</a>
</span><span class="lnt" id="hl-20-50"><a class="lnlinks" href="#hl-20-50">50</a>
</span><span class="lnt" id="hl-20-51"><a class="lnlinks" href="#hl-20-51">51</a>
</span><span class="lnt" id="hl-20-52"><a class="lnlinks" href="#hl-20-52">52</a>
</span><span class="lnt" id="hl-20-53"><a class="lnlinks" href="#hl-20-53">53</a>
</span><span class="lnt" id="hl-20-54"><a class="lnlinks" href="#hl-20-54">54</a>
</span><span class="lnt" id="hl-20-55"><a class="lnlinks" href="#hl-20-55">55</a>
</span><span class="lnt" id="hl-20-56"><a class="lnlinks" href="#hl-20-56">56</a>
</span><span class="lnt" id="hl-20-57"><a class="lnlinks" href="#hl-20-57">57</a>
</span><span class="lnt" id="hl-20-58"><a class="lnlinks" href="#hl-20-58">58</a>
</span><span class="lnt" id="hl-20-59"><a class="lnlinks" href="#hl-20-59">59</a>
</span><span class="lnt" id="hl-20-60"><a class="lnlinks" href="#hl-20-60">60</a>
</span><span class="lnt" id="hl-20-61"><a class="lnlinks" href="#hl-20-61">61</a>
</span><span class="lnt" id="hl-20-62"><a class="lnlinks" href="#hl-20-62">62</a>
</span><span class="lnt" id="hl-20-63"><a class="lnlinks" href="#hl-20-63">63</a>
</span><span class="lnt" id="hl-20-64"><a class="lnlinks" href="#hl-20-64">64</a>
</span><span class="lnt" id="hl-20-65"><a class="lnlinks" href="#hl-20-65">65</a>
</span><span class="lnt" id="hl-20-66"><a class="lnlinks" href="#hl-20-66">66</a>
</span><span class="lnt" id="hl-20-67"><a class="lnlinks" href="#hl-20-67">67</a>
</span><span class="lnt" id="hl-20-68"><a class="lnlinks" href="#hl-20-68">68</a>
</span><span class="lnt" id="hl-20-69"><a class="lnlinks" href="#hl-20-69">69</a>
</span><span class="lnt" id="hl-20-70"><a class="lnlinks" href="#hl-20-70">70</a>
</span><span class="lnt" id="hl-20-71"><a class="lnlinks" href="#hl-20-71">71</a>
</span><span class="lnt" id="hl-20-72"><a class="lnlinks" href="#hl-20-72">72</a>
</span><span class="lnt" id="hl-20-73"><a class="lnlinks" href="#hl-20-73">73</a>
</span><span class="lnt" id="hl-20-74"><a class="lnlinks" href="#hl-20-74">74</a>
</span><span class="lnt" id="hl-20-75"><a class="lnlinks" href="#hl-20-75">75</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.activity.EdgeToEdge</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.graphics.Insets</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.ViewCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.WindowInsetsCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.ViewPager</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.ImagePagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ViewPageActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ViewPager</span><span class="p">.</span><span class="na">OnPageChangeListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置当前活动的布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_view_page</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取 ViewPager 控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewPager</span><span class="w"> </span><span class="n">vp_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vp_content</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取默认的商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mGoodsList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GoodsInfo</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建 ImagePagerAdapter 适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ImagePagerAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ImagePagerAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 为 ViewPager 设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置页面变更监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">addOnPageChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 在翻页过程中触发
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param position 当前页面位置
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param positionOffset 页面偏移百分比
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param positionOffsetPixels 页面偏移像素
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrolled</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">positionOffset</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">positionOffsetPixels</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 可以在这里实现页面滚动时的相关逻辑</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 页面选中时触发
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param position 选中页面的位置
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageSelected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 显示当前选中页面的商品名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;当前滑动的页面为 &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 翻页状态改变时触发
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param state 页面状态
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrollStateChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 可以在这里实现页面滚动状态变化时的相关逻辑</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="翻页标签栏pagertabstrip">翻页标签栏PagerTabStrip<a hidden class="anchor" aria-hidden="true" href="#翻页标签栏pagertabstrip">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/PagerTab.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/PagerTab.gif" alt="PagerTab"  />
        </a>
    </div>
</p>
<h3 id="xml-7">XML<a hidden class="anchor" aria-hidden="true" href="#xml-7">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-21-1"><a class="lnlinks" href="#hl-21-1"> 1</a>
</span><span class="lnt" id="hl-21-2"><a class="lnlinks" href="#hl-21-2"> 2</a>
</span><span class="lnt" id="hl-21-3"><a class="lnlinks" href="#hl-21-3"> 3</a>
</span><span class="lnt" id="hl-21-4"><a class="lnlinks" href="#hl-21-4"> 4</a>
</span><span class="lnt" id="hl-21-5"><a class="lnlinks" href="#hl-21-5"> 5</a>
</span><span class="lnt" id="hl-21-6"><a class="lnlinks" href="#hl-21-6"> 6</a>
</span><span class="lnt" id="hl-21-7"><a class="lnlinks" href="#hl-21-7"> 7</a>
</span><span class="lnt" id="hl-21-8"><a class="lnlinks" href="#hl-21-8"> 8</a>
</span><span class="lnt" id="hl-21-9"><a class="lnlinks" href="#hl-21-9"> 9</a>
</span><span class="lnt" id="hl-21-10"><a class="lnlinks" href="#hl-21-10">10</a>
</span><span class="lnt" id="hl-21-11"><a class="lnlinks" href="#hl-21-11">11</a>
</span><span class="lnt" id="hl-21-12"><a class="lnlinks" href="#hl-21-12">12</a>
</span><span class="lnt" id="hl-21-13"><a class="lnlinks" href="#hl-21-13">13</a>
</span><span class="lnt" id="hl-21-14"><a class="lnlinks" href="#hl-21-14">14</a>
</span><span class="lnt" id="hl-21-15"><a class="lnlinks" href="#hl-21-15">15</a>
</span><span class="lnt" id="hl-21-16"><a class="lnlinks" href="#hl-21-16">16</a>
</span><span class="lnt" id="hl-21-17"><a class="lnlinks" href="#hl-21-17">17</a>
</span><span class="lnt" id="hl-21-18"><a class="lnlinks" href="#hl-21-18">18</a>
</span><span class="lnt" id="hl-21-19"><a class="lnlinks" href="#hl-21-19">19</a>
</span><span class="lnt" id="hl-21-20"><a class="lnlinks" href="#hl-21-20">20</a>
</span><span class="lnt" id="hl-21-21"><a class="lnlinks" href="#hl-21-21">21</a>
</span><span class="lnt" id="hl-21-22"><a class="lnlinks" href="#hl-21-22">22</a>
</span><span class="lnt" id="hl-21-23"><a class="lnlinks" href="#hl-21-23">23</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.PagerTabActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;androidx.viewpager.widget.ViewPager</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/vp_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;androidx.viewpager.widget.PagerTabStrip</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/pts_tab&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/androidx.viewpager.widget.ViewPager&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-7">Java<a hidden class="anchor" aria-hidden="true" href="#java-7">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-22-1"><a class="lnlinks" href="#hl-22-1"> 1</a>
</span><span class="lnt" id="hl-22-2"><a class="lnlinks" href="#hl-22-2"> 2</a>
</span><span class="lnt" id="hl-22-3"><a class="lnlinks" href="#hl-22-3"> 3</a>
</span><span class="lnt" id="hl-22-4"><a class="lnlinks" href="#hl-22-4"> 4</a>
</span><span class="lnt" id="hl-22-5"><a class="lnlinks" href="#hl-22-5"> 5</a>
</span><span class="lnt" id="hl-22-6"><a class="lnlinks" href="#hl-22-6"> 6</a>
</span><span class="lnt" id="hl-22-7"><a class="lnlinks" href="#hl-22-7"> 7</a>
</span><span class="lnt" id="hl-22-8"><a class="lnlinks" href="#hl-22-8"> 8</a>
</span><span class="lnt" id="hl-22-9"><a class="lnlinks" href="#hl-22-9"> 9</a>
</span><span class="lnt" id="hl-22-10"><a class="lnlinks" href="#hl-22-10">10</a>
</span><span class="lnt" id="hl-22-11"><a class="lnlinks" href="#hl-22-11">11</a>
</span><span class="lnt" id="hl-22-12"><a class="lnlinks" href="#hl-22-12">12</a>
</span><span class="lnt" id="hl-22-13"><a class="lnlinks" href="#hl-22-13">13</a>
</span><span class="lnt" id="hl-22-14"><a class="lnlinks" href="#hl-22-14">14</a>
</span><span class="lnt" id="hl-22-15"><a class="lnlinks" href="#hl-22-15">15</a>
</span><span class="lnt" id="hl-22-16"><a class="lnlinks" href="#hl-22-16">16</a>
</span><span class="lnt" id="hl-22-17"><a class="lnlinks" href="#hl-22-17">17</a>
</span><span class="lnt" id="hl-22-18"><a class="lnlinks" href="#hl-22-18">18</a>
</span><span class="lnt" id="hl-22-19"><a class="lnlinks" href="#hl-22-19">19</a>
</span><span class="lnt" id="hl-22-20"><a class="lnlinks" href="#hl-22-20">20</a>
</span><span class="lnt" id="hl-22-21"><a class="lnlinks" href="#hl-22-21">21</a>
</span><span class="lnt" id="hl-22-22"><a class="lnlinks" href="#hl-22-22">22</a>
</span><span class="lnt" id="hl-22-23"><a class="lnlinks" href="#hl-22-23">23</a>
</span><span class="lnt" id="hl-22-24"><a class="lnlinks" href="#hl-22-24">24</a>
</span><span class="lnt" id="hl-22-25"><a class="lnlinks" href="#hl-22-25">25</a>
</span><span class="lnt" id="hl-22-26"><a class="lnlinks" href="#hl-22-26">26</a>
</span><span class="lnt" id="hl-22-27"><a class="lnlinks" href="#hl-22-27">27</a>
</span><span class="lnt" id="hl-22-28"><a class="lnlinks" href="#hl-22-28">28</a>
</span><span class="lnt" id="hl-22-29"><a class="lnlinks" href="#hl-22-29">29</a>
</span><span class="lnt" id="hl-22-30"><a class="lnlinks" href="#hl-22-30">30</a>
</span><span class="lnt" id="hl-22-31"><a class="lnlinks" href="#hl-22-31">31</a>
</span><span class="lnt" id="hl-22-32"><a class="lnlinks" href="#hl-22-32">32</a>
</span><span class="lnt" id="hl-22-33"><a class="lnlinks" href="#hl-22-33">33</a>
</span><span class="lnt" id="hl-22-34"><a class="lnlinks" href="#hl-22-34">34</a>
</span><span class="lnt" id="hl-22-35"><a class="lnlinks" href="#hl-22-35">35</a>
</span><span class="lnt" id="hl-22-36"><a class="lnlinks" href="#hl-22-36">36</a>
</span><span class="lnt" id="hl-22-37"><a class="lnlinks" href="#hl-22-37">37</a>
</span><span class="lnt" id="hl-22-38"><a class="lnlinks" href="#hl-22-38">38</a>
</span><span class="lnt" id="hl-22-39"><a class="lnlinks" href="#hl-22-39">39</a>
</span><span class="lnt" id="hl-22-40"><a class="lnlinks" href="#hl-22-40">40</a>
</span><span class="lnt" id="hl-22-41"><a class="lnlinks" href="#hl-22-41">41</a>
</span><span class="lnt" id="hl-22-42"><a class="lnlinks" href="#hl-22-42">42</a>
</span><span class="lnt" id="hl-22-43"><a class="lnlinks" href="#hl-22-43">43</a>
</span><span class="lnt" id="hl-22-44"><a class="lnlinks" href="#hl-22-44">44</a>
</span><span class="lnt" id="hl-22-45"><a class="lnlinks" href="#hl-22-45">45</a>
</span><span class="lnt" id="hl-22-46"><a class="lnlinks" href="#hl-22-46">46</a>
</span><span class="lnt" id="hl-22-47"><a class="lnlinks" href="#hl-22-47">47</a>
</span><span class="lnt" id="hl-22-48"><a class="lnlinks" href="#hl-22-48">48</a>
</span><span class="lnt" id="hl-22-49"><a class="lnlinks" href="#hl-22-49">49</a>
</span><span class="lnt" id="hl-22-50"><a class="lnlinks" href="#hl-22-50">50</a>
</span><span class="lnt" id="hl-22-51"><a class="lnlinks" href="#hl-22-51">51</a>
</span><span class="lnt" id="hl-22-52"><a class="lnlinks" href="#hl-22-52">52</a>
</span><span class="lnt" id="hl-22-53"><a class="lnlinks" href="#hl-22-53">53</a>
</span><span class="lnt" id="hl-22-54"><a class="lnlinks" href="#hl-22-54">54</a>
</span><span class="lnt" id="hl-22-55"><a class="lnlinks" href="#hl-22-55">55</a>
</span><span class="lnt" id="hl-22-56"><a class="lnlinks" href="#hl-22-56">56</a>
</span><span class="lnt" id="hl-22-57"><a class="lnlinks" href="#hl-22-57">57</a>
</span><span class="lnt" id="hl-22-58"><a class="lnlinks" href="#hl-22-58">58</a>
</span><span class="lnt" id="hl-22-59"><a class="lnlinks" href="#hl-22-59">59</a>
</span><span class="lnt" id="hl-22-60"><a class="lnlinks" href="#hl-22-60">60</a>
</span><span class="lnt" id="hl-22-61"><a class="lnlinks" href="#hl-22-61">61</a>
</span><span class="lnt" id="hl-22-62"><a class="lnlinks" href="#hl-22-62">62</a>
</span><span class="lnt" id="hl-22-63"><a class="lnlinks" href="#hl-22-63">63</a>
</span><span class="lnt" id="hl-22-64"><a class="lnlinks" href="#hl-22-64">64</a>
</span><span class="lnt" id="hl-22-65"><a class="lnlinks" href="#hl-22-65">65</a>
</span><span class="lnt" id="hl-22-66"><a class="lnlinks" href="#hl-22-66">66</a>
</span><span class="lnt" id="hl-22-67"><a class="lnlinks" href="#hl-22-67">67</a>
</span><span class="lnt" id="hl-22-68"><a class="lnlinks" href="#hl-22-68">68</a>
</span><span class="lnt" id="hl-22-69"><a class="lnlinks" href="#hl-22-69">69</a>
</span><span class="lnt" id="hl-22-70"><a class="lnlinks" href="#hl-22-70">70</a>
</span><span class="lnt" id="hl-22-71"><a class="lnlinks" href="#hl-22-71">71</a>
</span><span class="lnt" id="hl-22-72"><a class="lnlinks" href="#hl-22-72">72</a>
</span><span class="lnt" id="hl-22-73"><a class="lnlinks" href="#hl-22-73">73</a>
</span><span class="lnt" id="hl-22-74"><a class="lnlinks" href="#hl-22-74">74</a>
</span><span class="lnt" id="hl-22-75"><a class="lnlinks" href="#hl-22-75">75</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.graphics.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.util.TypedValue</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.activity.EdgeToEdge</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.graphics.Insets</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.ViewCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.WindowInsetsCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.PagerTabStrip</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.ViewPager</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.ImagePagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PagerTabActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ViewPager</span><span class="p">.</span><span class="na">OnPageChangeListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_pager_tab</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">initPagerStrip</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">initViewPager</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 初始化翻页标签栏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initPagerStrip</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PagerTabStrip</span><span class="w"> </span><span class="n">pts_tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">pts_tab</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setTextSize</span><span class="p">(</span><span class="n">TypedValue</span><span class="p">.</span><span class="na">COMPLEX_UNIT_SP</span><span class="p">,</span><span class="w"> </span><span class="n">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setTextColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GRAY</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initViewPager</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取 ViewPager 控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewPager</span><span class="w"> </span><span class="n">vp_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vp_content</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取默认的商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mGoodsList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GoodsInfo</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建 ImagePagerAdapter 适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ImagePagerAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ImagePagerAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 为 ViewPager 设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置页面变更监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">addOnPageChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">setCurrentItem</span><span class="p">(</span><span class="n">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrolled</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">positionOffset</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">positionOffsetPixels</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageSelected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;当前滑动的页面为 &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrollStateChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="简单的启动引导页">简单的启动引导页<a hidden class="anchor" aria-hidden="true" href="#简单的启动引导页">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/launch.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/launch.gif" alt="launch"  />
        </a>
    </div>
</p>
<h3 id="xml-8">XML<a hidden class="anchor" aria-hidden="true" href="#xml-8">#</a></h3>
<h4 id="activity_launch_simplexml">activity_launch_simple.xml<a hidden class="anchor" aria-hidden="true" href="#activity_launch_simplexml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-23-1"><a class="lnlinks" href="#hl-23-1"> 1</a>
</span><span class="lnt" id="hl-23-2"><a class="lnlinks" href="#hl-23-2"> 2</a>
</span><span class="lnt" id="hl-23-3"><a class="lnlinks" href="#hl-23-3"> 3</a>
</span><span class="lnt" id="hl-23-4"><a class="lnlinks" href="#hl-23-4"> 4</a>
</span><span class="lnt" id="hl-23-5"><a class="lnlinks" href="#hl-23-5"> 5</a>
</span><span class="lnt" id="hl-23-6"><a class="lnlinks" href="#hl-23-6"> 6</a>
</span><span class="lnt" id="hl-23-7"><a class="lnlinks" href="#hl-23-7"> 7</a>
</span><span class="lnt" id="hl-23-8"><a class="lnlinks" href="#hl-23-8"> 8</a>
</span><span class="lnt" id="hl-23-9"><a class="lnlinks" href="#hl-23-9"> 9</a>
</span><span class="lnt" id="hl-23-10"><a class="lnlinks" href="#hl-23-10">10</a>
</span><span class="lnt" id="hl-23-11"><a class="lnlinks" href="#hl-23-11">11</a>
</span><span class="lnt" id="hl-23-12"><a class="lnlinks" href="#hl-23-12">12</a>
</span><span class="lnt" id="hl-23-13"><a class="lnlinks" href="#hl-23-13">13</a>
</span><span class="lnt" id="hl-23-14"><a class="lnlinks" href="#hl-23-14">14</a>
</span><span class="lnt" id="hl-23-15"><a class="lnlinks" href="#hl-23-15">15</a>
</span><span class="lnt" id="hl-23-16"><a class="lnlinks" href="#hl-23-16">16</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.LaunchSimpleActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;androidx.viewpager.widget.ViewPager</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/vp_launch&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="item_launchxml">item_launch.xml<a hidden class="anchor" aria-hidden="true" href="#item_launchxml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-24-1"><a class="lnlinks" href="#hl-24-1"> 1</a>
</span><span class="lnt" id="hl-24-2"><a class="lnlinks" href="#hl-24-2"> 2</a>
</span><span class="lnt" id="hl-24-3"><a class="lnlinks" href="#hl-24-3"> 3</a>
</span><span class="lnt" id="hl-24-4"><a class="lnlinks" href="#hl-24-4"> 4</a>
</span><span class="lnt" id="hl-24-5"><a class="lnlinks" href="#hl-24-5"> 5</a>
</span><span class="lnt" id="hl-24-6"><a class="lnlinks" href="#hl-24-6"> 6</a>
</span><span class="lnt" id="hl-24-7"><a class="lnlinks" href="#hl-24-7"> 7</a>
</span><span class="lnt" id="hl-24-8"><a class="lnlinks" href="#hl-24-8"> 8</a>
</span><span class="lnt" id="hl-24-9"><a class="lnlinks" href="#hl-24-9"> 9</a>
</span><span class="lnt" id="hl-24-10"><a class="lnlinks" href="#hl-24-10">10</a>
</span><span class="lnt" id="hl-24-11"><a class="lnlinks" href="#hl-24-11">11</a>
</span><span class="lnt" id="hl-24-12"><a class="lnlinks" href="#hl-24-12">12</a>
</span><span class="lnt" id="hl-24-13"><a class="lnlinks" href="#hl-24-13">13</a>
</span><span class="lnt" id="hl-24-14"><a class="lnlinks" href="#hl-24-14">14</a>
</span><span class="lnt" id="hl-24-15"><a class="lnlinks" href="#hl-24-15">15</a>
</span><span class="lnt" id="hl-24-16"><a class="lnlinks" href="#hl-24-16">16</a>
</span><span class="lnt" id="hl-24-17"><a class="lnlinks" href="#hl-24-17">17</a>
</span><span class="lnt" id="hl-24-18"><a class="lnlinks" href="#hl-24-18">18</a>
</span><span class="lnt" id="hl-24-19"><a class="lnlinks" href="#hl-24-19">19</a>
</span><span class="lnt" id="hl-24-20"><a class="lnlinks" href="#hl-24-20">20</a>
</span><span class="lnt" id="hl-24-21"><a class="lnlinks" href="#hl-24-21">21</a>
</span><span class="lnt" id="hl-24-22"><a class="lnlinks" href="#hl-24-22">22</a>
</span><span class="lnt" id="hl-24-23"><a class="lnlinks" href="#hl-24-23">23</a>
</span><span class="lnt" id="hl-24-24"><a class="lnlinks" href="#hl-24-24">24</a>
</span><span class="lnt" id="hl-24-25"><a class="lnlinks" href="#hl-24-25">25</a>
</span><span class="lnt" id="hl-24-26"><a class="lnlinks" href="#hl-24-26">26</a>
</span><span class="lnt" id="hl-24-27"><a class="lnlinks" href="#hl-24-27">27</a>
</span><span class="lnt" id="hl-24-28"><a class="lnlinks" href="#hl-24-28">28</a>
</span><span class="lnt" id="hl-24-29"><a class="lnlinks" href="#hl-24-29">29</a>
</span><span class="lnt" id="hl-24-30"><a class="lnlinks" href="#hl-24-30">30</a>
</span><span class="lnt" id="hl-24-31"><a class="lnlinks" href="#hl-24-31">31</a>
</span><span class="lnt" id="hl-24-32"><a class="lnlinks" href="#hl-24-32">32</a>
</span><span class="lnt" id="hl-24-33"><a class="lnlinks" href="#hl-24-33">33</a>
</span><span class="lnt" id="hl-24-34"><a class="lnlinks" href="#hl-24-34">34</a>
</span><span class="lnt" id="hl-24-35"><a class="lnlinks" href="#hl-24-35">35</a>
</span><span class="lnt" id="hl-24-36"><a class="lnlinks" href="#hl-24-36">36</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;RelativeLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.LaunchSimpleActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;ImageView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/iv_launch&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:scaleType=</span><span class="s">&#34;fitXY&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;RadioGroup</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/rg_indicate&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_alignParentBottom=</span><span class="s">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_centerHorizontal=</span><span class="s">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:paddingBottom=</span><span class="s">&#34;20dp&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Button</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/btn_launch&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_centerInParent=</span><span class="s">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;点击开始美好生活&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textColor=</span><span class="s">&#34;@color/blue&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;22sp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/RelativeLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-8">Java<a hidden class="anchor" aria-hidden="true" href="#java-8">#</a></h3>
<h4 id="launchsimpleactivityjava">LaunchSimpleActivity.java<a hidden class="anchor" aria-hidden="true" href="#launchsimpleactivityjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-25-1"><a class="lnlinks" href="#hl-25-1"> 1</a>
</span><span class="lnt" id="hl-25-2"><a class="lnlinks" href="#hl-25-2"> 2</a>
</span><span class="lnt" id="hl-25-3"><a class="lnlinks" href="#hl-25-3"> 3</a>
</span><span class="lnt" id="hl-25-4"><a class="lnlinks" href="#hl-25-4"> 4</a>
</span><span class="lnt" id="hl-25-5"><a class="lnlinks" href="#hl-25-5"> 5</a>
</span><span class="lnt" id="hl-25-6"><a class="lnlinks" href="#hl-25-6"> 6</a>
</span><span class="lnt" id="hl-25-7"><a class="lnlinks" href="#hl-25-7"> 7</a>
</span><span class="lnt" id="hl-25-8"><a class="lnlinks" href="#hl-25-8"> 8</a>
</span><span class="lnt" id="hl-25-9"><a class="lnlinks" href="#hl-25-9"> 9</a>
</span><span class="lnt" id="hl-25-10"><a class="lnlinks" href="#hl-25-10">10</a>
</span><span class="lnt" id="hl-25-11"><a class="lnlinks" href="#hl-25-11">11</a>
</span><span class="lnt" id="hl-25-12"><a class="lnlinks" href="#hl-25-12">12</a>
</span><span class="lnt" id="hl-25-13"><a class="lnlinks" href="#hl-25-13">13</a>
</span><span class="lnt" id="hl-25-14"><a class="lnlinks" href="#hl-25-14">14</a>
</span><span class="lnt" id="hl-25-15"><a class="lnlinks" href="#hl-25-15">15</a>
</span><span class="lnt" id="hl-25-16"><a class="lnlinks" href="#hl-25-16">16</a>
</span><span class="lnt" id="hl-25-17"><a class="lnlinks" href="#hl-25-17">17</a>
</span><span class="lnt" id="hl-25-18"><a class="lnlinks" href="#hl-25-18">18</a>
</span><span class="lnt" id="hl-25-19"><a class="lnlinks" href="#hl-25-19">19</a>
</span><span class="lnt" id="hl-25-20"><a class="lnlinks" href="#hl-25-20">20</a>
</span><span class="lnt" id="hl-25-21"><a class="lnlinks" href="#hl-25-21">21</a>
</span><span class="lnt" id="hl-25-22"><a class="lnlinks" href="#hl-25-22">22</a>
</span><span class="lnt" id="hl-25-23"><a class="lnlinks" href="#hl-25-23">23</a>
</span><span class="lnt" id="hl-25-24"><a class="lnlinks" href="#hl-25-24">24</a>
</span><span class="lnt" id="hl-25-25"><a class="lnlinks" href="#hl-25-25">25</a>
</span><span class="lnt" id="hl-25-26"><a class="lnlinks" href="#hl-25-26">26</a>
</span><span class="lnt" id="hl-25-27"><a class="lnlinks" href="#hl-25-27">27</a>
</span><span class="lnt" id="hl-25-28"><a class="lnlinks" href="#hl-25-28">28</a>
</span><span class="lnt" id="hl-25-29"><a class="lnlinks" href="#hl-25-29">29</a>
</span><span class="lnt" id="hl-25-30"><a class="lnlinks" href="#hl-25-30">30</a>
</span><span class="lnt" id="hl-25-31"><a class="lnlinks" href="#hl-25-31">31</a>
</span><span class="lnt" id="hl-25-32"><a class="lnlinks" href="#hl-25-32">32</a>
</span><span class="lnt" id="hl-25-33"><a class="lnlinks" href="#hl-25-33">33</a>
</span><span class="lnt" id="hl-25-34"><a class="lnlinks" href="#hl-25-34">34</a>
</span><span class="lnt" id="hl-25-35"><a class="lnlinks" href="#hl-25-35">35</a>
</span><span class="lnt" id="hl-25-36"><a class="lnlinks" href="#hl-25-36">36</a>
</span><span class="lnt" id="hl-25-37"><a class="lnlinks" href="#hl-25-37">37</a>
</span><span class="lnt" id="hl-25-38"><a class="lnlinks" href="#hl-25-38">38</a>
</span><span class="lnt" id="hl-25-39"><a class="lnlinks" href="#hl-25-39">39</a>
</span><span class="lnt" id="hl-25-40"><a class="lnlinks" href="#hl-25-40">40</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.annotation.SuppressLint</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.activity.EdgeToEdge</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.graphics.Insets</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.ViewCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.core.view.WindowInsetsCompat</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.ViewPager</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.LaunchPagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LaunchSimpleActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 定义一个数组，用于存储启动界面的背景图片资源ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">launchImageArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">guide_bg1</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">guide_bg2</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">guide_bg3</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">guide_bg4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 当Activity被创建时调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置布局文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_launch_simple</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 查找布局文件中的ViewPager控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewPager</span><span class="w"> </span><span class="n">vp_launch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vp_launch</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建适配器对象，将图片数组传递进去</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">LaunchPagerAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LaunchPagerAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">launchImageArray</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 为ViewPager设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_launch</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="launchpageradapterjava">LaunchPagerAdapter.java<a hidden class="anchor" aria-hidden="true" href="#launchpageradapterjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-26-1"><a class="lnlinks" href="#hl-26-1"> 1</a>
</span><span class="lnt" id="hl-26-2"><a class="lnlinks" href="#hl-26-2"> 2</a>
</span><span class="lnt" id="hl-26-3"><a class="lnlinks" href="#hl-26-3"> 3</a>
</span><span class="lnt" id="hl-26-4"><a class="lnlinks" href="#hl-26-4"> 4</a>
</span><span class="lnt" id="hl-26-5"><a class="lnlinks" href="#hl-26-5"> 5</a>
</span><span class="lnt" id="hl-26-6"><a class="lnlinks" href="#hl-26-6"> 6</a>
</span><span class="lnt" id="hl-26-7"><a class="lnlinks" href="#hl-26-7"> 7</a>
</span><span class="lnt" id="hl-26-8"><a class="lnlinks" href="#hl-26-8"> 8</a>
</span><span class="lnt" id="hl-26-9"><a class="lnlinks" href="#hl-26-9"> 9</a>
</span><span class="lnt" id="hl-26-10"><a class="lnlinks" href="#hl-26-10">10</a>
</span><span class="lnt" id="hl-26-11"><a class="lnlinks" href="#hl-26-11">11</a>
</span><span class="lnt" id="hl-26-12"><a class="lnlinks" href="#hl-26-12">12</a>
</span><span class="lnt" id="hl-26-13"><a class="lnlinks" href="#hl-26-13">13</a>
</span><span class="lnt" id="hl-26-14"><a class="lnlinks" href="#hl-26-14">14</a>
</span><span class="lnt" id="hl-26-15"><a class="lnlinks" href="#hl-26-15">15</a>
</span><span class="lnt" id="hl-26-16"><a class="lnlinks" href="#hl-26-16">16</a>
</span><span class="lnt" id="hl-26-17"><a class="lnlinks" href="#hl-26-17">17</a>
</span><span class="lnt" id="hl-26-18"><a class="lnlinks" href="#hl-26-18">18</a>
</span><span class="lnt" id="hl-26-19"><a class="lnlinks" href="#hl-26-19">19</a>
</span><span class="lnt" id="hl-26-20"><a class="lnlinks" href="#hl-26-20">20</a>
</span><span class="lnt" id="hl-26-21"><a class="lnlinks" href="#hl-26-21">21</a>
</span><span class="lnt" id="hl-26-22"><a class="lnlinks" href="#hl-26-22">22</a>
</span><span class="lnt" id="hl-26-23"><a class="lnlinks" href="#hl-26-23">23</a>
</span><span class="lnt" id="hl-26-24"><a class="lnlinks" href="#hl-26-24">24</a>
</span><span class="lnt" id="hl-26-25"><a class="lnlinks" href="#hl-26-25">25</a>
</span><span class="lnt" id="hl-26-26"><a class="lnlinks" href="#hl-26-26">26</a>
</span><span class="lnt" id="hl-26-27"><a class="lnlinks" href="#hl-26-27">27</a>
</span><span class="lnt" id="hl-26-28"><a class="lnlinks" href="#hl-26-28">28</a>
</span><span class="lnt" id="hl-26-29"><a class="lnlinks" href="#hl-26-29">29</a>
</span><span class="lnt" id="hl-26-30"><a class="lnlinks" href="#hl-26-30">30</a>
</span><span class="lnt" id="hl-26-31"><a class="lnlinks" href="#hl-26-31">31</a>
</span><span class="lnt" id="hl-26-32"><a class="lnlinks" href="#hl-26-32">32</a>
</span><span class="lnt" id="hl-26-33"><a class="lnlinks" href="#hl-26-33">33</a>
</span><span class="lnt" id="hl-26-34"><a class="lnlinks" href="#hl-26-34">34</a>
</span><span class="lnt" id="hl-26-35"><a class="lnlinks" href="#hl-26-35">35</a>
</span><span class="lnt" id="hl-26-36"><a class="lnlinks" href="#hl-26-36">36</a>
</span><span class="lnt" id="hl-26-37"><a class="lnlinks" href="#hl-26-37">37</a>
</span><span class="lnt" id="hl-26-38"><a class="lnlinks" href="#hl-26-38">38</a>
</span><span class="lnt" id="hl-26-39"><a class="lnlinks" href="#hl-26-39">39</a>
</span><span class="lnt" id="hl-26-40"><a class="lnlinks" href="#hl-26-40">40</a>
</span><span class="lnt" id="hl-26-41"><a class="lnlinks" href="#hl-26-41">41</a>
</span><span class="lnt" id="hl-26-42"><a class="lnlinks" href="#hl-26-42">42</a>
</span><span class="lnt" id="hl-26-43"><a class="lnlinks" href="#hl-26-43">43</a>
</span><span class="lnt" id="hl-26-44"><a class="lnlinks" href="#hl-26-44">44</a>
</span><span class="lnt" id="hl-26-45"><a class="lnlinks" href="#hl-26-45">45</a>
</span><span class="lnt" id="hl-26-46"><a class="lnlinks" href="#hl-26-46">46</a>
</span><span class="lnt" id="hl-26-47"><a class="lnlinks" href="#hl-26-47">47</a>
</span><span class="lnt" id="hl-26-48"><a class="lnlinks" href="#hl-26-48">48</a>
</span><span class="lnt" id="hl-26-49"><a class="lnlinks" href="#hl-26-49">49</a>
</span><span class="lnt" id="hl-26-50"><a class="lnlinks" href="#hl-26-50">50</a>
</span><span class="lnt" id="hl-26-51"><a class="lnlinks" href="#hl-26-51">51</a>
</span><span class="lnt" id="hl-26-52"><a class="lnlinks" href="#hl-26-52">52</a>
</span><span class="lnt" id="hl-26-53"><a class="lnlinks" href="#hl-26-53">53</a>
</span><span class="lnt" id="hl-26-54"><a class="lnlinks" href="#hl-26-54">54</a>
</span><span class="lnt" id="hl-26-55"><a class="lnlinks" href="#hl-26-55">55</a>
</span><span class="lnt" id="hl-26-56"><a class="lnlinks" href="#hl-26-56">56</a>
</span><span class="lnt" id="hl-26-57"><a class="lnlinks" href="#hl-26-57">57</a>
</span><span class="lnt" id="hl-26-58"><a class="lnlinks" href="#hl-26-58">58</a>
</span><span class="lnt" id="hl-26-59"><a class="lnlinks" href="#hl-26-59">59</a>
</span><span class="lnt" id="hl-26-60"><a class="lnlinks" href="#hl-26-60">60</a>
</span><span class="lnt" id="hl-26-61"><a class="lnlinks" href="#hl-26-61">61</a>
</span><span class="lnt" id="hl-26-62"><a class="lnlinks" href="#hl-26-62">62</a>
</span><span class="lnt" id="hl-26-63"><a class="lnlinks" href="#hl-26-63">63</a>
</span><span class="lnt" id="hl-26-64"><a class="lnlinks" href="#hl-26-64">64</a>
</span><span class="lnt" id="hl-26-65"><a class="lnlinks" href="#hl-26-65">65</a>
</span><span class="lnt" id="hl-26-66"><a class="lnlinks" href="#hl-26-66">66</a>
</span><span class="lnt" id="hl-26-67"><a class="lnlinks" href="#hl-26-67">67</a>
</span><span class="lnt" id="hl-26-68"><a class="lnlinks" href="#hl-26-68">68</a>
</span><span class="lnt" id="hl-26-69"><a class="lnlinks" href="#hl-26-69">69</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.content.Context</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.ViewGroup</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ImageView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.NonNull</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.Nullable</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.PagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.ViewPageActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ImagePagerAdapter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">PagerAdapter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Context</span><span class="w"> </span><span class="n">mContext</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ImageView</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mViewList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ImagePagerAdapter</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">goodsInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mGoodsList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">goodsInfos</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">GoodsInfo</span><span class="w"> </span><span class="n">goodsInfo</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">ImageView</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ImageView</span><span class="p">(</span><span class="n">mContext</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">view</span><span class="p">.</span><span class="na">setLayoutParams</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ViewGroup</span><span class="p">.</span><span class="na">LayoutParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">ViewGroup</span><span class="p">.</span><span class="na">LayoutParams</span><span class="p">.</span><span class="na">MATCH_PARENT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">ViewGroup</span><span class="p">.</span><span class="na">LayoutParams</span><span class="p">.</span><span class="na">WRAP_CONTENT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">view</span><span class="p">.</span><span class="na">setImageResource</span><span class="p">(</span><span class="n">goodsInfo</span><span class="p">.</span><span class="na">pic</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">mViewList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">view</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mViewList</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isViewFromObject</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">object</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">object</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 实例化指定位置的页面，并将其添加到容器中</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@NonNull</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">instantiateItem</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ImageView</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mViewList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">container</span><span class="p">.</span><span class="na">addView</span><span class="p">(</span><span class="n">item</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 从容器中销毁指定位置的页面</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroyItem</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">object</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">container</span><span class="p">.</span><span class="na">removeView</span><span class="p">(</span><span class="n">mViewList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Nullable</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CharSequence</span><span class="w"> </span><span class="nf">getPageTitle</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="碎片fragment-">碎片Fragment ⭐⭐⭐⭐⭐<a hidden class="anchor" aria-hidden="true" href="#碎片fragment-">#</a></h2>
<p>传统的Activity并不能很好的处理大屏问题，所以急需一个碎片化的东西能够划区域的展示内容，并且有属于自己的独立可操作空间，所以就出现了Fragment。</p>
<h2 id="staticfragment">StaticFragment<a hidden class="anchor" aria-hidden="true" href="#staticfragment">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240701200338169.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240701200338169.png" alt="image-20240701200338169"  />
        </a>
    </div>
</p>
<h3 id="xml-9">XML<a hidden class="anchor" aria-hidden="true" href="#xml-9">#</a></h3>
<h4 id="activity_fragement_staticxml">activity_fragement_static.xml<a hidden class="anchor" aria-hidden="true" href="#activity_fragement_staticxml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-27-1"><a class="lnlinks" href="#hl-27-1"> 1</a>
</span><span class="lnt" id="hl-27-2"><a class="lnlinks" href="#hl-27-2"> 2</a>
</span><span class="lnt" id="hl-27-3"><a class="lnlinks" href="#hl-27-3"> 3</a>
</span><span class="lnt" id="hl-27-4"><a class="lnlinks" href="#hl-27-4"> 4</a>
</span><span class="lnt" id="hl-27-5"><a class="lnlinks" href="#hl-27-5"> 5</a>
</span><span class="lnt" id="hl-27-6"><a class="lnlinks" href="#hl-27-6"> 6</a>
</span><span class="lnt" id="hl-27-7"><a class="lnlinks" href="#hl-27-7"> 7</a>
</span><span class="lnt" id="hl-27-8"><a class="lnlinks" href="#hl-27-8"> 8</a>
</span><span class="lnt" id="hl-27-9"><a class="lnlinks" href="#hl-27-9"> 9</a>
</span><span class="lnt" id="hl-27-10"><a class="lnlinks" href="#hl-27-10">10</a>
</span><span class="lnt" id="hl-27-11"><a class="lnlinks" href="#hl-27-11">11</a>
</span><span class="lnt" id="hl-27-12"><a class="lnlinks" href="#hl-27-12">12</a>
</span><span class="lnt" id="hl-27-13"><a class="lnlinks" href="#hl-27-13">13</a>
</span><span class="lnt" id="hl-27-14"><a class="lnlinks" href="#hl-27-14">14</a>
</span><span class="lnt" id="hl-27-15"><a class="lnlinks" href="#hl-27-15">15</a>
</span><span class="lnt" id="hl-27-16"><a class="lnlinks" href="#hl-27-16">16</a>
</span><span class="lnt" id="hl-27-17"><a class="lnlinks" href="#hl-27-17">17</a>
</span><span class="lnt" id="hl-27-18"><a class="lnlinks" href="#hl-27-18">18</a>
</span><span class="lnt" id="hl-27-19"><a class="lnlinks" href="#hl-27-19">19</a>
</span><span class="lnt" id="hl-27-20"><a class="lnlinks" href="#hl-27-20">20</a>
</span><span class="lnt" id="hl-27-21"><a class="lnlinks" href="#hl-27-21">21</a>
</span><span class="lnt" id="hl-27-22"><a class="lnlinks" href="#hl-27-22">22</a>
</span><span class="lnt" id="hl-27-23"><a class="lnlinks" href="#hl-27-23">23</a>
</span><span class="lnt" id="hl-27-24"><a class="lnlinks" href="#hl-27-24">24</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:app=</span><span class="s">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.FragmentStaticActivity&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;androidx.fragment.app.FragmentContainerView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/fragment_static&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:name=</span><span class="s">&#34;com.showguan.chapter08.fragment.StaticFragment&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;60dp&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;@dimen/common_font_size&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;每个页面的具体内容：&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="fragment_staticxml">fragment_static.xml<a hidden class="anchor" aria-hidden="true" href="#fragment_staticxml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-28-1"><a class="lnlinks" href="#hl-28-1"> 1</a>
</span><span class="lnt" id="hl-28-2"><a class="lnlinks" href="#hl-28-2"> 2</a>
</span><span class="lnt" id="hl-28-3"><a class="lnlinks" href="#hl-28-3"> 3</a>
</span><span class="lnt" id="hl-28-4"><a class="lnlinks" href="#hl-28-4"> 4</a>
</span><span class="lnt" id="hl-28-5"><a class="lnlinks" href="#hl-28-5"> 5</a>
</span><span class="lnt" id="hl-28-6"><a class="lnlinks" href="#hl-28-6"> 6</a>
</span><span class="lnt" id="hl-28-7"><a class="lnlinks" href="#hl-28-7"> 7</a>
</span><span class="lnt" id="hl-28-8"><a class="lnlinks" href="#hl-28-8"> 8</a>
</span><span class="lnt" id="hl-28-9"><a class="lnlinks" href="#hl-28-9"> 9</a>
</span><span class="lnt" id="hl-28-10"><a class="lnlinks" href="#hl-28-10">10</a>
</span><span class="lnt" id="hl-28-11"><a class="lnlinks" href="#hl-28-11">11</a>
</span><span class="lnt" id="hl-28-12"><a class="lnlinks" href="#hl-28-12">12</a>
</span><span class="lnt" id="hl-28-13"><a class="lnlinks" href="#hl-28-13">13</a>
</span><span class="lnt" id="hl-28-14"><a class="lnlinks" href="#hl-28-14">14</a>
</span><span class="lnt" id="hl-28-15"><a class="lnlinks" href="#hl-28-15">15</a>
</span><span class="lnt" id="hl-28-16"><a class="lnlinks" href="#hl-28-16">16</a>
</span><span class="lnt" id="hl-28-17"><a class="lnlinks" href="#hl-28-17">17</a>
</span><span class="lnt" id="hl-28-18"><a class="lnlinks" href="#hl-28-18">18</a>
</span><span class="lnt" id="hl-28-19"><a class="lnlinks" href="#hl-28-19">19</a>
</span><span class="lnt" id="hl-28-20"><a class="lnlinks" href="#hl-28-20">20</a>
</span><span class="lnt" id="hl-28-21"><a class="lnlinks" href="#hl-28-21">21</a>
</span><span class="lnt" id="hl-28-22"><a class="lnlinks" href="#hl-28-22">22</a>
</span><span class="lnt" id="hl-28-23"><a class="lnlinks" href="#hl-28-23">23</a>
</span><span class="lnt" id="hl-28-24"><a class="lnlinks" href="#hl-28-24">24</a>
</span><span class="lnt" id="hl-28-25"><a class="lnlinks" href="#hl-28-25">25</a>
</span><span class="lnt" id="hl-28-26"><a class="lnlinks" href="#hl-28-26">26</a>
</span><span class="lnt" id="hl-28-27"><a class="lnlinks" href="#hl-28-27">27</a>
</span><span class="lnt" id="hl-28-28"><a class="lnlinks" href="#hl-28-28">28</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:background=</span><span class="s">&#34;@color/pink&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.fragment.StaticFragment&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/tv_adv&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:text=</span><span class="s">&#34;广告图片&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textColor=</span><span class="s">&#34;@color/brown&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;@dimen/common_font_size&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;ImageView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/iv_adv&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;0dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_weight=</span><span class="s">&#34;4&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:scaleType=</span><span class="s">&#34;fitCenter&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:src=</span><span class="s">&#34;@drawable/adv&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-9">Java<a hidden class="anchor" aria-hidden="true" href="#java-9">#</a></h3>
<h4 id="fragmentstaticactivityjava">FragmentStaticActivity.java<a hidden class="anchor" aria-hidden="true" href="#fragmentstaticactivityjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-29-1"><a class="lnlinks" href="#hl-29-1"> 1</a>
</span><span class="lnt" id="hl-29-2"><a class="lnlinks" href="#hl-29-2"> 2</a>
</span><span class="lnt" id="hl-29-3"><a class="lnlinks" href="#hl-29-3"> 3</a>
</span><span class="lnt" id="hl-29-4"><a class="lnlinks" href="#hl-29-4"> 4</a>
</span><span class="lnt" id="hl-29-5"><a class="lnlinks" href="#hl-29-5"> 5</a>
</span><span class="lnt" id="hl-29-6"><a class="lnlinks" href="#hl-29-6"> 6</a>
</span><span class="lnt" id="hl-29-7"><a class="lnlinks" href="#hl-29-7"> 7</a>
</span><span class="lnt" id="hl-29-8"><a class="lnlinks" href="#hl-29-8"> 8</a>
</span><span class="lnt" id="hl-29-9"><a class="lnlinks" href="#hl-29-9"> 9</a>
</span><span class="lnt" id="hl-29-10"><a class="lnlinks" href="#hl-29-10">10</a>
</span><span class="lnt" id="hl-29-11"><a class="lnlinks" href="#hl-29-11">11</a>
</span><span class="lnt" id="hl-29-12"><a class="lnlinks" href="#hl-29-12">12</a>
</span><span class="lnt" id="hl-29-13"><a class="lnlinks" href="#hl-29-13">13</a>
</span><span class="lnt" id="hl-29-14"><a class="lnlinks" href="#hl-29-14">14</a>
</span><span class="lnt" id="hl-29-15"><a class="lnlinks" href="#hl-29-15">15</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.PlanetBaseAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.Planet</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FragmentStaticActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;fragment&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_fragement_static</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="staticfragmentjava">StaticFragment.java<a hidden class="anchor" aria-hidden="true" href="#staticfragmentjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-30-1"><a class="lnlinks" href="#hl-30-1"> 1</a>
</span><span class="lnt" id="hl-30-2"><a class="lnlinks" href="#hl-30-2"> 2</a>
</span><span class="lnt" id="hl-30-3"><a class="lnlinks" href="#hl-30-3"> 3</a>
</span><span class="lnt" id="hl-30-4"><a class="lnlinks" href="#hl-30-4"> 4</a>
</span><span class="lnt" id="hl-30-5"><a class="lnlinks" href="#hl-30-5"> 5</a>
</span><span class="lnt" id="hl-30-6"><a class="lnlinks" href="#hl-30-6"> 6</a>
</span><span class="lnt" id="hl-30-7"><a class="lnlinks" href="#hl-30-7"> 7</a>
</span><span class="lnt" id="hl-30-8"><a class="lnlinks" href="#hl-30-8"> 8</a>
</span><span class="lnt" id="hl-30-9"><a class="lnlinks" href="#hl-30-9"> 9</a>
</span><span class="lnt" id="hl-30-10"><a class="lnlinks" href="#hl-30-10">10</a>
</span><span class="lnt" id="hl-30-11"><a class="lnlinks" href="#hl-30-11">11</a>
</span><span class="lnt" id="hl-30-12"><a class="lnlinks" href="#hl-30-12">12</a>
</span><span class="lnt" id="hl-30-13"><a class="lnlinks" href="#hl-30-13">13</a>
</span><span class="lnt" id="hl-30-14"><a class="lnlinks" href="#hl-30-14">14</a>
</span><span class="lnt" id="hl-30-15"><a class="lnlinks" href="#hl-30-15">15</a>
</span><span class="lnt" id="hl-30-16"><a class="lnlinks" href="#hl-30-16">16</a>
</span><span class="lnt" id="hl-30-17"><a class="lnlinks" href="#hl-30-17">17</a>
</span><span class="lnt" id="hl-30-18"><a class="lnlinks" href="#hl-30-18">18</a>
</span><span class="lnt" id="hl-30-19"><a class="lnlinks" href="#hl-30-19">19</a>
</span><span class="lnt" id="hl-30-20"><a class="lnlinks" href="#hl-30-20">20</a>
</span><span class="lnt" id="hl-30-21"><a class="lnlinks" href="#hl-30-21">21</a>
</span><span class="lnt" id="hl-30-22"><a class="lnlinks" href="#hl-30-22">22</a>
</span><span class="lnt" id="hl-30-23"><a class="lnlinks" href="#hl-30-23">23</a>
</span><span class="lnt" id="hl-30-24"><a class="lnlinks" href="#hl-30-24">24</a>
</span><span class="lnt" id="hl-30-25"><a class="lnlinks" href="#hl-30-25">25</a>
</span><span class="lnt" id="hl-30-26"><a class="lnlinks" href="#hl-30-26">26</a>
</span><span class="lnt" id="hl-30-27"><a class="lnlinks" href="#hl-30-27">27</a>
</span><span class="lnt" id="hl-30-28"><a class="lnlinks" href="#hl-30-28">28</a>
</span><span class="lnt" id="hl-30-29"><a class="lnlinks" href="#hl-30-29">29</a>
</span><span class="lnt" id="hl-30-30"><a class="lnlinks" href="#hl-30-30">30</a>
</span><span class="lnt" id="hl-30-31"><a class="lnlinks" href="#hl-30-31">31</a>
</span><span class="lnt" id="hl-30-32"><a class="lnlinks" href="#hl-30-32">32</a>
</span><span class="lnt" id="hl-30-33"><a class="lnlinks" href="#hl-30-33">33</a>
</span><span class="lnt" id="hl-30-34"><a class="lnlinks" href="#hl-30-34">34</a>
</span><span class="lnt" id="hl-30-35"><a class="lnlinks" href="#hl-30-35">35</a>
</span><span class="lnt" id="hl-30-36"><a class="lnlinks" href="#hl-30-36">36</a>
</span><span class="lnt" id="hl-30-37"><a class="lnlinks" href="#hl-30-37">37</a>
</span><span class="lnt" id="hl-30-38"><a class="lnlinks" href="#hl-30-38">38</a>
</span><span class="lnt" id="hl-30-39"><a class="lnlinks" href="#hl-30-39">39</a>
</span><span class="lnt" id="hl-30-40"><a class="lnlinks" href="#hl-30-40">40</a>
</span><span class="lnt" id="hl-30-41"><a class="lnlinks" href="#hl-30-41">41</a>
</span><span class="lnt" id="hl-30-42"><a class="lnlinks" href="#hl-30-42">42</a>
</span><span class="lnt" id="hl-30-43"><a class="lnlinks" href="#hl-30-43">43</a>
</span><span class="lnt" id="hl-30-44"><a class="lnlinks" href="#hl-30-44">44</a>
</span><span class="lnt" id="hl-30-45"><a class="lnlinks" href="#hl-30-45">45</a>
</span><span class="lnt" id="hl-30-46"><a class="lnlinks" href="#hl-30-46">46</a>
</span><span class="lnt" id="hl-30-47"><a class="lnlinks" href="#hl-30-47">47</a>
</span><span class="lnt" id="hl-30-48"><a class="lnlinks" href="#hl-30-48">48</a>
</span><span class="lnt" id="hl-30-49"><a class="lnlinks" href="#hl-30-49">49</a>
</span><span class="lnt" id="hl-30-50"><a class="lnlinks" href="#hl-30-50">50</a>
</span><span class="lnt" id="hl-30-51"><a class="lnlinks" href="#hl-30-51">51</a>
</span><span class="lnt" id="hl-30-52"><a class="lnlinks" href="#hl-30-52">52</a>
</span><span class="lnt" id="hl-30-53"><a class="lnlinks" href="#hl-30-53">53</a>
</span><span class="lnt" id="hl-30-54"><a class="lnlinks" href="#hl-30-54">54</a>
</span><span class="lnt" id="hl-30-55"><a class="lnlinks" href="#hl-30-55">55</a>
</span><span class="lnt" id="hl-30-56"><a class="lnlinks" href="#hl-30-56">56</a>
</span><span class="lnt" id="hl-30-57"><a class="lnlinks" href="#hl-30-57">57</a>
</span><span class="lnt" id="hl-30-58"><a class="lnlinks" href="#hl-30-58">58</a>
</span><span class="lnt" id="hl-30-59"><a class="lnlinks" href="#hl-30-59">59</a>
</span><span class="lnt" id="hl-30-60"><a class="lnlinks" href="#hl-30-60">60</a>
</span><span class="lnt" id="hl-30-61"><a class="lnlinks" href="#hl-30-61">61</a>
</span><span class="lnt" id="hl-30-62"><a class="lnlinks" href="#hl-30-62">62</a>
</span><span class="lnt" id="hl-30-63"><a class="lnlinks" href="#hl-30-63">63</a>
</span><span class="lnt" id="hl-30-64"><a class="lnlinks" href="#hl-30-64">64</a>
</span><span class="lnt" id="hl-30-65"><a class="lnlinks" href="#hl-30-65">65</a>
</span><span class="lnt" id="hl-30-66"><a class="lnlinks" href="#hl-30-66">66</a>
</span><span class="lnt" id="hl-30-67"><a class="lnlinks" href="#hl-30-67">67</a>
</span><span class="lnt" id="hl-30-68"><a class="lnlinks" href="#hl-30-68">68</a>
</span><span class="lnt" id="hl-30-69"><a class="lnlinks" href="#hl-30-69">69</a>
</span><span class="lnt" id="hl-30-70"><a class="lnlinks" href="#hl-30-70">70</a>
</span><span class="lnt" id="hl-30-71"><a class="lnlinks" href="#hl-30-71">71</a>
</span><span class="lnt" id="hl-30-72"><a class="lnlinks" href="#hl-30-72">72</a>
</span><span class="lnt" id="hl-30-73"><a class="lnlinks" href="#hl-30-73">73</a>
</span><span class="lnt" id="hl-30-74"><a class="lnlinks" href="#hl-30-74">74</a>
</span><span class="lnt" id="hl-30-75"><a class="lnlinks" href="#hl-30-75">75</a>
</span><span class="lnt" id="hl-30-76"><a class="lnlinks" href="#hl-30-76">76</a>
</span><span class="lnt" id="hl-30-77"><a class="lnlinks" href="#hl-30-77">77</a>
</span><span class="lnt" id="hl-30-78"><a class="lnlinks" href="#hl-30-78">78</a>
</span><span class="lnt" id="hl-30-79"><a class="lnlinks" href="#hl-30-79">79</a>
</span><span class="lnt" id="hl-30-80"><a class="lnlinks" href="#hl-30-80">80</a>
</span><span class="lnt" id="hl-30-81"><a class="lnlinks" href="#hl-30-81">81</a>
</span><span class="lnt" id="hl-30-82"><a class="lnlinks" href="#hl-30-82">82</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.content.Context</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.NonNull</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.Nullable</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.fragment.app.Fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.util.Log</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.LayoutInflater</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.ViewGroup</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.R</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StaticFragment</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Fragment</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;fragment&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAttach</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onAttach</span><span class="p">(</span><span class="n">context</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onAttach: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onCreate: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onStart</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onStart</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onStart: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onResume</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onResume</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onResume: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPause</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onPause</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onPause: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onStop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onStop</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onStop: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDestroy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onDestroy</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onDestroy: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDetach</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onDetach</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onDetach: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Nullable</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="nf">onCreateView</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">LayoutInflater</span><span class="w"> </span><span class="n">inflater</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onCreateView: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inflater</span><span class="p">.</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">fragment_static</span><span class="p">,</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onActivityCreated</span><span class="p">(</span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onActivityCreated</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fragment onActivityCreated: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="fragment注册">Fragment注册<a hidden class="anchor" aria-hidden="true" href="#fragment注册">#</a></h2>
<p>静态注册在布局文件中直接指定Fragment，而动态注册直到代码中才动态添加Fragment。</p>
<h2 id="fragment声明周期">Fragment声明周期<a hidden class="anchor" aria-hidden="true" href="#fragment声明周期">#</a></h2>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630223900670.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630223900670.png" alt="image-20240630223900670"  />
        </a>
    </div>
</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630233229233.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240630233229233.png" alt="image-20240630233229233"  />
        </a>
    </div>
</p>
<h2 id="dynamicfragment">DynamicFragment<a hidden class="anchor" aria-hidden="true" href="#dynamicfragment">#</a></h2>
<p>用<code>DynamicFragment</code>重构普通的<code>PagerTabStrip</code></p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/dynamicFragment.gif">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/dynamicFragment.gif" alt="dynamicFragment"  />
        </a>
    </div>
</p>
<h3 id="xml-10">XML<a hidden class="anchor" aria-hidden="true" href="#xml-10">#</a></h3>
<h4 id="activity_fragment_dynamicxml">activity_fragment_dynamic.xml<a hidden class="anchor" aria-hidden="true" href="#activity_fragment_dynamicxml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-31-1"><a class="lnlinks" href="#hl-31-1"> 1</a>
</span><span class="lnt" id="hl-31-2"><a class="lnlinks" href="#hl-31-2"> 2</a>
</span><span class="lnt" id="hl-31-3"><a class="lnlinks" href="#hl-31-3"> 3</a>
</span><span class="lnt" id="hl-31-4"><a class="lnlinks" href="#hl-31-4"> 4</a>
</span><span class="lnt" id="hl-31-5"><a class="lnlinks" href="#hl-31-5"> 5</a>
</span><span class="lnt" id="hl-31-6"><a class="lnlinks" href="#hl-31-6"> 6</a>
</span><span class="lnt" id="hl-31-7"><a class="lnlinks" href="#hl-31-7"> 7</a>
</span><span class="lnt" id="hl-31-8"><a class="lnlinks" href="#hl-31-8"> 8</a>
</span><span class="lnt" id="hl-31-9"><a class="lnlinks" href="#hl-31-9"> 9</a>
</span><span class="lnt" id="hl-31-10"><a class="lnlinks" href="#hl-31-10">10</a>
</span><span class="lnt" id="hl-31-11"><a class="lnlinks" href="#hl-31-11">11</a>
</span><span class="lnt" id="hl-31-12"><a class="lnlinks" href="#hl-31-12">12</a>
</span><span class="lnt" id="hl-31-13"><a class="lnlinks" href="#hl-31-13">13</a>
</span><span class="lnt" id="hl-31-14"><a class="lnlinks" href="#hl-31-14">14</a>
</span><span class="lnt" id="hl-31-15"><a class="lnlinks" href="#hl-31-15">15</a>
</span><span class="lnt" id="hl-31-16"><a class="lnlinks" href="#hl-31-16">16</a>
</span><span class="lnt" id="hl-31-17"><a class="lnlinks" href="#hl-31-17">17</a>
</span><span class="lnt" id="hl-31-18"><a class="lnlinks" href="#hl-31-18">18</a>
</span><span class="lnt" id="hl-31-19"><a class="lnlinks" href="#hl-31-19">19</a>
</span><span class="lnt" id="hl-31-20"><a class="lnlinks" href="#hl-31-20">20</a>
</span><span class="lnt" id="hl-31-21"><a class="lnlinks" href="#hl-31-21">21</a>
</span><span class="lnt" id="hl-31-22"><a class="lnlinks" href="#hl-31-22">22</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:id=</span><span class="s">&#34;@+id/main&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.FragmentDynamicActivity&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;androidx.viewpager.widget.ViewPager</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/vp_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;androidx.viewpager.widget.PagerTabStrip</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:id=</span><span class="s">&#34;@+id/pts_tab&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/androidx.viewpager.widget.ViewPager&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="fragment_dynamicxml">fragment_dynamic.xml<a hidden class="anchor" aria-hidden="true" href="#fragment_dynamicxml">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-32-1"><a class="lnlinks" href="#hl-32-1"> 1</a>
</span><span class="lnt" id="hl-32-2"><a class="lnlinks" href="#hl-32-2"> 2</a>
</span><span class="lnt" id="hl-32-3"><a class="lnlinks" href="#hl-32-3"> 3</a>
</span><span class="lnt" id="hl-32-4"><a class="lnlinks" href="#hl-32-4"> 4</a>
</span><span class="lnt" id="hl-32-5"><a class="lnlinks" href="#hl-32-5"> 5</a>
</span><span class="lnt" id="hl-32-6"><a class="lnlinks" href="#hl-32-6"> 6</a>
</span><span class="lnt" id="hl-32-7"><a class="lnlinks" href="#hl-32-7"> 7</a>
</span><span class="lnt" id="hl-32-8"><a class="lnlinks" href="#hl-32-8"> 8</a>
</span><span class="lnt" id="hl-32-9"><a class="lnlinks" href="#hl-32-9"> 9</a>
</span><span class="lnt" id="hl-32-10"><a class="lnlinks" href="#hl-32-10">10</a>
</span><span class="lnt" id="hl-32-11"><a class="lnlinks" href="#hl-32-11">11</a>
</span><span class="lnt" id="hl-32-12"><a class="lnlinks" href="#hl-32-12">12</a>
</span><span class="lnt" id="hl-32-13"><a class="lnlinks" href="#hl-32-13">13</a>
</span><span class="lnt" id="hl-32-14"><a class="lnlinks" href="#hl-32-14">14</a>
</span><span class="lnt" id="hl-32-15"><a class="lnlinks" href="#hl-32-15">15</a>
</span><span class="lnt" id="hl-32-16"><a class="lnlinks" href="#hl-32-16">16</a>
</span><span class="lnt" id="hl-32-17"><a class="lnlinks" href="#hl-32-17">17</a>
</span><span class="lnt" id="hl-32-18"><a class="lnlinks" href="#hl-32-18">18</a>
</span><span class="lnt" id="hl-32-19"><a class="lnlinks" href="#hl-32-19">19</a>
</span><span class="lnt" id="hl-32-20"><a class="lnlinks" href="#hl-32-20">20</a>
</span><span class="lnt" id="hl-32-21"><a class="lnlinks" href="#hl-32-21">21</a>
</span><span class="lnt" id="hl-32-22"><a class="lnlinks" href="#hl-32-22">22</a>
</span><span class="lnt" id="hl-32-23"><a class="lnlinks" href="#hl-32-23">23</a>
</span><span class="lnt" id="hl-32-24"><a class="lnlinks" href="#hl-32-24">24</a>
</span><span class="lnt" id="hl-32-25"><a class="lnlinks" href="#hl-32-25">25</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">tools:context=</span><span class="s">&#34;.fragment.DynamicFragment&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;ImageView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/iv_pic&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;360dp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:scaleType=</span><span class="s">&#34;fitCenter&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">tools:src=</span><span class="s">&#34;@drawable/adv&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextView</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:id=</span><span class="s">&#34;@+id/tv_desc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:gravity=</span><span class="s">&#34;left&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textColor=</span><span class="s">&#34;@color/black&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">android:textSize=</span><span class="s">&#34;17sp&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">tools:text=</span><span class="s">&#34;Test&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-10">Java<a hidden class="anchor" aria-hidden="true" href="#java-10">#</a></h3>
<h4 id="fragmentdynamicactivityjava">FragmentDynamicActivity.java<a hidden class="anchor" aria-hidden="true" href="#fragmentdynamicactivityjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-33-1"><a class="lnlinks" href="#hl-33-1"> 1</a>
</span><span class="lnt" id="hl-33-2"><a class="lnlinks" href="#hl-33-2"> 2</a>
</span><span class="lnt" id="hl-33-3"><a class="lnlinks" href="#hl-33-3"> 3</a>
</span><span class="lnt" id="hl-33-4"><a class="lnlinks" href="#hl-33-4"> 4</a>
</span><span class="lnt" id="hl-33-5"><a class="lnlinks" href="#hl-33-5"> 5</a>
</span><span class="lnt" id="hl-33-6"><a class="lnlinks" href="#hl-33-6"> 6</a>
</span><span class="lnt" id="hl-33-7"><a class="lnlinks" href="#hl-33-7"> 7</a>
</span><span class="lnt" id="hl-33-8"><a class="lnlinks" href="#hl-33-8"> 8</a>
</span><span class="lnt" id="hl-33-9"><a class="lnlinks" href="#hl-33-9"> 9</a>
</span><span class="lnt" id="hl-33-10"><a class="lnlinks" href="#hl-33-10">10</a>
</span><span class="lnt" id="hl-33-11"><a class="lnlinks" href="#hl-33-11">11</a>
</span><span class="lnt" id="hl-33-12"><a class="lnlinks" href="#hl-33-12">12</a>
</span><span class="lnt" id="hl-33-13"><a class="lnlinks" href="#hl-33-13">13</a>
</span><span class="lnt" id="hl-33-14"><a class="lnlinks" href="#hl-33-14">14</a>
</span><span class="lnt" id="hl-33-15"><a class="lnlinks" href="#hl-33-15">15</a>
</span><span class="lnt" id="hl-33-16"><a class="lnlinks" href="#hl-33-16">16</a>
</span><span class="lnt" id="hl-33-17"><a class="lnlinks" href="#hl-33-17">17</a>
</span><span class="lnt" id="hl-33-18"><a class="lnlinks" href="#hl-33-18">18</a>
</span><span class="lnt" id="hl-33-19"><a class="lnlinks" href="#hl-33-19">19</a>
</span><span class="lnt" id="hl-33-20"><a class="lnlinks" href="#hl-33-20">20</a>
</span><span class="lnt" id="hl-33-21"><a class="lnlinks" href="#hl-33-21">21</a>
</span><span class="lnt" id="hl-33-22"><a class="lnlinks" href="#hl-33-22">22</a>
</span><span class="lnt" id="hl-33-23"><a class="lnlinks" href="#hl-33-23">23</a>
</span><span class="lnt" id="hl-33-24"><a class="lnlinks" href="#hl-33-24">24</a>
</span><span class="lnt" id="hl-33-25"><a class="lnlinks" href="#hl-33-25">25</a>
</span><span class="lnt" id="hl-33-26"><a class="lnlinks" href="#hl-33-26">26</a>
</span><span class="lnt" id="hl-33-27"><a class="lnlinks" href="#hl-33-27">27</a>
</span><span class="lnt" id="hl-33-28"><a class="lnlinks" href="#hl-33-28">28</a>
</span><span class="lnt" id="hl-33-29"><a class="lnlinks" href="#hl-33-29">29</a>
</span><span class="lnt" id="hl-33-30"><a class="lnlinks" href="#hl-33-30">30</a>
</span><span class="lnt" id="hl-33-31"><a class="lnlinks" href="#hl-33-31">31</a>
</span><span class="lnt" id="hl-33-32"><a class="lnlinks" href="#hl-33-32">32</a>
</span><span class="lnt" id="hl-33-33"><a class="lnlinks" href="#hl-33-33">33</a>
</span><span class="lnt" id="hl-33-34"><a class="lnlinks" href="#hl-33-34">34</a>
</span><span class="lnt" id="hl-33-35"><a class="lnlinks" href="#hl-33-35">35</a>
</span><span class="lnt" id="hl-33-36"><a class="lnlinks" href="#hl-33-36">36</a>
</span><span class="lnt" id="hl-33-37"><a class="lnlinks" href="#hl-33-37">37</a>
</span><span class="lnt" id="hl-33-38"><a class="lnlinks" href="#hl-33-38">38</a>
</span><span class="lnt" id="hl-33-39"><a class="lnlinks" href="#hl-33-39">39</a>
</span><span class="lnt" id="hl-33-40"><a class="lnlinks" href="#hl-33-40">40</a>
</span><span class="lnt" id="hl-33-41"><a class="lnlinks" href="#hl-33-41">41</a>
</span><span class="lnt" id="hl-33-42"><a class="lnlinks" href="#hl-33-42">42</a>
</span><span class="lnt" id="hl-33-43"><a class="lnlinks" href="#hl-33-43">43</a>
</span><span class="lnt" id="hl-33-44"><a class="lnlinks" href="#hl-33-44">44</a>
</span><span class="lnt" id="hl-33-45"><a class="lnlinks" href="#hl-33-45">45</a>
</span><span class="lnt" id="hl-33-46"><a class="lnlinks" href="#hl-33-46">46</a>
</span><span class="lnt" id="hl-33-47"><a class="lnlinks" href="#hl-33-47">47</a>
</span><span class="lnt" id="hl-33-48"><a class="lnlinks" href="#hl-33-48">48</a>
</span><span class="lnt" id="hl-33-49"><a class="lnlinks" href="#hl-33-49">49</a>
</span><span class="lnt" id="hl-33-50"><a class="lnlinks" href="#hl-33-50">50</a>
</span><span class="lnt" id="hl-33-51"><a class="lnlinks" href="#hl-33-51">51</a>
</span><span class="lnt" id="hl-33-52"><a class="lnlinks" href="#hl-33-52">52</a>
</span><span class="lnt" id="hl-33-53"><a class="lnlinks" href="#hl-33-53">53</a>
</span><span class="lnt" id="hl-33-54"><a class="lnlinks" href="#hl-33-54">54</a>
</span><span class="lnt" id="hl-33-55"><a class="lnlinks" href="#hl-33-55">55</a>
</span><span class="lnt" id="hl-33-56"><a class="lnlinks" href="#hl-33-56">56</a>
</span><span class="lnt" id="hl-33-57"><a class="lnlinks" href="#hl-33-57">57</a>
</span><span class="lnt" id="hl-33-58"><a class="lnlinks" href="#hl-33-58">58</a>
</span><span class="lnt" id="hl-33-59"><a class="lnlinks" href="#hl-33-59">59</a>
</span><span class="lnt" id="hl-33-60"><a class="lnlinks" href="#hl-33-60">60</a>
</span><span class="lnt" id="hl-33-61"><a class="lnlinks" href="#hl-33-61">61</a>
</span><span class="lnt" id="hl-33-62"><a class="lnlinks" href="#hl-33-62">62</a>
</span><span class="lnt" id="hl-33-63"><a class="lnlinks" href="#hl-33-63">63</a>
</span><span class="lnt" id="hl-33-64"><a class="lnlinks" href="#hl-33-64">64</a>
</span><span class="lnt" id="hl-33-65"><a class="lnlinks" href="#hl-33-65">65</a>
</span><span class="lnt" id="hl-33-66"><a class="lnlinks" href="#hl-33-66">66</a>
</span><span class="lnt" id="hl-33-67"><a class="lnlinks" href="#hl-33-67">67</a>
</span><span class="lnt" id="hl-33-68"><a class="lnlinks" href="#hl-33-68">68</a>
</span><span class="lnt" id="hl-33-69"><a class="lnlinks" href="#hl-33-69">69</a>
</span><span class="lnt" id="hl-33-70"><a class="lnlinks" href="#hl-33-70">70</a>
</span><span class="lnt" id="hl-33-71"><a class="lnlinks" href="#hl-33-71">71</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.graphics.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.util.Log</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.util.TypedValue</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.PagerTabStrip</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.viewpager.widget.ViewPager</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter.MobilePagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.util.ToastUtil</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FragmentDynamicActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ViewPager</span><span class="p">.</span><span class="na">OnPageChangeListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Kennem&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_fragment_dynamic</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">initPagerStrip</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">initViewPager</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 初始化翻页标签栏</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initPagerStrip</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PagerTabStrip</span><span class="w"> </span><span class="n">pts_tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">pts_tab</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setTextSize</span><span class="p">(</span><span class="n">TypedValue</span><span class="p">.</span><span class="na">COMPLEX_UNIT_SP</span><span class="p">,</span><span class="w"> </span><span class="n">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setTextColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GRAY</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setDrawFullUnderline</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">pts_tab</span><span class="p">.</span><span class="na">setTabIndicatorColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initViewPager</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取 ViewPager 控件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ViewPager</span><span class="w"> </span><span class="n">vp_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vp_content</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取默认的商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mGoodsList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GoodsInfo</span><span class="p">.</span><span class="na">getDefaultList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建 MobilePagerAdapter 适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">MobilePagerAdapter</span><span class="w"> </span><span class="n">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MobilePagerAdapter</span><span class="p">(</span><span class="n">getSupportFragmentManager</span><span class="p">(),</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 为 ViewPager 设置适配器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">setAdapter</span><span class="p">(</span><span class="n">adapter</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 设置页面变更监听器</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">addOnPageChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vp_content</span><span class="p">.</span><span class="na">setCurrentItem</span><span class="p">(</span><span class="n">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置当前显示的页</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrolled</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">positionOffset</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">positionOffsetPixels</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 页面滑动时触发</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageSelected</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 页面选中时触发</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ToastUtil</span><span class="p">.</span><span class="na">show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;当前滑动的页面为 &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPageScrollStateChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 页面滑动状态改变时触发</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mobilepageradapterjava">MobilePagerAdapter.java<a hidden class="anchor" aria-hidden="true" href="#mobilepageradapterjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-34-1"><a class="lnlinks" href="#hl-34-1"> 1</a>
</span><span class="lnt" id="hl-34-2"><a class="lnlinks" href="#hl-34-2"> 2</a>
</span><span class="lnt" id="hl-34-3"><a class="lnlinks" href="#hl-34-3"> 3</a>
</span><span class="lnt" id="hl-34-4"><a class="lnlinks" href="#hl-34-4"> 4</a>
</span><span class="lnt" id="hl-34-5"><a class="lnlinks" href="#hl-34-5"> 5</a>
</span><span class="lnt" id="hl-34-6"><a class="lnlinks" href="#hl-34-6"> 6</a>
</span><span class="lnt" id="hl-34-7"><a class="lnlinks" href="#hl-34-7"> 7</a>
</span><span class="lnt" id="hl-34-8"><a class="lnlinks" href="#hl-34-8"> 8</a>
</span><span class="lnt" id="hl-34-9"><a class="lnlinks" href="#hl-34-9"> 9</a>
</span><span class="lnt" id="hl-34-10"><a class="lnlinks" href="#hl-34-10">10</a>
</span><span class="lnt" id="hl-34-11"><a class="lnlinks" href="#hl-34-11">11</a>
</span><span class="lnt" id="hl-34-12"><a class="lnlinks" href="#hl-34-12">12</a>
</span><span class="lnt" id="hl-34-13"><a class="lnlinks" href="#hl-34-13">13</a>
</span><span class="lnt" id="hl-34-14"><a class="lnlinks" href="#hl-34-14">14</a>
</span><span class="lnt" id="hl-34-15"><a class="lnlinks" href="#hl-34-15">15</a>
</span><span class="lnt" id="hl-34-16"><a class="lnlinks" href="#hl-34-16">16</a>
</span><span class="lnt" id="hl-34-17"><a class="lnlinks" href="#hl-34-17">17</a>
</span><span class="lnt" id="hl-34-18"><a class="lnlinks" href="#hl-34-18">18</a>
</span><span class="lnt" id="hl-34-19"><a class="lnlinks" href="#hl-34-19">19</a>
</span><span class="lnt" id="hl-34-20"><a class="lnlinks" href="#hl-34-20">20</a>
</span><span class="lnt" id="hl-34-21"><a class="lnlinks" href="#hl-34-21">21</a>
</span><span class="lnt" id="hl-34-22"><a class="lnlinks" href="#hl-34-22">22</a>
</span><span class="lnt" id="hl-34-23"><a class="lnlinks" href="#hl-34-23">23</a>
</span><span class="lnt" id="hl-34-24"><a class="lnlinks" href="#hl-34-24">24</a>
</span><span class="lnt" id="hl-34-25"><a class="lnlinks" href="#hl-34-25">25</a>
</span><span class="lnt" id="hl-34-26"><a class="lnlinks" href="#hl-34-26">26</a>
</span><span class="lnt" id="hl-34-27"><a class="lnlinks" href="#hl-34-27">27</a>
</span><span class="lnt" id="hl-34-28"><a class="lnlinks" href="#hl-34-28">28</a>
</span><span class="lnt" id="hl-34-29"><a class="lnlinks" href="#hl-34-29">29</a>
</span><span class="lnt" id="hl-34-30"><a class="lnlinks" href="#hl-34-30">30</a>
</span><span class="lnt" id="hl-34-31"><a class="lnlinks" href="#hl-34-31">31</a>
</span><span class="lnt" id="hl-34-32"><a class="lnlinks" href="#hl-34-32">32</a>
</span><span class="lnt" id="hl-34-33"><a class="lnlinks" href="#hl-34-33">33</a>
</span><span class="lnt" id="hl-34-34"><a class="lnlinks" href="#hl-34-34">34</a>
</span><span class="lnt" id="hl-34-35"><a class="lnlinks" href="#hl-34-35">35</a>
</span><span class="lnt" id="hl-34-36"><a class="lnlinks" href="#hl-34-36">36</a>
</span><span class="lnt" id="hl-34-37"><a class="lnlinks" href="#hl-34-37">37</a>
</span><span class="lnt" id="hl-34-38"><a class="lnlinks" href="#hl-34-38">38</a>
</span><span class="lnt" id="hl-34-39"><a class="lnlinks" href="#hl-34-39">39</a>
</span><span class="lnt" id="hl-34-40"><a class="lnlinks" href="#hl-34-40">40</a>
</span><span class="lnt" id="hl-34-41"><a class="lnlinks" href="#hl-34-41">41</a>
</span><span class="lnt" id="hl-34-42"><a class="lnlinks" href="#hl-34-42">42</a>
</span><span class="lnt" id="hl-34-43"><a class="lnlinks" href="#hl-34-43">43</a>
</span><span class="lnt" id="hl-34-44"><a class="lnlinks" href="#hl-34-44">44</a>
</span><span class="lnt" id="hl-34-45"><a class="lnlinks" href="#hl-34-45">45</a>
</span><span class="lnt" id="hl-34-46"><a class="lnlinks" href="#hl-34-46">46</a>
</span><span class="lnt" id="hl-34-47"><a class="lnlinks" href="#hl-34-47">47</a>
</span><span class="lnt" id="hl-34-48"><a class="lnlinks" href="#hl-34-48">48</a>
</span><span class="lnt" id="hl-34-49"><a class="lnlinks" href="#hl-34-49">49</a>
</span><span class="lnt" id="hl-34-50"><a class="lnlinks" href="#hl-34-50">50</a>
</span><span class="lnt" id="hl-34-51"><a class="lnlinks" href="#hl-34-51">51</a>
</span><span class="lnt" id="hl-34-52"><a class="lnlinks" href="#hl-34-52">52</a>
</span><span class="lnt" id="hl-34-53"><a class="lnlinks" href="#hl-34-53">53</a>
</span><span class="lnt" id="hl-34-54"><a class="lnlinks" href="#hl-34-54">54</a>
</span><span class="lnt" id="hl-34-55"><a class="lnlinks" href="#hl-34-55">55</a>
</span><span class="lnt" id="hl-34-56"><a class="lnlinks" href="#hl-34-56">56</a>
</span><span class="lnt" id="hl-34-57"><a class="lnlinks" href="#hl-34-57">57</a>
</span><span class="lnt" id="hl-34-58"><a class="lnlinks" href="#hl-34-58">58</a>
</span><span class="lnt" id="hl-34-59"><a class="lnlinks" href="#hl-34-59">59</a>
</span><span class="lnt" id="hl-34-60"><a class="lnlinks" href="#hl-34-60">60</a>
</span><span class="lnt" id="hl-34-61"><a class="lnlinks" href="#hl-34-61">61</a>
</span><span class="lnt" id="hl-34-62"><a class="lnlinks" href="#hl-34-62">62</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.adapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.NonNull</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.annotation.Nullable</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.fragment.app.Fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.fragment.app.FragmentManager</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.fragment.app.FragmentPagerAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.entity.GoodsInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.fragment.DynamicFragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MobilePagerAdapter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">FragmentPagerAdapter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 商品信息列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 构造函数，初始化适配器
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param fm FragmentManager 用于管理 Fragment 的事务
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param mGoodsList 商品信息列表
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MobilePagerAdapter</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">FragmentManager</span><span class="w"> </span><span class="n">fm</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GoodsInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">fm</span><span class="p">,</span><span class="w"> </span><span class="n">BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mGoodsList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 获取指定位置的 Fragment
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param position 位置索引
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return 对应位置的 Fragment 实例
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@NonNull</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Fragment</span><span class="w"> </span><span class="nf">getItem</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 从列表中获取商品信息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">GoodsInfo</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 创建并返回新的 DynamicFragment 实例</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">DynamicFragment</span><span class="p">.</span><span class="na">newInstance</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="na">pic</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="na">description</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 获取列表中的项目数量
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return 商品信息列表的大小
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 获取页面标题
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param position 位置索引
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return 对应位置的页面标题
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Nullable</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CharSequence</span><span class="w"> </span><span class="nf">getPageTitle</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 返回商品名称作为页面标题</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mGoodsList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">position</span><span class="p">).</span><span class="na">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dynamicfragmentjava">DynamicFragment.java<a hidden class="anchor" aria-hidden="true" href="#dynamicfragmentjava">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-35-1"><a class="lnlinks" href="#hl-35-1"> 1</a>
</span><span class="lnt" id="hl-35-2"><a class="lnlinks" href="#hl-35-2"> 2</a>
</span><span class="lnt" id="hl-35-3"><a class="lnlinks" href="#hl-35-3"> 3</a>
</span><span class="lnt" id="hl-35-4"><a class="lnlinks" href="#hl-35-4"> 4</a>
</span><span class="lnt" id="hl-35-5"><a class="lnlinks" href="#hl-35-5"> 5</a>
</span><span class="lnt" id="hl-35-6"><a class="lnlinks" href="#hl-35-6"> 6</a>
</span><span class="lnt" id="hl-35-7"><a class="lnlinks" href="#hl-35-7"> 7</a>
</span><span class="lnt" id="hl-35-8"><a class="lnlinks" href="#hl-35-8"> 8</a>
</span><span class="lnt" id="hl-35-9"><a class="lnlinks" href="#hl-35-9"> 9</a>
</span><span class="lnt" id="hl-35-10"><a class="lnlinks" href="#hl-35-10">10</a>
</span><span class="lnt" id="hl-35-11"><a class="lnlinks" href="#hl-35-11">11</a>
</span><span class="lnt" id="hl-35-12"><a class="lnlinks" href="#hl-35-12">12</a>
</span><span class="lnt" id="hl-35-13"><a class="lnlinks" href="#hl-35-13">13</a>
</span><span class="lnt" id="hl-35-14"><a class="lnlinks" href="#hl-35-14">14</a>
</span><span class="lnt" id="hl-35-15"><a class="lnlinks" href="#hl-35-15">15</a>
</span><span class="lnt" id="hl-35-16"><a class="lnlinks" href="#hl-35-16">16</a>
</span><span class="lnt" id="hl-35-17"><a class="lnlinks" href="#hl-35-17">17</a>
</span><span class="lnt" id="hl-35-18"><a class="lnlinks" href="#hl-35-18">18</a>
</span><span class="lnt" id="hl-35-19"><a class="lnlinks" href="#hl-35-19">19</a>
</span><span class="lnt" id="hl-35-20"><a class="lnlinks" href="#hl-35-20">20</a>
</span><span class="lnt" id="hl-35-21"><a class="lnlinks" href="#hl-35-21">21</a>
</span><span class="lnt" id="hl-35-22"><a class="lnlinks" href="#hl-35-22">22</a>
</span><span class="lnt" id="hl-35-23"><a class="lnlinks" href="#hl-35-23">23</a>
</span><span class="lnt" id="hl-35-24"><a class="lnlinks" href="#hl-35-24">24</a>
</span><span class="lnt" id="hl-35-25"><a class="lnlinks" href="#hl-35-25">25</a>
</span><span class="lnt" id="hl-35-26"><a class="lnlinks" href="#hl-35-26">26</a>
</span><span class="lnt" id="hl-35-27"><a class="lnlinks" href="#hl-35-27">27</a>
</span><span class="lnt" id="hl-35-28"><a class="lnlinks" href="#hl-35-28">28</a>
</span><span class="lnt" id="hl-35-29"><a class="lnlinks" href="#hl-35-29">29</a>
</span><span class="lnt" id="hl-35-30"><a class="lnlinks" href="#hl-35-30">30</a>
</span><span class="lnt" id="hl-35-31"><a class="lnlinks" href="#hl-35-31">31</a>
</span><span class="lnt" id="hl-35-32"><a class="lnlinks" href="#hl-35-32">32</a>
</span><span class="lnt" id="hl-35-33"><a class="lnlinks" href="#hl-35-33">33</a>
</span><span class="lnt" id="hl-35-34"><a class="lnlinks" href="#hl-35-34">34</a>
</span><span class="lnt" id="hl-35-35"><a class="lnlinks" href="#hl-35-35">35</a>
</span><span class="lnt" id="hl-35-36"><a class="lnlinks" href="#hl-35-36">36</a>
</span><span class="lnt" id="hl-35-37"><a class="lnlinks" href="#hl-35-37">37</a>
</span><span class="lnt" id="hl-35-38"><a class="lnlinks" href="#hl-35-38">38</a>
</span><span class="lnt" id="hl-35-39"><a class="lnlinks" href="#hl-35-39">39</a>
</span><span class="lnt" id="hl-35-40"><a class="lnlinks" href="#hl-35-40">40</a>
</span><span class="lnt" id="hl-35-41"><a class="lnlinks" href="#hl-35-41">41</a>
</span><span class="lnt" id="hl-35-42"><a class="lnlinks" href="#hl-35-42">42</a>
</span><span class="lnt" id="hl-35-43"><a class="lnlinks" href="#hl-35-43">43</a>
</span><span class="lnt" id="hl-35-44"><a class="lnlinks" href="#hl-35-44">44</a>
</span><span class="lnt" id="hl-35-45"><a class="lnlinks" href="#hl-35-45">45</a>
</span><span class="lnt" id="hl-35-46"><a class="lnlinks" href="#hl-35-46">46</a>
</span><span class="lnt" id="hl-35-47"><a class="lnlinks" href="#hl-35-47">47</a>
</span><span class="lnt" id="hl-35-48"><a class="lnlinks" href="#hl-35-48">48</a>
</span><span class="lnt" id="hl-35-49"><a class="lnlinks" href="#hl-35-49">49</a>
</span><span class="lnt" id="hl-35-50"><a class="lnlinks" href="#hl-35-50">50</a>
</span><span class="lnt" id="hl-35-51"><a class="lnlinks" href="#hl-35-51">51</a>
</span><span class="lnt" id="hl-35-52"><a class="lnlinks" href="#hl-35-52">52</a>
</span><span class="lnt" id="hl-35-53"><a class="lnlinks" href="#hl-35-53">53</a>
</span><span class="lnt" id="hl-35-54"><a class="lnlinks" href="#hl-35-54">54</a>
</span><span class="lnt" id="hl-35-55"><a class="lnlinks" href="#hl-35-55">55</a>
</span><span class="lnt" id="hl-35-56"><a class="lnlinks" href="#hl-35-56">56</a>
</span><span class="lnt" id="hl-35-57"><a class="lnlinks" href="#hl-35-57">57</a>
</span><span class="lnt" id="hl-35-58"><a class="lnlinks" href="#hl-35-58">58</a>
</span><span class="lnt" id="hl-35-59"><a class="lnlinks" href="#hl-35-59">59</a>
</span><span class="lnt" id="hl-35-60"><a class="lnlinks" href="#hl-35-60">60</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.showguan.chapter08.fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">androidx.fragment.app.Fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.LayoutInflater</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.View</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.view.ViewGroup</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.ImageView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">android.widget.TextView</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.showguan.chapter08.R</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DynamicFragment</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Fragment</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 静态工厂方法，用于创建新的 DynamicFragment 实例并传递参数
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param position 位置索引
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param pic_id 图片资源 ID
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param desc 描述文本
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return 新的 DynamicFragment 实例
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DynamicFragment</span><span class="w"> </span><span class="nf">newInstance</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pic_id</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">desc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">DynamicFragment</span><span class="w"> </span><span class="n">fragment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DynamicFragment</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 参数打包</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Bundle</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Bundle</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">args</span><span class="p">.</span><span class="na">putInt</span><span class="p">(</span><span class="s">&#34;position&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">args</span><span class="p">.</span><span class="na">putInt</span><span class="p">(</span><span class="s">&#34;image_id&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">pic_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">args</span><span class="p">.</span><span class="na">putString</span><span class="p">(</span><span class="s">&#34;desc&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">desc</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">fragment</span><span class="p">.</span><span class="na">setArguments</span><span class="p">(</span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fragment</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * 创建并返回该 fragment 的视图层次结构
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param inflater 用于实例化布局 XML 文件的布局填充器对象
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param container 父级视图，null 表示没有父级视图
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param savedInstanceState 用于保存的状态
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return 返回 fragment 的根视图
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="nf">onCreateView</span><span class="p">(</span><span class="n">LayoutInflater</span><span class="w"> </span><span class="n">inflater</span><span class="p">,</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                             </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 使用给定的布局文件实例化视图</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inflater</span><span class="p">.</span><span class="na">inflate</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">fragment_dynamic</span><span class="p">,</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 获取传递的参数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Bundle</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getArguments</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">arguments</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 获取并设置 ImageView 和 TextView 的内容</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">ImageView</span><span class="w"> </span><span class="n">iv_pic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">iv_pic</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">TextView</span><span class="w"> </span><span class="n">tv_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">tv_desc</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">iv_pic</span><span class="p">.</span><span class="na">setImageResource</span><span class="p">(</span><span class="n">arguments</span><span class="p">.</span><span class="na">getInt</span><span class="p">(</span><span class="s">&#34;image_id&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">diqiu</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">tv_desc</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">arguments</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="s">&#34;desc&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">view</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/android/">Android</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">Android学习笔记</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/tech/android6/">
    <span class="title">« 上一页</span>
    <br>
    <span>Android（6）</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E8%AF%BE%E7%A8%8B%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE%E5%9F%BA%E4%BA%8E%E5%A4%9A%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8%E7%9A%84%E5%9B%BE%E5%83%8F%E5%8E%BB%E5%99%AA%E7%AE%97%E6%B3%95%E6%AF%94%E8%BE%83%E4%B8%8E%E5%88%86%E6%9E%90/">
    <span class="title">下一页 »</span>
    <br>
    <span>《数字图像处理》课程综合项目(Matlab)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
<footer class="footer">
    <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        Visitors: <span id="busuanzi_value_page_uv"></span>
        Views: <span id="busuanzi_value_page_pv"></span>

        
    </span>
</footer>



</body>

</html>
