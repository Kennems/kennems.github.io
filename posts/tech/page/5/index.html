<!DOCTYPE html>
<html lang="zh" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>ğŸ’»æŠ€æœ¯ | Kennem&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="ğŸ’»æŠ€æœ¯ - Kennem&#39;s Blog">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fb554ce462a8cf4bfbab3304ed6ddda4f3012ffbf48cafa446cf54deb19876a7.css" integrity="sha256-&#43;1VM5GKoz0v7qzME7W3dpPMBL/v0jK&#43;kRs9U3rGYdqc=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://kennems.github.io/posts/tech/index.xml" title="rss">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>



<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<meta property="og:url" content="https://kennems.github.io/posts/tech/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="ğŸ’»æŠ€æœ¯">
  <meta property="og:description" content="è®°å½•å€¼å¾—è®°å½•çš„ä¸€åˆ‡">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ğŸ’»æŠ€æœ¯">
<meta name="twitter:description" content="è®°å½•å€¼å¾—è®°å½•çš„ä¸€åˆ‡">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“šæ–‡ç« ",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ’»æŠ€æœ¯",
      "item": "https://kennems.github.io/posts/tech/"
    }
  ]
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="ğŸ—‚ï¸åˆ†ç±»">
                    <span>ğŸ—‚ï¸åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://kennems.github.io/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://kennems.github.io/posts/">ğŸ“šæ–‡ç« </a></div>
  <h1>
    ğŸ’»æŠ€æœ¯
  </h1>
</header>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>LeetCodeå‘¨èµ›416(250922)
      </h2>
    </header>
    <div class="entry-content">
      <p>å‘¨èµ›250922 å°å·ç¬¬ä¸€æ¬¡AKï¼Œ é¢˜æ¯”è¾ƒç®€å•ã€‚
3295. ä¸¾æŠ¥åƒåœ¾ä¿¡æ¯ é¢˜ç›®å¤§æ„ ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„ message å’Œ bannedWordsï¼Œä½ éœ€è¦åˆ¤æ–­ message æ˜¯å¦å±äºâ€œåƒåœ¾ä¿¡æ¯â€ã€‚å¦‚æœ message ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªå•è¯å‡ºç°åœ¨ bannedWords ä¸­ï¼Œåˆ™è¯¥æ•°ç»„è¢«è§†ä¸ºåƒåœ¾ä¿¡æ¯ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-24 15:37:01 +0800 CST'>2024-09-24</span>&nbsp;Â·&nbsp;<span>4 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>1553 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-24&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to LeetCodeå‘¨èµ›416(250922)" href="https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(11)- Thread switching
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(11)- Thread switching Topic: more â€œunder the hoodâ€ with xv6 Previously: system calls, interrupts, page tables, locks Today: process/thread switching
Why support multiple tasks? Time-sharing: many users and/or many running programs. program structure: prime number sieve. parallel speedup on multi-core hardware.
Threads are an abstraction to simplify programming when there are many tasks. thread = an independent serial execution â€“ registers, pc, stack the threading system interleaves the execution of multiple threads
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-21 19:30:13 +0800 CST'>2024-09-21</span>&nbsp;Â·&nbsp;<span>7 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>3091 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-21&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(11)- Thread switching" href="https://kennems.github.io/posts/tech/mit6.s08111--thread-switching/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(10)-Locking
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(10)-Locking Why talk about locking? apps want to use multi-core processors for parallel speed-up so kernel must deal with parallel system calls and thus parallel access to kernel data (buffer cache, processes, &amp;c) locks help with correct sharing of data locks can limit parallel speedup
What goes wrong if we donâ€™t have locks Case study: delete acquire/release in kalloc.c Boot kernel works! Run usertests all tests pass! except we lose some pages Why do we lose pages? picture of shared-memory multiprocessor race between two cores calling kfree() BUMMER: we need locks for correctness but loose performance (kfree is serialized)
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-19 19:30:13 +0800 CST'>2024-09-19</span>&nbsp;Â·&nbsp;<span>3 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>1303 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-19&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(10)-Locking" href="https://kennems.github.io/posts/tech/mit6.s08110-locks/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(9)-Interrupts
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(9)-Interrupts 6.S081 2020 Lecture 9: Interrupts
Interrupts hardware wants attention now! e.g., pkt arrived, clock interrupt software must set aside current work and respond on RISC-V use same trap mechanism as for syscalls and exceptions new issues/complications: asynchronous interrupts running process interrupt handler may not run in context of process who caused interrupt concurrency devices and process run in parallel programming devices device can be difficult to program
Where do device interrupts come from? diagram: Fig 1 of SiFive board in FU540-C000-v1.0.pdf CPUs, CLINT, PLIC, devices Fig 3 has more detail for interrupts Section 8 and 9 of FU540-C000-v1.0.pdf UART (universal asynchrnonous receiver/transmitter) See Section 13 of FU540-C000-v1.0.pdf Although the QEMU version is slightly different Follows http://byterunner.com/16550.html the interrupt tells the kernel the device hardware wants attention the driver (in the kernel) knows how to tell the device to do things often the interrupt handler calls the relevant driver but other arrangements are possible (schedule a thread; poll) [diagram: top-half/bottom-half]
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-18 19:30:13 +0800 CST'>2024-09-18</span>&nbsp;Â·&nbsp;<span>3 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>1303 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-18&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(9)-Interrupts" href="https://kennems.github.io/posts/tech/mit6.s0819-interrupts/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(8)-Page faults
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(8)-Page faults plan: cool things you can do with vm
Better performance/efficiency e.g., one zero-filled page e.g., copy-on-write fork New features e.g., memory-mapped files virtual memory: several views
primary purpose: isolation each process has its own address space Virtual memory provides a level-of-indirection provides kernel with opportunity to do cool stuff already some examples: shared trampoline page guard page but more possibleâ€¦ Key idea: change page tables on page fault Page fault is a form of a trap (like a system call) Xv6 panics on page fault But you donâ€™t have to panic! Instead: update page table instead of panic restart instruction (see userret() from traps lecture) Combination of page faults and updating page table is powerful!
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-17 19:30:13 +0800 CST'>2024-09-17</span>&nbsp;Â·&nbsp;<span>2 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>958 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-17&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(8)-Page faults" href="https://kennems.github.io/posts/tech/mit6.s0818-page-faults/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>LeetCodeå‘¨èµ›415(250915)
      </h2>
    </header>
    <div class="entry-content">
      <p>å‘¨èµ›250915 æ—¶éš”å¤šæ—¥å†æ‰é‡æ–°å¼€å¯å‘¨èµ›ã€‚è¿™åœºDPå±…å¤šã€‚
T2-3290. æœ€é«˜ä¹˜æ³•å¾—åˆ† é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªæ•°ç»„ a å’Œ bï¼Œæ•°ç»„ a é•¿åº¦ä¸º 4ï¼Œæ•°ç»„ b é•¿åº¦è‡³å°‘ä¸º 4ã€‚éœ€è¦ä» b ä¸­é€‰æ‹© 4 ä¸ªé€’å¢ä¸‹æ ‡ i0 &lt; i1 &lt; i2 &lt; i3ï¼Œè®¡ç®— a[0] * b[i0] &#43; a[1] * b[i1] &#43; a[2] * b[i2] &#43; a[3] * b[i3]ï¼Œå¹¶è¿”å›æœ€å¤§å¾—åˆ†ã€‚
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-17 15:37:01 +0800 CST'>2024-09-17</span>&nbsp;Â·&nbsp;<span>2 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>997 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-17&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to LeetCodeå‘¨èµ›415(250915)" href="https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240915/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(7)-Q&amp;A
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(7)-Q&amp;A Plan: answering your questions Approach: walk through staff solutions start with pgtbl lab because it was the hardest your questions are at bottom of this file
Pgtbl lab comments few lines of code, but difficult-to-debug bugs
worst case: qemu/xv6 stops running â€œbestâ€ case: kernel panic hard to debug for staff too there are so many possible reasons why you discovered once we hadnâ€™t seen yet likely to be the most challenging lab historically the first VM lab is hard this year too, even though we made a new lab to provide a gentler intro to VM Part 1 of pgtbl lab Explain vm output in terms of fig 3-4
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-12 19:30:13 +0800 CST'>2024-09-12</span>&nbsp;Â·&nbsp;<span>6 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>2628 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-12&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(7)-Q&A" href="https://kennems.github.io/posts/tech/mit6.s0817-qa/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(6)-System Call Entry/Exit
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(6)-System Call Entry/Exit Today: user -&gt; kernel transition system calls, faults, interrupts enter the kernel in the same way important for isolation and performance lots of careful design and important detail
What needs to happen when a program makes a system call, e.g. write()? [CPU | user/kernel diagram] CPU resources are set up for user execution (not kernel) 32 registers, sp, pc, privilege mode, satp, stvec, sepc, â€¦ what needs to happen? save 32 user registers and pc switch to supervisor mode switch to kernel page table switch to kernel stack jump to kernel C code high-level goals donâ€™t let user code interfere with user-&gt;kernel transition e.g. donâ€™t execute user code in supervisor mode! transparent to user code â€“ resume without disturbing
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-10 19:30:13 +0800 CST'>2024-09-10</span>&nbsp;Â·&nbsp;<span>7 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>3445 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-10&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(6)-System Call Entry/Exit" href="https://kennems.github.io/posts/tech/mit6.s0816-system-call-entryexit/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(5)-RISC-V calling convention, stack frames, and gdb
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(5)-RISC-V calling convention, stack frames, and gdb C code is compiled to machine instructions. How does the machine work at a lower level? How does this translation work? How to interact between C and asm Why this matters: sometimes need to write code not expressible in C And you need this for the syscall lab!
RISC-V abstract machine No C-like control flow, no concept of variables, types â€¦ Base ISA: Program counter, 32 general-purpose registers (x0â€“x31)
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-04 19:30:13 +0800 CST'>2024-09-04</span>&nbsp;Â·&nbsp;<span>5 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>2064 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-04&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(5)-RISC-V calling convention, stack frames, and gdb" href="https://kennems.github.io/posts/tech/mit6.s0815-risc-v-calling-convention-stack-frames-and-gdb/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>C è¯­è¨€æŒ‡é’ˆ
      </h2>
    </header>
    <div class="entry-content">
      <p>C è¯­è¨€æŒ‡é’ˆ Cè¯­è¨€ä¸­çš„å†…å­˜ é™æ€å†…å­˜ï¼ˆStatic Memory)
Global variables, accessible throughout the whole program. Defined with static keywork, as well as variables defined in global scope. æ ˆå†…å­˜ï¼ˆStack Memory)
Local variables with functions. Destroyed after function exits. å †å†…å­˜ï¼ˆHeap Memoryï¼‰
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-03 22:30:13 +0800 CST'>2024-09-03</span>&nbsp;Â·&nbsp;<span>7 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>3219 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-03&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to C è¯­è¨€æŒ‡é’ˆ" href="https://kennems.github.io/posts/tech/c-%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(4)-Virtual Memory
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(4)-Virtual Memory Plan: Address spaces
Paging hardware
xv6 VM code
Virtual memory overview Todayâ€™s problem: [user/kernel diagram] [memory view: diagram with user processes and kernel in memory]
Suppose the shell has a bug:
sometimes it writes to a random memory address how can we keep it from wrecking the kernel? and from wrecking other processes?
we want isolated address spaces each process has its own memory it can read and write its own memory it cannot read or write anything else
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-09-02 22:30:13 +0800 CST'>2024-09-02</span>&nbsp;Â·&nbsp;<span>12 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>5742 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-09-02&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(4)-Virtual Memory" href="https://kennems.github.io/posts/tech/mit6.s0814-virtual-memory/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(1)-O/S overview
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(1)-O/S overview Class Page Overview 6.S081 goals Understand operating system (O/S) design and implementation Hands-on experience extending a small O/S Hands-on experience writing systems software What is the purpose of an O/S? Abstract the hardware for convenience and portability Multiplex the hardware among many applications Isolate applications in order to contain bugs Allow sharing among cooperating applications Control sharing for security Donâ€™t get in the way of high performance Support a wide range of applications Organization: layered picture user applications: vi, gcc, DB, &amp;c kernel services h/w: CPU, RAM, disk, net, &amp;c we care a lot about the interfaces and internal kernel structure ...</p>
    </div>
    <footer class="entry-footer"><span title='2024-08-31 22:30:13 +0800 CST'>2024-08-31</span>&nbsp;Â·&nbsp;<span>12 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>5897 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-08-31&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(1)-O/S overview" href="https://kennems.github.io/posts/tech/mit6.s0811-os-overview/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>MIT6.S081(3)-OS organization
      </h2>
    </header>
    <div class="entry-content">
      <p>MIT6.S081(3)-OS organization Lecture Topic: OS design â€‹ system calls â€‹ micro/monolithic kernel First system call in xv6
OS picture apps: sh, echo, â€¦ system call interface (open, close,â€¦) OS
Goal of OS run multiple applications isolate them multiplex them share
Strawman design: No OS Application directly interacts with hardware CPU cores &amp; registers DRAM chips Disk blocks â€¦ OS library perhaps abstracts some of it
Strawman design not conducive to multiplexing each app periodically must give up hardware BUT, weak isolation app forgets to give up, no other app runs apps has end-less loop, no other app runs you cannot even kill the badly app from another app but used by real-time OSes â€œcooperative schedulingâ€
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-08-31 22:30:13 +0800 CST'>2024-08-31</span>&nbsp;Â·&nbsp;<span>4 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>1800 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-08-31&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to MIT6.S081(3)-OS organization" href="https://kennems.github.io/posts/tech/mit6.s0813-os-organization/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>Kotlinåç¨‹(4)
      </h2>
    </header>
    <div class="entry-content">
      <p>Kotlinåç¨‹(4) Kotlinå®è·µéƒ¨åˆ†
Flowä¸æ–‡ä»¶ä¸‹è½½åº”ç”¨ DownloadFragment.kt // DownloadFragment æ˜¯ä¸€ä¸ª Fragment ç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶ä¸‹è½½ä»»åŠ¡ class DownloadFragment : Fragment() { // å®šä¹‰ä¸‹è½½æ–‡ä»¶çš„ URL åœ°å€ï¼Œè¿™æ˜¯ä¸€ä¸ªé™æ€çš„å¸¸é‡ val URL = &#34;https://ts1.cn.mm.bing.net/th/id/R-C.56ab5704680b6574c1b3c0a52643d8b5?rik=P8OAzrJEZS%2biuw&amp;riu=http%3a%2f%2fjourneyz.co%2fwp-content%2fuploads%2f2019%2f09%2fGolden-Gate-Bridge.jpg&amp;ehk=WX9eb2rUUjWBLLrsG2MQZLOMk2wtreV%2bT1Qq1tARk4s%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0&#34; // å»¶è¿Ÿåˆå§‹åŒ– mBindingï¼Œè¿™æ˜¯ä¸€ä¸ª FragmentDownloadBinding å¯¹è±¡ï¼Œç”¨äºç»‘å®š XML å¸ƒå±€æ–‡ä»¶ private val mBinding: FragmentDownloadBinding by lazy { FragmentDownloadBinding.inflate(layoutInflater) } // é‡å†™ onCreateView æ–¹æ³•ï¼Œåœ¨ Fragment åˆ›å»ºè§†å›¾æ—¶è°ƒç”¨ override fun onCreateView( inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle? ): View? { // è¿”å›ç»‘å®šçš„æ ¹è§†å›¾ä½œä¸º Fragment çš„ç•Œé¢ return mBinding.root } // é‡å†™ onActivityCreated æ–¹æ³•ï¼Œå½“ä¸ Fragment ç›¸å…³çš„æ´»åŠ¨çš„ onCreate æ–¹æ³•å®Œæˆæ—¶è°ƒç”¨ @RequiresApi(Build.VERSION_CODES.UPSIDE_DOWN_CAKE) override fun onActivityCreated(savedInstanceState: Bundle?) { super.onActivityCreated(savedInstanceState) // ä½¿ç”¨ lifecycleScope å¯åŠ¨åç¨‹ï¼Œå½“ Fragment çš„ç”Ÿå‘½å‘¨æœŸå¤„äº Created çŠ¶æ€æ—¶æ‰§è¡Œ lifecycleScope.launchWhenCreated { // è·å–ä¸Šä¸‹æ–‡å¹¶æ‰§è¡Œä¸‹è½½æ“ä½œ context?.apply { // æŒ‡å®šä¸‹è½½æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ï¼Œä¿å­˜åœ¨åº”ç”¨çš„å¤–éƒ¨æ–‡ä»¶ç›®å½•ä¸‹ val file = File(getExternalFilesDir(null)?.path, &#34;pic.jpg&#34;) // å¼€å§‹ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶æ”¶é›†ä¸‹è½½çŠ¶æ€ DownloadManager.download(URL, file).collect { status -&gt; when (status) { // å¦‚æœä¸‹è½½è¿‡ç¨‹ä¸­æœ‰è¿›åº¦æ›´æ–° is DownloadStatus.Progress -&gt; { mBinding.apply { // æ›´æ–°è¿›åº¦æ¡å’Œè¿›åº¦æ–‡æœ¬ progressBar.progress = status.value tvProgress.text = &#34;${status.value}%&#34; } } // å¦‚æœä¸‹è½½è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ is DownloadStatus.Error -&gt; { Toast.makeText(context, &#34;ä¸‹è½½é”™è¯¯&#34;, Toast.LENGTH_SHORT).show() } // å¦‚æœä¸‹è½½å®Œæˆ is DownloadStatus.Done -&gt; { mBinding.apply { // è®¾ç½®è¿›åº¦æ¡åˆ° 100%ï¼Œå¹¶æ›´æ–°æ–‡æœ¬ä¸º 100% progressBar.progress = 100 tvProgress.text = &#34;100%&#34; } Toast.makeText(context, &#34;ä¸‹è½½å®Œæˆ&#34;, Toast.LENGTH_SHORT).show() } // å¤„ç†å…¶ä»–å¯èƒ½çš„ä¸‹è½½çŠ¶æ€ else -&gt; { Log.d(&#34;Kennem&#34;, &#34;ä¸‹è½½å¤±è´¥&#34;) } } } } } } } DownloadManager.kt object DownloadManager { /** * ä¸‹è½½æŒ‡å®šçš„æ–‡ä»¶å¹¶è¿”å›ä¸‹è½½çŠ¶æ€çš„æµï¼ˆFlowï¼‰ã€‚ * * @param url æ–‡ä»¶ä¸‹è½½çš„ URL åœ°å€ã€‚ * @param file ä¸‹è½½åä¿å­˜çš„æœ¬åœ°æ–‡ä»¶ã€‚ * @return ä¸‹è½½çŠ¶æ€çš„ Flowï¼ŒåŒ…å«ä¸‹è½½è¿›åº¦ã€å®ŒæˆçŠ¶æ€æˆ–é”™è¯¯ä¿¡æ¯ã€‚ */ @RequiresApi(Build.VERSION_CODES.UPSIDE_DOWN_CAKE) fun download(url: String, file: File): Flow&lt;DownloadStatus&gt; { return flow { // æ„å»º HTTP è¯·æ±‚å¯¹è±¡ val request = Request.Builder().url(url).get().build() // æ‰§è¡Œ HTTP è¯·æ±‚ï¼Œè·å–å“åº” val response = OkHttpClient.Builder().build().newCall(request).execute() // æ£€æŸ¥å“åº”æ˜¯å¦æˆåŠŸ if (response.isSuccessful) { response.body()!!.let { body -&gt; // è·å–å†…å®¹çš„æ€»é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ val total = body.contentLength() // ä½¿ç”¨è¾“å‡ºæµå°†ä¸‹è½½çš„æ•°æ®å†™å…¥æœ¬åœ°æ–‡ä»¶ file.outputStream().use { output -&gt; val input = body.byteStream() // è·å–è¾“å…¥æµ var emittedProgress = 0L // è®°å½•å·²å‘å‡ºçš„è¿›åº¦ // å°†è¾“å…¥æµä¸­çš„æ•°æ®å¤åˆ¶åˆ°è¾“å‡ºæµï¼ŒåŒæ—¶è·Ÿè¸ªå¤åˆ¶çš„å­—èŠ‚æ•° input.copyTo(output) { bytesCopied -&gt; // è®¡ç®—å½“å‰è¿›åº¦ç™¾åˆ†æ¯” val progress = bytesCopied * 100 / total // æ¯å½“è¿›åº¦æ¯”ä¸Šæ¬¡æ›´æ–°å¤š5%ä»¥ä¸Šæ—¶ï¼Œå‘å‡ºè¿›åº¦æ›´æ–° if (progress - emittedProgress &gt; 5) { delay(100) // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼ˆå¯é€‰ï¼‰ emit(DownloadStatus.Progress(progress.toInt())) // å‘å‡ºè¿›åº¦çŠ¶æ€ emittedProgress = progress // æ›´æ–°å·²å‘å‡ºçš„è¿›åº¦ } } } } // ä¸‹è½½å®Œæˆï¼Œå‘å‡ºå®ŒæˆçŠ¶æ€ emit(DownloadStatus.Done(file)) } else { // å¦‚æœå“åº”å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸ throw IOException(response.toString()) } }.catch { // å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ é™¤éƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶å¹¶å‘å‡ºé”™è¯¯çŠ¶æ€ file.delete() emit(DownloadStatus.Error(it)) }.flowOn(Dispatchers.IO) // åœ¨ IO çº¿ç¨‹ä¸Šè¿è¡Œä¸‹è½½æµç¨‹ } } DownloadStatus.kt /** * å°é—­ç±»ï¼Œç”¨äºè¡¨ç¤ºä¸‹è½½è¿‡ç¨‹ä¸­çš„ä¸åŒçŠ¶æ€ã€‚ * å°é—­ç±»å…è®¸å®šä¹‰ä¸€ä¸ªæœ‰é™çš„ç±»å‹é›†åˆï¼Œåœ¨ä½¿ç”¨ `when` è¡¨è¾¾å¼æ—¶æä¾›å…¨é¢çš„ç±»å‹æ£€æŸ¥ã€‚ */ sealed class DownloadStatus { /** * è¡¨ç¤ºåˆå§‹çŠ¶æ€ï¼Œå³å°šæœªå¼€å§‹ä¸‹è½½ã€‚ * å¯ä»¥ç”¨äºåˆå§‹åŒ–æˆ–é‡ç½®çŠ¶æ€ã€‚ */ object None : DownloadStatus() /** * è¡¨ç¤ºæ­£åœ¨è¿›è¡Œçš„ä¸‹è½½çš„è¿›åº¦ã€‚ * @param value ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå½“å‰çš„è¿›åº¦ç™¾åˆ†æ¯”ï¼ˆ0-100ï¼‰ã€‚ */ data class Progress(val value: Int) : DownloadStatus() /** * è¡¨ç¤ºä¸‹è½½è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ã€‚ * @param throwable å¼•å‘å¤±è´¥çš„å¼‚å¸¸æˆ–é”™è¯¯ã€‚ */ data class Error(val throwable: Throwable) : DownloadStatus() /** * è¡¨ç¤ºä¸‹è½½æˆåŠŸå®Œæˆã€‚ * @param file ä¸‹è½½å®Œæˆçš„æ–‡ä»¶ã€‚ */ data class Done(val file: File) : DownloadStatus() } Flowä¸Roomçš„åº”ç”¨ ...</p>
    </div>
    <footer class="entry-footer"><span title='2024-08-25 22:30:13 +0800 CST'>2024-08-25</span>&nbsp;Â·&nbsp;<span>10 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>4536 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-08-27&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to Kotlinåç¨‹(4)" href="https://kennems.github.io/posts/tech/kotlin%E5%8D%8F%E7%A8%8B4/"></a>
</article>



<article class="post-entry">
  <div class="post-info">
    <header class="entry-header">
      <h2>Git
      </h2>
    </header>
    <div class="entry-content">
      <p>Git git ç”± linus å¼€å‘ã€‚
Gitæµç¨‹å›¾ cloneï¼ˆå…‹éš†)ï¼‰ï¼š ä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†ä»£ç åˆ°æœ¬åœ°ä»“åº“ checkoutï¼ˆæ£€å‡ºï¼‰ï¼šä»æœ¬åœ°ä»“åº“ä¸­æ£€å‡ºä¸€ä¸ªä»“åº“åˆ†æ”¯ç„¶åè¿›è¡Œä¿®è®¢ addï¼ˆæ·»åŠ ï¼‰ï¼šåœ¨æäº¤å‰å…ˆå°†ä»£ç æäº¤åˆ°æš‚å­˜åŒº commitï¼ˆæäº¤ï¼‰ï¼šæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œæœ¬åœ°ä»“åº“ä¸­ä¿å­˜ä¿®æ”¹çš„å„ä¸ªå†å²ç‰ˆæœ¬ fetchï¼ˆæŠ“å–ï¼‰ï¼šä»è¿œç¨‹åº“ï¼ŒæŠ“å–åˆ°æœ¬åœ°ä»“åº“ï¼Œä¸è¿›è¡Œä»»ä½•çš„åˆå¹¶åŠ¨ä½œï¼Œä¸€èˆ¬æ“ä½œæ¯”è¾ƒå°‘ã€‚ pullï¼ˆæ‹‰å–ï¼‰ï¼šä»è¿œç¨‹åº“æ‹‰åˆ°æœ¬åœ°åº“ï¼Œè‡ªåŠ¨è¿›è¡Œåˆå¹¶ï¼ˆmergeï¼‰ï¼Œç„¶åæ”¾åˆ°å·¥ä½œåŒºï¼Œç›¸å½“äºfetch &#43; merge pushï¼ˆæ¨é€ï¼‰ï¼šä¿®æ”¹å®Œæˆåï¼Œéœ€è¦å’Œå›¢é˜Ÿæˆå‘˜å…±äº«ä»£ç æ—¶ï¼Œå°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ GitåŸºæœ¬é…ç½® git config --global user.name &#34;xxx&#34; git config --global user.email &#34;xxx@gmail.com&#34; git config --global user.name git config --global user.email ç»™ä¸€äº›é•¿å‘½ä»¤èµ·åˆ«åï¼š
...</p>
    </div>
    <footer class="entry-footer"><span title='2024-08-20 22:30:13 +0800 CST'>2024-08-20</span>&nbsp;Â·&nbsp;<span>9 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>4449 å­—</span>&nbsp;Â·&nbsp;updated:&nbsp;2024-08-20&nbsp;Â·&nbsp;<span>ShowGuan</span></footer>
  </div> 
  <a class="entry-link" aria-label="post link to Git" href="https://kennems.github.io/posts/tech/git/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://kennems.github.io/posts/tech/page/4/">
      Â«&nbsp;ä¸Šä¸€é¡µ&nbsp;
    </a>
    <a class="next" href="https://kennems.github.io/posts/tech/page/6/">ä¸‹ä¸€é¡µ&nbsp;&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

<footer class="footer">
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container">
    ğŸ‘¤ Visitors: <span id="busuanzi_value_site_uv"></span>
    ğŸ‘€ Views: <span id="busuanzi_value_site_pv"></span>
  </span>
</footer>



</body>

</html>
