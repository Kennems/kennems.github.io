<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title> LeetCodeç¬”è®° | Kennem&#39;s Blog</title>
<meta name="keywords" content="LeetCodeç¬”è®°">
<meta name="description" content="LeetCodeç¬”è®°(hot &amp; æ¯æ—¥ä¸€é¢˜)">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/leetcode%E7%AC%94%E8%AE%B0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1a7bc7e6d01b82c8ca2b2e53cfcf7e33d2fd9058f6b28245f94da0d91447c6a0.css" integrity="sha256-GnvH5tAbgsjKKy5Tz89&#43;M9L9kFj2soJF&#43;U2g2RRHxqA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/leetcode%E7%AC%94%E8%AE%B0/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

<meta property="og:url" content="https://kennems.github.io/posts/tech/leetcode%E7%AC%94%E8%AE%B0/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content=" LeetCodeç¬”è®°">
  <meta property="og:description" content="LeetCodeç¬”è®°(hot &amp; æ¯æ—¥ä¸€é¢˜)">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-17T15:37:01+08:00">
    <meta property="article:modified_time" content="2024-10-06T15:37:01+08:00">
    <meta property="article:tag" content="LeetCodeç¬”è®°">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" LeetCodeç¬”è®°">
<meta name="twitter:description" content="LeetCodeç¬”è®°(hot &amp; æ¯æ—¥ä¸€é¢˜)">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“šæ–‡ç« ",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ’»æŠ€æœ¯",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": " LeetCodeç¬”è®°",
      "item": "https://kennems.github.io/posts/tech/leetcode%E7%AC%94%E8%AE%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": " LeetCodeç¬”è®°",
  "name": " LeetCodeç¬”è®°",
  "description": "LeetCodeç¬”è®°(hot \u0026 æ¯æ—¥ä¸€é¢˜)",
  "keywords": [
    "LeetCodeç¬”è®°"
  ],
  "articleBody": "LeetCodeç¬”è®° ç›®æ ‡ï¼š2500åˆ†\nHOT100 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å· é¢˜ç›®å¤§æ„ï¼š\nç»™ä½ ä¸€ä¸ªç”±è‹¥å¹²æ‹¬å·å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ï¼Œåˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆã€‚\nè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚\nå›æº¯ å®ç°æ€è·¯ï¼š\nç»Ÿè®¡æ— æ•ˆæ‹¬å·æ•°é‡ï¼š\né¦–å…ˆéå†å­—ç¬¦ä¸²sï¼Œç»Ÿè®¡å·¦æ‹¬å·å’Œå³æ‹¬å·çš„æ•°é‡lå’Œrï¼Œå…¶ä¸­lè¡¨ç¤ºæœªåŒ¹é…çš„å·¦æ‹¬å·æ•°é‡ï¼Œrè¡¨ç¤ºéœ€è¦åˆ é™¤çš„å³æ‹¬å·æ•°é‡ã€‚ å›æº¯ç®—æ³•ï¼š\nç¼–å†™å›æº¯ç®—æ³•æ¥å°è¯•åˆ é™¤ä¸åŒä½ç½®çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æœ‰æ•ˆã€‚ å›æº¯è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„ä»¥ä¸‹æƒ…å†µï¼š å·²ç»åŒ¹é…çš„æ‹¬å·æ•°é‡lnå’Œrnï¼Œä»¥åŠå½“å‰ä½ç½®iã€‚ éå†å­—ç¬¦ä¸²sçš„æ¯ä¸ªå­—ç¬¦ï¼Œå½“é‡åˆ°é‡å¤çš„å­—ç¬¦æ—¶è·³è¿‡ï¼Œä»¥é¿å…é‡å¤ç»“æœã€‚ å¦‚æœå½“å‰å­—ç¬¦ä¸ºå·¦æ‹¬å·å¹¶ä¸”lnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å·¦æ‹¬å·çš„æƒ…å†µï¼Œlnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚ å¦‚æœå½“å‰å­—ç¬¦ä¸ºå³æ‹¬å·å¹¶ä¸”rnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å³æ‹¬å·çš„æƒ…å†µï¼Œrnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚ æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š\nç¼–å†™è¾…åŠ©å‡½æ•°checkæ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆï¼Œå³å·¦å³æ‹¬å·æ•°é‡æ˜¯å¦åŒ¹é…ã€‚ è¿”å›ç»“æœï¼š\nå°†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ç»“æœæ·»åŠ åˆ°ç»“æœåˆ—è¡¨retä¸­ï¼Œå¹¶è¿”å›ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 class Solution: def removeInvalidParentheses(self, s: str) -\u003e List[str]: l, r = 0, 0 ret = [] n = len(s) for c in s: if c=='(': l+=1 elif c==')': if l==0: r+=1 else: l-=1 def check(st): cnt=0 for c in st: if c=='(': cnt+=1 elif c==')': cnt-=1 if cnt\u003c0: return False return (cnt==0) def backtrace(st, start, ln, rn): if ln==0 and rn==0 and check(st): ret.append(st[:]) return for i in range(start, len(st)): if i\u003estart and st[i]==st[i-1]: continue if ln+rn\u003en-1-i+1: break if ln and st[i]=='(': backtrace(st[:i]+st[i+1:], i, ln-1, rn) elif rn and st[i]==')': backtrace(st[:i]+st[i+1:], i, ln, rn-1) backtrace(s, 0, l, r) return ret å¹¿æœ è¿™ä¸ªå®ç°ä½¿ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„æ€è·¯æ¥è§£å†³é—®é¢˜ã€‚\nBFSæœç´¢ï¼š\nä½¿ç”¨ä¸€ä¸ªé›†åˆcuræ¥å­˜å‚¨å½“å‰å±‚çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œåˆå§‹æ—¶å°†è¾“å…¥çš„å­—ç¬¦ä¸²såŠ å…¥é›†åˆcurä¸­ã€‚ åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œéå†å½“å‰é›†åˆcurä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¦‚æœå…¶ä¸­æœ‰å­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retä¸­ã€‚ å¦‚æœç»“æœåˆ—è¡¨retä¸ä¸ºç©ºï¼Œåˆ™è·³å‡ºå¾ªç¯ï¼Œè¡¨ç¤ºå·²ç»æ‰¾åˆ°äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚ å¦‚æœç»“æœåˆ—è¡¨retä¸ºç©ºï¼Œåˆ™éœ€è¦ç»§ç»­è¿›è¡Œä¸‹ä¸€è½®æœç´¢ï¼Œå°†å½“å‰é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡åˆ é™¤ä¸€ä¸ªæ‹¬å·çš„æ–¹å¼ï¼Œç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€å±‚å­—ç¬¦ä¸²ï¼ŒåŠ å…¥åˆ°é›†åˆnxtä¸­ã€‚ æ›´æ–°å½“å‰é›†åˆcurä¸ºnxtï¼Œç»§ç»­ä¸‹ä¸€è½®æœç´¢ã€‚ æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š\nå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°checkï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œé‡åˆ°å·¦æ‹¬å·æ—¶å¢åŠ è®¡æ•°å™¨cntï¼Œé‡åˆ°å³æ‹¬å·æ—¶å¦‚æœcntä¸º0åˆ™è¿”å›Falseï¼ˆè¡¨ç¤ºå³æ‹¬å·æ²¡æœ‰åŒ¹é…çš„å·¦æ‹¬å·ï¼‰ï¼Œå¦åˆ™å‡å°‘cntã€‚ æœ€ç»ˆåˆ¤æ–­cntæ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0è¡¨ç¤ºå­—ç¬¦ä¸²æœ‰æ•ˆã€‚ è¿”å›ç»“æœï¼š\nè¿”å›ç»“æœåˆ—è¡¨retï¼Œå…¶ä¸­å­˜å‚¨äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 class Solution: def removeInvalidParentheses(self, s: str) -\u003e List[str]: ret = [] def check(st): cnt=0 for c in st: if c=='(': cnt+=1 elif c==')': if cnt==0: return False cnt-=1 return cnt==0 cur = set([s]) while True: for st in cur: if check(st): ret.append(st) if len(ret): break nxt = set() for st in cur: for i in range(len(st)): if i\u003e0 and st[i]==st[i-1]: continue if st[i]=='(' or st[i]==')': nxt.add(st[:i]+st[i+1:]) cur = nxt return ret 297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– ä¸æ­¢ç¬¬ä¸€æ¬¡é‡åˆ°äº†ã€‚\né¢˜ç›®å¤§æ„ï¼šåºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œä»è€Œå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ä¸­ï¼Œå¹¶ä¸”é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­ã€‚æœ¬é¢˜è¦æ±‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå³å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å°†å­—ç¬¦ä¸²è½¬æ¢å›åŸå§‹çš„äºŒå‰æ ‘ç»“æ„ã€‚\nå®ç°æ€è·¯ï¼š\nåºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ ¹èŠ‚ç‚¹å€¼ä¸å·¦å³å­æ ‘åºåˆ—åŒ–ç»“æœä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œç©ºèŠ‚ç‚¹ç”¨ â€˜#â€™ è¡¨ç¤ºã€‚ ååºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒå‰æ ‘ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° DerWork()ï¼Œç”¨äºé€’å½’æ„å»ºäºŒå‰æ ‘ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼ŒæŒ‰ç…§å‰åºéå†çš„é¡ºåºï¼Œä¾æ¬¡æå–å­—ç¬¦ä¸²ä¸­çš„èŠ‚ç‚¹å€¼ï¼Œå¹¶æ ¹æ®èŠ‚ç‚¹å€¼æ„å»ºäºŒå‰æ ‘èŠ‚ç‚¹ã€‚å¦‚æœèŠ‚ç‚¹å€¼ä¸º â€˜#â€™ï¼Œè¡¨ç¤ºç©ºèŠ‚ç‚¹ï¼Œè¿”å› Noneã€‚å¦åˆ™ï¼Œåˆ›å»ºèŠ‚ç‚¹å¹¶é€’å½’æ„å»ºå…¶å·¦å³å­æ ‘ã€‚ åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ self.s æ¥è®°å½•å½“å‰å¾…å¤„ç†çš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡é€’å½’å¤„ç†åï¼Œå°†å­—ç¬¦ä¸²ä¸­å·²ç»å¤„ç†è¿‡çš„éƒ¨åˆ†å‰”é™¤ï¼Œç»§ç»­å¤„ç†å‰©ä½™éƒ¨åˆ†ã€‚ æœ€ç»ˆè¿”å›æ ¹èŠ‚ç‚¹å³å¯ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # Definition for a binary tree node. # class TreeNode(object): # def __init__(self, x): # self.val = x # self.left = None # self.right = None class Codec: def serialize(self, root): \"\"\"Encodes a tree to a single string. :type root: TreeNode :rtype: str \"\"\" if not root: return '#' return str(root.val)+' '+self.serialize(root.left)+' '+self.serialize(root.right) def deserialize(self, data): \"\"\"Decodes your encoded data to tree. :type data: str :rtype: TreeNode \"\"\" self.s = data return self.DerWork() def DerWork(self): if len(self.s)==0: return None try: idx = self.s.index(' ') except: idx = -1 node = self.s if idx==-1 else self.s[:idx] self.s = '' if idx==-1 else self.s[idx+1:] if node=='#': return None t = TreeNode(int(node)) t.left = self.DerWork() t.right = self.DerWork() return t # Your Codec object will be instantiated and called as such: # ser = Codec() # deser = Codec() # ans = deser.deserialize(ser.serialize(root)) 84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ é¢˜ç›®å¤§æ„ï¼šç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºçš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨å•è°ƒæ ˆè§£å†³é—®é¢˜ã€‚åˆ›å»ºä¸¤ä¸ªæ•°ç»„ l å’Œ rï¼Œåˆ†åˆ«è®°å½•æ¯ä¸ªæŸ±å­å‘å·¦å’Œå‘å³ç¬¬ä¸€ä¸ªæ¯”å…¶é«˜åº¦å°çš„æŸ±å­çš„ç´¢å¼•ä½ç½®ã€‚ åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚ éå†æŸ±å­çš„é«˜åº¦åˆ—è¡¨ heightsï¼š è‹¥æ ˆä¸ä¸ºç©ºä¸”å½“å‰æŸ±å­çš„é«˜åº¦å°äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†æ ˆé¡¶å…ƒç´ å¼¹å‡ºï¼Œå¹¶æ›´æ–°æ ˆé¡¶å…ƒç´ å¯¹åº”çš„ r å€¼ä¸ºå½“å‰æŸ±å­çš„ç´¢å¼•ã€‚ è‹¥æ ˆä¸ºç©ºæˆ–è€…å½“å‰æŸ±å­çš„é«˜åº¦å¤§äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†å½“å‰æŸ±å­çš„ç´¢å¼•å…¥æ ˆã€‚ åœ¨æ›´æ–° r å€¼çš„åŒæ—¶ï¼Œè‹¥æ ˆä¸ä¸ºç©ºï¼Œåˆ™æ›´æ–°å½“å‰æŸ±å­çš„ l å€¼ä¸ºæ ˆé¡¶å…ƒç´ çš„ç´¢å¼•ã€‚ éå†å®Œæˆåï¼Œå¯¹äºæ¯ä¸ªæŸ±å­ iï¼Œè®¡ç®—ä»¥è¯¥æŸ±å­ä¸ºé«˜åº¦çš„çŸ©å½¢é¢ç§¯ä¸º (r[i] - l[i] - 1) * heights[i]ï¼Œå–æœ€å¤§å€¼å³ä¸ºæ‰€æ±‚çš„æœ€å¤§çŸ©å½¢é¢ç§¯ã€‚ è‹¥æŸ±çŠ¶å›¾ä¸ºç©ºï¼Œåˆ™è¿”å› 0ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 class Solution: def largestRectangleArea(self, heights: List[int]) -\u003e int: n=len(heights) l, r = [-1]*(n+5), [n]*(n+5) stk = list() for i in range(n): while stk and heights[stk[-1]]\u003e=heights[i]: r[stk[-1]]=i stk.pop() if stk: l[i]=stk[-1] stk.append(i) return max( (r[i]-l[i]-1)*heights[i] for i in range(n) ) if n\u003e0 else 0 85. æœ€å¤§çŸ©å½¢ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚\nå®ç°æ€è·¯ï¼š\nå°†é—®é¢˜è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜ã€‚ å®šä¹‰å˜é‡ area ç”¨äºè®°å½•æœ€å¤§çŸ©å½¢çš„é¢ç§¯ã€‚ åˆ›å»ºäºŒç»´æ•°ç»„ leftï¼Œç”¨äºè®°å½•æ¯ä¸ªä½ç½® (i, j) å·¦ä¾§è¿ç»­ 1 çš„ä¸ªæ•°ã€‚ éå†äºŒç»´çŸ©é˜µï¼Œåˆå§‹åŒ– left æ•°ç»„ï¼š è‹¥å½“å‰ä½ç½®ä¸º â€˜1â€™ï¼Œåˆ™ left[i][j] ç­‰äº left[i][j-1] + 1ï¼Œå¦åˆ™ä¸º 0ã€‚ éå†çŸ©é˜µçš„æ¯ä¸€åˆ—ï¼Œå¯¹äºæ¯ä¸€åˆ— jï¼Œä½¿ç”¨å•è°ƒæ ˆæ¥è®¡ç®—ä»¥å½“å‰åˆ—ä¸ºåº•è¾¹çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯ï¼š åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚ å®šä¹‰ä¸¤ä¸ªæ•°ç»„ up å’Œ downï¼Œåˆ†åˆ«è®°å½•å½“å‰ä½ç½®ä¸Šæ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®å’Œä¸‹æ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®ã€‚ éå†çŸ©é˜µçš„æ¯ä¸€è¡Œ iï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š å½“æ ˆä¸ä¸ºç©ºä¸”æ ˆé¡¶ä½ç½®å¯¹åº”çš„ left å€¼å¤§äºç­‰äºå½“å‰ä½ç½®çš„ left å€¼æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶ä½ç½®ï¼Œå¹¶æ›´æ–° down å€¼ã€‚ å¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™å½“å‰ä½ç½®çš„ up å€¼ä¸º -1ï¼Œå¦åˆ™ä¸ºæ ˆé¡¶ä½ç½®ã€‚ å°†å½“å‰è¡Œç´¢å¼•å…¥æ ˆã€‚ åœ¨è®¡ç®—å½“å‰åˆ—çš„çŸ©å½¢é¢ç§¯æ—¶ï¼Œheight ä¸º down[i] - up[i] - 1ï¼Œå®½åº¦ä¸º left[i][j]ï¼Œè®¡ç®—å½“å‰åˆ—çš„æœ€å¤§é¢ç§¯å¹¶æ›´æ–° areaã€‚ è¿”å›æœ€å¤§é¢ç§¯ areaã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Solution: def maximalRectangle(self, matrix: List[List[str]]) -\u003e int: # è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜ n, m = len(matrix), len(matrix[0]) area = 0 left = [[0]*m for _ in range(n)] for i in range(n): for j in range(m): if matrix[i][j]=='1': left[i][j] += left[i][j-1]+1 if j else 1 for j in range(m): stk = [] up, down = [-1]*n, [n]*n for i in range(n): #è¡Œ while stk and left[ stk[-1] ][j]\u003e=left[i][j]: down[stk[-1]] = i stk.pop() up[i] = stk[-1] if stk else -1 stk.append(i) for i in range(n): height = down[i]-up[i]-1 area = max(area, height*left[i][j]) return area 76. æœ€å°è¦†ç›–å­ä¸² é¢˜ç›®å¤§æ„ï¼šç»™å®šå­—ç¬¦ä¸² s å’Œå­—ç¬¦ä¸² tï¼Œè¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² â€œ\"ã€‚\næ³¨æ„ï¼š\nå¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œå­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚\nå¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£è§£å†³é—®é¢˜ã€‚ åˆå§‹åŒ– need å­—å…¸ï¼Œç”¨äºè®°å½•å­—ç¬¦ä¸² t ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ åˆå§‹åŒ– needCnt ä¸º t çš„é•¿åº¦ mï¼Œè¡¨ç¤ºè¿˜éœ€è¦çš„å­—ç¬¦æ•°é‡ã€‚ åˆå§‹åŒ–å·¦æŒ‡é’ˆ left ä¸º 0ï¼Œå¹¶åˆå§‹åŒ–ç»“æœå˜é‡ res ä¸ºä¸€ä¸ªé•¿åº¦ä¸º n çš„åŒºé—´ï¼Œåˆå§‹å€¼ä¸º (0, n)ã€‚ éå†å­—ç¬¦ä¸² tï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¹¶å­˜å‚¨åœ¨ need å­—å…¸ä¸­ã€‚ éå†å­—ç¬¦ä¸² sï¼Œä½¿ç”¨å³æŒ‡é’ˆ right éå†æ¯ä¸ªå­—ç¬¦ï¼š è‹¥å½“å‰å­—ç¬¦åœ¨ t ä¸­å‡ºç°ï¼Œåˆ™ needCnt å‡ 1ã€‚ æ›´æ–° need å­—å…¸ä¸­å½“å‰å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ è‹¥ needCnt ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰çª—å£åŒ…å«äº† t ä¸­æ‰€æœ‰å­—ç¬¦ï¼Œè¿›å…¥å†…éƒ¨å¾ªç¯ï¼š ç§»åŠ¨å·¦æŒ‡é’ˆ leftï¼Œç›´åˆ°å½“å‰çª—å£ä¸å†æ»¡è¶³æ¡ä»¶ï¼ˆå³ need å­—å…¸ä¸­æŸä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¤§äº 0ï¼‰ã€‚ æ›´æ–°ç»“æœå˜é‡ resã€‚ æ¢å¤å·¦æŒ‡é’ˆ left å’Œ needCntã€‚ è¿”å›ç»“æœå­—ç¬¦ä¸²ï¼Œè‹¥ç»“æœåŒºé—´è¶…å‡º s çš„èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 class Solution: def minWindow(self, s: str, t: str) -\u003e str: n, m = len(s), len(t) need = defaultdict(int) needCnt = m left = 0 res = (0, n) for ch in t: need[ch]+=1 for right, ch in enumerate(s): if need[ch]\u003e0: needCnt-=1 need[ch]-=1 if needCnt==0: while need[s[left]]!=0: need[s[left]]+=1 left+=1 if right-left \u003c res[1]-res[0]: res = (left, right) need[s[left]]+=1 needCnt+=1 left+=1 return '' if res[1]\u003en-1 else s[res[0]:res[1]+1] 312. æˆ³æ°”çƒ é¢˜æ„ï¼šç»™å®šnä¸ªæ•°å­—num[0~n-1],æ¯æ¬¡æˆ³ç ´ä¸€ä¸ªæ°”çƒå¯ä»¥è·å¾—nums[i-1]*nums[i]*nums[i+1]ä¸ªç¡¬å¸ï¼Œæœ€ä¸¤æ—é»˜è®¤ä¸º1ï¼Œé—®æœ€ç»ˆè·å¾—çš„æœ€å¤§ç¡¬å¸æ•°é‡ã€‚ æ€è·¯ï¼šåŒºé—´DPï¼Œé€†å‘æ€ç»´, æ€è€ƒå¦‚ä½•æ”¾æ°”çƒèƒ½ä½¿ç¡¬å¸æœ€å¤§ï¼Œf[i][j]ä»£è¡¨å¼€åŒºé—´i~jå¯ä»¥è·å¾—çš„æœ€å¤§ç¡¬å¸ï¼Œ å…ˆæšä¸¾å°åŒºé—´ï¼Œå†æšä¸¾å¤§åŒºé—´ï¼Œæšä¸¾åŒºé—´å†…æ¯ä¸ªæ•°å­—ï¼ŒçŠ¶æ€è½¬ç§»æœ‰ï¼šf[i][j] = max(f[i][j], f[i][k]+f[k][j]+nums[i]*nums[k]*nums[j])ã€‚æœ€ç»ˆè¾“å‡ºf[0][n+1] 1 2 3 4 5 6 7 8 9 10 11 12 13 class Solution: def maxCoins(self, nums: List[int]) -\u003e int: n = len(nums) nums = [1]+nums+[1] f = [[0]*(n+5) for _ in range(n+5)] # å¼€åŒºé—´ (left, right) åŒºé—´å†…èƒ½è·å¾—çš„æœ€å¤§ç¡¬å¸ for l in range(2,n+2): # len:2~n+1 for i in range(n+1-l+1): # left:0~n+1-len j=i+l # right = left + len for k in range(i+1, j): # å¼€åŒºé—´(i,j) å³[i+1, j-1] f[i][j] = max(f[i][j], f[i][k]+f[k][j]+nums[i]*nums[k]*nums[j]) return f[0][n+1] 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å· é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±å­—æ¯å’Œæ‹¬å·ç»„æˆçš„å­—ç¬¦ä¸²sï¼Œè¦æ±‚åˆ é™¤æœ€å°æ•°é‡çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æˆä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆï¼Œå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°check(st)ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²stæ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆã€‚éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨cntï¼Œé‡åˆ°å·¦æ‹¬å·å¢åŠ è®¡æ•°ï¼Œé‡åˆ°å³æ‹¬å·å‡å°‘è®¡æ•°ï¼Œè‹¥å‡ºç°cntä¸ºè´Ÿæ•°ï¼Œæˆ–è€…éå†ç»“æŸåcntä¸ä¸º0ï¼Œåˆ™è¯´æ˜æ‹¬å·ä¸åŒ¹é…ï¼Œè¿”å›Falseï¼Œå¦åˆ™è¿”å›Trueã€‚\nåˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨retï¼Œç”¨äºå­˜å‚¨ç»“æœã€‚\nåˆå§‹åŒ–ä¸€ä¸ªé›†åˆcurï¼Œåˆå§‹æ—¶å°†è¾“å…¥å­—ç¬¦ä¸²sä½œä¸ºå”¯ä¸€å…ƒç´ åŠ å…¥å…¶ä¸­ã€‚\nä½¿ç”¨whileå¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœä¸ºæ­¢ï¼š\néå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸ºæœ‰æ•ˆæ‹¬å·ç»„åˆï¼Œè‹¥æ˜¯åˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retã€‚\nè‹¥ç»“æœåˆ—è¡¨retä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜å·²æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœï¼Œç»“æŸå¾ªç¯ã€‚\nå¦åˆ™ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç©ºé›†åˆnxtï¼Œç”¨äºå­˜å‚¨ä¸‹ä¸€è½®è¿­ä»£çš„å€™é€‰å­—ç¬¦ä¸²é›†åˆã€‚\néå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå°è¯•åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ˆæ‹¬å·ï¼‰ï¼Œç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åŠ å…¥nxtä¸­ã€‚\næ›´æ–°curä¸ºnxtï¼Œç»§ç»­ä¸‹ä¸€è½®è¿­ä»£ã€‚\nè¿”å›ç»“æœåˆ—è¡¨retã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 class Solution: def removeInvalidParentheses(self, s: str) -\u003e List[str]: ret = [] def check(st): cnt=0 for c in st: if c=='(': cnt+=1 elif c==')': if cnt==0: return False cnt-=1 return cnt==0 cur = set([s]) while True: for st in cur: if check(st): ret.append(st) if len(ret): break nxt = set() for st in cur: for i in range(len(st)): if i\u003e0 and st[i]==st[i-1]: continue if st[i]=='(' or st[i]==')': nxt.add(st[:i]+st[i+1:]) cur = nxt return ret 11. ç››æœ€å¤šæ°´çš„å®¹å™¨ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„heightï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€æ¡å‚ç›´çº¿çš„é«˜åº¦ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸xè½´æ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚åˆå§‹åŒ–å·¦æŒ‡é’ˆlæŒ‡å‘æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼Œå³æŒ‡é’ˆræŒ‡å‘æ•°ç»„çš„æœ«å°¾ä½ç½®ã€‚è®¾ç½®å˜é‡retç”¨äºè®°å½•å½“å‰æœ€å¤§å®¹é‡ï¼Œåˆå§‹åŒ–ä¸º0ã€‚åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œè®¡ç®—å½“å‰å®¹å™¨çš„å®¹é‡ï¼Œå³min(height[l], height[r])ä¹˜ä»¥rå’Œlä¹‹é—´çš„è·ç¦»ï¼Œæ›´æ–°retã€‚ç„¶åæ ¹æ®æŒ‡é’ˆæ‰€æŒ‡å‘çš„é«˜åº¦çš„å¤§å°ï¼Œç§»åŠ¨æŒ‡é’ˆï¼Œå¦‚æœheight[l]",
  "wordCount" : "13525",
  "inLanguage": "zh",
  "datePublished": "2024-04-17T15:37:01+08:00",
  "dateModified": "2024-10-06T15:37:01+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/leetcode%E7%AC%94%E8%AE%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="ğŸ—‚ï¸åˆ†ç±»">
                    <span>ğŸ—‚ï¸åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://kennems.github.io/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://kennems.github.io/posts/tech/">ğŸ’»æŠ€æœ¯</a></div>
    <h1 class="post-title entry-hint-parent">
       LeetCodeç¬”è®°
    </h1>
    <div class="post-description">
      LeetCodeç¬”è®°(hot &amp; æ¯æ—¥ä¸€é¢˜)
    </div>
    <div class="post-meta"><span title='2024-04-17 15:37:01 +0800 CST'>2024-04-17</span>&nbsp;Â·&nbsp;27 åˆ†é’Ÿ&nbsp;Â·&nbsp;13525 å­—&nbsp;Â·&nbsp;updated:&nbsp;2024-10-06&nbsp;Â·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#leetcode%e7%ac%94%e8%ae%b0" aria-label="LeetCodeç¬”è®°">LeetCodeç¬”è®°</a><ul>
                            
                    <li>
                        <a href="#hot100" aria-label="HOT100">HOT100</a><ul>
                            
                    <li>
                        <a href="#301-%e5%88%a0%e9%99%a4%e6%97%a0%e6%95%88%e7%9a%84%e6%8b%ac%e5%8f%b7httpsleetcodecnproblemsremove-invalid-parentheses" aria-label="301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·"><a href="https://leetcode.cn/problems/remove-invalid-parentheses/">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a></a><ul>
                            
                    <li>
                        <a href="#%e5%9b%9e%e6%ba%af" aria-label="å›æº¯">å›æº¯</a></li>
                    <li>
                        <a href="#%e5%b9%bf%e6%90%9c" aria-label="å¹¿æœ">å¹¿æœ</a></li></ul>
                    </li>
                    <li>
                        <a href="#297-%e4%ba%8c%e5%8f%89%e6%a0%91%e7%9a%84%e5%ba%8f%e5%88%97%e5%8c%96%e4%b8%8e%e5%8f%8d%e5%ba%8f%e5%88%97%e5%8c%96httpsleetcodecnproblemsserialize-and-deserialize-binary-tree" aria-label="297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></a></li>
                    <li>
                        <a href="#84-%e6%9f%b1%e7%8a%b6%e5%9b%be%e4%b8%ad%e6%9c%80%e5%a4%a7%e7%9a%84%e7%9f%a9%e5%bd%a2httpsleetcodecnproblemslargest-rectangle-in-histogram" aria-label="84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></a></li>
                    <li>
                        <a href="#85-%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2httpsleetcodecnproblemsmaximal-rectangle" aria-label="85. æœ€å¤§çŸ©å½¢"><a href="https://leetcode.cn/problems/maximal-rectangle/">85. æœ€å¤§çŸ©å½¢</a></a></li>
                    <li>
                        <a href="#76-%e6%9c%80%e5%b0%8f%e8%a6%86%e7%9b%96%e5%ad%90%e4%b8%b2httpsleetcodecnproblemsminimum-window-substring" aria-label="76. æœ€å°è¦†ç›–å­ä¸²"><a href="https://leetcode.cn/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a></a></li>
                    <li>
                        <a href="#312-%e6%88%b3%e6%b0%94%e7%90%83httpsleetcodecnproblemsburst-balloons" aria-label="312. æˆ³æ°”çƒ"><a href="https://leetcode.cn/problems/burst-balloons/">312. æˆ³æ°”çƒ</a></a></li>
                    <li>
                        <a href="#301-%e5%88%a0%e9%99%a4%e6%97%a0%e6%95%88%e7%9a%84%e6%8b%ac%e5%8f%b7httpsleetcodecnproblemsremove-invalid-parentheses-1" aria-label="301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·"><a href="https://leetcode.cn/problems/remove-invalid-parentheses/">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a></a></li>
                    <li>
                        <a href="#11-%e7%9b%9b%e6%9c%80%e5%a4%9a%e6%b0%b4%e7%9a%84%e5%ae%b9%e5%99%a8httpsleetcodecnproblemscontainer-with-most-water" aria-label="11. ç››æœ€å¤šæ°´çš„å®¹å™¨"><a href="https://leetcode.cn/problems/container-with-most-water/">11. ç››æœ€å¤šæ°´çš„å®¹å™¨</a></a></li>
                    <li>
                        <a href="#647-%e5%9b%9e%e6%96%87%e5%ad%90%e4%b8%b2httpsleetcodecnproblemspalindromic-substrings" aria-label="647. å›æ–‡å­ä¸²"><a href="https://leetcode.cn/problems/palindromic-substrings/">647. å›æ–‡å­ä¸²</a></a></li>
                    <li>
                        <a href="#93-%e5%a4%8d%e5%8e%9f-ip-%e5%9c%b0%e5%9d%80httpsleetcodecnproblemsrestore-ip-addresses" aria-label="93. å¤åŸ IP åœ°å€"><a href="https://leetcode.cn/problems/restore-ip-addresses/">93. å¤åŸ IP åœ°å€</a></a></li>
                    <li>
                        <a href="#538-%e6%8a%8a%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91%e8%bd%ac%e6%8d%a2%e4%b8%ba%e7%b4%af%e5%8a%a0%e6%a0%91httpsleetcodecnproblemsconvert-bst-to-greater-tree" aria-label="538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘"><a href="https://leetcode.cn/problems/convert-bst-to-greater-tree/">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</a></a></li>
                    <li>
                        <a href="#15-%e4%b8%89%e6%95%b0%e4%b9%8b%e5%92%8chttpsleetcodecnproblems3sum" aria-label="15. ä¸‰æ•°ä¹‹å’Œ"><a href="https://leetcode.cn/problems/3sum/">15. ä¸‰æ•°ä¹‹å’Œ</a></a></li>
                    <li>
                        <a href="#494-%e7%9b%ae%e6%a0%87%e5%92%8chttpsleetcodecnproblemstarget-sum" aria-label="494. ç›®æ ‡å’Œ"><a href="https://leetcode.cn/problems/target-sum/">494. ç›®æ ‡å’Œ</a></a><ul>
                            
                    <li>
                        <a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2" aria-label="è®°å¿†åŒ–æœç´¢">è®°å¿†åŒ–æœç´¢</a></li>
                    <li>
                        <a href="#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" aria-label="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</a></li></ul>
                    </li>
                    <li>
                        <a href="#581-%e6%9c%80%e7%9f%ad%e6%97%a0%e5%ba%8f%e8%bf%9e%e7%bb%ad%e5%ad%90%e6%95%b0%e7%bb%84httpsleetcodecnproblemsshortest-unsorted-continuous-subarray" aria-label="581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"><a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a></a></li>
                    <li>
                        <a href="#416-%e5%88%86%e5%89%b2%e7%ad%89%e5%92%8c%e5%ad%90%e9%9b%86httpsleetcodecnproblemspartition-equal-subset-sum" aria-label="416. åˆ†å‰²ç­‰å’Œå­é›†"><a href="https://leetcode.cn/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a></a></li>
                    <li>
                        <a href="#394-%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%a7%a3%e7%a0%81httpsleetcodecnproblemsdecode-string" aria-label="394. å­—ç¬¦ä¸²è§£ç "><a href="https://leetcode.cn/problems/decode-string/">394. å­—ç¬¦ä¸²è§£ç </a></a></li>
                    <li>
                        <a href="#72-%e7%bc%96%e8%be%91%e8%b7%9d%e7%a6%bbhttpsleetcodecnproblemsedit-distance" aria-label="72. ç¼–è¾‘è·ç¦»"><a href="https://leetcode.cn/problems/edit-distance/">72. ç¼–è¾‘è·ç¦»</a></a><ul>
                            
                    <li>
                        <a href="#%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2-1" aria-label="è®°å¿†åŒ–æœç´¢">è®°å¿†åŒ–æœç´¢</a></li>
                    <li>
                        <a href="#%e9%80%92%e6%8e%a8" aria-label="é€’æ¨">é€’æ¨</a></li></ul>
                    </li>
                    <li>
                        <a href="#96-%e4%b8%8d%e5%90%8c%e7%9a%84%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91httpsleetcodecnproblemsunique-binary-search-trees" aria-label="96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘"><a href="https://leetcode.cn/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></a></li>
                    <li>
                        <a href="#160-%e7%9b%b8%e4%ba%a4%e9%93%be%e8%a1%a8httpsleetcodecnproblemsintersection-of-two-linked-lists" aria-label="160. ç›¸äº¤é“¾è¡¨"><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists/">160. ç›¸äº¤é“¾è¡¨</a></a></li>
                    <li>
                        <a href="#31-%e4%b8%8b%e4%b8%80%e4%b8%aa%e6%8e%92%e5%88%97httpsleetcodecnproblemsnext-permutation" aria-label="31. ä¸‹ä¸€ä¸ªæ’åˆ—"><a href="https://leetcode.cn/problems/next-permutation/">31. ä¸‹ä¸€ä¸ªæ’åˆ—</a></a></li>
                    <li>
                        <a href="#33-%e6%90%9c%e7%b4%a2%e6%97%8b%e8%bd%ac%e6%8e%92%e5%ba%8f%e6%95%b0%e7%bb%84httpsleetcodecnproblemssearch-in-rotated-sorted-array" aria-label="33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a></a></li>
                    <li>
                        <a href="#19-%e5%88%a0%e9%99%a4%e9%93%be%e8%a1%a8%e7%9a%84%e5%80%92%e6%95%b0%e7%ac%ac-n-%e4%b8%aa%e7%bb%93%e7%82%b9httpsleetcodecnproblemsremove-nth-node-from-end-of-list" aria-label="19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></a></li>
                    <li>
                        <a href="#148-%e6%8e%92%e5%ba%8f%e9%93%be%e8%a1%a8httpsleetcodecnproblemssort-list" aria-label="148. æ’åºé“¾è¡¨"><a href="https://leetcode.cn/problems/sort-list/">148. æ’åºé“¾è¡¨</a></a></li>
                    <li>
                        <a href="#581-%e6%9c%80%e7%9f%ad%e6%97%a0%e5%ba%8f%e8%bf%9e%e7%bb%ad%e5%ad%90%e6%95%b0%e7%bb%84httpsleetcodecnproblemsshortest-unsorted-continuous-subarray-1" aria-label="581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"><a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a></a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ba%bf%e6%ae%b5%e6%a0%91" aria-label="çº¿æ®µæ ‘">çº¿æ®µæ ‘</a><ul>
                            
                    <li>
                        <a href="#729-%e6%88%91%e7%9a%84%e6%97%a5%e7%a8%8b%e5%ae%89%e6%8e%92%e8%a1%a8-ihttpsleetcodecnproblemsmy-calendar-i" aria-label="729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I"><a href="https://leetcode.cn/problems/my-calendar-i/">729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I</a></a></li>
                    <li>
                        <a href="#2286-%e4%bb%a5%e7%bb%84%e4%b8%ba%e5%8d%95%e4%bd%8d%e8%ae%a2%e9%9f%b3%e4%b9%90%e4%bc%9a%e7%9a%84%e9%97%a8%e7%a5%a8httpsleetcodecnproblemsbooking-concert-tickets-in-groups" aria-label="2286. ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨"><a href="https://leetcode.cn/problems/booking-concert-tickets-in-groups/">2286. ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨</a></a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e5%85%b6%e4%bb%96%e9%a2%98%e7%9b%ae" aria-label="å…¶ä»–é¢˜ç›®">å…¶ä»–é¢˜ç›®</a><ul>
                            <ul>
                            
                    <li>
                        <a href="#3031-%e5%b0%86%e5%8d%95%e8%af%8d%e6%81%a2%e5%a4%8d%e5%88%9d%e5%a7%8b%e7%8a%b6%e6%80%81%e6%89%80%e9%9c%80%e7%9a%84%e6%9c%80%e7%9f%ad%e6%97%b6%e9%97%b4-iihttpsleetcodecnproblemsminimum-time-to-revert-word-to-initial-state-ii-z%e5%87%bd%e6%95%b0" aria-label="3031. å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ II Zå‡½æ•°"><a href="https://leetcode.cn/problems/minimum-time-to-revert-word-to-initial-state-ii/">3031. å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ II</a> Zå‡½æ•°</a></li>
                    <li>
                        <a href="#5-%e6%9c%80%e9%95%bf%e5%9b%9e%e6%96%87%e5%ad%90%e4%b8%b2httpsleetcodecnproblemslongest-palindromic-substring%e9%a9%ac%e6%8b%89%e8%bd%a6%e7%ae%97%e6%b3%95" aria-label="5. æœ€é•¿å›æ–‡å­ä¸²é©¬æ‹‰è½¦ç®—æ³•"><a href="https://leetcode.cn/problems/longest-palindromic-substring/">5. æœ€é•¿å›æ–‡å­ä¸²</a>é©¬æ‹‰è½¦ç®—æ³•</a>
                    </li>
                </ul>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="leetcodeç¬”è®°">LeetCodeç¬”è®°<a hidden class="anchor" aria-hidden="true" href="#leetcodeç¬”è®°">#</a></h1>
<p>ç›®æ ‡ï¼š2500åˆ†</p>
<h2 id="hot100">HOT100<a hidden class="anchor" aria-hidden="true" href="#hot100">#</a></h2>
<h3 id="301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·httpsleetcodecnproblemsremove-invalid-parentheses"><a href="https://leetcode.cn/problems/remove-invalid-parentheses/">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a><a hidden class="anchor" aria-hidden="true" href="#301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·httpsleetcodecnproblemsremove-invalid-parentheses">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„ï¼š</strong></p>
<p>ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹²æ‹¬å·å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² <code>s</code> ï¼Œåˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆã€‚</p>
<p>è¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> è¿”å›ã€‚</p>
<h4 id="å›æº¯">å›æº¯<a hidden class="anchor" aria-hidden="true" href="#å›æº¯">#</a></h4>
<p><strong>å®ç°æ€è·¯ï¼š</strong></p>
<ol>
<li>
<p><strong>ç»Ÿè®¡æ— æ•ˆæ‹¬å·æ•°é‡ï¼š</strong></p>
<ul>
<li>é¦–å…ˆéå†å­—ç¬¦ä¸²sï¼Œç»Ÿè®¡å·¦æ‹¬å·å’Œå³æ‹¬å·çš„æ•°é‡lå’Œrï¼Œå…¶ä¸­lè¡¨ç¤ºæœªåŒ¹é…çš„å·¦æ‹¬å·æ•°é‡ï¼Œrè¡¨ç¤ºéœ€è¦åˆ é™¤çš„å³æ‹¬å·æ•°é‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>å›æº¯ç®—æ³•ï¼š</strong></p>
<ul>
<li>ç¼–å†™å›æº¯ç®—æ³•æ¥å°è¯•åˆ é™¤ä¸åŒä½ç½®çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æœ‰æ•ˆã€‚</li>
<li>å›æº¯è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„ä»¥ä¸‹æƒ…å†µï¼š
<ul>
<li>å·²ç»åŒ¹é…çš„æ‹¬å·æ•°é‡lnå’Œrnï¼Œä»¥åŠå½“å‰ä½ç½®iã€‚</li>
<li>éå†å­—ç¬¦ä¸²sçš„æ¯ä¸ªå­—ç¬¦ï¼Œå½“é‡åˆ°é‡å¤çš„å­—ç¬¦æ—¶è·³è¿‡ï¼Œä»¥é¿å…é‡å¤ç»“æœã€‚</li>
<li>å¦‚æœå½“å‰å­—ç¬¦ä¸ºå·¦æ‹¬å·å¹¶ä¸”lnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å·¦æ‹¬å·çš„æƒ…å†µï¼Œlnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚</li>
<li>å¦‚æœå½“å‰å­—ç¬¦ä¸ºå³æ‹¬å·å¹¶ä¸”rnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å³æ‹¬å·çš„æƒ…å†µï¼Œrnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š</strong></p>
<ul>
<li>ç¼–å†™è¾…åŠ©å‡½æ•°<code>check</code>æ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆï¼Œå³å·¦å³æ‹¬å·æ•°é‡æ˜¯å¦åŒ¹é…ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›ç»“æœï¼š</strong></p>
<ul>
<li>å°†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ç»“æœæ·»åŠ åˆ°ç»“æœåˆ—è¡¨retä¸­ï¼Œå¹¶è¿”å›ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a class="lnlinks" href="#hl-0-1"> 1</a>
</span><span class="lnt" id="hl-0-2"><a class="lnlinks" href="#hl-0-2"> 2</a>
</span><span class="lnt" id="hl-0-3"><a class="lnlinks" href="#hl-0-3"> 3</a>
</span><span class="lnt" id="hl-0-4"><a class="lnlinks" href="#hl-0-4"> 4</a>
</span><span class="lnt" id="hl-0-5"><a class="lnlinks" href="#hl-0-5"> 5</a>
</span><span class="lnt" id="hl-0-6"><a class="lnlinks" href="#hl-0-6"> 6</a>
</span><span class="lnt" id="hl-0-7"><a class="lnlinks" href="#hl-0-7"> 7</a>
</span><span class="lnt" id="hl-0-8"><a class="lnlinks" href="#hl-0-8"> 8</a>
</span><span class="lnt" id="hl-0-9"><a class="lnlinks" href="#hl-0-9"> 9</a>
</span><span class="lnt" id="hl-0-10"><a class="lnlinks" href="#hl-0-10">10</a>
</span><span class="lnt" id="hl-0-11"><a class="lnlinks" href="#hl-0-11">11</a>
</span><span class="lnt" id="hl-0-12"><a class="lnlinks" href="#hl-0-12">12</a>
</span><span class="lnt" id="hl-0-13"><a class="lnlinks" href="#hl-0-13">13</a>
</span><span class="lnt" id="hl-0-14"><a class="lnlinks" href="#hl-0-14">14</a>
</span><span class="lnt" id="hl-0-15"><a class="lnlinks" href="#hl-0-15">15</a>
</span><span class="lnt" id="hl-0-16"><a class="lnlinks" href="#hl-0-16">16</a>
</span><span class="lnt" id="hl-0-17"><a class="lnlinks" href="#hl-0-17">17</a>
</span><span class="lnt" id="hl-0-18"><a class="lnlinks" href="#hl-0-18">18</a>
</span><span class="lnt" id="hl-0-19"><a class="lnlinks" href="#hl-0-19">19</a>
</span><span class="lnt" id="hl-0-20"><a class="lnlinks" href="#hl-0-20">20</a>
</span><span class="lnt" id="hl-0-21"><a class="lnlinks" href="#hl-0-21">21</a>
</span><span class="lnt" id="hl-0-22"><a class="lnlinks" href="#hl-0-22">22</a>
</span><span class="lnt" id="hl-0-23"><a class="lnlinks" href="#hl-0-23">23</a>
</span><span class="lnt" id="hl-0-24"><a class="lnlinks" href="#hl-0-24">24</a>
</span><span class="lnt" id="hl-0-25"><a class="lnlinks" href="#hl-0-25">25</a>
</span><span class="lnt" id="hl-0-26"><a class="lnlinks" href="#hl-0-26">26</a>
</span><span class="lnt" id="hl-0-27"><a class="lnlinks" href="#hl-0-27">27</a>
</span><span class="lnt" id="hl-0-28"><a class="lnlinks" href="#hl-0-28">28</a>
</span><span class="lnt" id="hl-0-29"><a class="lnlinks" href="#hl-0-29">29</a>
</span><span class="lnt" id="hl-0-30"><a class="lnlinks" href="#hl-0-30">30</a>
</span><span class="lnt" id="hl-0-31"><a class="lnlinks" href="#hl-0-31">31</a>
</span><span class="lnt" id="hl-0-32"><a class="lnlinks" href="#hl-0-32">32</a>
</span><span class="lnt" id="hl-0-33"><a class="lnlinks" href="#hl-0-33">33</a>
</span><span class="lnt" id="hl-0-34"><a class="lnlinks" href="#hl-0-34">34</a>
</span><span class="lnt" id="hl-0-35"><a class="lnlinks" href="#hl-0-35">35</a>
</span><span class="lnt" id="hl-0-36"><a class="lnlinks" href="#hl-0-36">36</a>
</span><span class="lnt" id="hl-0-37"><a class="lnlinks" href="#hl-0-37">37</a>
</span><span class="lnt" id="hl-0-38"><a class="lnlinks" href="#hl-0-38">38</a>
</span><span class="lnt" id="hl-0-39"><a class="lnlinks" href="#hl-0-39">39</a>
</span><span class="lnt" id="hl-0-40"><a class="lnlinks" href="#hl-0-40">40</a>
</span><span class="lnt" id="hl-0-41"><a class="lnlinks" href="#hl-0-41">41</a>
</span><span class="lnt" id="hl-0-42"><a class="lnlinks" href="#hl-0-42">42</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;(&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">l</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">l</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">r</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">l</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;(&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">cnt</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">(</span><span class="n">cnt</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">backtrace</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">ln</span><span class="p">,</span> <span class="n">rn</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">ln</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">rn</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">[:])</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> 
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="n">start</span> <span class="ow">and</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">ln</span><span class="o">+</span><span class="n">rn</span><span class="o">&gt;</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">break</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">ln</span> <span class="ow">and</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;(&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">backtrace</span><span class="p">(</span><span class="n">st</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:],</span> <span class="n">i</span><span class="p">,</span> <span class="n">ln</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">rn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">rn</span> <span class="ow">and</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">backtrace</span><span class="p">(</span><span class="n">st</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:],</span> <span class="n">i</span><span class="p">,</span> <span class="n">ln</span><span class="p">,</span> <span class="n">rn</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">        <span class="n">backtrace</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="å¹¿æœ">å¹¿æœ<a hidden class="anchor" aria-hidden="true" href="#å¹¿æœ">#</a></h4>
<p>è¿™ä¸ªå®ç°ä½¿ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„æ€è·¯æ¥è§£å†³é—®é¢˜ã€‚</p>
<ol>
<li>
<p><strong>BFSæœç´¢ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ä¸€ä¸ªé›†åˆ<code>cur</code>æ¥å­˜å‚¨å½“å‰å±‚çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œåˆå§‹æ—¶å°†è¾“å…¥çš„å­—ç¬¦ä¸²<code>s</code>åŠ å…¥é›†åˆ<code>cur</code>ä¸­ã€‚</li>
<li>åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œéå†å½“å‰é›†åˆ<code>cur</code>ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¦‚æœå…¶ä¸­æœ‰å­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨<code>ret</code>ä¸­ã€‚</li>
<li>å¦‚æœç»“æœåˆ—è¡¨<code>ret</code>ä¸ä¸ºç©ºï¼Œåˆ™è·³å‡ºå¾ªç¯ï¼Œè¡¨ç¤ºå·²ç»æ‰¾åˆ°äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚</li>
<li>å¦‚æœç»“æœåˆ—è¡¨<code>ret</code>ä¸ºç©ºï¼Œåˆ™éœ€è¦ç»§ç»­è¿›è¡Œä¸‹ä¸€è½®æœç´¢ï¼Œå°†å½“å‰é›†åˆ<code>cur</code>ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡åˆ é™¤ä¸€ä¸ªæ‹¬å·çš„æ–¹å¼ï¼Œç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€å±‚å­—ç¬¦ä¸²ï¼ŒåŠ å…¥åˆ°é›†åˆ<code>nxt</code>ä¸­ã€‚</li>
<li>æ›´æ–°å½“å‰é›†åˆ<code>cur</code>ä¸º<code>nxt</code>ï¼Œç»§ç»­ä¸‹ä¸€è½®æœç´¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š</strong></p>
<ul>
<li>å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°<code>check</code>ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</li>
<li>éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œé‡åˆ°å·¦æ‹¬å·æ—¶å¢åŠ è®¡æ•°å™¨<code>cnt</code>ï¼Œé‡åˆ°å³æ‹¬å·æ—¶å¦‚æœ<code>cnt</code>ä¸º0åˆ™è¿”å›Falseï¼ˆè¡¨ç¤ºå³æ‹¬å·æ²¡æœ‰åŒ¹é…çš„å·¦æ‹¬å·ï¼‰ï¼Œå¦åˆ™å‡å°‘<code>cnt</code>ã€‚</li>
<li>æœ€ç»ˆåˆ¤æ–­<code>cnt</code>æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0è¡¨ç¤ºå­—ç¬¦ä¸²æœ‰æ•ˆã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›ç»“æœï¼š</strong></p>
<ul>
<li>è¿”å›ç»“æœåˆ—è¡¨<code>ret</code>ï¼Œå…¶ä¸­å­˜å‚¨äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-1-1"><a class="lnlinks" href="#hl-1-1"> 1</a>
</span><span class="lnt" id="hl-1-2"><a class="lnlinks" href="#hl-1-2"> 2</a>
</span><span class="lnt" id="hl-1-3"><a class="lnlinks" href="#hl-1-3"> 3</a>
</span><span class="lnt" id="hl-1-4"><a class="lnlinks" href="#hl-1-4"> 4</a>
</span><span class="lnt" id="hl-1-5"><a class="lnlinks" href="#hl-1-5"> 5</a>
</span><span class="lnt" id="hl-1-6"><a class="lnlinks" href="#hl-1-6"> 6</a>
</span><span class="lnt" id="hl-1-7"><a class="lnlinks" href="#hl-1-7"> 7</a>
</span><span class="lnt" id="hl-1-8"><a class="lnlinks" href="#hl-1-8"> 8</a>
</span><span class="lnt" id="hl-1-9"><a class="lnlinks" href="#hl-1-9"> 9</a>
</span><span class="lnt" id="hl-1-10"><a class="lnlinks" href="#hl-1-10">10</a>
</span><span class="lnt" id="hl-1-11"><a class="lnlinks" href="#hl-1-11">11</a>
</span><span class="lnt" id="hl-1-12"><a class="lnlinks" href="#hl-1-12">12</a>
</span><span class="lnt" id="hl-1-13"><a class="lnlinks" href="#hl-1-13">13</a>
</span><span class="lnt" id="hl-1-14"><a class="lnlinks" href="#hl-1-14">14</a>
</span><span class="lnt" id="hl-1-15"><a class="lnlinks" href="#hl-1-15">15</a>
</span><span class="lnt" id="hl-1-16"><a class="lnlinks" href="#hl-1-16">16</a>
</span><span class="lnt" id="hl-1-17"><a class="lnlinks" href="#hl-1-17">17</a>
</span><span class="lnt" id="hl-1-18"><a class="lnlinks" href="#hl-1-18">18</a>
</span><span class="lnt" id="hl-1-19"><a class="lnlinks" href="#hl-1-19">19</a>
</span><span class="lnt" id="hl-1-20"><a class="lnlinks" href="#hl-1-20">20</a>
</span><span class="lnt" id="hl-1-21"><a class="lnlinks" href="#hl-1-21">21</a>
</span><span class="lnt" id="hl-1-22"><a class="lnlinks" href="#hl-1-22">22</a>
</span><span class="lnt" id="hl-1-23"><a class="lnlinks" href="#hl-1-23">23</a>
</span><span class="lnt" id="hl-1-24"><a class="lnlinks" href="#hl-1-24">24</a>
</span><span class="lnt" id="hl-1-25"><a class="lnlinks" href="#hl-1-25">25</a>
</span><span class="lnt" id="hl-1-26"><a class="lnlinks" href="#hl-1-26">26</a>
</span><span class="lnt" id="hl-1-27"><a class="lnlinks" href="#hl-1-27">27</a>
</span><span class="lnt" id="hl-1-28"><a class="lnlinks" href="#hl-1-28">28</a>
</span><span class="lnt" id="hl-1-29"><a class="lnlinks" href="#hl-1-29">29</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;(&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">cnt</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">cnt</span><span class="o">==</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">cur</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">s</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="n">nxt</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                        <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;(&#39;</span> <span class="ow">or</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">nxt</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">st</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span> <span class="o">=</span> <span class="n">nxt</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–httpsleetcodecnproblemsserialize-and-deserialize-binary-tree"><a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a><a hidden class="anchor" aria-hidden="true" href="#297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–httpsleetcodecnproblemsserialize-and-deserialize-binary-tree">#</a></h3>
<p>ä¸æ­¢ç¬¬ä¸€æ¬¡é‡åˆ°äº†ã€‚</p>
<ul>
<li>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šåºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œä»è€Œå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ä¸­ï¼Œå¹¶ä¸”é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­ã€‚æœ¬é¢˜è¦æ±‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå³å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å°†å­—ç¬¦ä¸²è½¬æ¢å›åŸå§‹çš„äºŒå‰æ ‘ç»“æ„ã€‚</p>
</li>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
</li>
</ul>
<ol>
<li>åºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ ¹èŠ‚ç‚¹å€¼ä¸å·¦å³å­æ ‘åºåˆ—åŒ–ç»“æœä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œç©ºèŠ‚ç‚¹ç”¨ &lsquo;#&rsquo; è¡¨ç¤ºã€‚</li>
<li>ååºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒå‰æ ‘ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° DerWork()ï¼Œç”¨äºé€’å½’æ„å»ºäºŒå‰æ ‘ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼ŒæŒ‰ç…§å‰åºéå†çš„é¡ºåºï¼Œä¾æ¬¡æå–å­—ç¬¦ä¸²ä¸­çš„èŠ‚ç‚¹å€¼ï¼Œå¹¶æ ¹æ®èŠ‚ç‚¹å€¼æ„å»ºäºŒå‰æ ‘èŠ‚ç‚¹ã€‚å¦‚æœèŠ‚ç‚¹å€¼ä¸º &lsquo;#&rsquo;ï¼Œè¡¨ç¤ºç©ºèŠ‚ç‚¹ï¼Œè¿”å› Noneã€‚å¦åˆ™ï¼Œåˆ›å»ºèŠ‚ç‚¹å¹¶é€’å½’æ„å»ºå…¶å·¦å³å­æ ‘ã€‚</li>
<li>åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ self.s æ¥è®°å½•å½“å‰å¾…å¤„ç†çš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡é€’å½’å¤„ç†åï¼Œå°†å­—ç¬¦ä¸²ä¸­å·²ç»å¤„ç†è¿‡çš„éƒ¨åˆ†å‰”é™¤ï¼Œç»§ç»­å¤„ç†å‰©ä½™éƒ¨åˆ†ã€‚</li>
<li>æœ€ç»ˆè¿”å›æ ¹èŠ‚ç‚¹å³å¯ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-2-1"><a class="lnlinks" href="#hl-2-1"> 1</a>
</span><span class="lnt" id="hl-2-2"><a class="lnlinks" href="#hl-2-2"> 2</a>
</span><span class="lnt" id="hl-2-3"><a class="lnlinks" href="#hl-2-3"> 3</a>
</span><span class="lnt" id="hl-2-4"><a class="lnlinks" href="#hl-2-4"> 4</a>
</span><span class="lnt" id="hl-2-5"><a class="lnlinks" href="#hl-2-5"> 5</a>
</span><span class="lnt" id="hl-2-6"><a class="lnlinks" href="#hl-2-6"> 6</a>
</span><span class="lnt" id="hl-2-7"><a class="lnlinks" href="#hl-2-7"> 7</a>
</span><span class="lnt" id="hl-2-8"><a class="lnlinks" href="#hl-2-8"> 8</a>
</span><span class="lnt" id="hl-2-9"><a class="lnlinks" href="#hl-2-9"> 9</a>
</span><span class="lnt" id="hl-2-10"><a class="lnlinks" href="#hl-2-10">10</a>
</span><span class="lnt" id="hl-2-11"><a class="lnlinks" href="#hl-2-11">11</a>
</span><span class="lnt" id="hl-2-12"><a class="lnlinks" href="#hl-2-12">12</a>
</span><span class="lnt" id="hl-2-13"><a class="lnlinks" href="#hl-2-13">13</a>
</span><span class="lnt" id="hl-2-14"><a class="lnlinks" href="#hl-2-14">14</a>
</span><span class="lnt" id="hl-2-15"><a class="lnlinks" href="#hl-2-15">15</a>
</span><span class="lnt" id="hl-2-16"><a class="lnlinks" href="#hl-2-16">16</a>
</span><span class="lnt" id="hl-2-17"><a class="lnlinks" href="#hl-2-17">17</a>
</span><span class="lnt" id="hl-2-18"><a class="lnlinks" href="#hl-2-18">18</a>
</span><span class="lnt" id="hl-2-19"><a class="lnlinks" href="#hl-2-19">19</a>
</span><span class="lnt" id="hl-2-20"><a class="lnlinks" href="#hl-2-20">20</a>
</span><span class="lnt" id="hl-2-21"><a class="lnlinks" href="#hl-2-21">21</a>
</span><span class="lnt" id="hl-2-22"><a class="lnlinks" href="#hl-2-22">22</a>
</span><span class="lnt" id="hl-2-23"><a class="lnlinks" href="#hl-2-23">23</a>
</span><span class="lnt" id="hl-2-24"><a class="lnlinks" href="#hl-2-24">24</a>
</span><span class="lnt" id="hl-2-25"><a class="lnlinks" href="#hl-2-25">25</a>
</span><span class="lnt" id="hl-2-26"><a class="lnlinks" href="#hl-2-26">26</a>
</span><span class="lnt" id="hl-2-27"><a class="lnlinks" href="#hl-2-27">27</a>
</span><span class="lnt" id="hl-2-28"><a class="lnlinks" href="#hl-2-28">28</a>
</span><span class="lnt" id="hl-2-29"><a class="lnlinks" href="#hl-2-29">29</a>
</span><span class="lnt" id="hl-2-30"><a class="lnlinks" href="#hl-2-30">30</a>
</span><span class="lnt" id="hl-2-31"><a class="lnlinks" href="#hl-2-31">31</a>
</span><span class="lnt" id="hl-2-32"><a class="lnlinks" href="#hl-2-32">32</a>
</span><span class="lnt" id="hl-2-33"><a class="lnlinks" href="#hl-2-33">33</a>
</span><span class="lnt" id="hl-2-34"><a class="lnlinks" href="#hl-2-34">34</a>
</span><span class="lnt" id="hl-2-35"><a class="lnlinks" href="#hl-2-35">35</a>
</span><span class="lnt" id="hl-2-36"><a class="lnlinks" href="#hl-2-36">36</a>
</span><span class="lnt" id="hl-2-37"><a class="lnlinks" href="#hl-2-37">37</a>
</span><span class="lnt" id="hl-2-38"><a class="lnlinks" href="#hl-2-38">38</a>
</span><span class="lnt" id="hl-2-39"><a class="lnlinks" href="#hl-2-39">39</a>
</span><span class="lnt" id="hl-2-40"><a class="lnlinks" href="#hl-2-40">40</a>
</span><span class="lnt" id="hl-2-41"><a class="lnlinks" href="#hl-2-41">41</a>
</span><span class="lnt" id="hl-2-42"><a class="lnlinks" href="#hl-2-42">42</a>
</span><span class="lnt" id="hl-2-43"><a class="lnlinks" href="#hl-2-43">43</a>
</span><span class="lnt" id="hl-2-44"><a class="lnlinks" href="#hl-2-44">44</a>
</span><span class="lnt" id="hl-2-45"><a class="lnlinks" href="#hl-2-45">45</a>
</span><span class="lnt" id="hl-2-46"><a class="lnlinks" href="#hl-2-46">46</a>
</span><span class="lnt" id="hl-2-47"><a class="lnlinks" href="#hl-2-47">47</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="c1"># Definition for a binary tree node.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># class TreeNode(object):</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     def __init__(self, x):</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.val = x</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.left = None</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.right = None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Codec</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Encodes a tree to a single string.
</span></span></span><span class="line"><span class="cl"><span class="s2">        
</span></span></span><span class="line"><span class="cl"><span class="s2">        :type root: TreeNode
</span></span></span><span class="line"><span class="cl"><span class="s2">        :rtype: str
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="s1">&#39;#&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">val</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">left</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">deserialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Decodes your encoded data to tree.
</span></span></span><span class="line"><span class="cl"><span class="s2">        
</span></span></span><span class="line"><span class="cl"><span class="s2">        :type data: str
</span></span></span><span class="line"><span class="cl"><span class="s2">        :rtype: TreeNode
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">data</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DerWork</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">DerWork</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">idx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="k">if</span> <span class="n">idx</span><span class="o">==-</span><span class="mi">1</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[:</span><span class="n">idx</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">idx</span><span class="o">==-</span><span class="mi">1</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">node</span><span class="o">==</span><span class="s1">&#39;#&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DerWork</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DerWork</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">t</span>        
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Your Codec object will be instantiated and called as such:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ser = Codec()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># deser = Codec()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ans = deser.deserialize(ser.serialize(root))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢httpsleetcodecnproblemslargest-rectangle-in-histogram"><a href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a><a hidden class="anchor" aria-hidden="true" href="#84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢httpsleetcodecnproblemslargest-rectangle-in-histogram">#</a></h3>
<ul>
<li>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºçš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚</p>
</li>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
</li>
</ul>
<ol>
<li>ä½¿ç”¨å•è°ƒæ ˆè§£å†³é—®é¢˜ã€‚åˆ›å»ºä¸¤ä¸ªæ•°ç»„ l å’Œ rï¼Œåˆ†åˆ«è®°å½•æ¯ä¸ªæŸ±å­å‘å·¦å’Œå‘å³ç¬¬ä¸€ä¸ªæ¯”å…¶é«˜åº¦å°çš„æŸ±å­çš„ç´¢å¼•ä½ç½®ã€‚</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚</li>
<li>éå†æŸ±å­çš„é«˜åº¦åˆ—è¡¨ heightsï¼š
<ul>
<li>è‹¥æ ˆä¸ä¸ºç©ºä¸”å½“å‰æŸ±å­çš„é«˜åº¦å°äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†æ ˆé¡¶å…ƒç´ å¼¹å‡ºï¼Œå¹¶æ›´æ–°æ ˆé¡¶å…ƒç´ å¯¹åº”çš„ r å€¼ä¸ºå½“å‰æŸ±å­çš„ç´¢å¼•ã€‚</li>
<li>è‹¥æ ˆä¸ºç©ºæˆ–è€…å½“å‰æŸ±å­çš„é«˜åº¦å¤§äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†å½“å‰æŸ±å­çš„ç´¢å¼•å…¥æ ˆã€‚</li>
<li>åœ¨æ›´æ–° r å€¼çš„åŒæ—¶ï¼Œè‹¥æ ˆä¸ä¸ºç©ºï¼Œåˆ™æ›´æ–°å½“å‰æŸ±å­çš„ l å€¼ä¸ºæ ˆé¡¶å…ƒç´ çš„ç´¢å¼•ã€‚</li>
</ul>
</li>
<li>éå†å®Œæˆåï¼Œå¯¹äºæ¯ä¸ªæŸ±å­ iï¼Œè®¡ç®—ä»¥è¯¥æŸ±å­ä¸ºé«˜åº¦çš„çŸ©å½¢é¢ç§¯ä¸º (r[i] - l[i] - 1) * heights[i]ï¼Œå–æœ€å¤§å€¼å³ä¸ºæ‰€æ±‚çš„æœ€å¤§çŸ©å½¢é¢ç§¯ã€‚</li>
<li>è‹¥æŸ±çŠ¶å›¾ä¸ºç©ºï¼Œåˆ™è¿”å› 0ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-3-1"><a class="lnlinks" href="#hl-3-1"> 1</a>
</span><span class="lnt" id="hl-3-2"><a class="lnlinks" href="#hl-3-2"> 2</a>
</span><span class="lnt" id="hl-3-3"><a class="lnlinks" href="#hl-3-3"> 3</a>
</span><span class="lnt" id="hl-3-4"><a class="lnlinks" href="#hl-3-4"> 4</a>
</span><span class="lnt" id="hl-3-5"><a class="lnlinks" href="#hl-3-5"> 5</a>
</span><span class="lnt" id="hl-3-6"><a class="lnlinks" href="#hl-3-6"> 6</a>
</span><span class="lnt" id="hl-3-7"><a class="lnlinks" href="#hl-3-7"> 7</a>
</span><span class="lnt" id="hl-3-8"><a class="lnlinks" href="#hl-3-8"> 8</a>
</span><span class="lnt" id="hl-3-9"><a class="lnlinks" href="#hl-3-9"> 9</a>
</span><span class="lnt" id="hl-3-10"><a class="lnlinks" href="#hl-3-10">10</a>
</span><span class="lnt" id="hl-3-11"><a class="lnlinks" href="#hl-3-11">11</a>
</span><span class="lnt" id="hl-3-12"><a class="lnlinks" href="#hl-3-12">12</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">largestRectangleArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">),</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">stk</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">stk</span> <span class="ow">and</span> <span class="n">heights</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">&gt;=</span><span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">r</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span><span class="n">i</span>
</span></span><span class="line"><span class="cl">                <span class="n">stk</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">stk</span><span class="p">:</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="n">stk</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">)</span> <span class="k">if</span> <span class="n">n</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="85-æœ€å¤§çŸ©å½¢httpsleetcodecnproblemsmaximal-rectangle"><a href="https://leetcode.cn/problems/maximal-rectangle/">85. æœ€å¤§çŸ©å½¢</a><a hidden class="anchor" aria-hidden="true" href="#85-æœ€å¤§çŸ©å½¢httpsleetcodecnproblemsmaximal-rectangle">#</a></h3>
<ul>
<li>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚</p>
</li>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
</li>
</ul>
<ol>
<li>å°†é—®é¢˜è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜ã€‚</li>
<li>å®šä¹‰å˜é‡ area ç”¨äºè®°å½•æœ€å¤§çŸ©å½¢çš„é¢ç§¯ã€‚</li>
<li>åˆ›å»ºäºŒç»´æ•°ç»„ leftï¼Œç”¨äºè®°å½•æ¯ä¸ªä½ç½® (i, j) å·¦ä¾§è¿ç»­ 1 çš„ä¸ªæ•°ã€‚</li>
<li>éå†äºŒç»´çŸ©é˜µï¼Œåˆå§‹åŒ– left æ•°ç»„ï¼š
<ul>
<li>è‹¥å½“å‰ä½ç½®ä¸º &lsquo;1&rsquo;ï¼Œåˆ™ left[i][j] ç­‰äº left[i][j-1] + 1ï¼Œå¦åˆ™ä¸º 0ã€‚</li>
</ul>
</li>
<li>éå†çŸ©é˜µçš„æ¯ä¸€åˆ—ï¼Œå¯¹äºæ¯ä¸€åˆ— jï¼Œä½¿ç”¨å•è°ƒæ ˆæ¥è®¡ç®—ä»¥å½“å‰åˆ—ä¸ºåº•è¾¹çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯ï¼š
<ul>
<li>åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚</li>
<li>å®šä¹‰ä¸¤ä¸ªæ•°ç»„ up å’Œ downï¼Œåˆ†åˆ«è®°å½•å½“å‰ä½ç½®ä¸Šæ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®å’Œä¸‹æ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®ã€‚</li>
<li>éå†çŸ©é˜µçš„æ¯ä¸€è¡Œ iï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š
<ul>
<li>å½“æ ˆä¸ä¸ºç©ºä¸”æ ˆé¡¶ä½ç½®å¯¹åº”çš„ left å€¼å¤§äºç­‰äºå½“å‰ä½ç½®çš„ left å€¼æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶ä½ç½®ï¼Œå¹¶æ›´æ–° down å€¼ã€‚</li>
<li>å¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™å½“å‰ä½ç½®çš„ up å€¼ä¸º -1ï¼Œå¦åˆ™ä¸ºæ ˆé¡¶ä½ç½®ã€‚</li>
<li>å°†å½“å‰è¡Œç´¢å¼•å…¥æ ˆã€‚</li>
</ul>
</li>
<li>åœ¨è®¡ç®—å½“å‰åˆ—çš„çŸ©å½¢é¢ç§¯æ—¶ï¼Œheight ä¸º down[i] - up[i] - 1ï¼Œå®½åº¦ä¸º left[i][j]ï¼Œè®¡ç®—å½“å‰åˆ—çš„æœ€å¤§é¢ç§¯å¹¶æ›´æ–° areaã€‚</li>
</ul>
</li>
<li>è¿”å›æœ€å¤§é¢ç§¯ areaã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-4-1"><a class="lnlinks" href="#hl-4-1"> 1</a>
</span><span class="lnt" id="hl-4-2"><a class="lnlinks" href="#hl-4-2"> 2</a>
</span><span class="lnt" id="hl-4-3"><a class="lnlinks" href="#hl-4-3"> 3</a>
</span><span class="lnt" id="hl-4-4"><a class="lnlinks" href="#hl-4-4"> 4</a>
</span><span class="lnt" id="hl-4-5"><a class="lnlinks" href="#hl-4-5"> 5</a>
</span><span class="lnt" id="hl-4-6"><a class="lnlinks" href="#hl-4-6"> 6</a>
</span><span class="lnt" id="hl-4-7"><a class="lnlinks" href="#hl-4-7"> 7</a>
</span><span class="lnt" id="hl-4-8"><a class="lnlinks" href="#hl-4-8"> 8</a>
</span><span class="lnt" id="hl-4-9"><a class="lnlinks" href="#hl-4-9"> 9</a>
</span><span class="lnt" id="hl-4-10"><a class="lnlinks" href="#hl-4-10">10</a>
</span><span class="lnt" id="hl-4-11"><a class="lnlinks" href="#hl-4-11">11</a>
</span><span class="lnt" id="hl-4-12"><a class="lnlinks" href="#hl-4-12">12</a>
</span><span class="lnt" id="hl-4-13"><a class="lnlinks" href="#hl-4-13">13</a>
</span><span class="lnt" id="hl-4-14"><a class="lnlinks" href="#hl-4-14">14</a>
</span><span class="lnt" id="hl-4-15"><a class="lnlinks" href="#hl-4-15">15</a>
</span><span class="lnt" id="hl-4-16"><a class="lnlinks" href="#hl-4-16">16</a>
</span><span class="lnt" id="hl-4-17"><a class="lnlinks" href="#hl-4-17">17</a>
</span><span class="lnt" id="hl-4-18"><a class="lnlinks" href="#hl-4-18">18</a>
</span><span class="lnt" id="hl-4-19"><a class="lnlinks" href="#hl-4-19">19</a>
</span><span class="lnt" id="hl-4-20"><a class="lnlinks" href="#hl-4-20">20</a>
</span><span class="lnt" id="hl-4-21"><a class="lnlinks" href="#hl-4-21">21</a>
</span><span class="lnt" id="hl-4-22"><a class="lnlinks" href="#hl-4-22">22</a>
</span><span class="lnt" id="hl-4-23"><a class="lnlinks" href="#hl-4-23">23</a>
</span><span class="lnt" id="hl-4-24"><a class="lnlinks" href="#hl-4-24">24</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">maximalRectangle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">left</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">m</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;1&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span> <span class="k">if</span> <span class="n">j</span> <span class="k">else</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">stk</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">            <span class="n">up</span><span class="p">,</span> <span class="n">down</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">#è¡Œ</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="n">stk</span> <span class="ow">and</span> <span class="n">left</span><span class="p">[</span> <span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">down</span><span class="p">[</span><span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">                    <span class="n">stk</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stk</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">stk</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">stk</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">height</span> <span class="o">=</span> <span class="n">down</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">area</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">area</span><span class="p">,</span> <span class="n">height</span><span class="o">*</span><span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">area</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="76-æœ€å°è¦†ç›–å­ä¸²httpsleetcodecnproblemsminimum-window-substring"><a href="https://leetcode.cn/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a><a hidden class="anchor" aria-hidden="true" href="#76-æœ€å°è¦†ç›–å­ä¸²httpsleetcodecnproblemsminimum-window-substring">#</a></h3>
<ul>
<li>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šå­—ç¬¦ä¸² s å’Œå­—ç¬¦ä¸² tï¼Œè¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² &ldquo;&quot;ã€‚</p>
<ul>
<li>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>
<p>å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œå­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</p>
</li>
<li>
<p>å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
</li>
</ul>
<ol>
<li>ä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£è§£å†³é—®é¢˜ã€‚</li>
<li>åˆå§‹åŒ– need å­—å…¸ï¼Œç”¨äºè®°å½•å­—ç¬¦ä¸² t ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚</li>
<li>åˆå§‹åŒ– needCnt ä¸º t çš„é•¿åº¦ mï¼Œè¡¨ç¤ºè¿˜éœ€è¦çš„å­—ç¬¦æ•°é‡ã€‚</li>
<li>åˆå§‹åŒ–å·¦æŒ‡é’ˆ left ä¸º 0ï¼Œå¹¶åˆå§‹åŒ–ç»“æœå˜é‡ res ä¸ºä¸€ä¸ªé•¿åº¦ä¸º n çš„åŒºé—´ï¼Œåˆå§‹å€¼ä¸º (0, n)ã€‚</li>
<li>éå†å­—ç¬¦ä¸² tï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¹¶å­˜å‚¨åœ¨ need å­—å…¸ä¸­ã€‚</li>
<li>éå†å­—ç¬¦ä¸² sï¼Œä½¿ç”¨å³æŒ‡é’ˆ right éå†æ¯ä¸ªå­—ç¬¦ï¼š
<ul>
<li>è‹¥å½“å‰å­—ç¬¦åœ¨ t ä¸­å‡ºç°ï¼Œåˆ™ needCnt å‡ 1ã€‚</li>
<li>æ›´æ–° need å­—å…¸ä¸­å½“å‰å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚</li>
<li>è‹¥ needCnt ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰çª—å£åŒ…å«äº† t ä¸­æ‰€æœ‰å­—ç¬¦ï¼Œè¿›å…¥å†…éƒ¨å¾ªç¯ï¼š
<ul>
<li>ç§»åŠ¨å·¦æŒ‡é’ˆ leftï¼Œç›´åˆ°å½“å‰çª—å£ä¸å†æ»¡è¶³æ¡ä»¶ï¼ˆå³ need å­—å…¸ä¸­æŸä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¤§äº 0ï¼‰ã€‚</li>
<li>æ›´æ–°ç»“æœå˜é‡ resã€‚</li>
<li>æ¢å¤å·¦æŒ‡é’ˆ left å’Œ needCntã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è¿”å›ç»“æœå­—ç¬¦ä¸²ï¼Œè‹¥ç»“æœåŒºé—´è¶…å‡º s çš„èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-5-1"><a class="lnlinks" href="#hl-5-1"> 1</a>
</span><span class="lnt" id="hl-5-2"><a class="lnlinks" href="#hl-5-2"> 2</a>
</span><span class="lnt" id="hl-5-3"><a class="lnlinks" href="#hl-5-3"> 3</a>
</span><span class="lnt" id="hl-5-4"><a class="lnlinks" href="#hl-5-4"> 4</a>
</span><span class="lnt" id="hl-5-5"><a class="lnlinks" href="#hl-5-5"> 5</a>
</span><span class="lnt" id="hl-5-6"><a class="lnlinks" href="#hl-5-6"> 6</a>
</span><span class="lnt" id="hl-5-7"><a class="lnlinks" href="#hl-5-7"> 7</a>
</span><span class="lnt" id="hl-5-8"><a class="lnlinks" href="#hl-5-8"> 8</a>
</span><span class="lnt" id="hl-5-9"><a class="lnlinks" href="#hl-5-9"> 9</a>
</span><span class="lnt" id="hl-5-10"><a class="lnlinks" href="#hl-5-10">10</a>
</span><span class="lnt" id="hl-5-11"><a class="lnlinks" href="#hl-5-11">11</a>
</span><span class="lnt" id="hl-5-12"><a class="lnlinks" href="#hl-5-12">12</a>
</span><span class="lnt" id="hl-5-13"><a class="lnlinks" href="#hl-5-13">13</a>
</span><span class="lnt" id="hl-5-14"><a class="lnlinks" href="#hl-5-14">14</a>
</span><span class="lnt" id="hl-5-15"><a class="lnlinks" href="#hl-5-15">15</a>
</span><span class="lnt" id="hl-5-16"><a class="lnlinks" href="#hl-5-16">16</a>
</span><span class="lnt" id="hl-5-17"><a class="lnlinks" href="#hl-5-17">17</a>
</span><span class="lnt" id="hl-5-18"><a class="lnlinks" href="#hl-5-18">18</a>
</span><span class="lnt" id="hl-5-19"><a class="lnlinks" href="#hl-5-19">19</a>
</span><span class="lnt" id="hl-5-20"><a class="lnlinks" href="#hl-5-20">20</a>
</span><span class="lnt" id="hl-5-21"><a class="lnlinks" href="#hl-5-21">21</a>
</span><span class="lnt" id="hl-5-22"><a class="lnlinks" href="#hl-5-22">22</a>
</span><span class="lnt" id="hl-5-23"><a class="lnlinks" href="#hl-5-23">23</a>
</span><span class="lnt" id="hl-5-24"><a class="lnlinks" href="#hl-5-24">24</a>
</span><span class="lnt" id="hl-5-25"><a class="lnlinks" href="#hl-5-25">25</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">need</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">needCnt</span> <span class="o">=</span> <span class="n">m</span>    
</span></span><span class="line"><span class="cl">        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">need</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">right</span><span class="p">,</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">need</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">needCnt</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">need</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">needCnt</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="n">need</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">]]</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">need</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">]]</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">right</span><span class="o">-</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">need</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">]]</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">needCnt</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">s</span><span class="p">[</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="312-æˆ³æ°”çƒhttpsleetcodecnproblemsburst-balloons"><a href="https://leetcode.cn/problems/burst-balloons/">312. æˆ³æ°”çƒ</a><a hidden class="anchor" aria-hidden="true" href="#312-æˆ³æ°”çƒhttpsleetcodecnproblemsburst-balloons">#</a></h3>
<ul>
<li><strong>é¢˜æ„</strong>ï¼šç»™å®šnä¸ªæ•°å­—<code>num[0~n-1]</code>,æ¯æ¬¡æˆ³ç ´ä¸€ä¸ªæ°”çƒå¯ä»¥è·å¾—<code>nums[i-1]*nums[i]*nums[i+1]</code>ä¸ªç¡¬å¸ï¼Œæœ€ä¸¤æ—é»˜è®¤ä¸º1ï¼Œé—®æœ€ç»ˆè·å¾—çš„æœ€å¤§ç¡¬å¸æ•°é‡ã€‚</li>
<li><strong>æ€è·¯</strong>ï¼šåŒºé—´DPï¼Œé€†å‘æ€ç»´, æ€è€ƒå¦‚ä½•æ”¾æ°”çƒèƒ½ä½¿ç¡¬å¸æœ€å¤§ï¼Œ<code>f[i][j]</code>ä»£è¡¨<strong>å¼€åŒºé—´</strong><code>i~j</code>å¯ä»¥è·å¾—çš„æœ€å¤§ç¡¬å¸ï¼Œ å…ˆæšä¸¾å°åŒºé—´ï¼Œå†æšä¸¾å¤§åŒºé—´ï¼Œæšä¸¾åŒºé—´å†…æ¯ä¸ªæ•°å­—ï¼ŒçŠ¶æ€è½¬ç§»æœ‰ï¼š<code>f[i][j] = max(f[i][j], f[i][k]+f[k][j]+nums[i]*nums[k]*nums[j])</code>ã€‚æœ€ç»ˆè¾“å‡º<code>f[0][n+1]</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-6-1"><a class="lnlinks" href="#hl-6-1"> 1</a>
</span><span class="lnt" id="hl-6-2"><a class="lnlinks" href="#hl-6-2"> 2</a>
</span><span class="lnt" id="hl-6-3"><a class="lnlinks" href="#hl-6-3"> 3</a>
</span><span class="lnt" id="hl-6-4"><a class="lnlinks" href="#hl-6-4"> 4</a>
</span><span class="lnt" id="hl-6-5"><a class="lnlinks" href="#hl-6-5"> 5</a>
</span><span class="lnt" id="hl-6-6"><a class="lnlinks" href="#hl-6-6"> 6</a>
</span><span class="lnt" id="hl-6-7"><a class="lnlinks" href="#hl-6-7"> 7</a>
</span><span class="lnt" id="hl-6-8"><a class="lnlinks" href="#hl-6-8"> 8</a>
</span><span class="lnt" id="hl-6-9"><a class="lnlinks" href="#hl-6-9"> 9</a>
</span><span class="lnt" id="hl-6-10"><a class="lnlinks" href="#hl-6-10">10</a>
</span><span class="lnt" id="hl-6-11"><a class="lnlinks" href="#hl-6-11">11</a>
</span><span class="lnt" id="hl-6-12"><a class="lnlinks" href="#hl-6-12">12</a>
</span><span class="lnt" id="hl-6-13"><a class="lnlinks" href="#hl-6-13">13</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">maxCoins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># å¼€åŒºé—´ (left, right) åŒºé—´å†…èƒ½è·å¾—çš„æœ€å¤§ç¡¬å¸</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">):</span> <span class="c1"># len:2~n+1</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="c1"># left:0~n+1-len</span>
</span></span><span class="line"><span class="cl">                <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="n">l</span> <span class="c1"># right = left + len</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span> <span class="c1"># å¼€åŒºé—´(i,j) å³[i+1, j-1]</span>
</span></span><span class="line"><span class="cl">                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·httpsleetcodecnproblemsremove-invalid-parentheses-1"><a href="https://leetcode.cn/problems/remove-invalid-parentheses/">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a><a hidden class="anchor" aria-hidden="true" href="#301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·httpsleetcodecnproblemsremove-invalid-parentheses-1">#</a></h3>
<ul>
<li>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªç”±å­—æ¯å’Œæ‹¬å·ç»„æˆçš„å­—ç¬¦ä¸²sï¼Œè¦æ±‚åˆ é™¤æœ€å°æ•°é‡çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æˆä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆï¼Œå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚</p>
</li>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ol>
<li>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°check(st)ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²stæ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆã€‚éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨cntï¼Œé‡åˆ°å·¦æ‹¬å·å¢åŠ è®¡æ•°ï¼Œé‡åˆ°å³æ‹¬å·å‡å°‘è®¡æ•°ï¼Œè‹¥å‡ºç°cntä¸ºè´Ÿæ•°ï¼Œæˆ–è€…éå†ç»“æŸåcntä¸ä¸º0ï¼Œåˆ™è¯´æ˜æ‹¬å·ä¸åŒ¹é…ï¼Œè¿”å›Falseï¼Œå¦åˆ™è¿”å›Trueã€‚</p>
</li>
<li>
<p>åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨retï¼Œç”¨äºå­˜å‚¨ç»“æœã€‚</p>
</li>
<li>
<p>åˆå§‹åŒ–ä¸€ä¸ªé›†åˆcurï¼Œåˆå§‹æ—¶å°†è¾“å…¥å­—ç¬¦ä¸²sä½œä¸ºå”¯ä¸€å…ƒç´ åŠ å…¥å…¶ä¸­ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨whileå¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœä¸ºæ­¢ï¼š</p>
<ul>
<li>
<p>éå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸ºæœ‰æ•ˆæ‹¬å·ç»„åˆï¼Œè‹¥æ˜¯åˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retã€‚</p>
</li>
<li>
<p>è‹¥ç»“æœåˆ—è¡¨retä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜å·²æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœï¼Œç»“æŸå¾ªç¯ã€‚</p>
</li>
<li>
<p>å¦åˆ™ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç©ºé›†åˆnxtï¼Œç”¨äºå­˜å‚¨ä¸‹ä¸€è½®è¿­ä»£çš„å€™é€‰å­—ç¬¦ä¸²é›†åˆã€‚</p>
</li>
<li>
<p>éå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå°è¯•åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ˆæ‹¬å·ï¼‰ï¼Œç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åŠ å…¥nxtä¸­ã€‚</p>
</li>
<li>
<p>æ›´æ–°curä¸ºnxtï¼Œç»§ç»­ä¸‹ä¸€è½®è¿­ä»£ã€‚</p>
</li>
</ul>
</li>
<li>
<p>è¿”å›ç»“æœåˆ—è¡¨retã€‚</p>
</li>
</ol>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-7-1"><a class="lnlinks" href="#hl-7-1"> 1</a>
</span><span class="lnt" id="hl-7-2"><a class="lnlinks" href="#hl-7-2"> 2</a>
</span><span class="lnt" id="hl-7-3"><a class="lnlinks" href="#hl-7-3"> 3</a>
</span><span class="lnt" id="hl-7-4"><a class="lnlinks" href="#hl-7-4"> 4</a>
</span><span class="lnt" id="hl-7-5"><a class="lnlinks" href="#hl-7-5"> 5</a>
</span><span class="lnt" id="hl-7-6"><a class="lnlinks" href="#hl-7-6"> 6</a>
</span><span class="lnt" id="hl-7-7"><a class="lnlinks" href="#hl-7-7"> 7</a>
</span><span class="lnt" id="hl-7-8"><a class="lnlinks" href="#hl-7-8"> 8</a>
</span><span class="lnt" id="hl-7-9"><a class="lnlinks" href="#hl-7-9"> 9</a>
</span><span class="lnt" id="hl-7-10"><a class="lnlinks" href="#hl-7-10">10</a>
</span><span class="lnt" id="hl-7-11"><a class="lnlinks" href="#hl-7-11">11</a>
</span><span class="lnt" id="hl-7-12"><a class="lnlinks" href="#hl-7-12">12</a>
</span><span class="lnt" id="hl-7-13"><a class="lnlinks" href="#hl-7-13">13</a>
</span><span class="lnt" id="hl-7-14"><a class="lnlinks" href="#hl-7-14">14</a>
</span><span class="lnt" id="hl-7-15"><a class="lnlinks" href="#hl-7-15">15</a>
</span><span class="lnt" id="hl-7-16"><a class="lnlinks" href="#hl-7-16">16</a>
</span><span class="lnt" id="hl-7-17"><a class="lnlinks" href="#hl-7-17">17</a>
</span><span class="lnt" id="hl-7-18"><a class="lnlinks" href="#hl-7-18">18</a>
</span><span class="lnt" id="hl-7-19"><a class="lnlinks" href="#hl-7-19">19</a>
</span><span class="lnt" id="hl-7-20"><a class="lnlinks" href="#hl-7-20">20</a>
</span><span class="lnt" id="hl-7-21"><a class="lnlinks" href="#hl-7-21">21</a>
</span><span class="lnt" id="hl-7-22"><a class="lnlinks" href="#hl-7-22">22</a>
</span><span class="lnt" id="hl-7-23"><a class="lnlinks" href="#hl-7-23">23</a>
</span><span class="lnt" id="hl-7-24"><a class="lnlinks" href="#hl-7-24">24</a>
</span><span class="lnt" id="hl-7-25"><a class="lnlinks" href="#hl-7-25">25</a>
</span><span class="lnt" id="hl-7-26"><a class="lnlinks" href="#hl-7-26">26</a>
</span><span class="lnt" id="hl-7-27"><a class="lnlinks" href="#hl-7-27">27</a>
</span><span class="lnt" id="hl-7-28"><a class="lnlinks" href="#hl-7-28">28</a>
</span><span class="lnt" id="hl-7-29"><a class="lnlinks" href="#hl-7-29">29</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;(&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">cnt</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cnt</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">cnt</span><span class="o">==</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">cur</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">s</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">check</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="n">nxt</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                        <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;(&#39;</span> <span class="ow">or</span> <span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;)&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">nxt</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">st</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span> <span class="o">=</span> <span class="n">nxt</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="11-ç››æœ€å¤šæ°´çš„å®¹å™¨httpsleetcodecnproblemscontainer-with-most-water"><a href="https://leetcode.cn/problems/container-with-most-water/">11. ç››æœ€å¤šæ°´çš„å®¹å™¨</a><a hidden class="anchor" aria-hidden="true" href="#11-ç››æœ€å¤šæ°´çš„å®¹å™¨httpsleetcodecnproblemscontainer-with-most-water">#</a></h3>
<ul>
<li>
<p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„<code>height</code>ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€æ¡å‚ç›´çº¿çš„é«˜åº¦ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸xè½´æ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p>
</li>
<li>
<p>å®ç°æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚åˆå§‹åŒ–å·¦æŒ‡é’ˆlæŒ‡å‘æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼Œå³æŒ‡é’ˆræŒ‡å‘æ•°ç»„çš„æœ«å°¾ä½ç½®ã€‚è®¾ç½®å˜é‡<code>ret</code>ç”¨äºè®°å½•å½“å‰æœ€å¤§å®¹é‡ï¼Œåˆå§‹åŒ–ä¸º<code>0</code>ã€‚åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œè®¡ç®—å½“å‰å®¹å™¨çš„å®¹é‡ï¼Œå³<code>min(height[l], height[r])</code>ä¹˜ä»¥rå’Œlä¹‹é—´çš„è·ç¦»ï¼Œæ›´æ–°<code>ret</code>ã€‚ç„¶åæ ¹æ®æŒ‡é’ˆæ‰€æŒ‡å‘çš„é«˜åº¦çš„å¤§å°ï¼Œç§»åŠ¨æŒ‡é’ˆï¼Œå¦‚æœ<code>height[l]&lt;height[r]</code>ï¼Œåˆ™ç§»åŠ¨å·¦æŒ‡é’ˆlå‘å³ä¸€æ­¥ï¼Œå¦åˆ™ç§»åŠ¨å³æŒ‡é’ˆrå‘å·¦ä¸€æ­¥ã€‚ç›´åˆ°å·¦å³æŒ‡é’ˆç›¸é‡ï¼Œå¾ªç¯ç»“æŸï¼Œè¿”å›retå³å¯ã€‚</p>
<ul>
<li>æ­£ç¡®æ€§è¯æ˜ï¼š å¯¹äºå·¦å³ç«¯ç‚¹ $ l, r$ï¼Œ ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ä¸º$len = r-l+1-1$(å› ä¸ºä¸¤ä¸ªç‚¹ä¹‹é—´ç®—ä¸€æ®µï¼Œæ‰€ä»¥é•¿åº¦è¦å‡ä¸€)ï¼Œ$ ret = (r-l)*min(height[l], height[r])$,å‡è®¾ $height[l]&lt;height[r]$, å¯¹äºå·¦ç«¯ç‚¹ï¼Œå…¶ä½œä¸ºæŸ±å­èƒ½å®¹çº³çš„æœ€å¤šçš„æ°´çš„æ•°é‡å·²ç»ä¸ºæœ€å¤§å€¼ï¼Œä»»æ„çš„ $l&lt;x&lt;r$ ä½œä¸ºå³ç«¯ç‚¹ä¸€å®šæ¯”$r$åšç«¯ç‚¹æ›´å·®ï¼Œæ‰€ä»¥å¯ä»¥æ’é™¤å·¦ç«¯ç‚¹$l$ï¼Œè®¡ç®—ä¸‹ä¸€ç‚¹å³$l+1$ã€‚ä»å·¦å³ç«¯ç‚¹å¼€å§‹ï¼Œå¯¹äºæ¯æ¬¡æ’é™¤çš„ç‚¹ï¼Œå·²ç»æ‰¾åˆ°è¿™ä¸ªç«¯ç‚¹å¯èƒ½çš„æœ€å¤§å€¼ï¼Œ æ‰€ä»¥å¯ä»¥ä¿è¯ç»“æœçš„æ­£ç¡®æ€§ã€‚</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-8-1"><a class="lnlinks" href="#hl-8-1"> 1</a>
</span><span class="lnt" id="hl-8-2"><a class="lnlinks" href="#hl-8-2"> 2</a>
</span><span class="lnt" id="hl-8-3"><a class="lnlinks" href="#hl-8-3"> 3</a>
</span><span class="lnt" id="hl-8-4"><a class="lnlinks" href="#hl-8-4"> 4</a>
</span><span class="lnt" id="hl-8-5"><a class="lnlinks" href="#hl-8-5"> 5</a>
</span><span class="lnt" id="hl-8-6"><a class="lnlinks" href="#hl-8-6"> 6</a>
</span><span class="lnt" id="hl-8-7"><a class="lnlinks" href="#hl-8-7"> 7</a>
</span><span class="lnt" id="hl-8-8"><a class="lnlinks" href="#hl-8-8"> 8</a>
</span><span class="lnt" id="hl-8-9"><a class="lnlinks" href="#hl-8-9"> 9</a>
</span><span class="lnt" id="hl-8-10"><a class="lnlinks" href="#hl-8-10">10</a>
</span><span class="lnt" id="hl-8-11"><a class="lnlinks" href="#hl-8-11">11</a>
</span><span class="lnt" id="hl-8-12"><a class="lnlinks" href="#hl-8-12">12</a>
</span><span class="lnt" id="hl-8-13"><a class="lnlinks" href="#hl-8-13">13</a>
</span><span class="lnt" id="hl-8-14"><a class="lnlinks" href="#hl-8-14">14</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">maxArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">l</span><span class="o">&lt;</span><span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">ret</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="n">ret</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="p">)</span><span class="o">*</span><span class="nb">min</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">])</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">&lt;</span><span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">l</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">elif</span> <span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">&gt;</span><span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">r</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">l</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">r</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="647-å›æ–‡å­ä¸²httpsleetcodecnproblemspalindromic-substrings"><a href="https://leetcode.cn/problems/palindromic-substrings/">647. å›æ–‡å­ä¸²</a><a hidden class="anchor" aria-hidden="true" href="#647-å›æ–‡å­ä¸²httpsleetcodecnproblemspalindromic-substrings">#</a></h3>
<p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œç»Ÿè®¡å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ä¸­å›æ–‡å­ä¸²çš„æ•°ç›®ã€‚å›æ–‡å­—ç¬¦ä¸²æ˜¯æŒ‡æ­£ç€è¯»å’Œå€’è¿‡æ¥è¯»ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚å­å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²ä¸­çš„ç”±è¿ç»­å­—ç¬¦ç»„æˆçš„ä¸€ä¸ªåºåˆ—ã€‚å³ä½¿æ˜¯ç”±ç›¸åŒå­—ç¬¦ç»„æˆçš„ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚</p>
<p>å®ç°æ€è·¯ï¼šéå†å­—ç¬¦ä¸²sçš„æ‰€æœ‰å¯èƒ½çš„ä¸­å¿ƒä½ç½®ï¼Œå¯¹äºæ¯ä¸ªä¸­å¿ƒä½ç½®ï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚åœ¨æ‰©å±•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯å½“å‘ç°ä¸€ä¸ªå›æ–‡å­ä¸²ï¼Œå°±å°†è®¡æ•°å™¨åŠ 1ã€‚æœ€ç»ˆè¿”å›è®¡æ•°å™¨çš„å€¼å³å¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-9-1"><a class="lnlinks" href="#hl-9-1"> 1</a>
</span><span class="lnt" id="hl-9-2"><a class="lnlinks" href="#hl-9-2"> 2</a>
</span><span class="lnt" id="hl-9-3"><a class="lnlinks" href="#hl-9-3"> 3</a>
</span><span class="lnt" id="hl-9-4"><a class="lnlinks" href="#hl-9-4"> 4</a>
</span><span class="lnt" id="hl-9-5"><a class="lnlinks" href="#hl-9-5"> 5</a>
</span><span class="lnt" id="hl-9-6"><a class="lnlinks" href="#hl-9-6"> 6</a>
</span><span class="lnt" id="hl-9-7"><a class="lnlinks" href="#hl-9-7"> 7</a>
</span><span class="lnt" id="hl-9-8"><a class="lnlinks" href="#hl-9-8"> 8</a>
</span><span class="lnt" id="hl-9-9"><a class="lnlinks" href="#hl-9-9"> 9</a>
</span><span class="lnt" id="hl-9-10"><a class="lnlinks" href="#hl-9-10">10</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">countSubstrings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">i</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">l</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">r</span><span class="o">&lt;</span><span class="n">n</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">==</span><span class="n">s</span><span class="p">[</span><span class="n">r</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">l</span><span class="o">-=</span><span class="mi">1</span><span class="p">;</span> <span class="n">r</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">ans</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ans</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="93-å¤åŸ-ip-åœ°å€httpsleetcodecnproblemsrestore-ip-addresses"><a href="https://leetcode.cn/problems/restore-ip-addresses/">93. å¤åŸ IP åœ°å€</a><a hidden class="anchor" aria-hidden="true" href="#93-å¤åŸ-ip-åœ°å€httpsleetcodecnproblemsrestore-ip-addresses">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²sï¼Œè¡¨ç¤ºä¸€ä¸ªIPåœ°å€ï¼Œè¦æ±‚è¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆIPåœ°å€ï¼Œå³æ¯ä¸ªIPåœ°å€ç”±å››ä¸ªæ•´æ•°ç»„æˆï¼ˆæ¯ä¸ªæ•´æ•°ä½äº0åˆ°255ä¹‹é—´ï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼0ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨&rsquo;.&lsquo;åˆ†éš”ã€‚ä¸èƒ½é‡æ–°æ’åºæˆ–åˆ é™¤sä¸­çš„ä»»ä½•æ•°å­—ï¼Œå¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ç®—æ³•ï¼Œé€’å½’åœ°æœç´¢æ‰€æœ‰å¯èƒ½çš„IPåœ°å€ç»„åˆã€‚åœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆç¡®å®šæ¯ä¸ªæ•´æ•°çš„èŒƒå›´ï¼Œç„¶åéå†å¯èƒ½çš„æ•°å­—ç»„åˆï¼Œé€æ­¥æ„å»ºIPåœ°å€ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯å·²ç»æ‰¾åˆ°äº†å››ä¸ªæ•´æ•°å¹¶ä¸”å·²ç»éå†å®Œäº†æ•´ä¸ªå­—ç¬¦ä¸²sã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-10-1"><a class="lnlinks" href="#hl-10-1"> 1</a>
</span><span class="lnt" id="hl-10-2"><a class="lnlinks" href="#hl-10-2"> 2</a>
</span><span class="lnt" id="hl-10-3"><a class="lnlinks" href="#hl-10-3"> 3</a>
</span><span class="lnt" id="hl-10-4"><a class="lnlinks" href="#hl-10-4"> 4</a>
</span><span class="lnt" id="hl-10-5"><a class="lnlinks" href="#hl-10-5"> 5</a>
</span><span class="lnt" id="hl-10-6"><a class="lnlinks" href="#hl-10-6"> 6</a>
</span><span class="lnt" id="hl-10-7"><a class="lnlinks" href="#hl-10-7"> 7</a>
</span><span class="lnt" id="hl-10-8"><a class="lnlinks" href="#hl-10-8"> 8</a>
</span><span class="lnt" id="hl-10-9"><a class="lnlinks" href="#hl-10-9"> 9</a>
</span><span class="lnt" id="hl-10-10"><a class="lnlinks" href="#hl-10-10">10</a>
</span><span class="lnt" id="hl-10-11"><a class="lnlinks" href="#hl-10-11">11</a>
</span><span class="lnt" id="hl-10-12"><a class="lnlinks" href="#hl-10-12">12</a>
</span><span class="lnt" id="hl-10-13"><a class="lnlinks" href="#hl-10-13">13</a>
</span><span class="lnt" id="hl-10-14"><a class="lnlinks" href="#hl-10-14">14</a>
</span><span class="lnt" id="hl-10-15"><a class="lnlinks" href="#hl-10-15">15</a>
</span><span class="lnt" id="hl-10-16"><a class="lnlinks" href="#hl-10-16">16</a>
</span><span class="lnt" id="hl-10-17"><a class="lnlinks" href="#hl-10-17">17</a>
</span><span class="lnt" id="hl-10-18"><a class="lnlinks" href="#hl-10-18">18</a>
</span><span class="lnt" id="hl-10-19"><a class="lnlinks" href="#hl-10-19">19</a>
</span><span class="lnt" id="hl-10-20"><a class="lnlinks" href="#hl-10-20">20</a>
</span><span class="lnt" id="hl-10-21"><a class="lnlinks" href="#hl-10-21">21</a>
</span><span class="lnt" id="hl-10-22"><a class="lnlinks" href="#hl-10-22">22</a>
</span><span class="lnt" id="hl-10-23"><a class="lnlinks" href="#hl-10-23">23</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">restoreIpAddresses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">4</span> <span class="ow">or</span> <span class="n">start</span><span class="o">==</span><span class="n">n</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">4</span> <span class="ow">and</span> <span class="n">start</span><span class="o">==</span><span class="n">n</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">addr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> 
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;0&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">addr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> 
</span></span><span class="line"><span class="cl">            <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">addr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>           
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="538-æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘httpsleetcodecnproblemsconvert-bst-to-greater-tree"><a href="https://leetcode.cn/problems/convert-bst-to-greater-tree/">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</a><a hidden class="anchor" aria-hidden="true" href="#538-æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘httpsleetcodecnproblemsconvert-bst-to-greater-tree">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äºè¯¥èŠ‚ç‚¹å€¼çš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-11-1"><a class="lnlinks" href="#hl-11-1"> 1</a>
</span><span class="lnt" id="hl-11-2"><a class="lnlinks" href="#hl-11-2"> 2</a>
</span><span class="lnt" id="hl-11-3"><a class="lnlinks" href="#hl-11-3"> 3</a>
</span><span class="lnt" id="hl-11-4"><a class="lnlinks" href="#hl-11-4"> 4</a>
</span><span class="lnt" id="hl-11-5"><a class="lnlinks" href="#hl-11-5"> 5</a>
</span><span class="lnt" id="hl-11-6"><a class="lnlinks" href="#hl-11-6"> 6</a>
</span><span class="lnt" id="hl-11-7"><a class="lnlinks" href="#hl-11-7"> 7</a>
</span><span class="lnt" id="hl-11-8"><a class="lnlinks" href="#hl-11-8"> 8</a>
</span><span class="lnt" id="hl-11-9"><a class="lnlinks" href="#hl-11-9"> 9</a>
</span><span class="lnt" id="hl-11-10"><a class="lnlinks" href="#hl-11-10">10</a>
</span><span class="lnt" id="hl-11-11"><a class="lnlinks" href="#hl-11-11">11</a>
</span><span class="lnt" id="hl-11-12"><a class="lnlinks" href="#hl-11-12">12</a>
</span><span class="lnt" id="hl-11-13"><a class="lnlinks" href="#hl-11-13">13</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">convertBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">nonlocal</span> <span class="n">s</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="n">dfs</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">s</span> <span class="o">+=</span> <span class="n">r</span><span class="o">.</span><span class="n">val</span>
</span></span><span class="line"><span class="cl">            <span class="n">r</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">s</span> 
</span></span><span class="line"><span class="cl">            <span class="n">dfs</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">left</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">root</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å®ç°æ€è·¯</strong>ï¼š**(Morris éå†)**ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé‡‡ç”¨åå‘ä¸­åºéå†ï¼ˆå³-æ ¹-å·¦ï¼‰çš„æ–¹å¼è¿›è¡Œéå†ã€‚åˆ©ç”¨ä¸€ä¸ªå˜é‡ s è®°å½•ç´¯åŠ å’Œï¼Œåˆå§‹å€¼ä¸º 0ã€‚å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œé¦–å…ˆåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨å³å­èŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶å€¼åŠ ä¸Šç´¯åŠ å’Œå¹¶æ›´æ–°ç´¯åŠ å’Œï¼Œç„¶åå°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å·¦å­èŠ‚ç‚¹ï¼›å¦‚æœå­˜åœ¨å³å­èŠ‚ç‚¹ï¼Œåˆ™æ‰¾åˆ°å…¶ä¸­åºéå†çš„åç»§èŠ‚ç‚¹ï¼Œå³å³å­æ ‘ä¸­æœ€å·¦è¾¹çš„èŠ‚ç‚¹ã€‚å¦‚æœåç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜è¿˜æœªå¤„ç†è¿‡è¯¥èŠ‚ç‚¹ï¼Œåˆ™å°†åç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å³å­èŠ‚ç‚¹ï¼›å¦‚æœåç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜å·²ç»å¤„ç†è¿‡è¯¥èŠ‚ç‚¹ï¼Œåˆ™å°†åç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ç½®ä¸ºç©ºï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ ä¸Šç´¯åŠ å’Œå¹¶æ›´æ–°ç´¯åŠ å’Œï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å·¦å­èŠ‚ç‚¹ã€‚æœ€åè¿”å›æ ¹èŠ‚ç‚¹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-12-1"><a class="lnlinks" href="#hl-12-1"> 1</a>
</span><span class="lnt" id="hl-12-2"><a class="lnlinks" href="#hl-12-2"> 2</a>
</span><span class="lnt" id="hl-12-3"><a class="lnlinks" href="#hl-12-3"> 3</a>
</span><span class="lnt" id="hl-12-4"><a class="lnlinks" href="#hl-12-4"> 4</a>
</span><span class="lnt" id="hl-12-5"><a class="lnlinks" href="#hl-12-5"> 5</a>
</span><span class="lnt" id="hl-12-6"><a class="lnlinks" href="#hl-12-6"> 6</a>
</span><span class="lnt" id="hl-12-7"><a class="lnlinks" href="#hl-12-7"> 7</a>
</span><span class="lnt" id="hl-12-8"><a class="lnlinks" href="#hl-12-8"> 8</a>
</span><span class="lnt" id="hl-12-9"><a class="lnlinks" href="#hl-12-9"> 9</a>
</span><span class="lnt" id="hl-12-10"><a class="lnlinks" href="#hl-12-10">10</a>
</span><span class="lnt" id="hl-12-11"><a class="lnlinks" href="#hl-12-11">11</a>
</span><span class="lnt" id="hl-12-12"><a class="lnlinks" href="#hl-12-12">12</a>
</span><span class="lnt" id="hl-12-13"><a class="lnlinks" href="#hl-12-13">13</a>
</span><span class="lnt" id="hl-12-14"><a class="lnlinks" href="#hl-12-14">14</a>
</span><span class="lnt" id="hl-12-15"><a class="lnlinks" href="#hl-12-15">15</a>
</span><span class="lnt" id="hl-12-16"><a class="lnlinks" href="#hl-12-16">16</a>
</span><span class="lnt" id="hl-12-17"><a class="lnlinks" href="#hl-12-17">17</a>
</span><span class="lnt" id="hl-12-18"><a class="lnlinks" href="#hl-12-18">18</a>
</span><span class="lnt" id="hl-12-19"><a class="lnlinks" href="#hl-12-19">19</a>
</span><span class="lnt" id="hl-12-20"><a class="lnlinks" href="#hl-12-20">20</a>
</span><span class="lnt" id="hl-12-21"><a class="lnlinks" href="#hl-12-21">21</a>
</span><span class="lnt" id="hl-12-22"><a class="lnlinks" href="#hl-12-22">22</a>
</span><span class="lnt" id="hl-12-23"><a class="lnlinks" href="#hl-12-23">23</a>
</span><span class="lnt" id="hl-12-24"><a class="lnlinks" href="#hl-12-24">24</a>
</span><span class="lnt" id="hl-12-25"><a class="lnlinks" href="#hl-12-25">25</a>
</span><span class="lnt" id="hl-12-26"><a class="lnlinks" href="#hl-12-26">26</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">convertBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">getSucc</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">succ</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">succ</span><span class="o">.</span><span class="n">left</span> <span class="ow">and</span> <span class="n">succ</span><span class="o">.</span><span class="n">left</span><span class="o">!=</span><span class="n">node</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">succ</span> <span class="o">=</span> <span class="n">succ</span><span class="o">.</span><span class="n">left</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">succ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">newRoot</span> <span class="o">=</span> <span class="n">root</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">s</span> <span class="o">+=</span> <span class="n">root</span><span class="o">.</span><span class="n">val</span>
</span></span><span class="line"><span class="cl">                <span class="n">root</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">s</span> 
</span></span><span class="line"><span class="cl">                <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">left</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">succ</span> <span class="o">=</span> <span class="n">getSucc</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="n">succ</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">succ</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">root</span>
</span></span><span class="line"><span class="cl">                    <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">right</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">succ</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">                    <span class="n">s</span> <span class="o">+=</span> <span class="n">root</span><span class="o">.</span><span class="n">val</span>
</span></span><span class="line"><span class="cl">                    <span class="n">root</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">s</span> 
</span></span><span class="line"><span class="cl">                    <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">left</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">newRoot</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="15-ä¸‰æ•°ä¹‹å’Œhttpsleetcodecnproblems3sum"><a href="https://leetcode.cn/problems/3sum/">15. ä¸‰æ•°ä¹‹å’Œ</a><a hidden class="anchor" aria-hidden="true" href="#15-ä¸‰æ•°ä¹‹å’Œhttpsleetcodecnproblems3sum">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ <code>[nums[i], nums[j], nums[k]]</code> æ»¡è¶³ <code>i != j</code>ã€<code>i != k</code> ä¸” <code>j != k</code>ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ <code>nums[i] + nums[j] + nums[k] == 0</code>ã€‚è¿”å›æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šé¦–å…ˆå¯¹æ•°ç»„ <code>nums</code> è¿›è¡Œæ’åºã€‚ç„¶åéå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  <code>nums[i]</code>ï¼Œè®¾å®šä¸¤ä¸ªæŒ‡é’ˆ <code>l</code> å’Œ <code>r</code> åˆ†åˆ«æŒ‡å‘ <code>i+1</code> å’Œæ•°ç»„æœ«å°¾ã€‚åœ¨ <code>l</code> å’Œ <code>r</code> ä¹‹é—´å¯»æ‰¾å’Œä¸º <code>0</code> çš„ä¸¤ä¸ªæ•°ã€‚å…·ä½“åœ°ï¼Œå¦‚æœå½“å‰å…ƒç´ ä¸å‰ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œè·³è¿‡ï¼›å¦‚æœå½“å‰å…ƒç´ ä¸ <code>l+1</code> å¤„çš„å…ƒç´ ç›¸åŒï¼Œè·³è¿‡ï¼›åœ¨ <code>l</code> å’Œ r ä¹‹é—´åˆ©ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªæ•°ï¼Œå¦‚æœæ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œåˆ™æ·»åŠ åˆ°ç»“æœä¸­ã€‚æœ€åè¿”å›ç»“æœåˆ—è¡¨ <code>res</code>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-13-1"><a class="lnlinks" href="#hl-13-1"> 1</a>
</span><span class="lnt" id="hl-13-2"><a class="lnlinks" href="#hl-13-2"> 2</a>
</span><span class="lnt" id="hl-13-3"><a class="lnlinks" href="#hl-13-3"> 3</a>
</span><span class="lnt" id="hl-13-4"><a class="lnlinks" href="#hl-13-4"> 4</a>
</span><span class="lnt" id="hl-13-5"><a class="lnlinks" href="#hl-13-5"> 5</a>
</span><span class="lnt" id="hl-13-6"><a class="lnlinks" href="#hl-13-6"> 6</a>
</span><span class="lnt" id="hl-13-7"><a class="lnlinks" href="#hl-13-7"> 7</a>
</span><span class="lnt" id="hl-13-8"><a class="lnlinks" href="#hl-13-8"> 8</a>
</span><span class="lnt" id="hl-13-9"><a class="lnlinks" href="#hl-13-9"> 9</a>
</span><span class="lnt" id="hl-13-10"><a class="lnlinks" href="#hl-13-10">10</a>
</span><span class="lnt" id="hl-13-11"><a class="lnlinks" href="#hl-13-11">11</a>
</span><span class="lnt" id="hl-13-12"><a class="lnlinks" href="#hl-13-12">12</a>
</span><span class="lnt" id="hl-13-13"><a class="lnlinks" href="#hl-13-13">13</a>
</span><span class="lnt" id="hl-13-14"><a class="lnlinks" href="#hl-13-14">14</a>
</span><span class="lnt" id="hl-13-15"><a class="lnlinks" href="#hl-13-15">15</a>
</span><span class="lnt" id="hl-13-16"><a class="lnlinks" href="#hl-13-16">16</a>
</span><span class="lnt" id="hl-13-17"><a class="lnlinks" href="#hl-13-17">17</a>
</span><span class="lnt" id="hl-13-18"><a class="lnlinks" href="#hl-13-18">18</a>
</span><span class="lnt" id="hl-13-19"><a class="lnlinks" href="#hl-13-19">19</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">threeSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">nums</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">l</span> <span class="o">=</span> <span class="n">i</span> 
</span></span><span class="line"><span class="cl">            <span class="n">r</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">m</span><span class="o">&gt;</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">==</span><span class="n">nums</span><span class="p">[</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="n">r</span><span class="o">&gt;</span><span class="n">m</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">r</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">m</span><span class="o">==</span><span class="n">r</span><span class="p">:</span> <span class="k">break</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">nums</span><span class="p">[</span><span class="n">l</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">m</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">r</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å®ç°æ€è·¯</strong>ï¼šé¦–å…ˆï¼Œåˆ©ç”¨ <code>Counter</code> å‡½æ•°ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦æœ‰ 0 å‡ºç°è‡³å°‘ä¸‰æ¬¡ï¼Œå¦‚æœæ˜¯åˆ™å°† <code>[0, 0, 0]</code> æ·»åŠ åˆ°ç»“æœä¸­ã€‚ç„¶åï¼Œå¯¹ä¸é‡å¤çš„æ•°è¿›è¡Œæ’åºã€‚éå†æ’åºåçš„æ•°ï¼Œå¯¹äºæ¯ä¸ªæ•° numï¼Œå¦‚æœ num ä¸ç­‰äº 0 ä¸” num å‡ºç°æ¬¡æ•°å¤§äº 1 ä¸” <code>-num*2</code> ä¹Ÿåœ¨ Counter ä¸­ï¼Œåˆ™å°† <code>[num, num, -num*2]</code> æ·»åŠ åˆ°ç»“æœä¸­ã€‚ç„¶åï¼Œåœ¨è´Ÿæ•°éƒ¨åˆ†ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼å¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªæ•°ã€‚æœ€åè¿”å›ç»“æœåˆ—è¡¨ <code>res</code>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-14-1"><a class="lnlinks" href="#hl-14-1"> 1</a>
</span><span class="lnt" id="hl-14-2"><a class="lnlinks" href="#hl-14-2"> 2</a>
</span><span class="lnt" id="hl-14-3"><a class="lnlinks" href="#hl-14-3"> 3</a>
</span><span class="lnt" id="hl-14-4"><a class="lnlinks" href="#hl-14-4"> 4</a>
</span><span class="lnt" id="hl-14-5"><a class="lnlinks" href="#hl-14-5"> 5</a>
</span><span class="lnt" id="hl-14-6"><a class="lnlinks" href="#hl-14-6"> 6</a>
</span><span class="lnt" id="hl-14-7"><a class="lnlinks" href="#hl-14-7"> 7</a>
</span><span class="lnt" id="hl-14-8"><a class="lnlinks" href="#hl-14-8"> 8</a>
</span><span class="lnt" id="hl-14-9"><a class="lnlinks" href="#hl-14-9"> 9</a>
</span><span class="lnt" id="hl-14-10"><a class="lnlinks" href="#hl-14-10">10</a>
</span><span class="lnt" id="hl-14-11"><a class="lnlinks" href="#hl-14-11">11</a>
</span><span class="lnt" id="hl-14-12"><a class="lnlinks" href="#hl-14-12">12</a>
</span><span class="lnt" id="hl-14-13"><a class="lnlinks" href="#hl-14-13">13</a>
</span><span class="lnt" id="hl-14-14"><a class="lnlinks" href="#hl-14-14">14</a>
</span><span class="lnt" id="hl-14-15"><a class="lnlinks" href="#hl-14-15">15</a>
</span><span class="lnt" id="hl-14-16"><a class="lnlinks" href="#hl-14-16">16</a>
</span><span class="lnt" id="hl-14-17"><a class="lnlinks" href="#hl-14-17">17</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">threeSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">no_repeat_nums</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">num</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">no_repeat_nums</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">num</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">c</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="o">-</span><span class="n">num</span><span class="o">*</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">c</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">num</span><span class="p">,</span><span class="n">num</span><span class="p">,</span><span class="o">-</span><span class="n">num</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">num3</span> <span class="ow">in</span> <span class="n">no_repeat_nums</span><span class="p">[</span> <span class="n">bisect_left</span><span class="p">(</span><span class="n">no_repeat_nums</span><span class="p">,((</span><span class="o">-</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="p">:</span> <span class="n">bisect_right</span><span class="p">(</span><span class="n">no_repeat_nums</span><span class="p">,</span><span class="o">-</span><span class="n">num</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">num2</span> <span class="o">=</span> <span class="o">-</span><span class="n">num</span><span class="o">-</span><span class="n">num3</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">num2</span> <span class="ow">in</span> <span class="n">c</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">num</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">num3</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="494-ç›®æ ‡å’Œhttpsleetcodecnproblemstarget-sum"><a href="https://leetcode.cn/problems/target-sum/">494. ç›®æ ‡å’Œ</a><a hidden class="anchor" aria-hidden="true" href="#494-ç›®æ ‡å’Œhttpsleetcodecnproblemstarget-sum">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° <code>target</code>ï¼Œé€šè¿‡ç»™æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  &lsquo;+&rsquo; æˆ– &lsquo;-&rsquo;ï¼Œç„¶åä¸²è”èµ·æ¥æ„é€ è¡¨è¾¾å¼ï¼Œè¿”å›å¯ä»¥æ„é€ çš„è¡¨è¾¾å¼æ•°ç›®ï¼Œä½¿å…¶è¿ç®—ç»“æœç­‰äºç›®æ ‡æ•°ã€‚</p>
<h4 id="è®°å¿†åŒ–æœç´¢">è®°å¿†åŒ–æœç´¢<a hidden class="anchor" aria-hidden="true" href="#è®°å¿†åŒ–æœç´¢">#</a></h4>
<p><strong>å®ç°æ€è·¯</strong>ï¼šè¿™ä¸ªé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªèƒŒåŒ…é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºåœ¨æ•°ç»„ä¸­é€‰å–ä¸€äº›æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº <code>target</code>ã€‚å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° <code>dfs(i, s)</code>ï¼Œè¡¨ç¤ºåœ¨æ•°ç»„ <code>nums</code> ä¸­è€ƒè™‘ç¬¬ i ä¸ªæ•°ï¼Œä½¿å¾—ç›®å‰çš„å’Œä¸º <code>s</code> çš„è¡¨è¾¾å¼æ•°ç›®ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯éå†å®Œæ‰€æœ‰æ•°ï¼Œå¦‚æœ <code>s</code> ç­‰äº <code>0</code>ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†ä¸€ç§æ„é€ æ–¹å¼ï¼Œè¿”å› <code>1</code>ï¼Œå¦åˆ™è¿”å› <code>0</code>ã€‚é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ <code>s</code> å°äºå½“å‰æ•° <code>nums[i]</code>ï¼Œè¯´æ˜æ— æ³•é€‰å–å½“å‰æ•°ï¼Œç›´æ¥è·³è¿‡ï¼›å¦åˆ™ï¼Œé€’å½’è€ƒè™‘é€‰å–å½“å‰æ•°å’Œä¸é€‰å–å½“å‰æ•°ä¸¤ç§æƒ…å†µã€‚åˆ©ç”¨ç¼“å­˜è£…é¥°å™¨ <code>@cache</code> å¯ä»¥å°†é‡å¤è®¡ç®—çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œæé«˜è®¡ç®—æ•ˆç‡ã€‚æœ€åè¿”å› <code>dfs(0, target)</code> å³å¯å¾—åˆ°ç»“æœã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-15-1"><a class="lnlinks" href="#hl-15-1"> 1</a>
</span><span class="lnt" id="hl-15-2"><a class="lnlinks" href="#hl-15-2"> 2</a>
</span><span class="lnt" id="hl-15-3"><a class="lnlinks" href="#hl-15-3"> 3</a>
</span><span class="lnt" id="hl-15-4"><a class="lnlinks" href="#hl-15-4"> 4</a>
</span><span class="lnt" id="hl-15-5"><a class="lnlinks" href="#hl-15-5"> 5</a>
</span><span class="lnt" id="hl-15-6"><a class="lnlinks" href="#hl-15-6"> 6</a>
</span><span class="lnt" id="hl-15-7"><a class="lnlinks" href="#hl-15-7"> 7</a>
</span><span class="lnt" id="hl-15-8"><a class="lnlinks" href="#hl-15-8"> 8</a>
</span><span class="lnt" id="hl-15-9"><a class="lnlinks" href="#hl-15-9"> 9</a>
</span><span class="lnt" id="hl-15-10"><a class="lnlinks" href="#hl-15-10">10</a>
</span><span class="lnt" id="hl-15-11"><a class="lnlinks" href="#hl-15-11">11</a>
</span><span class="lnt" id="hl-15-12"><a class="lnlinks" href="#hl-15-12">12</a>
</span><span class="lnt" id="hl-15-13"><a class="lnlinks" href="#hl-15-13">13</a>
</span><span class="lnt" id="hl-15-14"><a class="lnlinks" href="#hl-15-14">14</a>
</span><span class="lnt" id="hl-15-15"><a class="lnlinks" href="#hl-15-15">15</a>
</span><span class="lnt" id="hl-15-16"><a class="lnlinks" href="#hl-15-16">16</a>
</span><span class="lnt" id="hl-15-17"><a class="lnlinks" href="#hl-15-17">17</a>
</span><span class="lnt" id="hl-15-18"><a class="lnlinks" href="#hl-15-18">18</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">target</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">target</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">target</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">target</span><span class="o">//=</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="nd">@cache</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">s</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">+</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’<a hidden class="anchor" aria-hidden="true" href="#åŠ¨æ€è§„åˆ’">#</a></h4>
<p><strong>å®ç°æ€è·¯</strong>ï¼šè¿™é‡Œé‡‡ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚é¦–å…ˆå°†ç›®æ ‡æ•° <code>target</code> åŠ ä¸Šæ•°ç»„ <code>nums</code> çš„æ€»å’Œï¼Œå¦‚æœæ€»å’Œä¸ºè´Ÿæ•°æˆ–è€…æ˜¯å¥‡æ•°ï¼Œåˆ™æ— æ³•é€šè¿‡è°ƒæ•´ç¬¦å·å¾—åˆ°ç›®æ ‡æ•°ï¼Œç›´æ¥è¿”å› <code>0</code>ã€‚å¦åˆ™ï¼Œå°†ç›®æ ‡æ•°é™¤ä»¥ <code>2</code>ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>f</code>ï¼Œå…¶ä¸­ <code>f[i][j]</code> è¡¨ç¤ºåœ¨è€ƒè™‘å‰ <code>i</code> ä¸ªæ•°æ—¶ï¼Œæ„é€ å’Œä¸º <code>j</code> çš„è¡¨è¾¾å¼çš„æ•°ç›®ã€‚åˆå§‹åŒ– <code>f[0][0] = 1</code>ã€‚ç„¶åï¼Œéå†æ•°ç»„ <code>nums</code>ï¼Œå¹¶ä¸”æ›´æ–° <code>f[i][j]</code>ã€‚å½“ j å°äºå½“å‰æ•° <code>nums[i-1]</code> æ—¶ï¼Œè¡¨ç¤ºæ— æ³•é€‰å–å½“å‰æ•°ï¼Œåˆ™ <code>f[i][j]</code> ç­‰äºä¸Šä¸€ä¸ªçŠ¶æ€çš„å€¼ï¼›å½“ <code>j</code> å¤§äºç­‰äºå½“å‰æ•° <code>nums[i-1]</code> æ—¶ï¼Œå¯ä»¥é€‰æ‹©åŠ ä¸Šæˆ–å‡å»å½“å‰æ•°ï¼Œåˆ™ <code>f[i][j]</code> ç­‰äºä¸Šä¸€ä¸ªçŠ¶æ€åŠ ä¸Šä¸é€‰å–å½“å‰æ•°çš„å€¼ä»¥åŠä¸Šä¸€ä¸ªçŠ¶æ€åŠ ä¸Šé€‰å–å½“å‰æ•°çš„å€¼ã€‚æœ€åè¿”å› <code>f[n][target]</code>ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ <code>nums</code> çš„é•¿åº¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-16-1"><a class="lnlinks" href="#hl-16-1"> 1</a>
</span><span class="lnt" id="hl-16-2"><a class="lnlinks" href="#hl-16-2"> 2</a>
</span><span class="lnt" id="hl-16-3"><a class="lnlinks" href="#hl-16-3"> 3</a>
</span><span class="lnt" id="hl-16-4"><a class="lnlinks" href="#hl-16-4"> 4</a>
</span><span class="lnt" id="hl-16-5"><a class="lnlinks" href="#hl-16-5"> 5</a>
</span><span class="lnt" id="hl-16-6"><a class="lnlinks" href="#hl-16-6"> 6</a>
</span><span class="lnt" id="hl-16-7"><a class="lnlinks" href="#hl-16-7"> 7</a>
</span><span class="lnt" id="hl-16-8"><a class="lnlinks" href="#hl-16-8"> 8</a>
</span><span class="lnt" id="hl-16-9"><a class="lnlinks" href="#hl-16-9"> 9</a>
</span><span class="lnt" id="hl-16-10"><a class="lnlinks" href="#hl-16-10">10</a>
</span><span class="lnt" id="hl-16-11"><a class="lnlinks" href="#hl-16-11">11</a>
</span><span class="lnt" id="hl-16-12"><a class="lnlinks" href="#hl-16-12">12</a>
</span><span class="lnt" id="hl-16-13"><a class="lnlinks" href="#hl-16-13">13</a>
</span><span class="lnt" id="hl-16-14"><a class="lnlinks" href="#hl-16-14">14</a>
</span><span class="lnt" id="hl-16-15"><a class="lnlinks" href="#hl-16-15">15</a>
</span><span class="lnt" id="hl-16-16"><a class="lnlinks" href="#hl-16-16">16</a>
</span><span class="lnt" id="hl-16-17"><a class="lnlinks" href="#hl-16-17">17</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">target</span><span class="o">+=</span><span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">target</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">target</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="n">target</span><span class="o">//=</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">target</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„httpsleetcodecnproblemsshortest-unsorted-continuous-subarray"><a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a><a hidden class="anchor" aria-hidden="true" href="#581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„httpsleetcodecnproblemsshortest-unsorted-continuous-subarray">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæ‰¾å‡ºä¸€ä¸ªè¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—å¯¹è¯¥å­æ•°ç»„è¿›è¡Œå‡åºæ’åºåï¼Œæ•´ä¸ªæ•°ç»„éƒ½å˜ä¸ºå‡åºæ’åºã€‚è¦æ±‚æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„æœ€çŸ­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆleftå’Œrightï¼Œåˆå§‹åŒ–ä¸º-1ï¼Œéå†æ•°ç»„numsã€‚é¦–å…ˆï¼Œä»å·¦åˆ°å³æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ— åºçš„å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ å°äºå‰é¢å·²éå†è¿‡çš„æœ€å¤§å…ƒç´ ï¼Œæ­¤æ—¶æ›´æ–°rightæŒ‡é’ˆä¸ºå½“å‰ä½ç½®iï¼›ç„¶åï¼Œä»å³åˆ°å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ— åºçš„å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ å¤§äºåé¢å·²éå†è¿‡çš„æœ€å°å…ƒç´ ï¼Œæ­¤æ—¶æ›´æ–°leftæŒ‡é’ˆä¸ºå½“å‰ä½ç½®n-i-1ã€‚æœ€ç»ˆè¿”å›right-left+1å³ä¸ºæœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„çš„é•¿åº¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-17-1"><a class="lnlinks" href="#hl-17-1"> 1</a>
</span><span class="lnt" id="hl-17-2"><a class="lnlinks" href="#hl-17-2"> 2</a>
</span><span class="lnt" id="hl-17-3"><a class="lnlinks" href="#hl-17-3"> 3</a>
</span><span class="lnt" id="hl-17-4"><a class="lnlinks" href="#hl-17-4"> 4</a>
</span><span class="lnt" id="hl-17-5"><a class="lnlinks" href="#hl-17-5"> 5</a>
</span><span class="lnt" id="hl-17-6"><a class="lnlinks" href="#hl-17-6"> 6</a>
</span><span class="lnt" id="hl-17-7"><a class="lnlinks" href="#hl-17-7"> 7</a>
</span><span class="lnt" id="hl-17-8"><a class="lnlinks" href="#hl-17-8"> 8</a>
</span><span class="lnt" id="hl-17-9"><a class="lnlinks" href="#hl-17-9"> 9</a>
</span><span class="lnt" id="hl-17-10"><a class="lnlinks" href="#hl-17-10">10</a>
</span><span class="lnt" id="hl-17-11"><a class="lnlinks" href="#hl-17-11">11</a>
</span><span class="lnt" id="hl-17-12"><a class="lnlinks" href="#hl-17-12">12</a>
</span><span class="lnt" id="hl-17-13"><a class="lnlinks" href="#hl-17-13">13</a>
</span><span class="lnt" id="hl-17-14"><a class="lnlinks" href="#hl-17-14">14</a>
</span><span class="lnt" id="hl-17-15"><a class="lnlinks" href="#hl-17-15">15</a>
</span><span class="lnt" id="hl-17-16"><a class="lnlinks" href="#hl-17-16">16</a>
</span><span class="lnt" id="hl-17-17"><a class="lnlinks" href="#hl-17-17">17</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">findUnsortedSubarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">ma</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">mi</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">ma</span><span class="o">&gt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">ma</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">mi</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mi</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">right</span><span class="o">==-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="416-åˆ†å‰²ç­‰å’Œå­é›†httpsleetcodecnproblemspartition-equal-subset-sum"><a href="https://leetcode.cn/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a><a hidden class="anchor" aria-hidden="true" href="#416-åˆ†å‰²ç­‰å’Œå­é›†httpsleetcodecnproblemspartition-equal-subset-sum">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªéç©ºæ•°ç»„ numsï¼Œæ•°ç»„ä¸­åªåŒ…å«æ­£æ•´æ•°ã€‚è¦æ±‚åˆ¤æ–­æ˜¯å¦èƒ½å°†è¯¥æ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ol>
<li>é¦–å…ˆè®¡ç®—æ•°ç»„ nums çš„æ€»å’Œ sã€‚</li>
<li>å¦‚æœæ€»å’Œ s ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆæ— æ³•åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼Œç›´æ¥è¿”å› Falseã€‚</li>
<li>å¦‚æœæ•°ç»„ä¸­çš„æœ€å¤§å€¼å¤§äºæ€»å’Œçš„ä¸€åŠï¼Œåˆ™æ— æ³•åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼Œç›´æ¥è¿”å› Falseã€‚</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªå¤§å°ä¸ºæ€»å’Œä¸€åŠåŠ ä¸€çš„å¸ƒå°”æ•°ç»„ fï¼Œf[i] è¡¨ç¤ºæ˜¯å¦å­˜åœ¨å­é›†çš„å’Œä¸º iã€‚</li>
<li>å°† f[0] åˆå§‹åŒ–ä¸º Trueï¼Œè¡¨ç¤ºå­é›†çš„å’Œä¸º 0ã€‚</li>
<li>éå†æ•°ç»„ numsï¼Œå¯¹äºæ¯ä¸ªæ­£æ•´æ•° numï¼Œä»æ€»å’Œä¸€åŠå¼€å§‹å‘å‰éå†ï¼Œæ›´æ–°æ•°ç»„ fï¼Œå¦‚æœ f[j-num] ä¸º Trueï¼Œåˆ™è¯´æ˜å­˜åœ¨ä¸€ä¸ªå­é›†çš„å’Œä¸º j-numï¼ŒåŠ ä¸Šå½“å‰çš„ num åï¼Œå’Œä¸º jï¼Œå› æ­¤ f[j] ä¹Ÿä¸º Trueã€‚</li>
<li>æœ€ç»ˆè¿”å› f[s//2]ï¼Œè¡¨ç¤ºæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­é›†çš„å’Œä¸ºæ€»å’Œä¸€åŠï¼Œå³æ˜¯å¦èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-18-1"><a class="lnlinks" href="#hl-18-1"> 1</a>
</span><span class="lnt" id="hl-18-2"><a class="lnlinks" href="#hl-18-2"> 2</a>
</span><span class="lnt" id="hl-18-3"><a class="lnlinks" href="#hl-18-3"> 3</a>
</span><span class="lnt" id="hl-18-4"><a class="lnlinks" href="#hl-18-4"> 4</a>
</span><span class="lnt" id="hl-18-5"><a class="lnlinks" href="#hl-18-5"> 5</a>
</span><span class="lnt" id="hl-18-6"><a class="lnlinks" href="#hl-18-6"> 6</a>
</span><span class="lnt" id="hl-18-7"><a class="lnlinks" href="#hl-18-7"> 7</a>
</span><span class="lnt" id="hl-18-8"><a class="lnlinks" href="#hl-18-8"> 8</a>
</span><span class="lnt" id="hl-18-9"><a class="lnlinks" href="#hl-18-9"> 9</a>
</span><span class="lnt" id="hl-18-10"><a class="lnlinks" href="#hl-18-10">10</a>
</span><span class="lnt" id="hl-18-11"><a class="lnlinks" href="#hl-18-11">11</a>
</span><span class="lnt" id="hl-18-12"><a class="lnlinks" href="#hl-18-12">12</a>
</span><span class="lnt" id="hl-18-13"><a class="lnlinks" href="#hl-18-13">13</a>
</span><span class="lnt" id="hl-18-14"><a class="lnlinks" href="#hl-18-14">14</a>
</span><span class="lnt" id="hl-18-15"><a class="lnlinks" href="#hl-18-15">15</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">canPartition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">s</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="n">ma</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">//</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">ma</span><span class="o">&gt;</span><span class="n">t</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">|=</span> <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="n">num</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="394-å­—ç¬¦ä¸²è§£ç httpsleetcodecnproblemsdecode-string"><a href="https://leetcode.cn/problems/decode-string/">394. å­—ç¬¦ä¸²è§£ç </a><a hidden class="anchor" aria-hidden="true" href="#394-å­—ç¬¦ä¸²è§£ç httpsleetcodecnproblemsdecode-string">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¼–ç è§„åˆ™ä¸º<code>k[encoded_string]</code>ï¼Œè¡¨ç¤º<code>encoded_string</code>ä¸­çš„å†…å®¹é‡å¤kæ¬¡ã€‚è¦æ±‚è§£ç è¯¥å­—ç¬¦ä¸²ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šä½¿ç”¨é€’å½’æ¥è§£ç å­—ç¬¦ä¸²ã€‚éå†è¾“å…¥å­—ç¬¦ä¸²ï¼Œæ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå¤„ç†ï¼š</p>
<ol>
<li>è‹¥é‡åˆ°æ•°å­—ï¼Œåˆ™ç´¯åŠ æ•°å­—ç›´è‡³é‡åˆ°éæ•°å­—å­—ç¬¦ã€‚</li>
<li>è‹¥é‡åˆ°å­—æ¯ï¼Œåˆ™ç›´æ¥åŠ å…¥å½“å‰è§£ç çš„å­—ç¬¦ä¸²ä¸­ã€‚</li>
<li>è‹¥é‡åˆ°å·¦æ‹¬å·&rsquo;[&rsquo;ï¼Œåˆ™é€’å½’è°ƒç”¨è§£ç å‡½æ•°ï¼Œå¤„ç†æ‹¬å·å†…çš„å†…å®¹ï¼Œç›´è‡³é‡åˆ°å³æ‹¬å·&rsquo;]&rsquo;ã€‚å°†æ‹¬å·å†…çš„è§£ç ç»“æœä¹˜ä»¥å‰é¢ç´¯ç§¯çš„æ•°å­—ï¼Œå¹¶åŠ å…¥å½“å‰è§£ç çš„å­—ç¬¦ä¸²ä¸­ã€‚</li>
<li>è‹¥é‡åˆ°å³æ‹¬å·&rsquo;]&rsquo;ï¼Œåˆ™è¿”å›å½“å‰è§£ç çš„å­—ç¬¦ä¸²å’Œå½“å‰ç´¢å¼•ã€‚</li>
<li>è¿”å›æœ€ç»ˆè§£ç ç»“æœã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-19-1"><a class="lnlinks" href="#hl-19-1"> 1</a>
</span><span class="lnt" id="hl-19-2"><a class="lnlinks" href="#hl-19-2"> 2</a>
</span><span class="lnt" id="hl-19-3"><a class="lnlinks" href="#hl-19-3"> 3</a>
</span><span class="lnt" id="hl-19-4"><a class="lnlinks" href="#hl-19-4"> 4</a>
</span><span class="lnt" id="hl-19-5"><a class="lnlinks" href="#hl-19-5"> 5</a>
</span><span class="lnt" id="hl-19-6"><a class="lnlinks" href="#hl-19-6"> 6</a>
</span><span class="lnt" id="hl-19-7"><a class="lnlinks" href="#hl-19-7"> 7</a>
</span><span class="lnt" id="hl-19-8"><a class="lnlinks" href="#hl-19-8"> 8</a>
</span><span class="lnt" id="hl-19-9"><a class="lnlinks" href="#hl-19-9"> 9</a>
</span><span class="lnt" id="hl-19-10"><a class="lnlinks" href="#hl-19-10">10</a>
</span><span class="lnt" id="hl-19-11"><a class="lnlinks" href="#hl-19-11">11</a>
</span><span class="lnt" id="hl-19-12"><a class="lnlinks" href="#hl-19-12">12</a>
</span><span class="lnt" id="hl-19-13"><a class="lnlinks" href="#hl-19-13">13</a>
</span><span class="lnt" id="hl-19-14"><a class="lnlinks" href="#hl-19-14">14</a>
</span><span class="lnt" id="hl-19-15"><a class="lnlinks" href="#hl-19-15">15</a>
</span><span class="lnt" id="hl-19-16"><a class="lnlinks" href="#hl-19-16">16</a>
</span><span class="lnt" id="hl-19-17"><a class="lnlinks" href="#hl-19-17">17</a>
</span><span class="lnt" id="hl-19-18"><a class="lnlinks" href="#hl-19-18">18</a>
</span><span class="lnt" id="hl-19-19"><a class="lnlinks" href="#hl-19-19">19</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">decodeString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                    <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cur</span> <span class="o">+=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;[&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ns</span><span class="p">,</span> <span class="n">ni</span> <span class="o">=</span> <span class="n">decode</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span> <span class="c1"># next str, next index</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cur</span> <span class="o">+=</span> <span class="n">ns</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ni</span>
</span></span><span class="line"><span class="cl">                    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">                <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;]&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">cur</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">cur</span><span class="o">*</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span> 
</span></span><span class="line"><span class="cl">        <span class="n">res</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">decode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="72-ç¼–è¾‘è·ç¦»httpsleetcodecnproblemsedit-distance"><a href="https://leetcode.cn/problems/edit-distance/">72. ç¼–è¾‘è·ç¦»</a><a hidden class="anchor" aria-hidden="true" href="#72-ç¼–è¾‘è·ç¦»httpsleetcodecnproblemsedit-distance">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼š
ç»™å®šä¸¤ä¸ªå•è¯ word1 å’Œ word2ï¼Œæ±‚é€šè¿‡æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢å­—ç¬¦ï¼Œå°† word1 è½¬æ¢æˆ word2 æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚</p>
<h4 id="è®°å¿†åŒ–æœç´¢-1">è®°å¿†åŒ–æœç´¢<a hidden class="anchor" aria-hidden="true" href="#è®°å¿†åŒ–æœç´¢-1">#</a></h4>
<p>è¿™æ®µä»£ç ä½¿ç”¨äº†é€’å½’çš„æ–¹å¼æ±‚è§£ï¼Œå…¶ä¸­ dfs å‡½æ•°è¡¨ç¤ºå°† s çš„å‰ i ä¸ªå­—ç¬¦è½¬æ¢ä¸º t çš„å‰ j ä¸ªå­—ç¬¦æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚é€’å½’çš„åŸºæœ¬æƒ…å†µæ˜¯å½“ i å°äº 0 æ—¶ï¼Œè¡¨ç¤º s å·²ç»éå†å®Œï¼Œéœ€è¦æ’å…¥ t çš„å‰ j+1 ä¸ªå­—ç¬¦ï¼›å½“ j å°äº 0 æ—¶ï¼Œè¡¨ç¤º t å·²ç»éå†å®Œï¼Œéœ€è¦åˆ é™¤ s çš„å‰ i+1 ä¸ªå­—ç¬¦ï¼›å½“ s[i] ç­‰äº t[j] æ—¶ï¼Œä¸éœ€è¦é¢å¤–æ“ä½œï¼Œç›´æ¥é€’å½’å¤„ç† i-1 å’Œ j-1ï¼›å½“ s[i] ä¸ç­‰äº t[j] æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢æ“ä½œï¼Œé€‰æ‹©æ“ä½œæ•°æœ€å°çš„æ–¹æ¡ˆã€‚é€’å½’çš„è¿‡ç¨‹ä¸­åˆ©ç”¨äº†ç¼“å­˜è£…é¥°å™¨ @cache æ¥æé«˜æ•ˆç‡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-20-1"><a class="lnlinks" href="#hl-20-1"> 1</a>
</span><span class="lnt" id="hl-20-2"><a class="lnlinks" href="#hl-20-2"> 2</a>
</span><span class="lnt" id="hl-20-3"><a class="lnlinks" href="#hl-20-3"> 3</a>
</span><span class="lnt" id="hl-20-4"><a class="lnlinks" href="#hl-20-4"> 4</a>
</span><span class="lnt" id="hl-20-5"><a class="lnlinks" href="#hl-20-5"> 5</a>
</span><span class="lnt" id="hl-20-6"><a class="lnlinks" href="#hl-20-6"> 6</a>
</span><span class="lnt" id="hl-20-7"><a class="lnlinks" href="#hl-20-7"> 7</a>
</span><span class="lnt" id="hl-20-8"><a class="lnlinks" href="#hl-20-8"> 8</a>
</span><span class="lnt" id="hl-20-9"><a class="lnlinks" href="#hl-20-9"> 9</a>
</span><span class="lnt" id="hl-20-10"><a class="lnlinks" href="#hl-20-10">10</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">minDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nd">@cache</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">j</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span> <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="é€’æ¨">é€’æ¨<a hidden class="anchor" aria-hidden="true" href="#é€’æ¨">#</a></h4>
<p><strong>å®ç°æ€è·¯</strong>ï¼š
å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ fï¼Œå…¶ä¸­ f[i][j] è¡¨ç¤ºå°† word1 çš„å‰ i ä¸ªå­—ç¬¦è½¬æ¢ä¸º word2 çš„å‰ j ä¸ªå­—ç¬¦æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚åˆå§‹æ—¶ï¼Œf[i][0] è¡¨ç¤ºå°† word1 çš„å‰ i ä¸ªå­—ç¬¦å…¨éƒ¨åˆ é™¤ï¼Œéœ€è¦çš„æ“ä½œæ•°ä¸º iï¼Œè€Œ <code>f[0][j]</code> è¡¨ç¤ºå°† word2 çš„å‰ j ä¸ªå­—ç¬¦å…¨éƒ¨æ’å…¥åˆ° word1 ä¸­ï¼Œéœ€è¦çš„æ“ä½œæ•°ä¸º jã€‚
ç„¶åï¼Œæ ¹æ®åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œé€æ­¥è®¡ç®— f[i][j] çš„å€¼ã€‚è‹¥ word1[i] ç­‰äº word2[j]ï¼Œåˆ™ f[i][j] ç­‰äº f[i-1][j-1]ï¼Œå³ä¸éœ€è¦é¢å¤–æ“ä½œï¼›è‹¥ä¸ç›¸ç­‰ï¼Œåˆ™å¯ä»¥è€ƒè™‘æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢æ“ä½œï¼Œé€‰æ‹©æ“ä½œæ•°æœ€å°çš„æ–¹æ¡ˆã€‚æœ€ç»ˆï¼Œè¿”å› f[n][m]ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸º word1 å’Œ word2 çš„é•¿åº¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-21-1"><a class="lnlinks" href="#hl-21-1"> 1</a>
</span><span class="lnt" id="hl-21-2"><a class="lnlinks" href="#hl-21-2"> 2</a>
</span><span class="lnt" id="hl-21-3"><a class="lnlinks" href="#hl-21-3"> 3</a>
</span><span class="lnt" id="hl-21-4"><a class="lnlinks" href="#hl-21-4"> 4</a>
</span><span class="lnt" id="hl-21-5"><a class="lnlinks" href="#hl-21-5"> 5</a>
</span><span class="lnt" id="hl-21-6"><a class="lnlinks" href="#hl-21-6"> 6</a>
</span><span class="lnt" id="hl-21-7"><a class="lnlinks" href="#hl-21-7"> 7</a>
</span><span class="lnt" id="hl-21-8"><a class="lnlinks" href="#hl-21-8"> 8</a>
</span><span class="lnt" id="hl-21-9"><a class="lnlinks" href="#hl-21-9"> 9</a>
</span><span class="lnt" id="hl-21-10"><a class="lnlinks" href="#hl-21-10">10</a>
</span><span class="lnt" id="hl-21-11"><a class="lnlinks" href="#hl-21-11">11</a>
</span><span class="lnt" id="hl-21-12"><a class="lnlinks" href="#hl-21-12">12</a>
</span><span class="lnt" id="hl-21-13"><a class="lnlinks" href="#hl-21-13">13</a>
</span><span class="lnt" id="hl-21-14"><a class="lnlinks" href="#hl-21-14">14</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">minDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># f[0][j] = j</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘httpsleetcodecnproblemsunique-binary-search-trees"><a href="https://leetcode.cn/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a><a hidden class="anchor" aria-hidden="true" href="#96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘httpsleetcodecnproblemsunique-binary-search-trees">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-22-1"><a class="lnlinks" href="#hl-22-1">1</a>
</span><span class="lnt" id="hl-22-2"><a class="lnlinks" href="#hl-22-2">2</a>
</span><span class="lnt" id="hl-22-3"><a class="lnlinks" href="#hl-22-3">3</a>
</span><span class="lnt" id="hl-22-4"><a class="lnlinks" href="#hl-22-4">4</a>
</span><span class="lnt" id="hl-22-5"><a class="lnlinks" href="#hl-22-5">5</a>
</span><span class="lnt" id="hl-22-6"><a class="lnlinks" href="#hl-22-6">6</a>
</span><span class="lnt" id="hl-22-7"><a class="lnlinks" href="#hl-22-7">7</a>
</span><span class="lnt" id="hl-22-8"><a class="lnlinks" href="#hl-22-8">8</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="160-ç›¸äº¤é“¾è¡¨httpsleetcodecnproblemsintersection-of-two-linked-lists"><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists/">160. ç›¸äº¤é“¾è¡¨</a><a hidden class="anchor" aria-hidden="true" href="#160-ç›¸äº¤é“¾è¡¨httpsleetcodecnproblemsintersection-of-two-linked-lists">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-23-1"><a class="lnlinks" href="#hl-23-1">1</a>
</span><span class="lnt" id="hl-23-2"><a class="lnlinks" href="#hl-23-2">2</a>
</span><span class="lnt" id="hl-23-3"><a class="lnlinks" href="#hl-23-3">3</a>
</span><span class="lnt" id="hl-23-4"><a class="lnlinks" href="#hl-23-4">4</a>
</span><span class="lnt" id="hl-23-5"><a class="lnlinks" href="#hl-23-5">5</a>
</span><span class="lnt" id="hl-23-6"><a class="lnlinks" href="#hl-23-6">6</a>
</span><span class="lnt" id="hl-23-7"><a class="lnlinks" href="#hl-23-7">7</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">getIntersectionNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headA</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">headB</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">headA</span><span class="p">,</span> <span class="n">headB</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">l1</span> <span class="o">!=</span> <span class="n">l2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">l1</span> <span class="o">=</span> <span class="n">headB</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">l1</span> <span class="k">else</span> <span class="n">l1</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">            <span class="n">l2</span> <span class="o">=</span> <span class="n">headA</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">l2</span> <span class="k">else</span> <span class="n">l2</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">l1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="31-ä¸‹ä¸€ä¸ªæ’åˆ—httpsleetcodecnproblemsnext-permutation"><a href="https://leetcode.cn/problems/next-permutation/">31. ä¸‹ä¸€ä¸ªæ’åˆ—</a><a hidden class="anchor" aria-hidden="true" href="#31-ä¸‹ä¸€ä¸ªæ’åˆ—httpsleetcodecnproblemsnext-permutation">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œè¦æ±‚æ‰¾å‡ºè¿™ä¸ªæ•°ç»„çš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå³æ¯”å½“å‰æ’åˆ—å¤§çš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›å­—å…¸åºæœ€å°çš„æ’åˆ—ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šè¦æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œæ»¡è¶³ nums[i] &lt; nums[i+1]ã€‚</li>
<li>å¦‚æœæ‰¾åˆ°äº†è¿™æ ·çš„ä¸€å¯¹æ•°ï¼Œè¯´æ˜å½“å‰æ’åˆ—è¿˜ä¸æ˜¯æœ€å¤§çš„æ’åˆ—ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</li>
<li>åœ¨ä»å³å¾€å·¦æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªä½ç½®è®°ä¸º iï¼Œå†ä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•°ï¼Œè®°ä¸º jã€‚</li>
<li>äº¤æ¢ nums[i] å’Œ nums[j]ã€‚</li>
<li>å°†ä» i+1 ä½ç½®å¼€å§‹åˆ°æ•°ç»„æœ«å°¾çš„æ•°é€†åºæ’åˆ—ï¼Œä»¥å¾—åˆ°å­—å…¸åºæœ€å°çš„æ’åˆ—ã€‚</li>
<li>å¦‚æœæ­¥éª¤1ä¸­æ²¡æœ‰æ‰¾åˆ°ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œåˆ™è¯´æ˜å½“å‰æ’åˆ—å·²ç»æ˜¯æœ€å¤§çš„æ’åˆ—ï¼Œç›´æ¥å°†æ•´ä¸ªæ•°ç»„é€†åºæ’åˆ—å³å¯ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-24-1"><a class="lnlinks" href="#hl-24-1"> 1</a>
</span><span class="lnt" id="hl-24-2"><a class="lnlinks" href="#hl-24-2"> 2</a>
</span><span class="lnt" id="hl-24-3"><a class="lnlinks" href="#hl-24-3"> 3</a>
</span><span class="lnt" id="hl-24-4"><a class="lnlinks" href="#hl-24-4"> 4</a>
</span><span class="lnt" id="hl-24-5"><a class="lnlinks" href="#hl-24-5"> 5</a>
</span><span class="lnt" id="hl-24-6"><a class="lnlinks" href="#hl-24-6"> 6</a>
</span><span class="lnt" id="hl-24-7"><a class="lnlinks" href="#hl-24-7"> 7</a>
</span><span class="lnt" id="hl-24-8"><a class="lnlinks" href="#hl-24-8"> 8</a>
</span><span class="lnt" id="hl-24-9"><a class="lnlinks" href="#hl-24-9"> 9</a>
</span><span class="lnt" id="hl-24-10"><a class="lnlinks" href="#hl-24-10">10</a>
</span><span class="lnt" id="hl-24-11"><a class="lnlinks" href="#hl-24-11">11</a>
</span><span class="lnt" id="hl-24-12"><a class="lnlinks" href="#hl-24-12">12</a>
</span><span class="lnt" id="hl-24-13"><a class="lnlinks" href="#hl-24-13">13</a>
</span><span class="lnt" id="hl-24-14"><a class="lnlinks" href="#hl-24-14">14</a>
</span><span class="lnt" id="hl-24-15"><a class="lnlinks" href="#hl-24-15">15</a>
</span><span class="lnt" id="hl-24-16"><a class="lnlinks" href="#hl-24-16">16</a>
</span><span class="lnt" id="hl-24-17"><a class="lnlinks" href="#hl-24-17">17</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">nextPermutation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        Do not return anything, modify nums in-place instead.
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">i</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">j</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">j</span><span class="o">&gt;=</span><span class="n">i</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">j</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„httpsleetcodecnproblemssearch-in-rotated-sorted-array"><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a><a hidden class="anchor" aria-hidden="true" href="#33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„httpsleetcodecnproblemssearch-in-rotated-sorted-array">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼š
ç»™å®šä¸€ä¸ªæŒ‰å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œæ•°ç»„ä¸­çš„å€¼äº’ä¸ç›¸åŒã€‚è¯¥æ•°ç»„ç»è¿‡æœªçŸ¥çš„æŸä¸ªä¸‹æ ‡æ—‹è½¬ï¼Œå³åŸæœ¬æ’åœ¨æ•°ç»„å¼€å¤´çš„ä¸€éƒ¨åˆ†å…ƒç´ è¢«ç§»åŠ¨åˆ°æ•°ç»„æœ«å°¾ã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ï¼Œå¦‚æœè¯¥ç›®æ ‡å€¼å­˜åœ¨äºæ—‹è½¬åçš„æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›å…¶ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚è¦æ±‚è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä»¥æ»¡è¶³ O(log n) çš„æ—¶é—´å¤æ‚åº¦è¦æ±‚ã€‚</li>
<li>åˆå§‹åŒ–å·¦å³æŒ‡é’ˆ <code>l</code> å’Œ <code>r</code> åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„é¦–å°¾å…ƒç´ ã€‚</li>
<li>åœ¨å¾ªç¯ä¸­ï¼Œè®¡ç®—ä¸­é—´ä½ç½® <code>mid</code>ï¼Œåˆ¤æ–­ <code>nums[mid]</code> æ˜¯å¦ç­‰äºç›®æ ‡å€¼ <code>target</code>ï¼Œè‹¥æ˜¯åˆ™ç›´æ¥è¿”å› <code>mid</code>ã€‚</li>
<li>è‹¥ <code>nums[0] &lt;= nums[mid]</code>ï¼Œè¯´æ˜å·¦åŠæ®µæ˜¯æœ‰åºçš„ï¼Œæ­¤æ—¶åˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨å·¦åŠæ®µèŒƒå›´å†…ï¼Œè‹¥æ˜¯åˆ™å°†å³æŒ‡é’ˆç§»åˆ° <code>mid-1</code>ï¼Œå¦åˆ™å°†å·¦æŒ‡é’ˆç§»åˆ° <code>mid+1</code>ã€‚</li>
<li>è‹¥ <code>nums[0] &gt; nums[mid]</code>ï¼Œè¯´æ˜å³åŠæ®µæ˜¯æœ‰åºçš„ï¼Œæ­¤æ—¶åˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨å³åŠæ®µèŒƒå›´å†…ï¼Œè‹¥æ˜¯åˆ™å°†å·¦æŒ‡é’ˆç§»åˆ° <code>mid+1</code>ï¼Œå¦åˆ™å°†å³æŒ‡é’ˆç§»åˆ° <code>mid-1</code>ã€‚</li>
<li>è‹¥å¾ªç¯ç»“æŸä»æœªæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œåˆ™è¿”å› -1ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-25-1"><a class="lnlinks" href="#hl-25-1"> 1</a>
</span><span class="lnt" id="hl-25-2"><a class="lnlinks" href="#hl-25-2"> 2</a>
</span><span class="lnt" id="hl-25-3"><a class="lnlinks" href="#hl-25-3"> 3</a>
</span><span class="lnt" id="hl-25-4"><a class="lnlinks" href="#hl-25-4"> 4</a>
</span><span class="lnt" id="hl-25-5"><a class="lnlinks" href="#hl-25-5"> 5</a>
</span><span class="lnt" id="hl-25-6"><a class="lnlinks" href="#hl-25-6"> 6</a>
</span><span class="lnt" id="hl-25-7"><a class="lnlinks" href="#hl-25-7"> 7</a>
</span><span class="lnt" id="hl-25-8"><a class="lnlinks" href="#hl-25-8"> 8</a>
</span><span class="lnt" id="hl-25-9"><a class="lnlinks" href="#hl-25-9"> 9</a>
</span><span class="lnt" id="hl-25-10"><a class="lnlinks" href="#hl-25-10">10</a>
</span><span class="lnt" id="hl-25-11"><a class="lnlinks" href="#hl-25-11">11</a>
</span><span class="lnt" id="hl-25-12"><a class="lnlinks" href="#hl-25-12">12</a>
</span><span class="lnt" id="hl-25-13"><a class="lnlinks" href="#hl-25-13">13</a>
</span><span class="lnt" id="hl-25-14"><a class="lnlinks" href="#hl-25-14">14</a>
</span><span class="lnt" id="hl-25-15"><a class="lnlinks" href="#hl-25-15">15</a>
</span><span class="lnt" id="hl-25-16"><a class="lnlinks" href="#hl-25-16">16</a>
</span><span class="lnt" id="hl-25-17"><a class="lnlinks" href="#hl-25-17">17</a>
</span><span class="lnt" id="hl-25-18"><a class="lnlinks" href="#hl-25-18">18</a>
</span><span class="lnt" id="hl-25-19"><a class="lnlinks" href="#hl-25-19">19</a>
</span><span class="lnt" id="hl-25-20"><a class="lnlinks" href="#hl-25-20">20</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">nums</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">l</span><span class="o">&lt;=</span><span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span><span class="o">+</span><span class="n">r</span><span class="o">&gt;&gt;</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span><span class="o">==</span><span class="n">target</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">mid</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">r</span> <span class="o">=</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">l</span> <span class="o">=</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">l</span> <span class="o">=</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">r</span> <span class="o">=</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-n-ä¸ªç»“ç‚¹httpsleetcodecnproblemsremove-nth-node-from-end-of-list"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a><a hidden class="anchor" aria-hidden="true" href="#19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-n-ä¸ªç»“ç‚¹httpsleetcodecnproblemsremove-nth-node-from-end-of-list">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œé¦–å…ˆè®©ç¬¬ä¸€ä¸ªæŒ‡é’ˆä»å¤´èŠ‚ç‚¹å¼€å§‹å‘åç§»åŠ¨næ­¥ï¼Œç„¶ååŒæ—¶ç§»åŠ¨ç¬¬ä¸€ä¸ªæŒ‡é’ˆå’Œç¬¬äºŒä¸ªæŒ‡é’ˆï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªæŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ã€‚è¿™æ ·ç¬¬äºŒä¸ªæŒ‡é’ˆæ‰€æŒ‡çš„ä½ç½®å°±æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œåˆ é™¤æ“ä½œå³å¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼Œæ¯”å¦‚é“¾è¡¨é•¿åº¦ä¸º1ï¼Œåˆ é™¤å¤´èŠ‚ç‚¹ç­‰æƒ…å†µã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-26-1"><a class="lnlinks" href="#hl-26-1"> 1</a>
</span><span class="lnt" id="hl-26-2"><a class="lnlinks" href="#hl-26-2"> 2</a>
</span><span class="lnt" id="hl-26-3"><a class="lnlinks" href="#hl-26-3"> 3</a>
</span><span class="lnt" id="hl-26-4"><a class="lnlinks" href="#hl-26-4"> 4</a>
</span><span class="lnt" id="hl-26-5"><a class="lnlinks" href="#hl-26-5"> 5</a>
</span><span class="lnt" id="hl-26-6"><a class="lnlinks" href="#hl-26-6"> 6</a>
</span><span class="lnt" id="hl-26-7"><a class="lnlinks" href="#hl-26-7"> 7</a>
</span><span class="lnt" id="hl-26-8"><a class="lnlinks" href="#hl-26-8"> 8</a>
</span><span class="lnt" id="hl-26-9"><a class="lnlinks" href="#hl-26-9"> 9</a>
</span><span class="lnt" id="hl-26-10"><a class="lnlinks" href="#hl-26-10">10</a>
</span><span class="lnt" id="hl-26-11"><a class="lnlinks" href="#hl-26-11">11</a>
</span><span class="lnt" id="hl-26-12"><a class="lnlinks" href="#hl-26-12">12</a>
</span><span class="lnt" id="hl-26-13"><a class="lnlinks" href="#hl-26-13">13</a>
</span><span class="lnt" id="hl-26-14"><a class="lnlinks" href="#hl-26-14">14</a>
</span><span class="lnt" id="hl-26-15"><a class="lnlinks" href="#hl-26-15">15</a>
</span><span class="lnt" id="hl-26-16"><a class="lnlinks" href="#hl-26-16">16</a>
</span><span class="lnt" id="hl-26-17"><a class="lnlinks" href="#hl-26-17">17</a>
</span><span class="lnt" id="hl-26-18"><a class="lnlinks" href="#hl-26-18">18</a>
</span><span class="lnt" id="hl-26-19"><a class="lnlinks" href="#hl-26-19">19</a>
</span><span class="lnt" id="hl-26-20"><a class="lnlinks" href="#hl-26-20">20</a>
</span><span class="lnt" id="hl-26-21"><a class="lnlinks" href="#hl-26-21">21</a>
</span><span class="lnt" id="hl-26-22"><a class="lnlinks" href="#hl-26-22">22</a>
</span><span class="lnt" id="hl-26-23"><a class="lnlinks" href="#hl-26-23">23</a>
</span><span class="lnt" id="hl-26-24"><a class="lnlinks" href="#hl-26-24">24</a>
</span><span class="lnt" id="hl-26-25"><a class="lnlinks" href="#hl-26-25">25</a>
</span><span class="lnt" id="hl-26-26"><a class="lnlinks" href="#hl-26-26">26</a>
</span><span class="lnt" id="hl-26-27"><a class="lnlinks" href="#hl-26-27">27</a>
</span><span class="lnt" id="hl-26-28"><a class="lnlinks" href="#hl-26-28">28</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="c1"># Definition for singly-linked list.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># class ListNode:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     def __init__(self, val=0, next=None):</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.val = val</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.next = next</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">p1</span> <span class="o">=</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">            <span class="n">n</span><span class="o">-=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">pre</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">p1</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">            <span class="n">pre</span> <span class="o">=</span> <span class="n">p2</span>
</span></span><span class="line"><span class="cl">            <span class="n">p2</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">p2</span><span class="o">==</span><span class="n">head</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">head</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">head</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="148-æ’åºé“¾è¡¨httpsleetcodecnproblemssort-list"><a href="https://leetcode.cn/problems/sort-list/">148. æ’åºé“¾è¡¨</a><a hidden class="anchor" aria-hidden="true" href="#148-æ’åºé“¾è¡¨httpsleetcodecnproblemssort-list">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹headï¼Œè¦æ±‚å°†é“¾è¡¨æŒ‰å‡åºæ’åˆ—ï¼Œå¹¶è¿”å›æ’åºåçš„é“¾è¡¨ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨å½’å¹¶æ’åºçš„æ€æƒ³å¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚</li>
<li>ç¼–å†™é€’å½’å‡½æ•°sortFun(head, tail)ï¼Œå…¶ä¸­headè¡¨ç¤ºå½“å‰å¾…æ’åºçš„å­é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œtailè¡¨ç¤ºå½“å‰å¾…æ’åºçš„å­é“¾è¡¨çš„å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼ˆå³å°¾ç»“ç‚¹çš„åç»§ç»“ç‚¹ï¼‰ã€‚</li>
<li>åœ¨sortFunå‡½æ•°ä¸­ï¼Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°å½“å‰å¾…æ’åºå­é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹midï¼Œå¹¶å°†é“¾è¡¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹éƒ¨åˆ†ç”±headåˆ°mid-1ï¼Œå³è¾¹éƒ¨åˆ†ç”±midåˆ°tail-1ã€‚</li>
<li>é€’å½’è°ƒç”¨sortFunå‡½æ•°å¯¹å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œç›´è‡³æ’åºå®Œæˆã€‚</li>
<li>ç¼–å†™mergeå‡½æ•°ï¼Œå°†å·²ç»æ’å¥½åºçš„å·¦å³ä¸¤éƒ¨åˆ†é“¾è¡¨è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶è¿‡ç¨‹ä¸­æŒ‰ç…§ç»“ç‚¹çš„å€¼å¤§å°è¿›è¡Œæ¯”è¾ƒï¼Œå°†è¾ƒå°çš„ç»“ç‚¹è¿æ¥åˆ°ç»“æœé“¾è¡¨ä¸­ã€‚</li>
<li>è¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-27-1"><a class="lnlinks" href="#hl-27-1"> 1</a>
</span><span class="lnt" id="hl-27-2"><a class="lnlinks" href="#hl-27-2"> 2</a>
</span><span class="lnt" id="hl-27-3"><a class="lnlinks" href="#hl-27-3"> 3</a>
</span><span class="lnt" id="hl-27-4"><a class="lnlinks" href="#hl-27-4"> 4</a>
</span><span class="lnt" id="hl-27-5"><a class="lnlinks" href="#hl-27-5"> 5</a>
</span><span class="lnt" id="hl-27-6"><a class="lnlinks" href="#hl-27-6"> 6</a>
</span><span class="lnt" id="hl-27-7"><a class="lnlinks" href="#hl-27-7"> 7</a>
</span><span class="lnt" id="hl-27-8"><a class="lnlinks" href="#hl-27-8"> 8</a>
</span><span class="lnt" id="hl-27-9"><a class="lnlinks" href="#hl-27-9"> 9</a>
</span><span class="lnt" id="hl-27-10"><a class="lnlinks" href="#hl-27-10">10</a>
</span><span class="lnt" id="hl-27-11"><a class="lnlinks" href="#hl-27-11">11</a>
</span><span class="lnt" id="hl-27-12"><a class="lnlinks" href="#hl-27-12">12</a>
</span><span class="lnt" id="hl-27-13"><a class="lnlinks" href="#hl-27-13">13</a>
</span><span class="lnt" id="hl-27-14"><a class="lnlinks" href="#hl-27-14">14</a>
</span><span class="lnt" id="hl-27-15"><a class="lnlinks" href="#hl-27-15">15</a>
</span><span class="lnt" id="hl-27-16"><a class="lnlinks" href="#hl-27-16">16</a>
</span><span class="lnt" id="hl-27-17"><a class="lnlinks" href="#hl-27-17">17</a>
</span><span class="lnt" id="hl-27-18"><a class="lnlinks" href="#hl-27-18">18</a>
</span><span class="lnt" id="hl-27-19"><a class="lnlinks" href="#hl-27-19">19</a>
</span><span class="lnt" id="hl-27-20"><a class="lnlinks" href="#hl-27-20">20</a>
</span><span class="lnt" id="hl-27-21"><a class="lnlinks" href="#hl-27-21">21</a>
</span><span class="lnt" id="hl-27-22"><a class="lnlinks" href="#hl-27-22">22</a>
</span><span class="lnt" id="hl-27-23"><a class="lnlinks" href="#hl-27-23">23</a>
</span><span class="lnt" id="hl-27-24"><a class="lnlinks" href="#hl-27-24">24</a>
</span><span class="lnt" id="hl-27-25"><a class="lnlinks" href="#hl-27-25">25</a>
</span><span class="lnt" id="hl-27-26"><a class="lnlinks" href="#hl-27-26">26</a>
</span><span class="lnt" id="hl-27-27"><a class="lnlinks" href="#hl-27-27">27</a>
</span><span class="lnt" id="hl-27-28"><a class="lnlinks" href="#hl-27-28">28</a>
</span><span class="lnt" id="hl-27-29"><a class="lnlinks" href="#hl-27-29">29</a>
</span><span class="lnt" id="hl-27-30"><a class="lnlinks" href="#hl-27-30">30</a>
</span><span class="lnt" id="hl-27-31"><a class="lnlinks" href="#hl-27-31">31</a>
</span><span class="lnt" id="hl-27-32"><a class="lnlinks" href="#hl-27-32">32</a>
</span><span class="lnt" id="hl-27-33"><a class="lnlinks" href="#hl-27-33">33</a>
</span><span class="lnt" id="hl-27-34"><a class="lnlinks" href="#hl-27-34">34</a>
</span><span class="lnt" id="hl-27-35"><a class="lnlinks" href="#hl-27-35">35</a>
</span><span class="lnt" id="hl-27-36"><a class="lnlinks" href="#hl-27-36">36</a>
</span><span class="lnt" id="hl-27-37"><a class="lnlinks" href="#hl-27-37">37</a>
</span><span class="lnt" id="hl-27-38"><a class="lnlinks" href="#hl-27-38">38</a>
</span><span class="lnt" id="hl-27-39"><a class="lnlinks" href="#hl-27-39">39</a>
</span><span class="lnt" id="hl-27-40"><a class="lnlinks" href="#hl-27-40">40</a>
</span><span class="lnt" id="hl-27-41"><a class="lnlinks" href="#hl-27-41">41</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="c1"># Definition for singly-linked list.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># class ListNode:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     def __init__(self, val=0, next=None):</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.val = val</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         self.next = next</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">sortList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">sortFun</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">tail</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">==</span> <span class="n">tail</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl">            <span class="n">slow</span> <span class="o">=</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">fast</span> <span class="o">!=</span> <span class="n">tail</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">                <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">fast</span> <span class="o">!=</span> <span class="n">tail</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="n">mid</span> <span class="o">=</span> <span class="n">slow</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">sortFun</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">mid</span><span class="p">),</span> <span class="n">sortFun</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="n">tail</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span> <span class="n">h2</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span> <span class="o">=</span> <span class="n">dummy</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">h1</span> <span class="ow">and</span> <span class="n">h2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">h1</span><span class="o">.</span><span class="n">val</span><span class="o">&lt;=</span><span class="n">h2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">h1</span>
</span></span><span class="line"><span class="cl">                    <span class="n">h1</span> <span class="o">=</span> <span class="n">h1</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">h2</span>
</span></span><span class="line"><span class="cl">                    <span class="n">h2</span> <span class="o">=</span> <span class="n">h2</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">h1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">h1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">h2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">h2</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">sortFun</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„httpsleetcodecnproblemsshortest-unsorted-continuous-subarray-1"><a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a><a hidden class="anchor" aria-hidden="true" href="#581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„httpsleetcodecnproblemsshortest-unsorted-continuous-subarray-1">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„numsï¼Œæ‰¾å‡ºä¸€ä¸ªè¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—å¯¹è¯¥å­æ•°ç»„è¿›è¡Œå‡åºæ’åºåï¼Œæ•´ä¸ªæ•°ç»„éƒ½å˜ä¸ºå‡åºæ’åºã€‚è¦æ±‚æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æœ€çŸ­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ol>
<li>é¦–å…ˆåˆå§‹åŒ–æœ€å¤§å€¼mxä¸ºè´Ÿæ— ç©·ï¼Œæœ€å°å€¼mnä¸ºæ­£æ— ç©·ï¼Œä»¥åŠæœ€çŸ­å­æ•°ç»„çš„å·¦å³è¾¹ç•Œleftå’Œrightåˆ†åˆ«ä¸º-1ã€‚</li>
<li>éå†æ•°ç»„numsï¼Œä»å·¦å‘å³å¯»æ‰¾å³è¾¹ç•Œrightï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„æœ€å¤§å€¼mxï¼Œåˆ™æ›´æ–°rightä¸ºå½“å‰ç´¢å¼•ï¼›å¦åˆ™æ›´æ–°æœ€å¤§å€¼mxä¸ºå½“å‰å…ƒç´ ã€‚</li>
<li>åŒæ—¶ï¼Œä»å³å‘å·¦å¯»æ‰¾å·¦è¾¹ç•Œleftï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„æœ€å°å€¼mnï¼Œåˆ™æ›´æ–°leftä¸ºå½“å‰ç´¢å¼•ï¼›å¦åˆ™æ›´æ–°æœ€å°å€¼mnä¸ºå½“å‰å…ƒç´ ã€‚</li>
<li>æœ€åè¿”å›å³è¾¹ç•Œå’Œå·¦è¾¹ç•Œçš„å·®åŠ 1ï¼Œå³ä¸ºæœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœå·¦è¾¹ç•Œä»ä¸ºåˆå§‹å€¼-1ï¼Œåˆ™è¿”å›0è¡¨ç¤ºæ•´ä¸ªæ•°ç»„å·²ç»æœ‰åºã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-28-1"><a class="lnlinks" href="#hl-28-1"> 1</a>
</span><span class="lnt" id="hl-28-2"><a class="lnlinks" href="#hl-28-2"> 2</a>
</span><span class="lnt" id="hl-28-3"><a class="lnlinks" href="#hl-28-3"> 3</a>
</span><span class="lnt" id="hl-28-4"><a class="lnlinks" href="#hl-28-4"> 4</a>
</span><span class="lnt" id="hl-28-5"><a class="lnlinks" href="#hl-28-5"> 5</a>
</span><span class="lnt" id="hl-28-6"><a class="lnlinks" href="#hl-28-6"> 6</a>
</span><span class="lnt" id="hl-28-7"><a class="lnlinks" href="#hl-28-7"> 7</a>
</span><span class="lnt" id="hl-28-8"><a class="lnlinks" href="#hl-28-8"> 8</a>
</span><span class="lnt" id="hl-28-9"><a class="lnlinks" href="#hl-28-9"> 9</a>
</span><span class="lnt" id="hl-28-10"><a class="lnlinks" href="#hl-28-10">10</a>
</span><span class="lnt" id="hl-28-11"><a class="lnlinks" href="#hl-28-11">11</a>
</span><span class="lnt" id="hl-28-12"><a class="lnlinks" href="#hl-28-12">12</a>
</span><span class="lnt" id="hl-28-13"><a class="lnlinks" href="#hl-28-13">13</a>
</span><span class="lnt" id="hl-28-14"><a class="lnlinks" href="#hl-28-14">14</a>
</span><span class="lnt" id="hl-28-15"><a class="lnlinks" href="#hl-28-15">15</a>
</span><span class="lnt" id="hl-28-16"><a class="lnlinks" href="#hl-28-16">16</a>
</span><span class="lnt" id="hl-28-17"><a class="lnlinks" href="#hl-28-17">17</a>
</span><span class="lnt" id="hl-28-18"><a class="lnlinks" href="#hl-28-18">18</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">findUnsortedSubarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">mx</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">mn</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">mx</span><span class="o">&gt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">right</span> <span class="o">=</span> <span class="n">i</span> 
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mx</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">mn</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">left</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span> 
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mn</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">left</span><span class="o">==-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="çº¿æ®µæ ‘">çº¿æ®µæ ‘<a hidden class="anchor" aria-hidden="true" href="#çº¿æ®µæ ‘">#</a></h2>
<h3 id="729-æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨-ihttpsleetcodecnproblemsmy-calendar-i"><a href="https://leetcode.cn/problems/my-calendar-i/">729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I</a><a hidden class="anchor" aria-hidden="true" href="#729-æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨-ihttpsleetcodecnproblemsmy-calendar-i">#</a></h3>
<ul>
<li><strong>é¢˜ç›®å¤§æ„</strong>ï¼šè¿™ä¸ªé¢˜ç›®æ˜¯å…³äºè®¾è®¡ä¸€ä¸ªæ—¥ç¨‹å®‰æ’ç±» <code>MyCalendar</code>ï¼Œå®ƒèƒ½å¤Ÿå­˜å‚¨æ—¥ç¨‹ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦ä¼šæœ‰é‡å¤é¢„è®¢ã€‚æ—¥ç¨‹ä»¥åŠå¼€åŒºé—´ <code>[start, end)</code> è¡¨ç¤ºï¼Œå½“ä¸¤ä¸ªæ—¥ç¨‹æ—¶é—´æœ‰äº¤å æ—¶å°±ä¼šäº§ç”Ÿé‡å¤é¢„è®¢ã€‚</li>
</ul>
<p><strong>å®ç°æ€è·¯ï¼š</strong></p>
<ol>
<li>
<p><strong>ä½¿ç”¨çº¿æ®µæ ‘</strong>ï¼š</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥è¡¨ç¤ºæ—¶é—´æ®µçš„é¢„è®¢æƒ…å†µã€‚æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæ—¶é—´æ®µï¼ŒèŠ‚ç‚¹å€¼è¡¨ç¤ºè¿™ä¸ªæ—¶é—´æ®µæ˜¯å¦è¢«é¢„è®¢ã€‚</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸¤ä¸ªé›†åˆï¼Œ<code>self.tree</code> è¡¨ç¤ºå·²ç»é¢„è®¢çš„èŠ‚ç‚¹ï¼Œ<code>self.lazy</code> è¡¨ç¤ºå·²ç»è¢«æ ‡è®°ä¸ºé¢„è®¢ä½†å°šæœªè¢«æ›´æ–°çš„èŠ‚ç‚¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŸ¥è¯¢åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>å½“éœ€è¦æŸ¥è¯¢æŸä¸ªæ—¶é—´æ®µæ˜¯å¦è¢«é¢„è®¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨çº¿æ®µæ ‘ä¸Šè¿›è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢åˆ°æŸä¸ªèŠ‚ç‚¹è¢«æ ‡è®°ä¸ºå·²é¢„è®¢ï¼ˆåŒ…æ‹¬è¢«æ ‡è®°ä¸ºé¢„è®¢ä½†å°šæœªæ›´æ–°çš„èŠ‚ç‚¹ï¼‰ï¼Œåˆ™è¿”å›é¢„è®¢ï¼›å¦åˆ™è¿”å›æœªé¢„è®¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ›´æ–°åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>å½“è¦é¢„è®¢æŸä¸ªæ—¶é—´æ®µæ—¶ï¼Œæˆ‘ä»¬åœ¨çº¿æ®µæ ‘ä¸Šè¿›è¡Œæ›´æ–°æ“ä½œã€‚é¦–å…ˆä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°å‘ä¸‹æ›´æ–°ï¼Œå°†è¯¥æ—¶é—´æ®µçš„èŠ‚ç‚¹æ ‡è®°ä¸ºå·²é¢„è®¢ï¼Œå¹¶å°†ç»è¿‡çš„èŠ‚ç‚¹åŠ å…¥ <code>self.tree</code> ä¸­ã€‚</li>
<li>åŒæ—¶ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½è¢«æ ‡è®°ä¸ºå·²é¢„è®¢ï¼Œåˆ™å°†è¯¥èŠ‚ç‚¹ä¹Ÿæ ‡è®°ä¸ºå·²é¢„è®¢ï¼ŒåŒæ—¶åŠ å…¥ <code>self.lazy</code> ä¸­ï¼Œè¡¨ç¤ºå…¶ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å·²ç»è¢«é¢„è®¢ä½†å°šæœªæ›´æ–°ã€‚</li>
</ul>
</li>
<li>
<p><strong>book æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>åœ¨ <code>book</code> æ–¹æ³•ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­è¦é¢„è®¢çš„æ—¶é—´æ®µæ˜¯å¦å·²ç»è¢«é¢„è®¢ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› <code>False</code>ï¼›å¦åˆ™ï¼Œè°ƒç”¨ <code>update</code> æ–¹æ³•è¿›è¡Œæ›´æ–°ï¼Œå¹¶è¿”å› <code>True</code>ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-29-1"><a class="lnlinks" href="#hl-29-1"> 1</a>
</span><span class="lnt" id="hl-29-2"><a class="lnlinks" href="#hl-29-2"> 2</a>
</span><span class="lnt" id="hl-29-3"><a class="lnlinks" href="#hl-29-3"> 3</a>
</span><span class="lnt" id="hl-29-4"><a class="lnlinks" href="#hl-29-4"> 4</a>
</span><span class="lnt" id="hl-29-5"><a class="lnlinks" href="#hl-29-5"> 5</a>
</span><span class="lnt" id="hl-29-6"><a class="lnlinks" href="#hl-29-6"> 6</a>
</span><span class="lnt" id="hl-29-7"><a class="lnlinks" href="#hl-29-7"> 7</a>
</span><span class="lnt" id="hl-29-8"><a class="lnlinks" href="#hl-29-8"> 8</a>
</span><span class="lnt" id="hl-29-9"><a class="lnlinks" href="#hl-29-9"> 9</a>
</span><span class="lnt" id="hl-29-10"><a class="lnlinks" href="#hl-29-10">10</a>
</span><span class="lnt" id="hl-29-11"><a class="lnlinks" href="#hl-29-11">11</a>
</span><span class="lnt" id="hl-29-12"><a class="lnlinks" href="#hl-29-12">12</a>
</span><span class="lnt" id="hl-29-13"><a class="lnlinks" href="#hl-29-13">13</a>
</span><span class="lnt" id="hl-29-14"><a class="lnlinks" href="#hl-29-14">14</a>
</span><span class="lnt" id="hl-29-15"><a class="lnlinks" href="#hl-29-15">15</a>
</span><span class="lnt" id="hl-29-16"><a class="lnlinks" href="#hl-29-16">16</a>
</span><span class="lnt" id="hl-29-17"><a class="lnlinks" href="#hl-29-17">17</a>
</span><span class="lnt" id="hl-29-18"><a class="lnlinks" href="#hl-29-18">18</a>
</span><span class="lnt" id="hl-29-19"><a class="lnlinks" href="#hl-29-19">19</a>
</span><span class="lnt" id="hl-29-20"><a class="lnlinks" href="#hl-29-20">20</a>
</span><span class="lnt" id="hl-29-21"><a class="lnlinks" href="#hl-29-21">21</a>
</span><span class="lnt" id="hl-29-22"><a class="lnlinks" href="#hl-29-22">22</a>
</span><span class="lnt" id="hl-29-23"><a class="lnlinks" href="#hl-29-23">23</a>
</span><span class="lnt" id="hl-29-24"><a class="lnlinks" href="#hl-29-24">24</a>
</span><span class="lnt" id="hl-29-25"><a class="lnlinks" href="#hl-29-25">25</a>
</span><span class="lnt" id="hl-29-26"><a class="lnlinks" href="#hl-29-26">26</a>
</span><span class="lnt" id="hl-29-27"><a class="lnlinks" href="#hl-29-27">27</a>
</span><span class="lnt" id="hl-29-28"><a class="lnlinks" href="#hl-29-28">28</a>
</span><span class="lnt" id="hl-29-29"><a class="lnlinks" href="#hl-29-29">29</a>
</span><span class="lnt" id="hl-29-30"><a class="lnlinks" href="#hl-29-30">30</a>
</span><span class="lnt" id="hl-29-31"><a class="lnlinks" href="#hl-29-31">31</a>
</span><span class="lnt" id="hl-29-32"><a class="lnlinks" href="#hl-29-32">32</a>
</span><span class="lnt" id="hl-29-33"><a class="lnlinks" href="#hl-29-33">33</a>
</span><span class="lnt" id="hl-29-34"><a class="lnlinks" href="#hl-29-34">34</a>
</span><span class="lnt" id="hl-29-35"><a class="lnlinks" href="#hl-29-35">35</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyCalendar</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">l</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="ow">or</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="n">l</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>  <span class="c1"># å¦‚æœè¯¥åŒºé—´å·²è¢«é¢„è®¢ï¼Œåˆ™ç›´æ¥è¿”å›</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">l</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span>
</span></span><span class="line"><span class="cl">        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">idx</span><span class="p">)</span> <span class="ow">or</span> \
</span></span><span class="line"><span class="cl">               <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">start</span><span class="o">&gt;</span><span class="n">r</span> <span class="ow">or</span> <span class="n">end</span><span class="o">&lt;</span><span class="n">l</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">start</span><span class="o">&lt;=</span><span class="n">l</span> <span class="ow">and</span> <span class="n">r</span><span class="o">&lt;=</span><span class="n">end</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="n">r</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">idx</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">idx</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="mi">2</span><span class="o">*</span><span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="mi">2</span><span class="o">*</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">book</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2286-ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨httpsleetcodecnproblemsbooking-concert-tickets-in-groups"><a href="https://leetcode.cn/problems/booking-concert-tickets-in-groups/">2286. ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨</a><a hidden class="anchor" aria-hidden="true" href="#2286-ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨httpsleetcodecnproblemsbooking-concert-tickets-in-groups">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼š
è®¾è®¡ä¸€ä¸ªä¹°ç¥¨ç³»ç»Ÿï¼Œé’ˆå¯¹éŸ³ä¹ä¼šçš„åº§ä½å®‰æ’ã€‚éŸ³ä¹ä¼šæ€»å…±æœ‰næ’åº§ä½ï¼Œæ¯æ’æœ‰mä¸ªåº§æ¤…ã€‚ç³»ç»Ÿéœ€è¦å¤„ç†ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li><code>gather(k, maxRow)</code>: è¿”å›é•¿åº¦ä¸º<code>2</code>çš„æ•°ç»„ï¼Œè¡¨ç¤º<code>k</code>ä¸ªæˆå‘˜ä¸­ç¬¬ä¸€ä¸ªåº§ä½çš„æ’æ•°å’Œåº§ä½ç¼–å·ï¼Œè¿™<code>k</code>ä½æˆå‘˜å¿…é¡»ååœ¨åŒä¸€æ’åº§ä½ï¼Œä¸”åº§ä½è¿ç»­ã€‚å¦‚æœæ— æ³•å®‰æ’åº§ä½ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</li>
<li><code>scatter(k, maxRow)</code>: å¦‚æœç»„é‡Œæ‰€æœ‰kä¸ªæˆå‘˜ä¸ä¸€å®šè¦ååœ¨ä¸€èµ·çš„å‰æä¸‹ï¼Œéƒ½èƒ½åœ¨ç¬¬<code>0</code>æ’åˆ°ç¬¬<code>maxRow</code>æ’ä¹‹é—´æ‰¾åˆ°åº§ä½ï¼Œè¿”å›<code>true</code>ï¼›å¦åˆ™è¿”å›<code>false</code>ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæˆå‘˜éƒ½ä¼˜å…ˆæ‰¾æ’æ•°æœ€å°ï¼Œç„¶åæ˜¯åº§ä½ç¼–å·æœ€å°çš„åº§ä½ã€‚</li>
</ol>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<ul>
<li>å¯¹äº<code>gather(k, maxRow)</code>ï¼Œå¯ä»¥åˆ©ç”¨çº¿æ®µæ ‘æ¥å®ç°ã€‚
<ul>
<li>çº¿æ®µæ ‘èŠ‚ç‚¹ç»´æŠ¤æœ€å°å€¼å’Œæ€»å’Œï¼Œç”¨äºæŸ¥æ‰¾æœ€å°å€¼ä»¥åŠæŸ¥è¯¢æ€»å’Œã€‚</li>
<li>ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®šç¬¦åˆæ¡ä»¶çš„æœ€å°æ’æ•°ï¼Œå¹¶æ›´æ–°åº§ä½ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>å¯¹äº<code>scatter(k, maxRow)</code>ï¼ŒåŒæ ·ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åº§ä½ä¿¡æ¯ã€‚
<ul>
<li>éå†æ’æ•°ï¼Œæ ¹æ®å½“å‰æ’çš„å‰©ä½™åº§ä½æ•°é‡å’Œéœ€æ±‚<code>k</code>è¿›è¡Œåˆ¤æ–­ã€‚</li>
<li>è‹¥å½“å‰æ’å‰©ä½™åº§ä½æ•°è¶³å¤Ÿï¼Œå®‰æ’<code>k</code>ä¸ªåº§ä½å¹¶è¿”å›<code>true</code>ï¼›è‹¥ä¸è¶³å¤Ÿï¼Œç»§ç»­å‘ä¸‹ä¸€æ’å°è¯•ã€‚</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-30-1"><a class="lnlinks" href="#hl-30-1"> 1</a>
</span><span class="lnt" id="hl-30-2"><a class="lnlinks" href="#hl-30-2"> 2</a>
</span><span class="lnt" id="hl-30-3"><a class="lnlinks" href="#hl-30-3"> 3</a>
</span><span class="lnt" id="hl-30-4"><a class="lnlinks" href="#hl-30-4"> 4</a>
</span><span class="lnt" id="hl-30-5"><a class="lnlinks" href="#hl-30-5"> 5</a>
</span><span class="lnt" id="hl-30-6"><a class="lnlinks" href="#hl-30-6"> 6</a>
</span><span class="lnt" id="hl-30-7"><a class="lnlinks" href="#hl-30-7"> 7</a>
</span><span class="lnt" id="hl-30-8"><a class="lnlinks" href="#hl-30-8"> 8</a>
</span><span class="lnt" id="hl-30-9"><a class="lnlinks" href="#hl-30-9"> 9</a>
</span><span class="lnt" id="hl-30-10"><a class="lnlinks" href="#hl-30-10">10</a>
</span><span class="lnt" id="hl-30-11"><a class="lnlinks" href="#hl-30-11">11</a>
</span><span class="lnt" id="hl-30-12"><a class="lnlinks" href="#hl-30-12">12</a>
</span><span class="lnt" id="hl-30-13"><a class="lnlinks" href="#hl-30-13">13</a>
</span><span class="lnt" id="hl-30-14"><a class="lnlinks" href="#hl-30-14">14</a>
</span><span class="lnt" id="hl-30-15"><a class="lnlinks" href="#hl-30-15">15</a>
</span><span class="lnt" id="hl-30-16"><a class="lnlinks" href="#hl-30-16">16</a>
</span><span class="lnt" id="hl-30-17"><a class="lnlinks" href="#hl-30-17">17</a>
</span><span class="lnt" id="hl-30-18"><a class="lnlinks" href="#hl-30-18">18</a>
</span><span class="lnt" id="hl-30-19"><a class="lnlinks" href="#hl-30-19">19</a>
</span><span class="lnt" id="hl-30-20"><a class="lnlinks" href="#hl-30-20">20</a>
</span><span class="lnt" id="hl-30-21"><a class="lnlinks" href="#hl-30-21">21</a>
</span><span class="lnt" id="hl-30-22"><a class="lnlinks" href="#hl-30-22">22</a>
</span><span class="lnt" id="hl-30-23"><a class="lnlinks" href="#hl-30-23">23</a>
</span><span class="lnt" id="hl-30-24"><a class="lnlinks" href="#hl-30-24">24</a>
</span><span class="lnt" id="hl-30-25"><a class="lnlinks" href="#hl-30-25">25</a>
</span><span class="lnt" id="hl-30-26"><a class="lnlinks" href="#hl-30-26">26</a>
</span><span class="lnt" id="hl-30-27"><a class="lnlinks" href="#hl-30-27">27</a>
</span><span class="lnt" id="hl-30-28"><a class="lnlinks" href="#hl-30-28">28</a>
</span><span class="lnt" id="hl-30-29"><a class="lnlinks" href="#hl-30-29">29</a>
</span><span class="lnt" id="hl-30-30"><a class="lnlinks" href="#hl-30-30">30</a>
</span><span class="lnt" id="hl-30-31"><a class="lnlinks" href="#hl-30-31">31</a>
</span><span class="lnt" id="hl-30-32"><a class="lnlinks" href="#hl-30-32">32</a>
</span><span class="lnt" id="hl-30-33"><a class="lnlinks" href="#hl-30-33">33</a>
</span><span class="lnt" id="hl-30-34"><a class="lnlinks" href="#hl-30-34">34</a>
</span><span class="lnt" id="hl-30-35"><a class="lnlinks" href="#hl-30-35">35</a>
</span><span class="lnt" id="hl-30-36"><a class="lnlinks" href="#hl-30-36">36</a>
</span><span class="lnt" id="hl-30-37"><a class="lnlinks" href="#hl-30-37">37</a>
</span><span class="lnt" id="hl-30-38"><a class="lnlinks" href="#hl-30-38">38</a>
</span><span class="lnt" id="hl-30-39"><a class="lnlinks" href="#hl-30-39">39</a>
</span><span class="lnt" id="hl-30-40"><a class="lnlinks" href="#hl-30-40">40</a>
</span><span class="lnt" id="hl-30-41"><a class="lnlinks" href="#hl-30-41">41</a>
</span><span class="lnt" id="hl-30-42"><a class="lnlinks" href="#hl-30-42">42</a>
</span><span class="lnt" id="hl-30-43"><a class="lnlinks" href="#hl-30-43">43</a>
</span><span class="lnt" id="hl-30-44"><a class="lnlinks" href="#hl-30-44">44</a>
</span><span class="lnt" id="hl-30-45"><a class="lnlinks" href="#hl-30-45">45</a>
</span><span class="lnt" id="hl-30-46"><a class="lnlinks" href="#hl-30-46">46</a>
</span><span class="lnt" id="hl-30-47"><a class="lnlinks" href="#hl-30-47">47</a>
</span><span class="lnt" id="hl-30-48"><a class="lnlinks" href="#hl-30-48">48</a>
</span><span class="lnt" id="hl-30-49"><a class="lnlinks" href="#hl-30-49">49</a>
</span><span class="lnt" id="hl-30-50"><a class="lnlinks" href="#hl-30-50">50</a>
</span><span class="lnt" id="hl-30-51"><a class="lnlinks" href="#hl-30-51">51</a>
</span><span class="lnt" id="hl-30-52"><a class="lnlinks" href="#hl-30-52">52</a>
</span><span class="lnt" id="hl-30-53"><a class="lnlinks" href="#hl-30-53">53</a>
</span><span class="lnt" id="hl-30-54"><a class="lnlinks" href="#hl-30-54">54</a>
</span><span class="lnt" id="hl-30-55"><a class="lnlinks" href="#hl-30-55">55</a>
</span><span class="lnt" id="hl-30-56"><a class="lnlinks" href="#hl-30-56">56</a>
</span><span class="lnt" id="hl-30-57"><a class="lnlinks" href="#hl-30-57">57</a>
</span><span class="lnt" id="hl-30-58"><a class="lnlinks" href="#hl-30-58">58</a>
</span><span class="lnt" id="hl-30-59"><a class="lnlinks" href="#hl-30-59">59</a>
</span><span class="lnt" id="hl-30-60"><a class="lnlinks" href="#hl-30-60">60</a>
</span><span class="lnt" id="hl-30-61"><a class="lnlinks" href="#hl-30-61">61</a>
</span><span class="lnt" id="hl-30-62"><a class="lnlinks" href="#hl-30-62">62</a>
</span><span class="lnt" id="hl-30-63"><a class="lnlinks" href="#hl-30-63">63</a>
</span><span class="lnt" id="hl-30-64"><a class="lnlinks" href="#hl-30-64">64</a>
</span><span class="lnt" id="hl-30-65"><a class="lnlinks" href="#hl-30-65">65</a>
</span><span class="lnt" id="hl-30-66"><a class="lnlinks" href="#hl-30-66">66</a>
</span><span class="lnt" id="hl-30-67"><a class="lnlinks" href="#hl-30-67">67</a>
</span><span class="lnt" id="hl-30-68"><a class="lnlinks" href="#hl-30-68">68</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">BookMyShow</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span>
</span></span><span class="line"><span class="cl">        <span class="n">N</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="o">.</span><span class="n">bit_length</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">mn</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">N</span>  <span class="c1"># min</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">sm</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">N</span>  <span class="c1"># sum</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="p">[</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="p">[</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ql</span><span class="p">,</span> <span class="n">qr</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">l</span> <span class="o">&gt;=</span> <span class="n">ql</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">qr</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="p">[</span><span class="n">u</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">ql</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">ql</span><span class="p">,</span> <span class="n">qr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">qr</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ql</span><span class="p">,</span> <span class="n">qr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">qr</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">v</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">l</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mn</span><span class="p">[</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">v</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">qr</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">qr</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">qr</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">gather</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">maxRow</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">maxRow</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="n">k</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">scatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">maxRow</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">maxRow</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">maxRow</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">maxRow</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">rest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">rest</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">k</span> <span class="o">-=</span> <span class="n">rest</span>
</span></span><span class="line"><span class="cl">            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å…¶ä»–é¢˜ç›®">å…¶ä»–é¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–é¢˜ç›®">#</a></h1>
<h3 id="3031-å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´-iihttpsleetcodecnproblemsminimum-time-to-revert-word-to-initial-state-ii-zå‡½æ•°"><a href="https://leetcode.cn/problems/minimum-time-to-revert-word-to-initial-state-ii/">3031. å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ II</a> Zå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#3031-å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´-iihttpsleetcodecnproblemsminimum-time-to-revert-word-to-initial-state-ii-zå‡½æ•°">#</a></h3>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼š
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² word å’Œä¸€ä¸ªæ•´æ•° kï¼Œæ¯ç§’éœ€è¦æ‰§è¡Œä¸¤ç§æ“ä½œï¼šç§»é™¤å­—ç¬¦ä¸² word çš„å‰ k ä¸ªå­—ç¬¦ï¼Œå¹¶åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  k ä¸ªä»»æ„å­—ç¬¦ã€‚è¦æ±‚è¿”å›å°† word æ¢å¤åˆ°åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚</p>
<p><strong>å®ç°æ€è·¯</strong>ï¼š
é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Z å‡½æ•°ï¼ˆZ algorithmï¼‰æ¥æ‰¾åˆ°å­—ç¬¦ä¸²çš„æœ€é•¿å‰ç¼€åç¼€åŒ¹é…é•¿åº¦ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Z å‡½æ•°çš„æ€§è´¨ï¼Œå°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸åŒçš„å‰ç¼€å­ä¸²ï¼Œæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æœ€å°æ—¶é—´ã€‚</p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ zï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸² s çš„ Z å‡½æ•°å€¼ã€‚</li>
<li>ä½¿ç”¨åŒæŒ‡é’ˆ l å’Œ r æ¥ç»´æŠ¤å½“å‰åŒ¹é…çš„å­ä¸²ã€‚</li>
<li>éå†å­—ç¬¦ä¸² sï¼Œè®¡ç®— z[i] çš„å€¼ï¼Œå³ä»¥ç¬¬ i ä¸ªå­—ç¬¦ä¸ºèµ·å§‹çš„æœ€é•¿å‰ç¼€åç¼€åŒ¹é…é•¿åº¦ã€‚</li>
<li>åœ¨æ¯æ¬¡éå†ä¸­ï¼Œæ›´æ–° l å’Œ r çš„å€¼ï¼Œä¿æŒå½“å‰åŒ¹é…çš„å­ä¸²èŒƒå›´ã€‚</li>
<li>å¦‚æœå½“å‰ä½ç½® i èƒ½å¤Ÿæ»¡è¶³æ¡ä»¶ï¼šå³ i æ˜¯ k çš„å€æ•°ä¸” z[i] ç­‰äºå‰©ä½™å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆn - iï¼‰ï¼Œåˆ™è¿”å› i é™¤ä»¥ kã€‚</li>
<li>è‹¥éå†å®Œå­—ç¬¦ä¸²åä»æœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä½ç½®ï¼Œåˆ™è¿”å› (n - 1) é™¤ä»¥ k å†åŠ  1ï¼Œè¡¨ç¤ºéœ€è¦æŠŠå‰©ä½™çš„å­—ç¬¦ä¸²éƒ½ç§»é™¤å¹¶æ·»åŠ åˆ°æœ«å°¾ã€‚</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-31-1"><a class="lnlinks" href="#hl-31-1"> 1</a>
</span><span class="lnt" id="hl-31-2"><a class="lnlinks" href="#hl-31-2"> 2</a>
</span><span class="lnt" id="hl-31-3"><a class="lnlinks" href="#hl-31-3"> 3</a>
</span><span class="lnt" id="hl-31-4"><a class="lnlinks" href="#hl-31-4"> 4</a>
</span><span class="lnt" id="hl-31-5"><a class="lnlinks" href="#hl-31-5"> 5</a>
</span><span class="lnt" id="hl-31-6"><a class="lnlinks" href="#hl-31-6"> 6</a>
</span><span class="lnt" id="hl-31-7"><a class="lnlinks" href="#hl-31-7"> 7</a>
</span><span class="lnt" id="hl-31-8"><a class="lnlinks" href="#hl-31-8"> 8</a>
</span><span class="lnt" id="hl-31-9"><a class="lnlinks" href="#hl-31-9"> 9</a>
</span><span class="lnt" id="hl-31-10"><a class="lnlinks" href="#hl-31-10">10</a>
</span><span class="lnt" id="hl-31-11"><a class="lnlinks" href="#hl-31-11">11</a>
</span><span class="lnt" id="hl-31-12"><a class="lnlinks" href="#hl-31-12">12</a>
</span><span class="lnt" id="hl-31-13"><a class="lnlinks" href="#hl-31-13">13</a>
</span><span class="lnt" id="hl-31-14"><a class="lnlinks" href="#hl-31-14">14</a>
</span><span class="lnt" id="hl-31-15"><a class="lnlinks" href="#hl-31-15">15</a>
</span><span class="lnt" id="hl-31-16"><a class="lnlinks" href="#hl-31-16">16</a>
</span><span class="lnt" id="hl-31-17"><a class="lnlinks" href="#hl-31-17">17</a>
</span><span class="lnt" id="hl-31-18"><a class="lnlinks" href="#hl-31-18">18</a>
</span><span class="lnt" id="hl-31-19"><a class="lnlinks" href="#hl-31-19">19</a>
</span><span class="lnt" id="hl-31-20"><a class="lnlinks" href="#hl-31-20">20</a>
</span><span class="lnt" id="hl-31-21"><a class="lnlinks" href="#hl-31-21">21</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">minimumTimeToInitialState</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="ow">and</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">l</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">r</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">l</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="n">i</span> <span class="o">+</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">l</span> <span class="o">=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">                <span class="n">r</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="n">k</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">i</span><span class="o">//</span><span class="n">k</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="5-æœ€é•¿å›æ–‡å­ä¸²httpsleetcodecnproblemslongest-palindromic-substringé©¬æ‹‰è½¦ç®—æ³•"><a href="https://leetcode.cn/problems/longest-palindromic-substring/">5. æœ€é•¿å›æ–‡å­ä¸²</a>é©¬æ‹‰è½¦ç®—æ³•<a hidden class="anchor" aria-hidden="true" href="#5-æœ€é•¿å›æ–‡å­ä¸²httpsleetcodecnproblemslongest-palindromic-substringé©¬æ‹‰è½¦ç®—æ³•">#</a></h3>
<ul>
<li><strong>é¢˜æ„</strong>ï¼šæ±‚å­—ç¬¦ä¸²å†…çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦</li>
<li><strong>æ€è·¯</strong>ï¼š<a href="https://www.bilibili.com/video/BV1Sx4y1k7jG/?spm_id_from=333.337.search-card.all.click&vd_source=a4a2b56f746715b34521bfb853094cf4">é©¬æ‹‰è½¦ç®—æ³•</a>ï¼Œç”±å½“å‰å·²çŸ¥çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”±å·²çŸ¥çš„å›æ–‡ä¸²é•¿åº¦ï¼Œæ¨å‡ºå…¶è¦†ç›–çš„ç‚¹çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦ã€‚å¦‚ä¸‹å›¾ï¼Œp[i]ä½ç½®çš„å›æ–‡ä¸²é•¿åº¦å¯ä»¥ç”±æœ€é•¿çš„å›æ–‡ä¸²(ä»¥<code>a</code>ä¸ºä¸­å¿ƒ)å¾—å‡ºï¼Œå› ä¸ºå›æ–‡ä¸²ä¸¤è¾¹æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥<code>p[i] = p[c + c-i]</code>, ä½†æ˜¯å¯¹äºè¦†ç›–ä¸åˆ°çš„éƒ¨åˆ†ï¼Œéœ€è¦å–ä¸‹é™<code>r-i</code>ã€‚</li>
</ul>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/%E9%A9%AC%E6%8B%89%E8%BD%A6.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/%E9%A9%AC%E6%8B%89%E8%BD%A6.png" alt="é©¬æ‹‰è½¦"  />
        </a>
    </div>
</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-32-1"><a class="lnlinks" href="#hl-32-1"> 1</a>
</span><span class="lnt" id="hl-32-2"><a class="lnlinks" href="#hl-32-2"> 2</a>
</span><span class="lnt" id="hl-32-3"><a class="lnlinks" href="#hl-32-3"> 3</a>
</span><span class="lnt" id="hl-32-4"><a class="lnlinks" href="#hl-32-4"> 4</a>
</span><span class="lnt" id="hl-32-5"><a class="lnlinks" href="#hl-32-5"> 5</a>
</span><span class="lnt" id="hl-32-6"><a class="lnlinks" href="#hl-32-6"> 6</a>
</span><span class="lnt" id="hl-32-7"><a class="lnlinks" href="#hl-32-7"> 7</a>
</span><span class="lnt" id="hl-32-8"><a class="lnlinks" href="#hl-32-8"> 8</a>
</span><span class="lnt" id="hl-32-9"><a class="lnlinks" href="#hl-32-9"> 9</a>
</span><span class="lnt" id="hl-32-10"><a class="lnlinks" href="#hl-32-10">10</a>
</span><span class="lnt" id="hl-32-11"><a class="lnlinks" href="#hl-32-11">11</a>
</span><span class="lnt" id="hl-32-12"><a class="lnlinks" href="#hl-32-12">12</a>
</span><span class="lnt" id="hl-32-13"><a class="lnlinks" href="#hl-32-13">13</a>
</span><span class="lnt" id="hl-32-14"><a class="lnlinks" href="#hl-32-14">14</a>
</span><span class="lnt" id="hl-32-15"><a class="lnlinks" href="#hl-32-15">15</a>
</span><span class="lnt" id="hl-32-16"><a class="lnlinks" href="#hl-32-16">16</a>
</span><span class="lnt" id="hl-32-17"><a class="lnlinks" href="#hl-32-17">17</a>
</span><span class="lnt" id="hl-32-18"><a class="lnlinks" href="#hl-32-18">18</a>
</span><span class="lnt" id="hl-32-19"><a class="lnlinks" href="#hl-32-19">19</a>
</span><span class="lnt" id="hl-32-20"><a class="lnlinks" href="#hl-32-20">20</a>
</span><span class="lnt" id="hl-32-21"><a class="lnlinks" href="#hl-32-21">21</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># æ¨èæ•™å­¦è§†é¢‘ ï¼šhttps://www.bilibili.com/video/BV1Sx4y1k7jG/?spm_id_from=333.337.search-card.all.click&amp;vd_source=a4a2b56f746715b34521bfb853094cf4</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="s1">&#39;#&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;#&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span> <span class="c1">#æ¯ä¸ªç‚¹çš„ æœ€é•¿å›æ–‡å­—ä¸² èƒ½åˆ°çš„ å³ä¾§ä½ç½®</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="c1"># å³è¾¹èƒ½åˆ°è¾¾æœ€è¿œçš„è˜‘è‡çš„ä½ç½® å’Œ å…¶æœ€å³è¾¹èƒ½è¾¾åˆ°çš„ä½ç½®</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="n">c</span> <span class="o">+</span> <span class="n">c</span><span class="o">-</span><span class="n">i</span><span class="p">])</span> <span class="c1"># ç”±å·²çŸ¥æ¡ä»¶å¾—åˆ°å½“å‰ä½ç½®èƒ½è¾¾åˆ°çš„æœ€å¤§å³ä¾§è·ç¦»( éœ€è¦å–min(é•œåƒä½ç½®çš„å€¼, å½“å‰æœ€å¤§è˜‘è‡èƒ½è¦†ç›–åˆ°çš„æœ€å¤§å€¼) )</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="n">i</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">r</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">r</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">                <span class="n">c</span> <span class="o">=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ma</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">idx</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ma</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="o">-</span><span class="n">ma</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="n">ma</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> 
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/leetcode%E7%AC%94%E8%AE%B0/">LeetCodeç¬”è®°</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/leetcode">LeetCode</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B3/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(3)</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/linux/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span> Linux</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
<footer class="footer">
    <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        Visitors: <span id="busuanzi_value_page_uv"></span>
        Views: <span id="busuanzi_value_page_pv"></span>

        
    </span>
</footer>



</body>

</html>
