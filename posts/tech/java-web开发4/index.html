<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>Java Web开发(4) | Kennem&#39;s Blog</title>
<meta name="keywords" content="Java, Web">
<meta name="description" content="JavaWeb学习笔记">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%914/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1a7bc7e6d01b82c8ca2b2e53cfcf7e33d2fd9058f6b28245f94da0d91447c6a0.css" integrity="sha256-GnvH5tAbgsjKKy5Tz89&#43;M9L9kFj2soJF&#43;U2g2RRHxqA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%914/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

<meta property="og:url" content="https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%914/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="Java Web开发(4)">
  <meta property="og:description" content="JavaWeb学习笔记">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-27T22:30:13+08:00">
    <meta property="article:modified_time" content="2024-04-27T22:20:13+08:00">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java Web开发(4)">
<meta name="twitter:description" content="JavaWeb学习笔记">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻技术",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Java Web开发(4)",
      "item": "https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%914/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Java Web开发(4)",
  "name": "Java Web开发(4)",
  "description": "JavaWeb学习笔记",
  "keywords": [
    "Java", "Web"
  ],
  "articleBody": "Java Web开发(4) 数据库 数据库：DataBase(DB) ， 是存储和管理数据的仓库 DBMS， SQL MySql登录，首先在服务中启动mysql\n1 mysql -uroot -p\"password\" 或者\n1 mysql -uroot -p 之后输入密码\n连接远程数据库\n1 mysql -h192.168.88.130 -P3306 -utopeet -p\"password\" 查看当前的数据库\n1 select database(); 关系型数据库（RDBMS）：建立在关系模型基础上，由多张相互连接的二维表组成的数据库\nSQL：一门操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准\nSQL语句可以单行或多行书写，以分号结尾 SQL语句可以使用空格/缩进来增强语句的可读性 MySQL数据库的SQL语句不区分大小写 注释： 单行注释： – 注释内容 或者 #注释内容（MySQL特有） 多行注释：/* 注释内容 */ 1 create database db02; DDL， DML， DQL， DCL\n1 create database if not exists db02; 1 drop database if exists db03; 1 show databases; 1 2 select database(); show schemas; DDL 创建表 约束：\n非空约束 not null 唯一约束 unique 主键约束 primary key （auto_increment自增） 默认约束 default 外键约束 foreign key (至少有两张表) 数据类型 主要分为三类：数值类型，字符串类型，日期时间类型\n数值类型：\n类型 大小 有符号范围 无符号范围 描述 tinyint 1 （-128， 127） （0， 255） 小整数值 smallint 2 （-32768, 32767) （0, 65535) 大整数值 mediumint 3 （-8388608， 8388607） （0， 16777215） 大整数值 int 4 （-2147483647， 2147483648） （0， 4294967295） 大整数值 bigint 8 （-2^63, 2^63-1) （0， 2^64-1) 极大整数值 float 4 单精度浮点值 float(5, 2)表示整个数字长度为5， 小数位数为2 double 8 双精度浮点值 decimal 小数值（精度更高） 金额计算 查询当前数据库的所有表：\n1 show tables; 查询表结构：\n1 desc 表名 查询建表语句：\n1 show create table 表名 1 2 3 4 5 6 7 8 9 10 11 12 13 14 -- 员工管理(带约束) create table tb_emp ( id int unsigned primary key auto_increment comment 'ID', username varchar(20) not null unique comment '用户名', password varchar(32) default '123456' comment '密码', name varchar(10) not null comment '姓名', gender tinyint unsigned not null comment '性别, 说明: 1 男, 2 女', image varchar(300) comment '图像', job tinyint unsigned comment '职位, 说明: 1 班主任,2 讲师, 3 学工主管, 4 教研主管', entrydate date comment '入职时间', create_time datetime not null comment '创建时间', update_time datetime not null comment '修改时间' ) comment '员工表'; 1 2 3 4 5 6 7 8 9 10 11 alter table tb_emp add qq varchar(11) comment 'QQ'; alter table tb_emp modify qq varchar(13) comment 'QQ'; alter table tb_emp change qq qq_num varchar(13) comment 'QQ'; alter table tb_emp drop column qq_num; rename table tb_emp to emp; drop table if exists tb_emp; DML Data Manipulation Language(数据操作语言)， 用来对数据库中表的数据记录进行增，删，改操作。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 insert into tb_emp(username,name,gender,create_time,update_time) values ('Kennem', '张无忌', '1',now(),now()); # 插入的内容包含所有字段（可以省略所有字段） insert into tb_emp(id, username, password, name, gender, image, job, entrydate, create_time, update_time) values (null, 'zhiruo', '123', 'kdkd', 2, '1.jpg', 1, '2021-01-20',now(), now()); # 插入多组数据 insert into tb_emp(username, password, name, gender, image, job, entrydate, create_time, update_time) values ('Oliver', '123', 'kdkd', 2, '1.jpg', 1, '2021-01-20',now(), now()),('Linux', '123', 'kdkd', 2, '1.jpg', 1, '2021-01-20',now(), now()); # 更新数据 update tb_emp set name = '张三', update_time = now() where id = 1; # 更新所有数据的此字段 update tb_emp set entrydate = '2010-01-01', update_time = now(); # 更新所有行 # 删除id=1的数据 delete from emp where id=1; # 删除所有数据 delete from emp; # delete不能删除某一字段的值，可以用update将这一字段设置为NULL DQL Data Query Language（数据查询语言）， 用来查询数据库表中的记录 关键字：SELECT 1 2 3 4 5 6 7 8 9 10 11 12 13 select from where group by having order by limit 聚合函数：\ncount max min avg sum 1 2 3 4 5 6 7 8 9 10 11 12 13 select name, entrydate from tb_emp; select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp; select * from tb_emp; select name as 姓名, entrydate as 入职日期 from tb_emp; select name as '姓 名', entrydate as 入职日期 from tb_emp; select distinct job from tb_emp; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 -- 选择tb_emp表中的name和entrydate字段 select name, entrydate from tb_emp; -- 选择tb_emp表中的所有字段，并且显式列出它们 select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp; -- 选择tb_emp表中的所有字段（不直观，性能较低） select * from tb_emp; -- 选择tb_emp表中的name和entrydate字段，并将它们重命名为“姓名”和“入职日期” select name as 姓名, entrydate as 入职日期 from tb_emp; -- 选择tb_emp表中的name和entrydate字段，并将它们重命名为“姓 名”和“入职日期” select name '姓 名', entrydate 入职日期 from tb_emp; -- 选择tb_emp表中不同的job字段值 select distinct job from tb_emp; -- 从tb_emp表中选择name为“杨逍”的记录 select * from tb_emp where name = '杨逍'; -- 从tb_emp表中选择id小于等于5的记录 select * from tb_emp where id \u003c= 5; -- 从tb_emp表中选择job字段为null的记录 select * from tb_emp where job is null; -- 从tb_emp表中选择job字段不为null的记录 select * from tb_emp where job is not null; -- 从tb_emp表中选择password字段不等于“123456”的记录 select * from tb_emp where password != '123456'; -- 从tb_emp表中选择password字段不等于“123456”的记录（另一种写法） select * from tb_emp where password \u003c\u003e '123456'; -- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间的记录 select * from tb_emp where entrydate \u003e= '2000-01-01' and entrydate \u003c= '2010-01-01'; -- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间的记录（使用between） select * from tb_emp where entrydate between '2000-01-01' and '2010-01-01'; -- 重复的语句，选择entrydate在2000-01-01到2010-01-01之间的记录（使用between） select * from tb_emp where entrydate between '2000-01-01' and '2010-01-01'; -- 重复的语句，选择entrydate在2000-01-01到2010-01-01之间的记录 select * from tb_emp where entrydate \u003e= '2000-01-01' and entrydate \u003c= '2010-01-01'; -- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间，且gender为2的记录 select * from tb_emp where entrydate \u003e= '2000-01-01' and entrydate \u003c= '2010-01-01' and gender = 2; -- 从tb_emp表中选择job为2、3或4的记录 select * from tb_emp where job = 2 or job = 3 or job = 4; -- 从tb_emp表中选择job在2, 3, 4中的记录（使用in） select * from tb_emp where job in (2, 3, 4); -- 使用通配符_表示单个字符，选择name字段长度为2的记录 select * from tb_emp where name like '__'; -- 使用通配符_表示单个字符，选择name字段长度为3的记录 select * from tb_emp where name like '___'; -- 使用通配符%表示任意个字符，选择name以“张”开头的记录 select * from tb_emp where name like '张%'; -- 计数id字段的非空值 select count(id) from tb_emp; -- 计数表中的记录数，常量'A'对计数没有影响 select count('A') from tb_emp; -- 推荐的计数表中记录数的写法 select count(*) from tb_emp; -- 选择tb_emp表中entrydate的最小值 select min(entrydate) from tb_emp; -- 选择tb_emp表中entry -- 选择tb_emp表中entrydate的最大值 select max(entrydate) from tb_emp; -- 计算tb_emp表中id字段的平均值 select avg(id) from tb_emp; -- 计算tb_emp表中id字段的总和 select sum(id) from tb_emp; -- 按gender字段分组，并计数每个性别的记录数 select gender, count(*) from tb_emp group by gender; -- 按job字段分组，并选择entrydate小于等于2015-01-01的记录 -- 只包括记录数大于等于2的组 select job, count(*) from tb_emp where entrydate \u003c= '2015-01-01' group by job having count(*) \u003e= 2; -- 从tb_emp表中选择所有字段，并按entrydate字段升序排序 select * from tb_emp order by entrydate; -- 从tb_emp表中选择所有字段，并按entrydate字段降序排序 select * from tb_emp order by entrydate DESC; -- 从tb_emp表中选择所有字段，先按entrydate字段升序排序， -- 对于相同entrydate的记录，再按update_time字段降序排序 select * from tb_emp order by entrydate, update_time DESC; -- 从tb_emp表中选择所有字段，分页显示 -- 第二页的记录，每页显示5条记录 -- 起始索引为5，即从第6条记录开始（索引从0开始） select * from tb_emp limit 5, 5; -- 从tb_emp表中选择所有字段，分页显示 -- 第三页的记录，每页显示5条记录 -- 起始索引为10，即从第11条记录开始（索引从0开始） select * from tb_emp limit 10, 5; 面试题 DQL-分组查询， where与having区别\n执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组，而having是分组之后对结果进行过滤 判断条件不同：where不能对聚合函数进行判断，而having可以 注意事项：\n分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段没有意义 执行顺序： where \u003e 聚合函数 \u003e having 案例 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 -- 从tb_emp表中选择指定字段，满足以下条件： -- name包含“张”，gender为1，entrydate在2000-01-01到2015-12-31之间 -- 结果按update_time降序排序，并分页显示 -- 显示第2页的记录，每页10条记录，即从第11条到第20条记录 select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp where name like '%张%' and gender = 1 and entrydate between '2000-01-01' and '2015-12-31' order by update_time DESC limit 10, 10; -- 使用IF函数，根据gender字段的值判断性别，并计数每个性别的记录数 -- 使用IF函数：如果gender为1，则显示“男性员工”；否则显示“女性员工” select if(gender = 1, '男性员工', '女性员工') 性别, count(*) 人数 from tb_emp group by gender; -- 使用CASE语句，根据job字段的值确定职位名称，并计数每个职位的记录数 -- 使用CASE语句：当job为1时，显示“班主任”；当job为2时，显示“讲师”； -- 当job为3时，显示“学工主管”；当job为4时，显示“教研主管”；否则显示“未分配职位” select (case job when 1 then '班主任' when 2 then '讲师' when 3 then '学工主管' when 4 then '教研主管' else '未分配职位' end) 职位, count(*) 人数 from tb_emp group by job; 多表设计 项目开发中，在进行数据表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系\n一对多(多对一) 多对多 一对一 一对多 部门和员工 物理外键\n概念：使用foreign key定义外键关联另外一张表。 缺点： 影响增，删，改的效率（需要检查外键关系） 仅用于单节点数据库，不适用与分布式，集群场景 容易引发数据库的死锁问题，消耗性能 1 2 3 alter table tb_emp add constraint tb_emp___fk_dept_id foreign key (dept_id) references tb_dept (id); 逻辑外键\n概念：在业务逻辑中，解决外键关联 通过逻辑外键，就可以很方便的解决上述问题 一对一 案例：用户与身份证信息的关系\n关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他字段放在另一张表中，以提升操作效率\n实现：在任意一方加入外键，关联另外一方，并且设置外键为唯一的（UNIQUE）\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 -- 创建用户信息表 tb_user create table tb_user ( id int unsigned primary key auto_increment comment 'ID', -- 自增主键ID name varchar(10) not null comment '姓名', -- 用户姓名 gender tinyint unsigned not null comment '性别, 1 男 2 女', -- 性别，1表示男，2表示女 phone char(11) comment '手机号', -- 手机号 degree varchar(10) comment '学历' -- 学历 ) comment '用户信息表'; -- 表注释 -- 插入用户信息表 tb_user 的数据 insert into tb_user values (1, '白眉鹰王', 1, '18812340001', '初中'), (2, '青翼蝠王', 1, '18812340002', '大专'), (3, '金毛狮王', 1, '18812340003', '初中'), (4, '紫衫龙王', 2, '18812340004', '硕士'); -- 创建用户详细信息表 tb_user_card create table tb_user_card ( id int unsigned primary key auto_increment comment 'ID', -- 自增主键ID nationality varchar(10) not null comment '民族', -- 民族 birthday date not null comment '生日', -- 生日 idcard char(18) not null comment '身份证号', -- 身份证号 issued varchar(20) not null comment '签发机关', -- 签发机关 expire_begin date not null comment '有效期限-开始', -- 有效期限开始日期 expire_end date comment '有效期限-结束', -- 有效期限结束日期 user_id int unsigned not null unique comment '用户ID', -- 用户ID，唯一且非空 constraint fk_user_id foreign key (user_id) references tb_user (id) -- 外键约束，引用 tb_user 表的 id 字段 ) comment '用户信息表'; -- 表注释 -- 插入用户详细信息表 tb_user_card 的数据 insert into tb_user_card values (1, '汉', '1960-11-06', '100000100000100001', '朝阳区公安局', '2000-06-10', null, 1), (2, '汉', '1971-11-06', '100000100000100002', '静安区公安局', '2005-06-10', '2025-06-10', 2), (3, '汉', '1963-11-06', '100000100000100003', '昌平区公安局', '2006-06-10', null, 3), (4, '回', '1980-11-06', '100000100000100004', '海淀区公安局', '2008-06-10', '2028-06-10', 4); 多对多 案例：学生与课程的关系\n关系：一个学生可以选修多门课程，一门课程也可以供多个学生选择\n使用中间表来对应多对多的关系\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 -- 创建学生表 tb_student create table tb_student ( id int auto_increment primary key comment '主键ID', -- 自增主键ID name varchar(10) comment '姓名', -- 学生姓名 no varchar(10) comment '学号' -- 学生学号 ) comment '学生表'; -- 表注释 -- 插入学生表 tb_student 的数据 insert into tb_student (name, no) values ('黛绮丝', '2000100101'), ('谢逊', '2000100102'), ('殷天正', '2000100103'), ('韦一笑', '2000100104'); -- 创建课程表 tb_course create table tb_course ( id int auto_increment primary key comment '主键ID', -- 自增主键ID name varchar(10) comment '课程名称' -- 课程名称 ) comment '课程表'; -- 表注释 -- 插入课程表 tb_course 的数据 insert into tb_course (name) values ('Java'), ('PHP'), ('MySQL'), ('Hadoop'); -- 创建学生课程中间表 tb_student_course，用于表示学生和课程的多对多关系 create table tb_student_course ( id int auto_increment comment '主键' primary key, -- 自增主键ID student_id int not null comment '学生ID', -- 学生ID，非空 course_id int not null comment '课程ID', -- 课程ID，非空 constraint fk_courseid foreign key (course_id) references tb_course (id), -- 外键约束，引用 tb_course 表的 id 字段 constraint fk_studentid foreign key (student_id) references tb_student (id) -- 外键约束，引用 tb_student 表的 id 字段 ) comment '学生课程中间表'; -- 表注释 -- 插入学生课程中间表 tb_student_course 的数据，表示学生选择的课程 insert into tb_student_course (student_id, course_id) values (1, 1), -- 学生 ID 1 选择了课程 ID 1 (Java) (1, 2), -- 学生 ID 1 选择了课程 ID 2 (PHP) (1, 3), -- 学生 ID 1 选择了课程 ID 3 (MySQL) (2, 2), -- 学生 ID 2 选择了课程 ID 2 (PHP) (2, 3), -- 学生 ID 2 选择了课程 ID 3 (MySQL) (3, 4); -- 学生 ID 3 选择了课程 ID 4 (Hadoop) 案例 参考页面原型及需求，设计合理的表结构\n阅读页面原型及需求文档，分析各个模块涉及到的表结构，及表结构之间的关系 根据页面原型及需求文档，分析各个表结构中具体的字段及约束 总结 一对多\n在多的一方添加外键，关联另外一方的主键\n一对一\n任意一方，添加外键，关联另外一方的主键\n多对多\n通过中间表来维护，中间表的两个外键，分别关联另外两个表的主键\n多表查询 从多张表中查询数据\n分类\n连接查询 内连接：相当于查询A， B交集部分数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 -- 这是一个笛卡尔积查询，返回tb_emp和tb_dept表的所有组合。 select * from tb_emp, -- tb_emp 表（员工表） tb_dept; -- tb_dept 表（部门表） -- 这是一个内连接查询，返回tb_emp和tb_dept表中满足连接条件的所有记录。 select * from tb_emp, -- tb_emp 表（员工表） tb_dept -- tb_dept 表（部门表） where tb_emp.dept_id = tb_dept.id; -- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id -- 这是一个内连接查询，只返回员工的姓名和所属部门的名称。 select tb_emp.name, -- tb_emp 表中的 name 列（员工姓名） tb_dept.name -- tb_dept 表中的 name 列（部门名称） from tb_emp, -- tb_emp 表（员工表） tb_dept -- tb_dept 表（部门表） where tb_emp.dept_id = tb_dept.id; -- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id -- 这是一个使用INNER JOIN关键字的内连接查询，返回员工的姓名和所属部门的名称。 select tb_emp.name, -- tb_emp 表中的 name 列（员工姓名） tb_dept.name -- tb_dept 表中的 name 列（部门名称） from tb_emp -- tb_emp 表（员工表） inner join tb_dept -- tb_dept 表（部门表），使用INNER JOIN关键字进行连接 on tb_emp.dept_id = tb_dept.id; -- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id -- 这是一个使用JOIN关键字的内连接查询，返回员工的姓名和所属部门的名称。 select tb_emp.name, -- tb_emp 表中的 name 列（员工姓名） tb_dept.name -- tb_dept 表中的 name 列（部门名称） from tb_emp -- tb_emp 表（员工表） join tb_dept -- tb_dept 表（部门表），使用JOIN关键字进行连接 on tb_emp.dept_id = tb_dept.id; -- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id -- 这是一个使用表别名的内连接查询，返回员工的姓名和所属部门的名称。 select e.name, -- e 表（tb_emp 表的别名）中的 name 列（员工姓名） p.name -- p 表（tb_dept 表的别名）中的 name 列（部门名称） from tb_emp e, -- tb_emp 表（员工表），起别名为 e tb_dept p -- tb_dept 表（部门表），起别名为 p where e.dept_id = p.id; -- 连接条件：e 表（tb_emp 表）的 dept_id 等于 p 表（tb_dept 表）的 id 外连接： 左外连接：查询左表所有数据（包括两张表交集部分数据 右外连接：查询右表所有数据（包括两张表交集部分数据） 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 -- 左连接：查询所有员工及其所属部门的名称，包含没有部门的员工 select e.name, -- e 表（tb_emp 表的别名）中的 name 列（员工姓名） p.name -- p 表（tb_dept 表的别名）中的 name 列（部门名称） from tb_emp e -- tb_emp 表（员工表），起别名为 e left join tb_dept p on e.dept_id = p.id; -- 左连接：tb_emp表中的dept_id等于tb_dept表中的id -- 右连接：查询所有部门及其员工的姓名，包含没有员工的部门 select e.name, -- e 表（tb_emp 表的别名）中的 name 列（员工姓名） p.name -- p 表（tb_dept 表的别名）中的 name 列（部门名称） from tb_emp e -- tb_emp 表（员工表），起别名为 e right join tb_dept p on e.dept_id = p.id; -- 右连接：tb_emp表中的dept_id等于tb_dept表中的id -- 左连接：查询所有部门及其员工的姓名，包含没有员工的部门（和上面的右连接查询结果相同） select e.name, -- e 表（tb_emp 表的别名）中的 name 列（员工姓名） p.name -- p 表（tb_dept 表的别名）中的 name 列（部门名称） from tb_dept p -- tb_dept 表（部门表），起别名为 p left join tb_emp e on p.id = e.dept_id; -- 左连接：tb_dept表中的id等于tb_emp表中的dept_id 子查询 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 -- 子查询：查询id等于教研部的部门id的员工信息 select * from tb_emp -- tb_emp 表（员工表） where id = (select id from tb_dept where tb_dept.name = '教研部'); -- 子查询：从tb_dept表中选择名称为'教研部'的部门id -- 标量子查询：查询入职日期晚于方东白的员工信息 select * from tb_emp -- tb_emp 表（员工表） where entrydate \u003e (select tb_emp.entrydate from tb_emp where name = '方东白'); -- 子查询：从tb_emp表中选择名称为'方东白'的员工入职日期 -- 列子查询：查询部门为教研部或咨询部的员工信息 select * from tb_emp -- tb_emp 表（员工表） where dept_id in (select id from tb_dept where name in ('教研部', '咨询部')); -- 子查询：从tb_dept表中选择名称为'教研部'或'咨询部'的部门id -- 行子查询：查询入职日期和职位均与韦一笑相同的员工信息 select * from tb_emp -- tb_emp 表（员工表） where entrydate = (select entrydate from tb_emp where name = '韦一笑') -- 子查询：从tb_emp表中选择名称为'韦一笑'的员工入职日期 and job = (select job from tb_emp where name = '韦一笑'); -- 子查询：从tb_emp表中选择名称为'韦一笑'的员工职位 -- 行子查询的另一种写法：查询入职日期和职位均与韦一笑相同的员工信息 select * from tb_emp -- tb_emp 表（员工表） where (entrydate, job) = (select entrydate, job from tb_emp where name = '韦一笑'); -- 子查询：从tb_emp表中选择名称为'韦一笑'的员工入职日期和职位 -- 表子查询：查询入职日期在2006-01-01之后的员工信息 select * from tb_emp -- tb_emp 表（员工表） where entrydate \u003e '2006-01-01'; -- 条件：入职日期在2006-01-01之后 -- 表子查询的另一种写法：查询入职日期在2006-01-01之后的员工及其所属部门信息 select * from (select * from tb_emp where entrydate \u003e '2006-01-01') e, -- 子查询：从tb_emp表中选择入职日期在2006-01-01之后的员工，并起别名为 e tb_dept p -- tb_dept 表（部门表），起别名为 p where e.dept_id = p.id; -- 连接条件：子查询结果的dept_id等于tb_dept表中的id 案例 对菜品(dish)， 套餐(setmeal)，类别(category)，菜品和套餐(setmeal_dish)对应关系表进行多表查询\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 -- 查询价格低于10元的菜品的名称和价格 SELECT d.name, d.price FROM dish d WHERE d.price \u003c 10; -- 查询价格低于10元的菜品的名称、价格以及所属分类的名称 SELECT d.name, d.price, c.name FROM dish d, category c WHERE d.category_id = c.id -- 使用category_id连接菜品和分类 AND d.price \u003c 10; -- 过滤价格低于10元的菜品 -- 查询价格在10到50元之间且状态为1的菜品的名称、价格以及所属分类的名称 SELECT d.name, d.price, c.name FROM dish d LEFT JOIN category c ON d.category_id = c.id -- 左连接，包含所有菜品，即使它们没有分类 WHERE d.price BETWEEN 10 AND 50 -- 过滤价格在10到50元之间的菜品 AND d.status = 1; -- 过滤状态为1的菜品 -- 查询所有有菜品的分类的名称，按分类名称分组 SELECT c.name FROM dish d, category c WHERE d.category_id = c.id -- 使用category_id连接菜品和分类 GROUP BY c.name; -- 按分类名称分组，获取唯一的分类名称 -- 查询有3个或更多菜品的分类的名称及其菜品数量 SELECT c.name, COUNT(*) FROM dish d, category c WHERE d.category_id = c.id -- 使用category_id连接菜品和分类 GROUP BY c.name -- 按分类名称分组，计算每个分类的菜品数量 HAVING COUNT(*) \u003e= 3; -- 仅包含菜品数量大于或等于3的分类 -- 查询每个分类的名称及其菜品的最高价格 SELECT c.name, MAX(d.price) FROM dish d, category c WHERE d.category_id = c.id -- 使用category_id连接菜品和分类 GROUP BY c.name; -- 按分类名称分组，获取每个分类的最高价格 -- 查询名为'商务套餐A'的套餐及其菜品的名称、价格和份数 SELECT s.name, s.price, d.name, d.price, sd.copies FROM setmeal s, setmeal_dish sd, dish d WHERE s.id = sd.setmeal_id -- 使用setmeal_id连接套餐和套餐菜品 AND sd.dish_id = d.id -- 使用dish_id连接套餐菜品和菜品 AND s.name = '商务套餐A'; -- 过滤出名称为'商务套餐A'的套餐 -- 查询价格低于所有菜品平均价格的菜品的所有列 SELECT * FROM dish WHERE price \u003c (SELECT AVG(d.price) FROM dish d); -- 子查询获取所有菜品的平均价格 事物 事物是一组操作的集合，它是一个不可分割的工作单位， 事物会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功， 要么同时失败。\n1 2 3 4 5 6 7 8 9 start transaction; delete from tb_dept where id = 2; delete from tb_emp where dept_id = 2; commit; -- 如果在事务中的语句出现了问题， 则不能直接提交，需要回滚保证所有语句都没有问题 rollback; 四大特性 ACID\n原子性（Atomicity）：事务是不可分割的最小单元，要么全部成功，要么全部失败 一致性（Consistency）：事物完成后， 必须使所有的数据都保持一致状态 隔离性（Isolation）：数据库系统提供的隔离机制，保证事物在不受外部并发操作影响的独立环境下运行 持久性（Durability）：事物一旦提交或回滚，它对数据库中的数据的改变就是永久的 数据库优化 索引（index）：是帮助数据库高效获取数据的数据结构\n索引优缺点： 优点：\n提高数据查询的效率，降低数据库的IO成本 通过索引列对数据进行排序，降低数据排序的成本，降低CPU消耗 缺点：\n索引会占用存储空间 索引大大提高了查询效率，同时也降低了insert, update, delete的效率 索引的数据结构 MySQL数据库支持的索引结构有很多， 如：Hash索引， B+Tree索引， Full-Test索引等。如果没有特别指明，都是指默认的B+Tree结构组织的索引。\n页是数据库存储的最小单位，一个页为16KB\nB+Tree(多路平衡搜索树) 每个节点可以存储多个Key， 所有的Key都会在叶子节点中出现\n每个节点，可以存储多个key（有n个key， 就有n个指针）。 所有的数据都存储在叶子节点内，非叶子节点仅用于索引数据。 叶子节点形成了一颗双向链表，便于数据的排序及区间范围查询。 索引创建的SQL 1 2 3 4 5 6 7 8 -- 在tb_emp表的name列上创建索引idx_tb_emp_name CREATE INDEX idx_tb_emp_name ON tb_emp(name); -- 显示tb_emp表中的所有索引 SHOW INDEX FROM tb_emp; -- 删除tb_emp表上的索引idx_tb_emp_name DROP INDEX idx_tb_emp_name ON tb_emp; ",
  "wordCount" : "9668",
  "inLanguage": "zh",
  "datePublished": "2024-04-27T22:30:13+08:00",
  "dateModified": "2024-04-27T22:20:13+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%914/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="🗂️分类">
                    <span>🗂️分类</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/tech/">💻技术</a></div>
    <h1 class="post-title entry-hint-parent">
      Java Web开发(4)
    </h1>
    <div class="post-description">
      JavaWeb学习笔记
    </div>
    <div class="post-meta"><span title='2024-04-27 22:30:13 +0800 CST'>2024-04-27</span>&nbsp;·&nbsp;20 分钟&nbsp;·&nbsp;9668 字&nbsp;·&nbsp;updated:&nbsp;2024-04-27&nbsp;·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#java-web%e5%bc%80%e5%8f%914" aria-label="Java Web开发(4)">Java Web开发(4)</a><ul>
                            
                    <li>
                        <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="数据库">数据库</a><ul>
                            
                    <li>
                        <a href="#ddl" aria-label="DDL">DDL</a><ul>
                            
                    <li>
                        <a href="#%e5%88%9b%e5%bb%ba%e8%a1%a8" aria-label="创建表">创建表</a></li>
                    <li>
                        <a href="#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" aria-label="数据类型">数据类型</a></li></ul>
                    </li>
                    <li>
                        <a href="#dml" aria-label="DML">DML</a></li>
                    <li>
                        <a href="#dql" aria-label="DQL">DQL</a><ul>
                            
                    <li>
                        <a href="#%e9%9d%a2%e8%af%95%e9%a2%98" aria-label="面试题"><strong>面试题</strong></a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%a1%88%e4%be%8b" aria-label="案例">案例</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%a4%9a%e8%a1%a8%e8%ae%be%e8%ae%a1" aria-label="多表设计">多表设计</a><ul>
                            
                    <li>
                        <a href="#%e4%b8%80%e5%af%b9%e5%a4%9a" aria-label="一对多">一对多</a></li>
                    <li>
                        <a href="#%e4%b8%80%e5%af%b9%e4%b8%80" aria-label="一对一">一对一</a></li>
                    <li>
                        <a href="#%e5%a4%9a%e5%af%b9%e5%a4%9a" aria-label="多对多">多对多</a></li>
                    <li>
                        <a href="#%e6%a1%88%e4%be%8b-1" aria-label="案例">案例</a></li>
                    <li>
                        <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%a4%9a%e8%a1%a8%e6%9f%a5%e8%af%a2" aria-label="多表查询">多表查询</a><ul>
                            
                    <li>
                        <a href="#%e6%a1%88%e4%be%8b-2" aria-label="案例">案例</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%ba%8b%e7%89%a9" aria-label="事物">事物</a><ul>
                            
                    <li>
                        <a href="#%e5%9b%9b%e5%a4%a7%e7%89%b9%e6%80%a7" aria-label="四大特性">四大特性</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e4%bc%98%e5%8c%96" aria-label="数据库优化">数据库优化</a><ul>
                            
                    <li>
                        <a href="#%e7%b4%a2%e5%bc%95%e4%bc%98%e7%bc%ba%e7%82%b9" aria-label="索引优缺点：">索引优缺点：</a></li>
                    <li>
                        <a href="#%e7%b4%a2%e5%bc%95%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" aria-label="索引的数据结构">索引的数据结构</a></li>
                    <li>
                        <a href="#%e7%b4%a2%e5%bc%95%e5%88%9b%e5%bb%ba%e7%9a%84sql" aria-label="索引创建的SQL">索引创建的SQL</a>
                    </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="java-web开发4">Java Web开发(4)<a hidden class="anchor" aria-hidden="true" href="#java-web开发4">#</a></h1>
<h2 id="数据库">数据库<a hidden class="anchor" aria-hidden="true" href="#数据库">#</a></h2>
<ul>
<li>数据库：DataBase(DB) ， 是存储和管理数据的仓库</li>
<li>DBMS， SQL</li>
</ul>
<p>MySql登录，首先在服务中启动mysql</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a class="lnlinks" href="#hl-0-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql -uroot -p<span class="s2">&#34;password&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-1-1"><a class="lnlinks" href="#hl-1-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql -uroot -p
</span></span></code></pre></td></tr></table>
</div>
</div><p>之后输入密码</p>
<p>连接远程数据库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-2-1"><a class="lnlinks" href="#hl-2-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql -h192.168.88.130 -P3306 -utopeet -p<span class="s2">&#34;password&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看当前的数据库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-3-1"><a class="lnlinks" href="#hl-3-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>关系型数据库（RDBMS）</strong>：建立在关系模型基础上，由多张相互连接的二维表组成的数据库</p>
<p>SQL：一门操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准</p>
<ul>
<li>SQL语句可以单行或多行书写，以分号结尾</li>
<li>SQL语句可以使用空格/缩进来增强语句的可读性</li>
<li>MySQL数据库的SQL语句不区分大小写</li>
<li>注释：
<ul>
<li>单行注释： &ndash; 注释内容 或者 #注释内容（MySQL特有）</li>
<li>多行注释：/* 注释内容 */</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-4-1"><a class="lnlinks" href="#hl-4-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">db02</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>DDL， DML， DQL， DCL</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-5-1"><a class="lnlinks" href="#hl-5-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">db02</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-6-1"><a class="lnlinks" href="#hl-6-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">drop</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">db03</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-7-1"><a class="lnlinks" href="#hl-7-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="n">databases</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-8-1"><a class="lnlinks" href="#hl-8-1">1</a>
</span><span class="lnt" id="hl-8-2"><a class="lnlinks" href="#hl-8-2">2</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">schemas</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ddl">DDL<a hidden class="anchor" aria-hidden="true" href="#ddl">#</a></h3>
<h4 id="创建表">创建表<a hidden class="anchor" aria-hidden="true" href="#创建表">#</a></h4>
<p>约束：</p>
<ul>
<li>非空约束 <strong>not null</strong></li>
<li>唯一约束 <strong>unique</strong></li>
<li>主键约束 <strong>primary key</strong> （auto_increment自增）</li>
<li>默认约束 <strong>default</strong></li>
<li>外键约束 <strong>foreign key</strong> (至少有两张表)</li>
</ul>
<h4 id="数据类型">数据类型<a hidden class="anchor" aria-hidden="true" href="#数据类型">#</a></h4>
<p>主要分为三类：数值类型，字符串类型，日期时间类型</p>
<p><strong>数值类型</strong>：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>有符号范围</th>
<th>无符号范围</th>
<th>描述</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>tinyint</td>
<td>1</td>
<td>（-128， 127）</td>
<td>（0， 255）</td>
<td>小整数值</td>
<td></td>
</tr>
<tr>
<td>smallint</td>
<td>2</td>
<td>（-32768, 32767)</td>
<td>（0, 65535)</td>
<td>大整数值</td>
<td></td>
</tr>
<tr>
<td>mediumint</td>
<td>3</td>
<td>（-8388608， 8388607）</td>
<td>（0， 16777215）</td>
<td>大整数值</td>
<td></td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>（-2147483647， 2147483648）</td>
<td>（0， 4294967295）</td>
<td>大整数值</td>
<td></td>
</tr>
<tr>
<td>bigint</td>
<td>8</td>
<td>（-2^63, 2^63-1)</td>
<td>（0， 2^64-1)</td>
<td>极大整数值</td>
<td></td>
</tr>
<tr>
<td>float</td>
<td>4</td>
<td></td>
<td></td>
<td>单精度浮点值</td>
<td>float(5, 2)表示整个数字长度为5， 小数位数为2</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td></td>
<td></td>
<td>双精度浮点值</td>
<td></td>
</tr>
<tr>
<td>decimal</td>
<td></td>
<td></td>
<td></td>
<td>小数值（精度更高）</td>
<td>金额计算</td>
</tr>
</tbody>
</table>
<p>查询当前数据库的所有表：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-9-1"><a class="lnlinks" href="#hl-9-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>查询表结构：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-10-1"><a class="lnlinks" href="#hl-10-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">desc</span><span class="w"> </span><span class="err">表名</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>查询建表语句：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-11-1"><a class="lnlinks" href="#hl-11-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="err">表名</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-12-1"><a class="lnlinks" href="#hl-12-1"> 1</a>
</span><span class="lnt" id="hl-12-2"><a class="lnlinks" href="#hl-12-2"> 2</a>
</span><span class="lnt" id="hl-12-3"><a class="lnlinks" href="#hl-12-3"> 3</a>
</span><span class="lnt" id="hl-12-4"><a class="lnlinks" href="#hl-12-4"> 4</a>
</span><span class="lnt" id="hl-12-5"><a class="lnlinks" href="#hl-12-5"> 5</a>
</span><span class="lnt" id="hl-12-6"><a class="lnlinks" href="#hl-12-6"> 6</a>
</span><span class="lnt" id="hl-12-7"><a class="lnlinks" href="#hl-12-7"> 7</a>
</span><span class="lnt" id="hl-12-8"><a class="lnlinks" href="#hl-12-8"> 8</a>
</span><span class="lnt" id="hl-12-9"><a class="lnlinks" href="#hl-12-9"> 9</a>
</span><span class="lnt" id="hl-12-10"><a class="lnlinks" href="#hl-12-10">10</a>
</span><span class="lnt" id="hl-12-11"><a class="lnlinks" href="#hl-12-11">11</a>
</span><span class="lnt" id="hl-12-12"><a class="lnlinks" href="#hl-12-12">12</a>
</span><span class="lnt" id="hl-12-13"><a class="lnlinks" href="#hl-12-13">13</a>
</span><span class="lnt" id="hl-12-14"><a class="lnlinks" href="#hl-12-14">14</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 员工管理(带约束)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">          </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ID&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">username</span><span class="w">    </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">      </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;用户名&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">password</span><span class="w">    </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;密码&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="w">        </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">      </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;姓名&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">gender</span><span class="w">      </span><span class="n">tinyint</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;性别, 说明: 1 男, 2 女&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">image</span><span class="w">       </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;图像&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">job</span><span class="w">         </span><span class="n">tinyint</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;职位, 说明: 1 班主任,2 讲师, 3 学工主管, 4 教研主管&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">entrydate</span><span class="w">   </span><span class="nb">date</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;入职时间&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">create_time</span><span class="w"> </span><span class="n">datetime</span><span class="w">         </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;创建时间&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">update_time</span><span class="w"> </span><span class="n">datetime</span><span class="w">         </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;修改时间&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;员工表&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-13-1"><a class="lnlinks" href="#hl-13-1"> 1</a>
</span><span class="lnt" id="hl-13-2"><a class="lnlinks" href="#hl-13-2"> 2</a>
</span><span class="lnt" id="hl-13-3"><a class="lnlinks" href="#hl-13-3"> 3</a>
</span><span class="lnt" id="hl-13-4"><a class="lnlinks" href="#hl-13-4"> 4</a>
</span><span class="lnt" id="hl-13-5"><a class="lnlinks" href="#hl-13-5"> 5</a>
</span><span class="lnt" id="hl-13-6"><a class="lnlinks" href="#hl-13-6"> 6</a>
</span><span class="lnt" id="hl-13-7"><a class="lnlinks" href="#hl-13-7"> 7</a>
</span><span class="lnt" id="hl-13-8"><a class="lnlinks" href="#hl-13-8"> 8</a>
</span><span class="lnt" id="hl-13-9"><a class="lnlinks" href="#hl-13-9"> 9</a>
</span><span class="lnt" id="hl-13-10"><a class="lnlinks" href="#hl-13-10">10</a>
</span><span class="lnt" id="hl-13-11"><a class="lnlinks" href="#hl-13-11">11</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">qq</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w">  </span><span class="s1">&#39;QQ&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">qq</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;QQ&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">qq</span><span class="w"> </span><span class="n">qq_num</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;QQ&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">qq_num</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">rename</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="dml">DML<a hidden class="anchor" aria-hidden="true" href="#dml">#</a></h3>
<p><strong>Data Manipulation Language(数据操作语言)</strong>， 用来对数据库中表的数据记录进行增，删，改操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-14-1"><a class="lnlinks" href="#hl-14-1"> 1</a>
</span><span class="lnt" id="hl-14-2"><a class="lnlinks" href="#hl-14-2"> 2</a>
</span><span class="lnt" id="hl-14-3"><a class="lnlinks" href="#hl-14-3"> 3</a>
</span><span class="lnt" id="hl-14-4"><a class="lnlinks" href="#hl-14-4"> 4</a>
</span><span class="lnt" id="hl-14-5"><a class="lnlinks" href="#hl-14-5"> 5</a>
</span><span class="lnt" id="hl-14-6"><a class="lnlinks" href="#hl-14-6"> 6</a>
</span><span class="lnt" id="hl-14-7"><a class="lnlinks" href="#hl-14-7"> 7</a>
</span><span class="lnt" id="hl-14-8"><a class="lnlinks" href="#hl-14-8"> 8</a>
</span><span class="lnt" id="hl-14-9"><a class="lnlinks" href="#hl-14-9"> 9</a>
</span><span class="lnt" id="hl-14-10"><a class="lnlinks" href="#hl-14-10">10</a>
</span><span class="lnt" id="hl-14-11"><a class="lnlinks" href="#hl-14-11">11</a>
</span><span class="lnt" id="hl-14-12"><a class="lnlinks" href="#hl-14-12">12</a>
</span><span class="lnt" id="hl-14-13"><a class="lnlinks" href="#hl-14-13">13</a>
</span><span class="lnt" id="hl-14-14"><a class="lnlinks" href="#hl-14-14">14</a>
</span><span class="lnt" id="hl-14-15"><a class="lnlinks" href="#hl-14-15">15</a>
</span><span class="lnt" id="hl-14-16"><a class="lnlinks" href="#hl-14-16">16</a>
</span><span class="lnt" id="hl-14-17"><a class="lnlinks" href="#hl-14-17">17</a>
</span><span class="lnt" id="hl-14-18"><a class="lnlinks" href="#hl-14-18">18</a>
</span><span class="lnt" id="hl-14-19"><a class="lnlinks" href="#hl-14-19">19</a>
</span><span class="lnt" id="hl-14-20"><a class="lnlinks" href="#hl-14-20">20</a>
</span><span class="lnt" id="hl-14-21"><a class="lnlinks" href="#hl-14-21">21</a>
</span><span class="lnt" id="hl-14-22"><a class="lnlinks" href="#hl-14-22">22</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">gender</span><span class="p">,</span><span class="n">create_time</span><span class="p">,</span><span class="n">update_time</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Kennem&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;张无忌&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(),</span><span class="n">now</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">插入的内容包含所有字段（可以省略所有字段）</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">gender</span><span class="p">,</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">create_time</span><span class="p">,</span><span class="w"> </span><span class="n">update_time</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;zhiruo&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;kdkd&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1.jpg&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-01-20&#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">now</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">插入多组数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">gender</span><span class="p">,</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">create_time</span><span class="p">,</span><span class="w"> </span><span class="n">update_time</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Oliver&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;kdkd&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1.jpg&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-01-20&#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">now</span><span class="p">()),(</span><span class="s1">&#39;Linux&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;kdkd&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1.jpg&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-01-20&#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">now</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">更新数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">update</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">update_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">更新所有数据的此字段</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">update</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">update_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">();</span><span class="w"> </span><span class="o">#</span><span class="w"> </span><span class="err">更新所有行</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">删除</span><span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="err">的数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">删除所有数据</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="n">delete不能删除某一字段的值</span><span class="err">，可以用</span><span class="n">update将这一字段设置为NULL</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="dql">DQL<a hidden class="anchor" aria-hidden="true" href="#dql">#</a></h3>
<ul>
<li><strong>Data Query Language（数据查询语言）</strong>， 用来查询数据库表中的记录</li>
<li>关键字：<strong>SELECT</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-15-1"><a class="lnlinks" href="#hl-15-1"> 1</a>
</span><span class="lnt" id="hl-15-2"><a class="lnlinks" href="#hl-15-2"> 2</a>
</span><span class="lnt" id="hl-15-3"><a class="lnlinks" href="#hl-15-3"> 3</a>
</span><span class="lnt" id="hl-15-4"><a class="lnlinks" href="#hl-15-4"> 4</a>
</span><span class="lnt" id="hl-15-5"><a class="lnlinks" href="#hl-15-5"> 5</a>
</span><span class="lnt" id="hl-15-6"><a class="lnlinks" href="#hl-15-6"> 6</a>
</span><span class="lnt" id="hl-15-7"><a class="lnlinks" href="#hl-15-7"> 7</a>
</span><span class="lnt" id="hl-15-8"><a class="lnlinks" href="#hl-15-8"> 8</a>
</span><span class="lnt" id="hl-15-9"><a class="lnlinks" href="#hl-15-9"> 9</a>
</span><span class="lnt" id="hl-15-10"><a class="lnlinks" href="#hl-15-10">10</a>
</span><span class="lnt" id="hl-15-11"><a class="lnlinks" href="#hl-15-11">11</a>
</span><span class="lnt" id="hl-15-12"><a class="lnlinks" href="#hl-15-12">12</a>
</span><span class="lnt" id="hl-15-13"><a class="lnlinks" href="#hl-15-13">13</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">having</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">limit</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>聚合函数：</p>
<ul>
<li>count</li>
<li>max</li>
<li>min</li>
<li>avg</li>
<li>sum</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-16-1"><a class="lnlinks" href="#hl-16-1"> 1</a>
</span><span class="lnt" id="hl-16-2"><a class="lnlinks" href="#hl-16-2"> 2</a>
</span><span class="lnt" id="hl-16-3"><a class="lnlinks" href="#hl-16-3"> 3</a>
</span><span class="lnt" id="hl-16-4"><a class="lnlinks" href="#hl-16-4"> 4</a>
</span><span class="lnt" id="hl-16-5"><a class="lnlinks" href="#hl-16-5"> 5</a>
</span><span class="lnt" id="hl-16-6"><a class="lnlinks" href="#hl-16-6"> 6</a>
</span><span class="lnt" id="hl-16-7"><a class="lnlinks" href="#hl-16-7"> 7</a>
</span><span class="lnt" id="hl-16-8"><a class="lnlinks" href="#hl-16-8"> 8</a>
</span><span class="lnt" id="hl-16-9"><a class="lnlinks" href="#hl-16-9"> 9</a>
</span><span class="lnt" id="hl-16-10"><a class="lnlinks" href="#hl-16-10">10</a>
</span><span class="lnt" id="hl-16-11"><a class="lnlinks" href="#hl-16-11">11</a>
</span><span class="lnt" id="hl-16-12"><a class="lnlinks" href="#hl-16-12">12</a>
</span><span class="lnt" id="hl-16-13"><a class="lnlinks" href="#hl-16-13">13</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">job</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">create_time</span><span class="p">,</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">update_time</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">姓名</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">入职日期</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;姓 名&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">入职日期</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-17-1"><a class="lnlinks" href="#hl-17-1">  1</a>
</span><span class="lnt" id="hl-17-2"><a class="lnlinks" href="#hl-17-2">  2</a>
</span><span class="lnt" id="hl-17-3"><a class="lnlinks" href="#hl-17-3">  3</a>
</span><span class="lnt" id="hl-17-4"><a class="lnlinks" href="#hl-17-4">  4</a>
</span><span class="lnt" id="hl-17-5"><a class="lnlinks" href="#hl-17-5">  5</a>
</span><span class="lnt" id="hl-17-6"><a class="lnlinks" href="#hl-17-6">  6</a>
</span><span class="lnt" id="hl-17-7"><a class="lnlinks" href="#hl-17-7">  7</a>
</span><span class="lnt" id="hl-17-8"><a class="lnlinks" href="#hl-17-8">  8</a>
</span><span class="lnt" id="hl-17-9"><a class="lnlinks" href="#hl-17-9">  9</a>
</span><span class="lnt" id="hl-17-10"><a class="lnlinks" href="#hl-17-10"> 10</a>
</span><span class="lnt" id="hl-17-11"><a class="lnlinks" href="#hl-17-11"> 11</a>
</span><span class="lnt" id="hl-17-12"><a class="lnlinks" href="#hl-17-12"> 12</a>
</span><span class="lnt" id="hl-17-13"><a class="lnlinks" href="#hl-17-13"> 13</a>
</span><span class="lnt" id="hl-17-14"><a class="lnlinks" href="#hl-17-14"> 14</a>
</span><span class="lnt" id="hl-17-15"><a class="lnlinks" href="#hl-17-15"> 15</a>
</span><span class="lnt" id="hl-17-16"><a class="lnlinks" href="#hl-17-16"> 16</a>
</span><span class="lnt" id="hl-17-17"><a class="lnlinks" href="#hl-17-17"> 17</a>
</span><span class="lnt" id="hl-17-18"><a class="lnlinks" href="#hl-17-18"> 18</a>
</span><span class="lnt" id="hl-17-19"><a class="lnlinks" href="#hl-17-19"> 19</a>
</span><span class="lnt" id="hl-17-20"><a class="lnlinks" href="#hl-17-20"> 20</a>
</span><span class="lnt" id="hl-17-21"><a class="lnlinks" href="#hl-17-21"> 21</a>
</span><span class="lnt" id="hl-17-22"><a class="lnlinks" href="#hl-17-22"> 22</a>
</span><span class="lnt" id="hl-17-23"><a class="lnlinks" href="#hl-17-23"> 23</a>
</span><span class="lnt" id="hl-17-24"><a class="lnlinks" href="#hl-17-24"> 24</a>
</span><span class="lnt" id="hl-17-25"><a class="lnlinks" href="#hl-17-25"> 25</a>
</span><span class="lnt" id="hl-17-26"><a class="lnlinks" href="#hl-17-26"> 26</a>
</span><span class="lnt" id="hl-17-27"><a class="lnlinks" href="#hl-17-27"> 27</a>
</span><span class="lnt" id="hl-17-28"><a class="lnlinks" href="#hl-17-28"> 28</a>
</span><span class="lnt" id="hl-17-29"><a class="lnlinks" href="#hl-17-29"> 29</a>
</span><span class="lnt" id="hl-17-30"><a class="lnlinks" href="#hl-17-30"> 30</a>
</span><span class="lnt" id="hl-17-31"><a class="lnlinks" href="#hl-17-31"> 31</a>
</span><span class="lnt" id="hl-17-32"><a class="lnlinks" href="#hl-17-32"> 32</a>
</span><span class="lnt" id="hl-17-33"><a class="lnlinks" href="#hl-17-33"> 33</a>
</span><span class="lnt" id="hl-17-34"><a class="lnlinks" href="#hl-17-34"> 34</a>
</span><span class="lnt" id="hl-17-35"><a class="lnlinks" href="#hl-17-35"> 35</a>
</span><span class="lnt" id="hl-17-36"><a class="lnlinks" href="#hl-17-36"> 36</a>
</span><span class="lnt" id="hl-17-37"><a class="lnlinks" href="#hl-17-37"> 37</a>
</span><span class="lnt" id="hl-17-38"><a class="lnlinks" href="#hl-17-38"> 38</a>
</span><span class="lnt" id="hl-17-39"><a class="lnlinks" href="#hl-17-39"> 39</a>
</span><span class="lnt" id="hl-17-40"><a class="lnlinks" href="#hl-17-40"> 40</a>
</span><span class="lnt" id="hl-17-41"><a class="lnlinks" href="#hl-17-41"> 41</a>
</span><span class="lnt" id="hl-17-42"><a class="lnlinks" href="#hl-17-42"> 42</a>
</span><span class="lnt" id="hl-17-43"><a class="lnlinks" href="#hl-17-43"> 43</a>
</span><span class="lnt" id="hl-17-44"><a class="lnlinks" href="#hl-17-44"> 44</a>
</span><span class="lnt" id="hl-17-45"><a class="lnlinks" href="#hl-17-45"> 45</a>
</span><span class="lnt" id="hl-17-46"><a class="lnlinks" href="#hl-17-46"> 46</a>
</span><span class="lnt" id="hl-17-47"><a class="lnlinks" href="#hl-17-47"> 47</a>
</span><span class="lnt" id="hl-17-48"><a class="lnlinks" href="#hl-17-48"> 48</a>
</span><span class="lnt" id="hl-17-49"><a class="lnlinks" href="#hl-17-49"> 49</a>
</span><span class="lnt" id="hl-17-50"><a class="lnlinks" href="#hl-17-50"> 50</a>
</span><span class="lnt" id="hl-17-51"><a class="lnlinks" href="#hl-17-51"> 51</a>
</span><span class="lnt" id="hl-17-52"><a class="lnlinks" href="#hl-17-52"> 52</a>
</span><span class="lnt" id="hl-17-53"><a class="lnlinks" href="#hl-17-53"> 53</a>
</span><span class="lnt" id="hl-17-54"><a class="lnlinks" href="#hl-17-54"> 54</a>
</span><span class="lnt" id="hl-17-55"><a class="lnlinks" href="#hl-17-55"> 55</a>
</span><span class="lnt" id="hl-17-56"><a class="lnlinks" href="#hl-17-56"> 56</a>
</span><span class="lnt" id="hl-17-57"><a class="lnlinks" href="#hl-17-57"> 57</a>
</span><span class="lnt" id="hl-17-58"><a class="lnlinks" href="#hl-17-58"> 58</a>
</span><span class="lnt" id="hl-17-59"><a class="lnlinks" href="#hl-17-59"> 59</a>
</span><span class="lnt" id="hl-17-60"><a class="lnlinks" href="#hl-17-60"> 60</a>
</span><span class="lnt" id="hl-17-61"><a class="lnlinks" href="#hl-17-61"> 61</a>
</span><span class="lnt" id="hl-17-62"><a class="lnlinks" href="#hl-17-62"> 62</a>
</span><span class="lnt" id="hl-17-63"><a class="lnlinks" href="#hl-17-63"> 63</a>
</span><span class="lnt" id="hl-17-64"><a class="lnlinks" href="#hl-17-64"> 64</a>
</span><span class="lnt" id="hl-17-65"><a class="lnlinks" href="#hl-17-65"> 65</a>
</span><span class="lnt" id="hl-17-66"><a class="lnlinks" href="#hl-17-66"> 66</a>
</span><span class="lnt" id="hl-17-67"><a class="lnlinks" href="#hl-17-67"> 67</a>
</span><span class="lnt" id="hl-17-68"><a class="lnlinks" href="#hl-17-68"> 68</a>
</span><span class="lnt" id="hl-17-69"><a class="lnlinks" href="#hl-17-69"> 69</a>
</span><span class="lnt" id="hl-17-70"><a class="lnlinks" href="#hl-17-70"> 70</a>
</span><span class="lnt" id="hl-17-71"><a class="lnlinks" href="#hl-17-71"> 71</a>
</span><span class="lnt" id="hl-17-72"><a class="lnlinks" href="#hl-17-72"> 72</a>
</span><span class="lnt" id="hl-17-73"><a class="lnlinks" href="#hl-17-73"> 73</a>
</span><span class="lnt" id="hl-17-74"><a class="lnlinks" href="#hl-17-74"> 74</a>
</span><span class="lnt" id="hl-17-75"><a class="lnlinks" href="#hl-17-75"> 75</a>
</span><span class="lnt" id="hl-17-76"><a class="lnlinks" href="#hl-17-76"> 76</a>
</span><span class="lnt" id="hl-17-77"><a class="lnlinks" href="#hl-17-77"> 77</a>
</span><span class="lnt" id="hl-17-78"><a class="lnlinks" href="#hl-17-78"> 78</a>
</span><span class="lnt" id="hl-17-79"><a class="lnlinks" href="#hl-17-79"> 79</a>
</span><span class="lnt" id="hl-17-80"><a class="lnlinks" href="#hl-17-80"> 80</a>
</span><span class="lnt" id="hl-17-81"><a class="lnlinks" href="#hl-17-81"> 81</a>
</span><span class="lnt" id="hl-17-82"><a class="lnlinks" href="#hl-17-82"> 82</a>
</span><span class="lnt" id="hl-17-83"><a class="lnlinks" href="#hl-17-83"> 83</a>
</span><span class="lnt" id="hl-17-84"><a class="lnlinks" href="#hl-17-84"> 84</a>
</span><span class="lnt" id="hl-17-85"><a class="lnlinks" href="#hl-17-85"> 85</a>
</span><span class="lnt" id="hl-17-86"><a class="lnlinks" href="#hl-17-86"> 86</a>
</span><span class="lnt" id="hl-17-87"><a class="lnlinks" href="#hl-17-87"> 87</a>
</span><span class="lnt" id="hl-17-88"><a class="lnlinks" href="#hl-17-88"> 88</a>
</span><span class="lnt" id="hl-17-89"><a class="lnlinks" href="#hl-17-89"> 89</a>
</span><span class="lnt" id="hl-17-90"><a class="lnlinks" href="#hl-17-90"> 90</a>
</span><span class="lnt" id="hl-17-91"><a class="lnlinks" href="#hl-17-91"> 91</a>
</span><span class="lnt" id="hl-17-92"><a class="lnlinks" href="#hl-17-92"> 92</a>
</span><span class="lnt" id="hl-17-93"><a class="lnlinks" href="#hl-17-93"> 93</a>
</span><span class="lnt" id="hl-17-94"><a class="lnlinks" href="#hl-17-94"> 94</a>
</span><span class="lnt" id="hl-17-95"><a class="lnlinks" href="#hl-17-95"> 95</a>
</span><span class="lnt" id="hl-17-96"><a class="lnlinks" href="#hl-17-96"> 96</a>
</span><span class="lnt" id="hl-17-97"><a class="lnlinks" href="#hl-17-97"> 97</a>
</span><span class="lnt" id="hl-17-98"><a class="lnlinks" href="#hl-17-98"> 98</a>
</span><span class="lnt" id="hl-17-99"><a class="lnlinks" href="#hl-17-99"> 99</a>
</span><span class="lnt" id="hl-17-100"><a class="lnlinks" href="#hl-17-100">100</a>
</span><span class="lnt" id="hl-17-101"><a class="lnlinks" href="#hl-17-101">101</a>
</span><span class="lnt" id="hl-17-102"><a class="lnlinks" href="#hl-17-102">102</a>
</span><span class="lnt" id="hl-17-103"><a class="lnlinks" href="#hl-17-103">103</a>
</span><span class="lnt" id="hl-17-104"><a class="lnlinks" href="#hl-17-104">104</a>
</span><span class="lnt" id="hl-17-105"><a class="lnlinks" href="#hl-17-105">105</a>
</span><span class="lnt" id="hl-17-106"><a class="lnlinks" href="#hl-17-106">106</a>
</span><span class="lnt" id="hl-17-107"><a class="lnlinks" href="#hl-17-107">107</a>
</span><span class="lnt" id="hl-17-108"><a class="lnlinks" href="#hl-17-108">108</a>
</span><span class="lnt" id="hl-17-109"><a class="lnlinks" href="#hl-17-109">109</a>
</span><span class="lnt" id="hl-17-110"><a class="lnlinks" href="#hl-17-110">110</a>
</span><span class="lnt" id="hl-17-111"><a class="lnlinks" href="#hl-17-111">111</a>
</span><span class="lnt" id="hl-17-112"><a class="lnlinks" href="#hl-17-112">112</a>
</span><span class="lnt" id="hl-17-113"><a class="lnlinks" href="#hl-17-113">113</a>
</span><span class="lnt" id="hl-17-114"><a class="lnlinks" href="#hl-17-114">114</a>
</span><span class="lnt" id="hl-17-115"><a class="lnlinks" href="#hl-17-115">115</a>
</span><span class="lnt" id="hl-17-116"><a class="lnlinks" href="#hl-17-116">116</a>
</span><span class="lnt" id="hl-17-117"><a class="lnlinks" href="#hl-17-117">117</a>
</span><span class="lnt" id="hl-17-118"><a class="lnlinks" href="#hl-17-118">118</a>
</span><span class="lnt" id="hl-17-119"><a class="lnlinks" href="#hl-17-119">119</a>
</span><span class="lnt" id="hl-17-120"><a class="lnlinks" href="#hl-17-120">120</a>
</span><span class="lnt" id="hl-17-121"><a class="lnlinks" href="#hl-17-121">121</a>
</span><span class="lnt" id="hl-17-122"><a class="lnlinks" href="#hl-17-122">122</a>
</span><span class="lnt" id="hl-17-123"><a class="lnlinks" href="#hl-17-123">123</a>
</span><span class="lnt" id="hl-17-124"><a class="lnlinks" href="#hl-17-124">124</a>
</span><span class="lnt" id="hl-17-125"><a class="lnlinks" href="#hl-17-125">125</a>
</span><span class="lnt" id="hl-17-126"><a class="lnlinks" href="#hl-17-126">126</a>
</span><span class="lnt" id="hl-17-127"><a class="lnlinks" href="#hl-17-127">127</a>
</span><span class="lnt" id="hl-17-128"><a class="lnlinks" href="#hl-17-128">128</a>
</span><span class="lnt" id="hl-17-129"><a class="lnlinks" href="#hl-17-129">129</a>
</span><span class="lnt" id="hl-17-130"><a class="lnlinks" href="#hl-17-130">130</a>
</span><span class="lnt" id="hl-17-131"><a class="lnlinks" href="#hl-17-131">131</a>
</span><span class="lnt" id="hl-17-132"><a class="lnlinks" href="#hl-17-132">132</a>
</span><span class="lnt" id="hl-17-133"><a class="lnlinks" href="#hl-17-133">133</a>
</span><span class="lnt" id="hl-17-134"><a class="lnlinks" href="#hl-17-134">134</a>
</span><span class="lnt" id="hl-17-135"><a class="lnlinks" href="#hl-17-135">135</a>
</span><span class="lnt" id="hl-17-136"><a class="lnlinks" href="#hl-17-136">136</a>
</span><span class="lnt" id="hl-17-137"><a class="lnlinks" href="#hl-17-137">137</a>
</span><span class="lnt" id="hl-17-138"><a class="lnlinks" href="#hl-17-138">138</a>
</span><span class="lnt" id="hl-17-139"><a class="lnlinks" href="#hl-17-139">139</a>
</span><span class="lnt" id="hl-17-140"><a class="lnlinks" href="#hl-17-140">140</a>
</span><span class="lnt" id="hl-17-141"><a class="lnlinks" href="#hl-17-141">141</a>
</span><span class="lnt" id="hl-17-142"><a class="lnlinks" href="#hl-17-142">142</a>
</span><span class="lnt" id="hl-17-143"><a class="lnlinks" href="#hl-17-143">143</a>
</span><span class="lnt" id="hl-17-144"><a class="lnlinks" href="#hl-17-144">144</a>
</span><span class="lnt" id="hl-17-145"><a class="lnlinks" href="#hl-17-145">145</a>
</span><span class="lnt" id="hl-17-146"><a class="lnlinks" href="#hl-17-146">146</a>
</span><span class="lnt" id="hl-17-147"><a class="lnlinks" href="#hl-17-147">147</a>
</span><span class="lnt" id="hl-17-148"><a class="lnlinks" href="#hl-17-148">148</a>
</span><span class="lnt" id="hl-17-149"><a class="lnlinks" href="#hl-17-149">149</a>
</span><span class="lnt" id="hl-17-150"><a class="lnlinks" href="#hl-17-150">150</a>
</span><span class="lnt" id="hl-17-151"><a class="lnlinks" href="#hl-17-151">151</a>
</span><span class="lnt" id="hl-17-152"><a class="lnlinks" href="#hl-17-152">152</a>
</span><span class="lnt" id="hl-17-153"><a class="lnlinks" href="#hl-17-153">153</a>
</span><span class="lnt" id="hl-17-154"><a class="lnlinks" href="#hl-17-154">154</a>
</span><span class="lnt" id="hl-17-155"><a class="lnlinks" href="#hl-17-155">155</a>
</span><span class="lnt" id="hl-17-156"><a class="lnlinks" href="#hl-17-156">156</a>
</span><span class="lnt" id="hl-17-157"><a class="lnlinks" href="#hl-17-157">157</a>
</span><span class="lnt" id="hl-17-158"><a class="lnlinks" href="#hl-17-158">158</a>
</span><span class="lnt" id="hl-17-159"><a class="lnlinks" href="#hl-17-159">159</a>
</span><span class="lnt" id="hl-17-160"><a class="lnlinks" href="#hl-17-160">160</a>
</span><span class="lnt" id="hl-17-161"><a class="lnlinks" href="#hl-17-161">161</a>
</span><span class="lnt" id="hl-17-162"><a class="lnlinks" href="#hl-17-162">162</a>
</span><span class="lnt" id="hl-17-163"><a class="lnlinks" href="#hl-17-163">163</a>
</span><span class="lnt" id="hl-17-164"><a class="lnlinks" href="#hl-17-164">164</a>
</span><span class="lnt" id="hl-17-165"><a class="lnlinks" href="#hl-17-165">165</a>
</span><span class="lnt" id="hl-17-166"><a class="lnlinks" href="#hl-17-166">166</a>
</span><span class="lnt" id="hl-17-167"><a class="lnlinks" href="#hl-17-167">167</a>
</span><span class="lnt" id="hl-17-168"><a class="lnlinks" href="#hl-17-168">168</a>
</span><span class="lnt" id="hl-17-169"><a class="lnlinks" href="#hl-17-169">169</a>
</span><span class="lnt" id="hl-17-170"><a class="lnlinks" href="#hl-17-170">170</a>
</span><span class="lnt" id="hl-17-171"><a class="lnlinks" href="#hl-17-171">171</a>
</span><span class="lnt" id="hl-17-172"><a class="lnlinks" href="#hl-17-172">172</a>
</span><span class="lnt" id="hl-17-173"><a class="lnlinks" href="#hl-17-173">173</a>
</span><span class="lnt" id="hl-17-174"><a class="lnlinks" href="#hl-17-174">174</a>
</span><span class="lnt" id="hl-17-175"><a class="lnlinks" href="#hl-17-175">175</a>
</span><span class="lnt" id="hl-17-176"><a class="lnlinks" href="#hl-17-176">176</a>
</span><span class="lnt" id="hl-17-177"><a class="lnlinks" href="#hl-17-177">177</a>
</span><span class="lnt" id="hl-17-178"><a class="lnlinks" href="#hl-17-178">178</a>
</span><span class="lnt" id="hl-17-179"><a class="lnlinks" href="#hl-17-179">179</a>
</span><span class="lnt" id="hl-17-180"><a class="lnlinks" href="#hl-17-180">180</a>
</span><span class="lnt" id="hl-17-181"><a class="lnlinks" href="#hl-17-181">181</a>
</span><span class="lnt" id="hl-17-182"><a class="lnlinks" href="#hl-17-182">182</a>
</span><span class="lnt" id="hl-17-183"><a class="lnlinks" href="#hl-17-183">183</a>
</span><span class="lnt" id="hl-17-184"><a class="lnlinks" href="#hl-17-184">184</a>
</span><span class="lnt" id="hl-17-185"><a class="lnlinks" href="#hl-17-185">185</a>
</span><span class="lnt" id="hl-17-186"><a class="lnlinks" href="#hl-17-186">186</a>
</span><span class="lnt" id="hl-17-187"><a class="lnlinks" href="#hl-17-187">187</a>
</span><span class="lnt" id="hl-17-188"><a class="lnlinks" href="#hl-17-188">188</a>
</span><span class="lnt" id="hl-17-189"><a class="lnlinks" href="#hl-17-189">189</a>
</span><span class="lnt" id="hl-17-190"><a class="lnlinks" href="#hl-17-190">190</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 选择tb_emp表中的name和entrydate字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中的所有字段，并且显式列出它们
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">username</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">password</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">image</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">job</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">entrydate</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">create_time</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">update_time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中的所有字段（不直观，性能较低）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中的name和entrydate字段，并将它们重命名为“姓名”和“入职日期”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">姓名</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">入职日期</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中的name和entrydate字段，并将它们重命名为“姓 名”和“入职日期”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="s1">&#39;姓 名&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="err">入职日期</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中不同的job字段值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">job</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择name为“杨逍”的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;杨逍&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择id小于等于5的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择job字段为null的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择job字段不为null的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择password字段不等于“123456”的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择password字段不等于“123456”的记录（另一种写法）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间的记录（使用between）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 重复的语句，选择entrydate在2000-01-01到2010-01-01之间的记录（使用between）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 重复的语句，选择entrydate在2000-01-01到2010-01-01之间的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择entrydate在2000-01-01到2010-01-01之间，且gender为2的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2010-01-01&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择job为2、3或4的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">or</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">or</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择job在2, 3, 4中的记录（使用in）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 使用通配符_表示单个字符，选择name字段长度为2的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;__&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 使用通配符_表示单个字符，选择name字段长度为3的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;___&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 使用通配符%表示任意个字符，选择name以“张”开头的记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;张%&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 计数id字段的非空值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 计数表中的记录数，常量&#39;A&#39;对计数没有影响
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 推荐的计数表中记录数的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中entrydate的最小值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">entrydate</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 选择tb_emp表中entry
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 选择tb_emp表中entrydate的最大值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">entrydate</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 计算tb_emp表中id字段的平均值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 计算tb_emp表中id字段的总和
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 按gender字段分组，并计数每个性别的记录数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">gender</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">gender</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 按job字段分组，并选择entrydate小于等于2015-01-01的记录
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 只包括记录数大于等于2的组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2015-01-01&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">having</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择所有字段，并按entrydate字段升序排序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">entrydate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择所有字段，并按entrydate字段降序排序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择所有字段，先按entrydate字段升序排序，
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 对于相同entrydate的记录，再按update_time字段降序排序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">update_time</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择所有字段，分页显示
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 第二页的记录，每页显示5条记录
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 起始索引为5，即从第6条记录开始（索引从0开始）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">limit</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 从tb_emp表中选择所有字段，分页显示
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 第三页的记录，每页显示5条记录
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 起始索引为10，即从第11条记录开始（索引从0开始）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="面试题"><strong>面试题</strong><a hidden class="anchor" aria-hidden="true" href="#面试题">#</a></h4>
<p>DQL-分组查询， where与having区别</p>
<ul>
<li><strong>执行时机不同</strong>：where是分组之前进行过滤，不满足where条件，不参与分组，而having是分组之后对结果进行过滤</li>
<li><strong>判断条件不同</strong>：where不能对聚合函数进行判断，而having可以</li>
</ul>
<p><strong>注意事项：</strong></p>
<ul>
<li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段没有意义</li>
<li>执行顺序： where &gt; 聚合函数 &gt; having</li>
</ul>
<h3 id="案例">案例<a hidden class="anchor" aria-hidden="true" href="#案例">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-18-1"><a class="lnlinks" href="#hl-18-1"> 1</a>
</span><span class="lnt" id="hl-18-2"><a class="lnlinks" href="#hl-18-2"> 2</a>
</span><span class="lnt" id="hl-18-3"><a class="lnlinks" href="#hl-18-3"> 3</a>
</span><span class="lnt" id="hl-18-4"><a class="lnlinks" href="#hl-18-4"> 4</a>
</span><span class="lnt" id="hl-18-5"><a class="lnlinks" href="#hl-18-5"> 5</a>
</span><span class="lnt" id="hl-18-6"><a class="lnlinks" href="#hl-18-6"> 6</a>
</span><span class="lnt" id="hl-18-7"><a class="lnlinks" href="#hl-18-7"> 7</a>
</span><span class="lnt" id="hl-18-8"><a class="lnlinks" href="#hl-18-8"> 8</a>
</span><span class="lnt" id="hl-18-9"><a class="lnlinks" href="#hl-18-9"> 9</a>
</span><span class="lnt" id="hl-18-10"><a class="lnlinks" href="#hl-18-10">10</a>
</span><span class="lnt" id="hl-18-11"><a class="lnlinks" href="#hl-18-11">11</a>
</span><span class="lnt" id="hl-18-12"><a class="lnlinks" href="#hl-18-12">12</a>
</span><span class="lnt" id="hl-18-13"><a class="lnlinks" href="#hl-18-13">13</a>
</span><span class="lnt" id="hl-18-14"><a class="lnlinks" href="#hl-18-14">14</a>
</span><span class="lnt" id="hl-18-15"><a class="lnlinks" href="#hl-18-15">15</a>
</span><span class="lnt" id="hl-18-16"><a class="lnlinks" href="#hl-18-16">16</a>
</span><span class="lnt" id="hl-18-17"><a class="lnlinks" href="#hl-18-17">17</a>
</span><span class="lnt" id="hl-18-18"><a class="lnlinks" href="#hl-18-18">18</a>
</span><span class="lnt" id="hl-18-19"><a class="lnlinks" href="#hl-18-19">19</a>
</span><span class="lnt" id="hl-18-20"><a class="lnlinks" href="#hl-18-20">20</a>
</span><span class="lnt" id="hl-18-21"><a class="lnlinks" href="#hl-18-21">21</a>
</span><span class="lnt" id="hl-18-22"><a class="lnlinks" href="#hl-18-22">22</a>
</span><span class="lnt" id="hl-18-23"><a class="lnlinks" href="#hl-18-23">23</a>
</span><span class="lnt" id="hl-18-24"><a class="lnlinks" href="#hl-18-24">24</a>
</span><span class="lnt" id="hl-18-25"><a class="lnlinks" href="#hl-18-25">25</a>
</span><span class="lnt" id="hl-18-26"><a class="lnlinks" href="#hl-18-26">26</a>
</span><span class="lnt" id="hl-18-27"><a class="lnlinks" href="#hl-18-27">27</a>
</span><span class="lnt" id="hl-18-28"><a class="lnlinks" href="#hl-18-28">28</a>
</span><span class="lnt" id="hl-18-29"><a class="lnlinks" href="#hl-18-29">29</a>
</span><span class="lnt" id="hl-18-30"><a class="lnlinks" href="#hl-18-30">30</a>
</span><span class="lnt" id="hl-18-31"><a class="lnlinks" href="#hl-18-31">31</a>
</span><span class="lnt" id="hl-18-32"><a class="lnlinks" href="#hl-18-32">32</a>
</span><span class="lnt" id="hl-18-33"><a class="lnlinks" href="#hl-18-33">33</a>
</span><span class="lnt" id="hl-18-34"><a class="lnlinks" href="#hl-18-34">34</a>
</span><span class="lnt" id="hl-18-35"><a class="lnlinks" href="#hl-18-35">35</a>
</span><span class="lnt" id="hl-18-36"><a class="lnlinks" href="#hl-18-36">36</a>
</span><span class="lnt" id="hl-18-37"><a class="lnlinks" href="#hl-18-37">37</a>
</span><span class="lnt" id="hl-18-38"><a class="lnlinks" href="#hl-18-38">38</a>
</span><span class="lnt" id="hl-18-39"><a class="lnlinks" href="#hl-18-39">39</a>
</span><span class="lnt" id="hl-18-40"><a class="lnlinks" href="#hl-18-40">40</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 从tb_emp表中选择指定字段，满足以下条件：
</span></span></span><span class="line"><span class="cl"><span class="c1">-- name包含“张”，gender为1，entrydate在2000-01-01到2015-12-31之间
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 结果按update_time降序排序，并分页显示
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 显示第2页的记录，每页10条记录，即从第11条到第20条记录
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">username</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">password</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">image</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">job</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">entrydate</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">create_time</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">update_time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%张%&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="s1">&#39;2000-01-01&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="s1">&#39;2015-12-31&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">update_time</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 使用IF函数，根据gender字段的值判断性别，并计数每个性别的记录数
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 使用IF函数：如果gender为1，则显示“男性员工”；否则显示“女性员工”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;男性员工&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;女性员工&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">性别</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">人数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">gender</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 使用CASE语句，根据job字段的值确定职位名称，并计数每个职位的记录数
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 使用CASE语句：当job为1时，显示“班主任”；当job为2时，显示“讲师”；
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 当job为3时，显示“学工主管”；当job为4时，显示“教研主管”；否则显示“未分配职位”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="p">(</span><span class="k">case</span><span class="w"> </span><span class="n">job</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;班主任&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;讲师&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;学工主管&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;教研主管&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;未分配职位&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">end</span><span class="p">)</span><span class="w"> </span><span class="err">职位</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">人数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="多表设计">多表设计<a hidden class="anchor" aria-hidden="true" href="#多表设计">#</a></h2>
<p>项目开发中，在进行数据表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系</p>
<ul>
<li>一对多(多对一)</li>
<li>多对多</li>
<li>一对一</li>
</ul>
<h3 id="一对多">一对多<a hidden class="anchor" aria-hidden="true" href="#一对多">#</a></h3>
<ul>
<li>部门和员工</li>
</ul>
<p><strong>物理外键</strong></p>
<ul>
<li>概念：使用<code>foreign key</code>定义外键关联另外一张表。</li>
<li>缺点：
<ul>
<li>影响增，删，改的效率（需要检查外键关系）</li>
<li>仅用于单节点数据库，不适用与分布式，集群场景</li>
<li>容易引发数据库的死锁问题，消耗性能</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-19-1"><a class="lnlinks" href="#hl-19-1">1</a>
</span><span class="lnt" id="hl-19-2"><a class="lnlinks" href="#hl-19-2">2</a>
</span><span class="lnt" id="hl-19-3"><a class="lnlinks" href="#hl-19-3">3</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">tb_emp___fk_dept_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>逻辑外键</strong></p>
<ul>
<li>概念：在业务逻辑中，解决外键关联</li>
<li>通过逻辑外键，就可以很方便的解决上述问题</li>
</ul>
<h3 id="一对一">一对一<a hidden class="anchor" aria-hidden="true" href="#一对一">#</a></h3>
<ul>
<li>
<p><strong>案例</strong>：用户与身份证信息的关系</p>
</li>
<li>
<p><strong>关系</strong>：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他字段放在另一张表中，以提升操作效率</p>
</li>
<li>
<p><strong>实现</strong>：在任意一方加入外键，关联另外一方，并且设置外键为唯一的（<strong>UNIQUE</strong>）</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-20-1"><a class="lnlinks" href="#hl-20-1"> 1</a>
</span><span class="lnt" id="hl-20-2"><a class="lnlinks" href="#hl-20-2"> 2</a>
</span><span class="lnt" id="hl-20-3"><a class="lnlinks" href="#hl-20-3"> 3</a>
</span><span class="lnt" id="hl-20-4"><a class="lnlinks" href="#hl-20-4"> 4</a>
</span><span class="lnt" id="hl-20-5"><a class="lnlinks" href="#hl-20-5"> 5</a>
</span><span class="lnt" id="hl-20-6"><a class="lnlinks" href="#hl-20-6"> 6</a>
</span><span class="lnt" id="hl-20-7"><a class="lnlinks" href="#hl-20-7"> 7</a>
</span><span class="lnt" id="hl-20-8"><a class="lnlinks" href="#hl-20-8"> 8</a>
</span><span class="lnt" id="hl-20-9"><a class="lnlinks" href="#hl-20-9"> 9</a>
</span><span class="lnt" id="hl-20-10"><a class="lnlinks" href="#hl-20-10">10</a>
</span><span class="lnt" id="hl-20-11"><a class="lnlinks" href="#hl-20-11">11</a>
</span><span class="lnt" id="hl-20-12"><a class="lnlinks" href="#hl-20-12">12</a>
</span><span class="lnt" id="hl-20-13"><a class="lnlinks" href="#hl-20-13">13</a>
</span><span class="lnt" id="hl-20-14"><a class="lnlinks" href="#hl-20-14">14</a>
</span><span class="lnt" id="hl-20-15"><a class="lnlinks" href="#hl-20-15">15</a>
</span><span class="lnt" id="hl-20-16"><a class="lnlinks" href="#hl-20-16">16</a>
</span><span class="lnt" id="hl-20-17"><a class="lnlinks" href="#hl-20-17">17</a>
</span><span class="lnt" id="hl-20-18"><a class="lnlinks" href="#hl-20-18">18</a>
</span><span class="lnt" id="hl-20-19"><a class="lnlinks" href="#hl-20-19">19</a>
</span><span class="lnt" id="hl-20-20"><a class="lnlinks" href="#hl-20-20">20</a>
</span><span class="lnt" id="hl-20-21"><a class="lnlinks" href="#hl-20-21">21</a>
</span><span class="lnt" id="hl-20-22"><a class="lnlinks" href="#hl-20-22">22</a>
</span><span class="lnt" id="hl-20-23"><a class="lnlinks" href="#hl-20-23">23</a>
</span><span class="lnt" id="hl-20-24"><a class="lnlinks" href="#hl-20-24">24</a>
</span><span class="lnt" id="hl-20-25"><a class="lnlinks" href="#hl-20-25">25</a>
</span><span class="lnt" id="hl-20-26"><a class="lnlinks" href="#hl-20-26">26</a>
</span><span class="lnt" id="hl-20-27"><a class="lnlinks" href="#hl-20-27">27</a>
</span><span class="lnt" id="hl-20-28"><a class="lnlinks" href="#hl-20-28">28</a>
</span><span class="lnt" id="hl-20-29"><a class="lnlinks" href="#hl-20-29">29</a>
</span><span class="lnt" id="hl-20-30"><a class="lnlinks" href="#hl-20-30">30</a>
</span><span class="lnt" id="hl-20-31"><a class="lnlinks" href="#hl-20-31">31</a>
</span><span class="lnt" id="hl-20-32"><a class="lnlinks" href="#hl-20-32">32</a>
</span><span class="lnt" id="hl-20-33"><a class="lnlinks" href="#hl-20-33">33</a>
</span><span class="lnt" id="hl-20-34"><a class="lnlinks" href="#hl-20-34">34</a>
</span><span class="lnt" id="hl-20-35"><a class="lnlinks" href="#hl-20-35">35</a>
</span><span class="lnt" id="hl-20-36"><a class="lnlinks" href="#hl-20-36">36</a>
</span><span class="lnt" id="hl-20-37"><a class="lnlinks" href="#hl-20-37">37</a>
</span><span class="lnt" id="hl-20-38"><a class="lnlinks" href="#hl-20-38">38</a>
</span><span class="lnt" id="hl-20-39"><a class="lnlinks" href="#hl-20-39">39</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建用户信息表 tb_user
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_user</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">     </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 自增主键ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">name</span><span class="w">   </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">      </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;姓名&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 用户姓名
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">gender</span><span class="w"> </span><span class="n">tinyint</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;性别, 1 男  2 女&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 性别，1表示男，2表示女
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">phone</span><span class="w">  </span><span class="nb">char</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;手机号&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 手机号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">degree</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;学历&#39;</span><span class="w"> </span><span class="c1">-- 学历
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;用户信息表&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 表注释
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 插入用户信息表 tb_user 的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_user</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;白眉鹰王&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18812340001&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;初中&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;青翼蝠王&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18812340002&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;大专&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;金毛狮王&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18812340003&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;初中&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;紫衫龙王&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18812340004&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;硕士&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 创建用户详细信息表 tb_user_card
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_user_card</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">           </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 自增主键ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">nationality</span><span class="w">  </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;民族&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 民族
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">birthday</span><span class="w">     </span><span class="nb">date</span><span class="w">         </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;生日&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 生日
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">idcard</span><span class="w">       </span><span class="nb">char</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span><span class="w">     </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;身份证号&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 身份证号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">issued</span><span class="w">       </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;签发机关&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 签发机关
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">expire_begin</span><span class="w"> </span><span class="nb">date</span><span class="w">         </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;有效期限-开始&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 有效期限开始日期
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">expire_end</span><span class="w">   </span><span class="nb">date</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;有效期限-结束&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 有效期限结束日期
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">user_id</span><span class="w">      </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;用户ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 用户ID，唯一且非空
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_user_id</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">tb_user</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="c1">-- 外键约束，引用 tb_user 表的 id 字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;用户信息表&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 表注释
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 插入用户详细信息表 tb_user_card 的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_user_card</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;汉&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1960-11-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;100000100000100001&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;朝阳区公安局&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2000-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;汉&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1971-11-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;100000100000100002&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;静安区公安局&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2005-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;汉&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1963-11-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;100000100000100003&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;昌平区公安局&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2006-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;回&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1980-11-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;100000100000100004&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;海淀区公安局&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2008-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2028-06-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="多对多">多对多<a hidden class="anchor" aria-hidden="true" href="#多对多">#</a></h3>
<ul>
<li>
<p><strong>案例</strong>：学生与课程的关系</p>
</li>
<li>
<p><strong>关系</strong>：一个学生可以选修多门课程，一门课程也可以供多个学生选择</p>
</li>
<li>
<p>使用中间表来对应多对多的关系</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-21-1"><a class="lnlinks" href="#hl-21-1"> 1</a>
</span><span class="lnt" id="hl-21-2"><a class="lnlinks" href="#hl-21-2"> 2</a>
</span><span class="lnt" id="hl-21-3"><a class="lnlinks" href="#hl-21-3"> 3</a>
</span><span class="lnt" id="hl-21-4"><a class="lnlinks" href="#hl-21-4"> 4</a>
</span><span class="lnt" id="hl-21-5"><a class="lnlinks" href="#hl-21-5"> 5</a>
</span><span class="lnt" id="hl-21-6"><a class="lnlinks" href="#hl-21-6"> 6</a>
</span><span class="lnt" id="hl-21-7"><a class="lnlinks" href="#hl-21-7"> 7</a>
</span><span class="lnt" id="hl-21-8"><a class="lnlinks" href="#hl-21-8"> 8</a>
</span><span class="lnt" id="hl-21-9"><a class="lnlinks" href="#hl-21-9"> 9</a>
</span><span class="lnt" id="hl-21-10"><a class="lnlinks" href="#hl-21-10">10</a>
</span><span class="lnt" id="hl-21-11"><a class="lnlinks" href="#hl-21-11">11</a>
</span><span class="lnt" id="hl-21-12"><a class="lnlinks" href="#hl-21-12">12</a>
</span><span class="lnt" id="hl-21-13"><a class="lnlinks" href="#hl-21-13">13</a>
</span><span class="lnt" id="hl-21-14"><a class="lnlinks" href="#hl-21-14">14</a>
</span><span class="lnt" id="hl-21-15"><a class="lnlinks" href="#hl-21-15">15</a>
</span><span class="lnt" id="hl-21-16"><a class="lnlinks" href="#hl-21-16">16</a>
</span><span class="lnt" id="hl-21-17"><a class="lnlinks" href="#hl-21-17">17</a>
</span><span class="lnt" id="hl-21-18"><a class="lnlinks" href="#hl-21-18">18</a>
</span><span class="lnt" id="hl-21-19"><a class="lnlinks" href="#hl-21-19">19</a>
</span><span class="lnt" id="hl-21-20"><a class="lnlinks" href="#hl-21-20">20</a>
</span><span class="lnt" id="hl-21-21"><a class="lnlinks" href="#hl-21-21">21</a>
</span><span class="lnt" id="hl-21-22"><a class="lnlinks" href="#hl-21-22">22</a>
</span><span class="lnt" id="hl-21-23"><a class="lnlinks" href="#hl-21-23">23</a>
</span><span class="lnt" id="hl-21-24"><a class="lnlinks" href="#hl-21-24">24</a>
</span><span class="lnt" id="hl-21-25"><a class="lnlinks" href="#hl-21-25">25</a>
</span><span class="lnt" id="hl-21-26"><a class="lnlinks" href="#hl-21-26">26</a>
</span><span class="lnt" id="hl-21-27"><a class="lnlinks" href="#hl-21-27">27</a>
</span><span class="lnt" id="hl-21-28"><a class="lnlinks" href="#hl-21-28">28</a>
</span><span class="lnt" id="hl-21-29"><a class="lnlinks" href="#hl-21-29">29</a>
</span><span class="lnt" id="hl-21-30"><a class="lnlinks" href="#hl-21-30">30</a>
</span><span class="lnt" id="hl-21-31"><a class="lnlinks" href="#hl-21-31">31</a>
</span><span class="lnt" id="hl-21-32"><a class="lnlinks" href="#hl-21-32">32</a>
</span><span class="lnt" id="hl-21-33"><a class="lnlinks" href="#hl-21-33">33</a>
</span><span class="lnt" id="hl-21-34"><a class="lnlinks" href="#hl-21-34">34</a>
</span><span class="lnt" id="hl-21-35"><a class="lnlinks" href="#hl-21-35">35</a>
</span><span class="lnt" id="hl-21-36"><a class="lnlinks" href="#hl-21-36">36</a>
</span><span class="lnt" id="hl-21-37"><a class="lnlinks" href="#hl-21-37">37</a>
</span><span class="lnt" id="hl-21-38"><a class="lnlinks" href="#hl-21-38">38</a>
</span><span class="lnt" id="hl-21-39"><a class="lnlinks" href="#hl-21-39">39</a>
</span><span class="lnt" id="hl-21-40"><a class="lnlinks" href="#hl-21-40">40</a>
</span><span class="lnt" id="hl-21-41"><a class="lnlinks" href="#hl-21-41">41</a>
</span><span class="lnt" id="hl-21-42"><a class="lnlinks" href="#hl-21-42">42</a>
</span><span class="lnt" id="hl-21-43"><a class="lnlinks" href="#hl-21-43">43</a>
</span><span class="lnt" id="hl-21-44"><a class="lnlinks" href="#hl-21-44">44</a>
</span><span class="lnt" id="hl-21-45"><a class="lnlinks" href="#hl-21-45">45</a>
</span><span class="lnt" id="hl-21-46"><a class="lnlinks" href="#hl-21-46">46</a>
</span><span class="lnt" id="hl-21-47"><a class="lnlinks" href="#hl-21-47">47</a>
</span><span class="lnt" id="hl-21-48"><a class="lnlinks" href="#hl-21-48">48</a>
</span><span class="lnt" id="hl-21-49"><a class="lnlinks" href="#hl-21-49">49</a>
</span><span class="lnt" id="hl-21-50"><a class="lnlinks" href="#hl-21-50">50</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建学生表 tb_student
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_student</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">   </span><span class="nb">int</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;主键ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 自增主键ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;姓名&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 学生姓名
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">no</span><span class="w">   </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;学号&#39;</span><span class="w"> </span><span class="c1">-- 学生学号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;学生表&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 表注释
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 插入学生表 tb_student 的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_student</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">no</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;黛绮丝&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2000100101&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;谢逊&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2000100102&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;殷天正&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2000100103&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;韦一笑&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2000100104&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 创建课程表 tb_course
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_course</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">   </span><span class="nb">int</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;主键ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 自增主键ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;课程名称&#39;</span><span class="w"> </span><span class="c1">-- 课程名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;课程表&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 表注释
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 插入课程表 tb_course 的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_course</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;Java&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;PHP&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;MySQL&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;Hadoop&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 创建学生课程中间表 tb_student_course，用于表示学生和课程的多对多关系
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tb_student_course</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">         </span><span class="nb">int</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;主键&#39;</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 自增主键ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">student_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;学生ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 学生ID，非空
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">course_id</span><span class="w">  </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;课程ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- 课程ID，非空
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_courseid</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">tb_course</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 外键约束，引用 tb_course 表的 id 字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_studentid</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">student_id</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">tb_student</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="c1">-- 外键约束，引用 tb_student 表的 id 字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">)</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;学生课程中间表&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 表注释
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 插入学生课程中间表 tb_student_course 的数据，表示学生选择的课程
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tb_student_course</span><span class="w"> </span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span><span class="w"> </span><span class="n">course_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 学生 ID 1 选择了课程 ID 1 (Java)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 学生 ID 1 选择了课程 ID 2 (PHP)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 学生 ID 1 选择了课程 ID 3 (MySQL)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 学生 ID 2 选择了课程 ID 2 (PHP)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="c1">-- 学生 ID 2 选择了课程 ID 3 (MySQL)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="c1">-- 学生 ID 3 选择了课程 ID 4 (Hadoop)
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="案例-1">案例<a hidden class="anchor" aria-hidden="true" href="#案例-1">#</a></h3>
<p>参考页面原型及需求，设计合理的表结构</p>
<ol>
<li>阅读页面原型及需求文档，分析各个模块涉及到的表结构，及表结构之间的关系</li>
<li>根据页面原型及需求文档，分析各个表结构中具体的字段及约束</li>
</ol>
<h3 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h3>
<ol>
<li>
<p>一对多</p>
<p>在多的一方添加外键，关联另外一方的主键</p>
</li>
<li>
<p>一对一</p>
<p>任意一方，添加外键，关联另外一方的主键</p>
</li>
<li>
<p>多对多</p>
<p>通过中间表来维护，中间表的两个外键，分别关联另外两个表的主键</p>
</li>
</ol>
<h2 id="多表查询">多表查询<a hidden class="anchor" aria-hidden="true" href="#多表查询">#</a></h2>
<p>从多张表中查询数据</p>
<p>分类</p>
<ul>
<li>连接查询
<ul>
<li>内连接：相当于查询A， B交集部分数据</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-22-1"><a class="lnlinks" href="#hl-22-1"> 1</a>
</span><span class="lnt" id="hl-22-2"><a class="lnlinks" href="#hl-22-2"> 2</a>
</span><span class="lnt" id="hl-22-3"><a class="lnlinks" href="#hl-22-3"> 3</a>
</span><span class="lnt" id="hl-22-4"><a class="lnlinks" href="#hl-22-4"> 4</a>
</span><span class="lnt" id="hl-22-5"><a class="lnlinks" href="#hl-22-5"> 5</a>
</span><span class="lnt" id="hl-22-6"><a class="lnlinks" href="#hl-22-6"> 6</a>
</span><span class="lnt" id="hl-22-7"><a class="lnlinks" href="#hl-22-7"> 7</a>
</span><span class="lnt" id="hl-22-8"><a class="lnlinks" href="#hl-22-8"> 8</a>
</span><span class="lnt" id="hl-22-9"><a class="lnlinks" href="#hl-22-9"> 9</a>
</span><span class="lnt" id="hl-22-10"><a class="lnlinks" href="#hl-22-10">10</a>
</span><span class="lnt" id="hl-22-11"><a class="lnlinks" href="#hl-22-11">11</a>
</span><span class="lnt" id="hl-22-12"><a class="lnlinks" href="#hl-22-12">12</a>
</span><span class="lnt" id="hl-22-13"><a class="lnlinks" href="#hl-22-13">13</a>
</span><span class="lnt" id="hl-22-14"><a class="lnlinks" href="#hl-22-14">14</a>
</span><span class="lnt" id="hl-22-15"><a class="lnlinks" href="#hl-22-15">15</a>
</span><span class="lnt" id="hl-22-16"><a class="lnlinks" href="#hl-22-16">16</a>
</span><span class="lnt" id="hl-22-17"><a class="lnlinks" href="#hl-22-17">17</a>
</span><span class="lnt" id="hl-22-18"><a class="lnlinks" href="#hl-22-18">18</a>
</span><span class="lnt" id="hl-22-19"><a class="lnlinks" href="#hl-22-19">19</a>
</span><span class="lnt" id="hl-22-20"><a class="lnlinks" href="#hl-22-20">20</a>
</span><span class="lnt" id="hl-22-21"><a class="lnlinks" href="#hl-22-21">21</a>
</span><span class="lnt" id="hl-22-22"><a class="lnlinks" href="#hl-22-22">22</a>
</span><span class="lnt" id="hl-22-23"><a class="lnlinks" href="#hl-22-23">23</a>
</span><span class="lnt" id="hl-22-24"><a class="lnlinks" href="#hl-22-24">24</a>
</span><span class="lnt" id="hl-22-25"><a class="lnlinks" href="#hl-22-25">25</a>
</span><span class="lnt" id="hl-22-26"><a class="lnlinks" href="#hl-22-26">26</a>
</span><span class="lnt" id="hl-22-27"><a class="lnlinks" href="#hl-22-27">27</a>
</span><span class="lnt" id="hl-22-28"><a class="lnlinks" href="#hl-22-28">28</a>
</span><span class="lnt" id="hl-22-29"><a class="lnlinks" href="#hl-22-29">29</a>
</span><span class="lnt" id="hl-22-30"><a class="lnlinks" href="#hl-22-30">30</a>
</span><span class="lnt" id="hl-22-31"><a class="lnlinks" href="#hl-22-31">31</a>
</span><span class="lnt" id="hl-22-32"><a class="lnlinks" href="#hl-22-32">32</a>
</span><span class="lnt" id="hl-22-33"><a class="lnlinks" href="#hl-22-33">33</a>
</span><span class="lnt" id="hl-22-34"><a class="lnlinks" href="#hl-22-34">34</a>
</span><span class="lnt" id="hl-22-35"><a class="lnlinks" href="#hl-22-35">35</a>
</span><span class="lnt" id="hl-22-36"><a class="lnlinks" href="#hl-22-36">36</a>
</span><span class="lnt" id="hl-22-37"><a class="lnlinks" href="#hl-22-37">37</a>
</span><span class="lnt" id="hl-22-38"><a class="lnlinks" href="#hl-22-38">38</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 这是一个笛卡尔积查询，返回tb_emp和tb_dept表的所有组合。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">,</span><span class="w">          </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="n">tb_dept</span><span class="p">;</span><span class="w">         </span><span class="c1">-- tb_dept 表（部门表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 这是一个内连接查询，返回tb_emp和tb_dept表中满足连接条件的所有记录。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">,</span><span class="w">          </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="n">tb_dept</span><span class="w">          </span><span class="c1">-- tb_dept 表（部门表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 这是一个内连接查询，只返回员工的姓名和所属部门的名称。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">          </span><span class="c1">-- tb_emp 表中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">name</span><span class="w">          </span><span class="c1">-- tb_dept 表中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">,</span><span class="w">                 </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="n">tb_dept</span><span class="w">                 </span><span class="c1">-- tb_dept 表（部门表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 这是一个使用INNER JOIN关键字的内连接查询，返回员工的姓名和所属部门的名称。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">          </span><span class="c1">-- tb_emp 表中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">name</span><span class="w">          </span><span class="c1">-- tb_dept 表中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">                  </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">         </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tb_dept</span><span class="w">  </span><span class="c1">-- tb_dept 表（部门表），使用INNER JOIN关键字进行连接
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                    </span><span class="k">on</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 这是一个使用JOIN关键字的内连接查询，返回员工的姓名和所属部门的名称。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">          </span><span class="c1">-- tb_emp 表中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">name</span><span class="w">          </span><span class="c1">-- tb_dept 表中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">                  </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">         </span><span class="k">join</span><span class="w"> </span><span class="n">tb_dept</span><span class="w">        </span><span class="c1">-- tb_dept 表（部门表），使用JOIN关键字进行连接
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                    </span><span class="k">on</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 连接条件：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 这是一个使用表别名的内连接查询，返回员工的姓名和所属部门的名称。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">               </span><span class="c1">-- e 表（tb_emp 表的别名）中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="w">                </span><span class="c1">-- p 表（tb_dept 表的别名）中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w">               </span><span class="c1">-- tb_emp 表（员工表），起别名为 e
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="n">tb_dept</span><span class="w"> </span><span class="n">p</span><span class="w">               </span><span class="c1">-- tb_dept 表（部门表），起别名为 p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">      </span><span class="c1">-- 连接条件：e 表（tb_emp 表）的 dept_id 等于 p 表（tb_dept 表）的 id
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>外连接：
<ul>
<li>左外连接：查询左表所有数据（包括两张表交集部分数据</li>
<li>右外连接：查询右表所有数据（包括两张表交集部分数据）</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-23-1"><a class="lnlinks" href="#hl-23-1"> 1</a>
</span><span class="lnt" id="hl-23-2"><a class="lnlinks" href="#hl-23-2"> 2</a>
</span><span class="lnt" id="hl-23-3"><a class="lnlinks" href="#hl-23-3"> 3</a>
</span><span class="lnt" id="hl-23-4"><a class="lnlinks" href="#hl-23-4"> 4</a>
</span><span class="lnt" id="hl-23-5"><a class="lnlinks" href="#hl-23-5"> 5</a>
</span><span class="lnt" id="hl-23-6"><a class="lnlinks" href="#hl-23-6"> 6</a>
</span><span class="lnt" id="hl-23-7"><a class="lnlinks" href="#hl-23-7"> 7</a>
</span><span class="lnt" id="hl-23-8"><a class="lnlinks" href="#hl-23-8"> 8</a>
</span><span class="lnt" id="hl-23-9"><a class="lnlinks" href="#hl-23-9"> 9</a>
</span><span class="lnt" id="hl-23-10"><a class="lnlinks" href="#hl-23-10">10</a>
</span><span class="lnt" id="hl-23-11"><a class="lnlinks" href="#hl-23-11">11</a>
</span><span class="lnt" id="hl-23-12"><a class="lnlinks" href="#hl-23-12">12</a>
</span><span class="lnt" id="hl-23-13"><a class="lnlinks" href="#hl-23-13">13</a>
</span><span class="lnt" id="hl-23-14"><a class="lnlinks" href="#hl-23-14">14</a>
</span><span class="lnt" id="hl-23-15"><a class="lnlinks" href="#hl-23-15">15</a>
</span><span class="lnt" id="hl-23-16"><a class="lnlinks" href="#hl-23-16">16</a>
</span><span class="lnt" id="hl-23-17"><a class="lnlinks" href="#hl-23-17">17</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 左连接：查询所有员工及其所属部门的名称，包含没有部门的员工
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">       </span><span class="c1">-- e 表（tb_emp 表的别名）中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="w">        </span><span class="c1">-- p 表（tb_dept 表的别名）中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="n">e</span><span class="w">        </span><span class="c1">-- tb_emp 表（员工表），起别名为 e
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">         </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 左连接：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 右连接：查询所有部门及其员工的姓名，包含没有员工的部门
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">       </span><span class="c1">-- e 表（tb_emp 表的别名）中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="w">        </span><span class="c1">-- p 表（tb_dept 表的别名）中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="n">e</span><span class="w">        </span><span class="c1">-- tb_emp 表（员工表），起别名为 e
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">         </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 右连接：tb_emp表中的dept_id等于tb_dept表中的id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 左连接：查询所有部门及其员工的姓名，包含没有员工的部门（和上面的右连接查询结果相同）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">       </span><span class="c1">-- e 表（tb_emp 表的别名）中的 name 列（员工姓名）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">       </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="w">        </span><span class="c1">-- p 表（tb_dept 表的别名）中的 name 列（部门名称）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="n">p</span><span class="w">       </span><span class="c1">-- tb_dept 表（部门表），起别名为 p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">         </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">dept_id</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 左连接：tb_dept表中的id等于tb_emp表中的dept_id
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>子查询</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-24-1"><a class="lnlinks" href="#hl-24-1"> 1</a>
</span><span class="lnt" id="hl-24-2"><a class="lnlinks" href="#hl-24-2"> 2</a>
</span><span class="lnt" id="hl-24-3"><a class="lnlinks" href="#hl-24-3"> 3</a>
</span><span class="lnt" id="hl-24-4"><a class="lnlinks" href="#hl-24-4"> 4</a>
</span><span class="lnt" id="hl-24-5"><a class="lnlinks" href="#hl-24-5"> 5</a>
</span><span class="lnt" id="hl-24-6"><a class="lnlinks" href="#hl-24-6"> 6</a>
</span><span class="lnt" id="hl-24-7"><a class="lnlinks" href="#hl-24-7"> 7</a>
</span><span class="lnt" id="hl-24-8"><a class="lnlinks" href="#hl-24-8"> 8</a>
</span><span class="lnt" id="hl-24-9"><a class="lnlinks" href="#hl-24-9"> 9</a>
</span><span class="lnt" id="hl-24-10"><a class="lnlinks" href="#hl-24-10">10</a>
</span><span class="lnt" id="hl-24-11"><a class="lnlinks" href="#hl-24-11">11</a>
</span><span class="lnt" id="hl-24-12"><a class="lnlinks" href="#hl-24-12">12</a>
</span><span class="lnt" id="hl-24-13"><a class="lnlinks" href="#hl-24-13">13</a>
</span><span class="lnt" id="hl-24-14"><a class="lnlinks" href="#hl-24-14">14</a>
</span><span class="lnt" id="hl-24-15"><a class="lnlinks" href="#hl-24-15">15</a>
</span><span class="lnt" id="hl-24-16"><a class="lnlinks" href="#hl-24-16">16</a>
</span><span class="lnt" id="hl-24-17"><a class="lnlinks" href="#hl-24-17">17</a>
</span><span class="lnt" id="hl-24-18"><a class="lnlinks" href="#hl-24-18">18</a>
</span><span class="lnt" id="hl-24-19"><a class="lnlinks" href="#hl-24-19">19</a>
</span><span class="lnt" id="hl-24-20"><a class="lnlinks" href="#hl-24-20">20</a>
</span><span class="lnt" id="hl-24-21"><a class="lnlinks" href="#hl-24-21">21</a>
</span><span class="lnt" id="hl-24-22"><a class="lnlinks" href="#hl-24-22">22</a>
</span><span class="lnt" id="hl-24-23"><a class="lnlinks" href="#hl-24-23">23</a>
</span><span class="lnt" id="hl-24-24"><a class="lnlinks" href="#hl-24-24">24</a>
</span><span class="lnt" id="hl-24-25"><a class="lnlinks" href="#hl-24-25">25</a>
</span><span class="lnt" id="hl-24-26"><a class="lnlinks" href="#hl-24-26">26</a>
</span><span class="lnt" id="hl-24-27"><a class="lnlinks" href="#hl-24-27">27</a>
</span><span class="lnt" id="hl-24-28"><a class="lnlinks" href="#hl-24-28">28</a>
</span><span class="lnt" id="hl-24-29"><a class="lnlinks" href="#hl-24-29">29</a>
</span><span class="lnt" id="hl-24-30"><a class="lnlinks" href="#hl-24-30">30</a>
</span><span class="lnt" id="hl-24-31"><a class="lnlinks" href="#hl-24-31">31</a>
</span><span class="lnt" id="hl-24-32"><a class="lnlinks" href="#hl-24-32">32</a>
</span><span class="lnt" id="hl-24-33"><a class="lnlinks" href="#hl-24-33">33</a>
</span><span class="lnt" id="hl-24-34"><a class="lnlinks" href="#hl-24-34">34</a>
</span><span class="lnt" id="hl-24-35"><a class="lnlinks" href="#hl-24-35">35</a>
</span><span class="lnt" id="hl-24-36"><a class="lnlinks" href="#hl-24-36">36</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 子查询：查询id等于教研部的部门id的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tb_dept</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;教研部&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 子查询：从tb_dept表中选择名称为&#39;教研部&#39;的部门id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 标量子查询：查询入职日期晚于方东白的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">.</span><span class="n">entrydate</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;方东白&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 子查询：从tb_emp表中选择名称为&#39;方东白&#39;的员工入职日期
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 列子查询：查询部门为教研部或咨询部的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">dept_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;教研部&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;咨询部&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">-- 子查询：从tb_dept表中选择名称为&#39;教研部&#39;或&#39;咨询部&#39;的部门id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 行子查询：查询入职日期和职位均与韦一笑相同的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;韦一笑&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- 子查询：从tb_emp表中选择名称为&#39;韦一笑&#39;的员工入职日期
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;韦一笑&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 子查询：从tb_emp表中选择名称为&#39;韦一笑&#39;的员工职位
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 行子查询的另一种写法：查询入职日期和职位均与韦一笑相同的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="p">(</span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">job</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">entrydate</span><span class="p">,</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;韦一笑&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 子查询：从tb_emp表中选择名称为&#39;韦一笑&#39;的员工入职日期和职位
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 表子查询：查询入职日期在2006-01-01之后的员工信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w">           </span><span class="c1">-- tb_emp 表（员工表）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">&#39;2006-01-01&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 条件：入职日期在2006-01-01之后
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 表子查询的另一种写法：查询入职日期在2006-01-01之后的员工及其所属部门信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">entrydate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">&#39;2006-01-01&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 子查询：从tb_emp表中选择入职日期在2006-01-01之后的员工，并起别名为 e
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="n">tb_dept</span><span class="w"> </span><span class="n">p</span><span class="w">                                              </span><span class="c1">-- tb_dept 表（部门表），起别名为 p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">                                     </span><span class="c1">-- 连接条件：子查询结果的dept_id等于tb_dept表中的id
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="案例-2">案例<a hidden class="anchor" aria-hidden="true" href="#案例-2">#</a></h3>
<p>对菜品(dish)， 套餐(setmeal)，类别(category)，菜品和套餐(setmeal_dish)对应关系表进行多表查询</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-25-1"><a class="lnlinks" href="#hl-25-1"> 1</a>
</span><span class="lnt" id="hl-25-2"><a class="lnlinks" href="#hl-25-2"> 2</a>
</span><span class="lnt" id="hl-25-3"><a class="lnlinks" href="#hl-25-3"> 3</a>
</span><span class="lnt" id="hl-25-4"><a class="lnlinks" href="#hl-25-4"> 4</a>
</span><span class="lnt" id="hl-25-5"><a class="lnlinks" href="#hl-25-5"> 5</a>
</span><span class="lnt" id="hl-25-6"><a class="lnlinks" href="#hl-25-6"> 6</a>
</span><span class="lnt" id="hl-25-7"><a class="lnlinks" href="#hl-25-7"> 7</a>
</span><span class="lnt" id="hl-25-8"><a class="lnlinks" href="#hl-25-8"> 8</a>
</span><span class="lnt" id="hl-25-9"><a class="lnlinks" href="#hl-25-9"> 9</a>
</span><span class="lnt" id="hl-25-10"><a class="lnlinks" href="#hl-25-10">10</a>
</span><span class="lnt" id="hl-25-11"><a class="lnlinks" href="#hl-25-11">11</a>
</span><span class="lnt" id="hl-25-12"><a class="lnlinks" href="#hl-25-12">12</a>
</span><span class="lnt" id="hl-25-13"><a class="lnlinks" href="#hl-25-13">13</a>
</span><span class="lnt" id="hl-25-14"><a class="lnlinks" href="#hl-25-14">14</a>
</span><span class="lnt" id="hl-25-15"><a class="lnlinks" href="#hl-25-15">15</a>
</span><span class="lnt" id="hl-25-16"><a class="lnlinks" href="#hl-25-16">16</a>
</span><span class="lnt" id="hl-25-17"><a class="lnlinks" href="#hl-25-17">17</a>
</span><span class="lnt" id="hl-25-18"><a class="lnlinks" href="#hl-25-18">18</a>
</span><span class="lnt" id="hl-25-19"><a class="lnlinks" href="#hl-25-19">19</a>
</span><span class="lnt" id="hl-25-20"><a class="lnlinks" href="#hl-25-20">20</a>
</span><span class="lnt" id="hl-25-21"><a class="lnlinks" href="#hl-25-21">21</a>
</span><span class="lnt" id="hl-25-22"><a class="lnlinks" href="#hl-25-22">22</a>
</span><span class="lnt" id="hl-25-23"><a class="lnlinks" href="#hl-25-23">23</a>
</span><span class="lnt" id="hl-25-24"><a class="lnlinks" href="#hl-25-24">24</a>
</span><span class="lnt" id="hl-25-25"><a class="lnlinks" href="#hl-25-25">25</a>
</span><span class="lnt" id="hl-25-26"><a class="lnlinks" href="#hl-25-26">26</a>
</span><span class="lnt" id="hl-25-27"><a class="lnlinks" href="#hl-25-27">27</a>
</span><span class="lnt" id="hl-25-28"><a class="lnlinks" href="#hl-25-28">28</a>
</span><span class="lnt" id="hl-25-29"><a class="lnlinks" href="#hl-25-29">29</a>
</span><span class="lnt" id="hl-25-30"><a class="lnlinks" href="#hl-25-30">30</a>
</span><span class="lnt" id="hl-25-31"><a class="lnlinks" href="#hl-25-31">31</a>
</span><span class="lnt" id="hl-25-32"><a class="lnlinks" href="#hl-25-32">32</a>
</span><span class="lnt" id="hl-25-33"><a class="lnlinks" href="#hl-25-33">33</a>
</span><span class="lnt" id="hl-25-34"><a class="lnlinks" href="#hl-25-34">34</a>
</span><span class="lnt" id="hl-25-35"><a class="lnlinks" href="#hl-25-35">35</a>
</span><span class="lnt" id="hl-25-36"><a class="lnlinks" href="#hl-25-36">36</a>
</span><span class="lnt" id="hl-25-37"><a class="lnlinks" href="#hl-25-37">37</a>
</span><span class="lnt" id="hl-25-38"><a class="lnlinks" href="#hl-25-38">38</a>
</span><span class="lnt" id="hl-25-39"><a class="lnlinks" href="#hl-25-39">39</a>
</span><span class="lnt" id="hl-25-40"><a class="lnlinks" href="#hl-25-40">40</a>
</span><span class="lnt" id="hl-25-41"><a class="lnlinks" href="#hl-25-41">41</a>
</span><span class="lnt" id="hl-25-42"><a class="lnlinks" href="#hl-25-42">42</a>
</span><span class="lnt" id="hl-25-43"><a class="lnlinks" href="#hl-25-43">43</a>
</span><span class="lnt" id="hl-25-44"><a class="lnlinks" href="#hl-25-44">44</a>
</span><span class="lnt" id="hl-25-45"><a class="lnlinks" href="#hl-25-45">45</a>
</span><span class="lnt" id="hl-25-46"><a class="lnlinks" href="#hl-25-46">46</a>
</span><span class="lnt" id="hl-25-47"><a class="lnlinks" href="#hl-25-47">47</a>
</span><span class="lnt" id="hl-25-48"><a class="lnlinks" href="#hl-25-48">48</a>
</span><span class="lnt" id="hl-25-49"><a class="lnlinks" href="#hl-25-49">49</a>
</span><span class="lnt" id="hl-25-50"><a class="lnlinks" href="#hl-25-50">50</a>
</span><span class="lnt" id="hl-25-51"><a class="lnlinks" href="#hl-25-51">51</a>
</span><span class="lnt" id="hl-25-52"><a class="lnlinks" href="#hl-25-52">52</a>
</span><span class="lnt" id="hl-25-53"><a class="lnlinks" href="#hl-25-53">53</a>
</span><span class="lnt" id="hl-25-54"><a class="lnlinks" href="#hl-25-54">54</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 查询价格低于10元的菜品的名称和价格
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询价格低于10元的菜品的名称、价格以及所属分类的名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="c1">-- 使用category_id连接菜品和分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">        </span><span class="c1">-- 过滤价格低于10元的菜品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询价格在10到50元之间且状态为1的菜品的名称、价格以及所属分类的名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="c1">-- 左连接，包含所有菜品，即使它们没有分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="c1">-- 过滤价格在10到50元之间的菜品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">             </span><span class="c1">-- 过滤状态为1的菜品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询所有有菜品的分类的名称，按分类名称分组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="c1">-- 使用category_id连接菜品和分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span><span class="w">           </span><span class="c1">-- 按分类名称分组，获取唯一的分类名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询有3个或更多菜品的分类的名称及其菜品数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="c1">-- 使用category_id连接菜品和分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="w">            </span><span class="c1">-- 按分类名称分组，计算每个分类的菜品数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">HAVING</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">      </span><span class="c1">-- 仅包含菜品数量大于或等于3的分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询每个分类的名称及其菜品的最高价格
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">category</span><span class="w"> </span><span class="k">c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="c1">-- 使用category_id连接菜品和分类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span><span class="w">           </span><span class="c1">-- 按分类名称分组，获取每个分类的最高价格
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询名为&#39;商务套餐A&#39;的套餐及其菜品的名称、价格和份数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">copies</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">setmeal</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">setmeal_dish</span><span class="w"> </span><span class="n">sd</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">setmeal_id</span><span class="w">    </span><span class="c1">-- 使用setmeal_id连接套餐和套餐菜品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">dish_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w">       </span><span class="c1">-- 使用dish_id连接套餐菜品和菜品
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;商务套餐A&#39;</span><span class="p">;</span><span class="w">   </span><span class="c1">-- 过滤出名称为&#39;商务套餐A&#39;的套餐
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询价格低于所有菜品平均价格的菜品的所有列
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dish</span><span class="w"> </span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">-- 子查询获取所有菜品的平均价格
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="事物">事物<a hidden class="anchor" aria-hidden="true" href="#事物">#</a></h2>
<p>事物是一组操作的集合，它是一个不可分割的工作单位， 事物会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作<strong>要么同时成功， 要么同时失败</strong>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-26-1"><a class="lnlinks" href="#hl-26-1">1</a>
</span><span class="lnt" id="hl-26-2"><a class="lnlinks" href="#hl-26-2">2</a>
</span><span class="lnt" id="hl-26-3"><a class="lnlinks" href="#hl-26-3">3</a>
</span><span class="lnt" id="hl-26-4"><a class="lnlinks" href="#hl-26-4">4</a>
</span><span class="lnt" id="hl-26-5"><a class="lnlinks" href="#hl-26-5">5</a>
</span><span class="lnt" id="hl-26-6"><a class="lnlinks" href="#hl-26-6">6</a>
</span><span class="lnt" id="hl-26-7"><a class="lnlinks" href="#hl-26-7">7</a>
</span><span class="lnt" id="hl-26-8"><a class="lnlinks" href="#hl-26-8">8</a>
</span><span class="lnt" id="hl-26-9"><a class="lnlinks" href="#hl-26-9">9</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_dept</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tb_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">dept_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">commit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 如果在事务中的语句出现了问题， 则不能直接提交，需要回滚保证所有语句都没有问题
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">rollback</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="四大特性">四大特性<a hidden class="anchor" aria-hidden="true" href="#四大特性">#</a></h3>
<p>ACID</p>
<ul>
<li><strong>原子性</strong>（Atomicity）：事务是不可分割的最小单元，要么全部成功，要么全部失败</li>
<li><strong>一致性</strong>（Consistency）：事物完成后， 必须使所有的数据都保持一致状态</li>
<li><strong>隔离性</strong>（Isolation）：数据库系统提供的隔离机制，保证事物在不受外部并发操作影响的独立环境下运行</li>
<li><strong>持久性</strong>（Durability）：事物一旦提交或回滚，它对数据库中的数据的改变就是永久的</li>
</ul>
<h2 id="数据库优化">数据库优化<a hidden class="anchor" aria-hidden="true" href="#数据库优化">#</a></h2>
<p><strong>索引（index）</strong>：是帮助数据库高效获取数据的数据结构</p>
<h3 id="索引优缺点">索引优缺点：<a hidden class="anchor" aria-hidden="true" href="#索引优缺点">#</a></h3>
<p><strong>优点</strong>：</p>
<ul>
<li>提高数据查询的效率，降低数据库的IO成本</li>
<li>通过索引列对数据进行排序，降低数据排序的成本，降低CPU消耗</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>索引会占用存储空间</li>
<li>索引大大提高了查询效率，同时也降低了<code>insert</code>, <code>update</code>, <code>delete</code>的效率</li>
</ul>
<h3 id="索引的数据结构">索引的数据结构<a hidden class="anchor" aria-hidden="true" href="#索引的数据结构">#</a></h3>
<p>MySQL数据库支持的索引结构有很多， 如：Hash索引， B+Tree索引， Full-Test索引等。如果没有特别指明，都是指默认的B+Tree结构组织的索引。</p>
<p>页是数据库存储的最小单位，一个页为16KB</p>
<ul>
<li><strong>B+Tree(多路平衡搜索树)</strong></li>
</ul>
<p>每个节点可以存储多个Key， 所有的Key都会在叶子节点中出现</p>
<p>






    <div class="post-img-view">
        <a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240607115403341.png">
            <img src="https://cdn.jsdelivr.net/gh/kennems/blog-image/image-20240607115403341.png" alt="image-20240607115403341"  />
        </a>
    </div>
</p>
<ul>
<li>每个节点，可以存储多个key（有n个key， 就有n个指针）。</li>
<li>所有的数据都存储在叶子节点内，非叶子节点仅用于索引数据。</li>
<li>叶子节点形成了一颗<strong>双向链表</strong>，便于<strong>数据的排序</strong>及区间范围查询。</li>
</ul>
<h3 id="索引创建的sql">索引创建的SQL<a hidden class="anchor" aria-hidden="true" href="#索引创建的sql">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-27-1"><a class="lnlinks" href="#hl-27-1">1</a>
</span><span class="lnt" id="hl-27-2"><a class="lnlinks" href="#hl-27-2">2</a>
</span><span class="lnt" id="hl-27-3"><a class="lnlinks" href="#hl-27-3">3</a>
</span><span class="lnt" id="hl-27-4"><a class="lnlinks" href="#hl-27-4">4</a>
</span><span class="lnt" id="hl-27-5"><a class="lnlinks" href="#hl-27-5">5</a>
</span><span class="lnt" id="hl-27-6"><a class="lnlinks" href="#hl-27-6">6</a>
</span><span class="lnt" id="hl-27-7"><a class="lnlinks" href="#hl-27-7">7</a>
</span><span class="lnt" id="hl-27-8"><a class="lnlinks" href="#hl-27-8">8</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 在tb_emp表的name列上创建索引idx_tb_emp_name
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_tb_emp_name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">(</span><span class="n">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 显示tb_emp表中的所有索引
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SHOW</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 删除tb_emp表上的索引idx_tb_emp_name
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">DROP</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_tb_emp_name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">tb_emp</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/java/">Java</a></li>
      <li><a href="https://kennems.github.io/tags/web/">Web</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">JavaWeb学习笔记</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%913/">
    <span class="title">« 上一页</span>
    <br>
    <span>Java Web开发(3)</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/java-web%E5%BC%80%E5%8F%911/">
    <span class="title">下一页 »</span>
    <br>
    <span>Java Web开发(1)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
<footer class="footer">
    <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        Visitors: <span id="busuanzi_value_page_uv"></span>
        Views: <span id="busuanzi_value_page_pv"></span>

        
    </span>
</footer>



</body>

</html>
