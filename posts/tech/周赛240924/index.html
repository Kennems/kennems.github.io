<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<meta name="msvalidate.01" content="DF5FE493CC759E62BFE073BEA8EFD472" />
<title>LeetCode周赛416(250922) | Kennem&#39;s Blog</title>
<meta name="keywords" content="LeetCode周赛">
<meta name="description" content="LeetCode 周赛 416(250922)">
<meta name="author" content="ShowGuan">
<link rel="canonical" href="https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1a7bc7e6d01b82c8ca2b2e53cfcf7e33d2fd9058f6b28245f94da0d91447c6a0.css" integrity="sha256-GnvH5tAbgsjKKy5Tz89&#43;M9L9kFj2soJF&#43;U2g2RRHxqA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kennems.github.io/img/sun.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kennems.github.io/img/sun.png">
<link rel="apple-touch-icon" href="https://kennems.github.io/img/sun.png">
<link rel="mask-icon" href="https://kennems.github.io/img/sun.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


<link rel="stylesheet" href="https://fonts.cdnfonts.com/css/code-new-roman">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

<meta property="og:url" content="https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/">
  <meta property="og:site_name" content="Kennem&#39;s Blog">
  <meta property="og:title" content="LeetCode周赛416(250922)">
  <meta property="og:description" content="LeetCode 周赛 416(250922)">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-24T15:37:01+08:00">
    <meta property="article:modified_time" content="2024-09-24T15:37:01+08:00">
    <meta property="article:tag" content="LeetCode周赛">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode周赛416(250922)">
<meta name="twitter:description" content="LeetCode 周赛 416(250922)">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚文章",
      "item": "https://kennems.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻技术",
      "item": "https://kennems.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "LeetCode周赛416(250922)",
      "item": "https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LeetCode周赛416(250922)",
  "name": "LeetCode周赛416(250922)",
  "description": "LeetCode 周赛 416(250922)",
  "keywords": [
    "LeetCode周赛"
  ],
  "articleBody": "周赛250922 小号第一次AK， 题比较简单。\n3295. 举报垃圾信息 题目大意 给定两个字符串数组 message 和 bannedWords，你需要判断 message 是否属于“垃圾信息”。如果 message 中至少有两个单词出现在 bannedWords 中，则该数组被视为垃圾信息，返回 true；否则返回 false。\n实现思路 集合操作优化：为了快速判断 message 中的单词是否在 bannedWords 中，将 bannedWords 转换为一个 set 集合，利用集合的 O(1) 时间复杂度来快速查找单词是否存在。 统计匹配次数：遍历 message 数组，对每个单词检查它是否在 bannedWords 集合中，记录出现在 bannedWords 中的单词数。 判断垃圾信息：若匹配到的单词数量大于等于 2，则返回 true（即认为 message 是垃圾信息）；否则返回 false。 1 2 3 4 class Solution: def reportSpam(self, message: List[str], bannedWords: List[str]) -\u003e bool: bannedWords = set(bannedWords) return sum(m in bannedWords for m in message) \u003e= 2 Q2. 移山所需的最少秒数 题目大意 给定一个整数 mountainHeight 表示山的高度和一个数组 workerTimes，表示工人们降低山高度所需的工作时间。工人们可以同时工作，每个工人 i 在降低山的过程中，其降低 1 个高度需要 workerTimes[i] 秒，降低 2 个高度需要 workerTimes[i] + 2 * workerTimes[i] 秒，以此类推。题目要求返回工人们将山的高度降低到 0 所需的最少秒数。\n实现思路 工人的工作能力：工人 i 降低 x 的高度需要的时间是 workerTimes[i] * (1 + 2 + ... + x)，即等差数列求和公式。根据时间 t，工人 i 能降低的最大高度可以通过二分查找确定。 二分查找最小时间：我们可以通过二分法来确定最少需要的时间，设定一个时间范围 [0, 10^16]，每次取中间值 mid 作为当前时间，判断在这段时间内，所有工人能否把山降低到 0。我们使用一个 work 函数来计算工人在给定时间内可以降低的最大高度。 计算每个工人能降低的高度：对于每个工人，我们通过二分查找计算出当前时间内该工人能降低的最大高度，如果所有工人的总降低高度超过了山的高度，则说明当前时间 mid 可以满足需求，继续向更小的时间查找，否则向更大的时间查找。 最终结果：在二分法中找到的最小时间即为答案。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class Solution: def minNumberOfSeconds(self, m: int, w: List[int]) -\u003e int: # 找到 当前的工作最大时间内 此工人能降低的最大高度 def work(wt, t): lo, hi = 0, t while lo \u003c hi: mid = (lo + hi + 1) // 2 if wt * mid * (mid + 1) // 2 \u003c= t: lo = mid else: hi = mid - 1 return lo # 10^5 * (1 + 10^5) // 2 * 10 ^ 4 = l, r = 0, 10**16 # 二分答案 while l \u003c r: mid = (l + r) // 2 tot = 0 for wt in w: tot += work(wt, mid) if tot \u003e= m: break if tot \u003e= m: r = mid else: l = mid + 1 return l Q3 \u0026 Q4 3297. 统计重新排列后包含另一个字符串的子字符串数目 I 题目大意 给定两个字符串 word1 和 word2，如果某个子字符串 x 的重新排列能够包含 word2 作为其前缀，那么这个子字符串是合法的。问题要求返回 word1 中合法子字符串的数目。\n为了满足问题中的内存限制，要求实现一个线性复杂度的解法。\n实现思路 前缀匹配和字符计数： 为了判断一个子字符串的重新排列是否可以包含 word2 作为前缀，需要对 word2 中的字符进行统计。 使用 Counter 对 word2 中每个字符出现的次数进行记录，并使用滑动窗口技术遍历 word1 的子字符串。 滑动窗口法： 维护一个窗口，用来记录当前窗口内的字符计数，并在窗口移动的过程中检查当前窗口能否重新排列成 word2 的前缀。 窗口通过左右指针扩展和收缩，每次遇到合法情况时，记录当前窗口能产生的合法子字符串的数量。 窗口内匹配字符数： 定义变量 m，用于记录当前窗口内有多少字符已经完全匹配了 word2 中对应字符的数量。当 m 等于 word2 中不同字符的总数时，意味着当前窗口可以重新排列出 word2 的前缀。 具体步骤： 初始化 word2 中字符的计数器 w2_cnt。 使用滑动窗口遍历 word1，对每个窗口内的字符进行计数。如果某个字符的计数达到 word2 中相应字符的数量，增加匹配字符数 m。 当 m 达到 word2 不同字符数的总数时，表示窗口中的子字符串可以包含 word2 作为前缀。 每当窗口合法时，计算从当前窗口右边界开始到 word1 末尾的所有子字符串都可以被重新排列成合法子字符串。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Solution: def validSubstringCount(self, w1: str, w2: str) -\u003e int: w2_cnt = Counter(w2) res = 0 win = Counter() m = 0 # the number of matched char l = 0 for r in range(len(w1)): if w1[r] in w2_cnt: win[w1[r]] += 1 if win[w1[r]] == w2_cnt[w1[r]]: m += 1 while m == len(w2_cnt): res += len(w1) - r # (len(w1) - (r + 1) + 1) 因为r是下标 if w1[l] in w2_cnt: if win[w1[l]] == w2_cnt[w1[l]]: m -= 1 win[w1[l]] -= 1 l += 1 return res ",
  "wordCount" : "1609",
  "inLanguage": "zh",
  "datePublished": "2024-09-24T15:37:01+08:00",
  "dateModified": "2024-09-24T15:37:01+08:00",
  "author":{
    "@type": "Person",
    "name": "ShowGuan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kennems.github.io/posts/tech/%E5%91%A8%E8%B5%9B240924/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kennem's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kennems.github.io/img/sun.png"
    }
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>




</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kennems.github.io/" accesskey="h" title="Kennem&#39;s Blog (Alt + H)">
                <img src="https://kennems.github.io/img/sun.png" alt="" aria-label="logo"
                    height="35">Kennem&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kennems.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/archives" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/categories" title="🗂️分类">
                    <span>🗂️分类</span>
                </a>
            </li>
            <li>
                <a href="https://kennems.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kennems.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://kennems.github.io/posts/tech/">💻技术</a></div>
    <h1 class="post-title entry-hint-parent">
      LeetCode周赛416(250922)
    </h1>
    <div class="post-description">
      LeetCode 周赛 416(250922)
    </div>
    <div class="post-meta"><span title='2024-09-24 15:37:01 +0800 CST'>2024-09-24</span>&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;1609 字&nbsp;·&nbsp;updated:&nbsp;2024-09-24&nbsp;·&nbsp;ShowGuan

</div>
    
     <div class="post-password">
        
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e5%91%a8%e8%b5%9b250922" aria-label="周赛250922">周赛250922</a><ul>
                            
                    <li>
                        <a href="#3295-%e4%b8%be%e6%8a%a5%e5%9e%83%e5%9c%be%e4%bf%a1%e6%81%afhttpsleetcodecnproblemsreport-spam-message" aria-label="3295. 举报垃圾信息"><a href="https://leetcode.cn/problems/report-spam-message/">3295. 举报垃圾信息</a></a><ul>
                            
                    <li>
                        <a href="#%e9%a2%98%e7%9b%ae%e5%a4%a7%e6%84%8f" aria-label="题目大意">题目大意</a></li>
                    <li>
                        <a href="#%e5%ae%9e%e7%8e%b0%e6%80%9d%e8%b7%af" aria-label="实现思路">实现思路</a></li></ul>
                    </li>
                    <li>
                        <a href="#q2-%e7%a7%bb%e5%b1%b1%e6%89%80%e9%9c%80%e7%9a%84%e6%9c%80%e5%b0%91%e7%a7%92%e6%95%b0httpsleetcodecncontestweekly-contest-416problemsminimum-number-of-seconds-to-make-mountain-height-zero" aria-label="Q2. 移山所需的最少秒数"><a href="https://leetcode.cn/contest/weekly-contest-416/problems/minimum-number-of-seconds-to-make-mountain-height-zero/">Q2. 移山所需的最少秒数</a></a><ul>
                            
                    <li>
                        <a href="#%e9%a2%98%e7%9b%ae%e5%a4%a7%e6%84%8f-1" aria-label="题目大意">题目大意</a></li>
                    <li>
                        <a href="#%e5%ae%9e%e7%8e%b0%e6%80%9d%e8%b7%af-1" aria-label="实现思路">实现思路</a></li></ul>
                    </li>
                    <li>
                        <a href="#q3--q4-3297-%e7%bb%9f%e8%ae%a1%e9%87%8d%e6%96%b0%e6%8e%92%e5%88%97%e5%90%8e%e5%8c%85%e5%90%ab%e5%8f%a6%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e5%ad%90%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%95%b0%e7%9b%ae-ihttpsleetcodecnproblemscount-substrings-that-can-be-rearranged-to-contain-a-string-ii" aria-label="Q3 &amp; Q4 3297. 统计重新排列后包含另一个字符串的子字符串数目 I"><a href="https://leetcode.cn/problems/count-substrings-that-can-be-rearranged-to-contain-a-string-ii/">Q3 &amp; Q4 3297. 统计重新排列后包含另一个字符串的子字符串数目 I</a></a><ul>
                            
                    <li>
                        <a href="#%e9%a2%98%e7%9b%ae%e5%a4%a7%e6%84%8f-2" aria-label="题目大意">题目大意</a></li>
                    <li>
                        <a href="#%e5%ae%9e%e7%8e%b0%e6%80%9d%e8%b7%af-2" aria-label="实现思路">实现思路</a>
                    </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="周赛250922">周赛250922<a hidden class="anchor" aria-hidden="true" href="#周赛250922">#</a></h1>
<p>小号第一次AK， 题比较简单。</p>
<h2 id="3295-举报垃圾信息httpsleetcodecnproblemsreport-spam-message"><a href="https://leetcode.cn/problems/report-spam-message/">3295. 举报垃圾信息</a><a hidden class="anchor" aria-hidden="true" href="#3295-举报垃圾信息httpsleetcodecnproblemsreport-spam-message">#</a></h2>
<h3 id="题目大意">题目大意<a hidden class="anchor" aria-hidden="true" href="#题目大意">#</a></h3>
<p>给定两个字符串数组 <code>message</code> 和 <code>bannedWords</code>，你需要判断 <code>message</code> 是否属于“垃圾信息”。如果 <code>message</code> 中至少有两个单词出现在 <code>bannedWords</code> 中，则该数组被视为垃圾信息，返回 <code>true</code>；否则返回 <code>false</code>。</p>
<h3 id="实现思路">实现思路<a hidden class="anchor" aria-hidden="true" href="#实现思路">#</a></h3>
<ol>
<li><strong>集合操作优化</strong>：为了快速判断 <code>message</code> 中的单词是否在 <code>bannedWords</code> 中，将 <code>bannedWords</code> 转换为一个 <code>set</code> 集合，利用集合的 O(1) 时间复杂度来快速查找单词是否存在。</li>
<li><strong>统计匹配次数</strong>：遍历 <code>message</code> 数组，对每个单词检查它是否在 <code>bannedWords</code> 集合中，记录出现在 <code>bannedWords</code> 中的单词数。</li>
<li><strong>判断垃圾信息</strong>：若匹配到的单词数量大于等于 2，则返回 <code>true</code>（即认为 <code>message</code> 是垃圾信息）；否则返回 <code>false</code>。</li>
</ol>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1">1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2">2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-3">3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-4">4</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reportSpam</span>(self, message: List[str], bannedWords: List[str]) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        bannedWords <span style="color:#f92672">=</span> set(bannedWords)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sum(m <span style="color:#f92672">in</span> bannedWords <span style="color:#66d9ef">for</span> m <span style="color:#f92672">in</span> message) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="q2-移山所需的最少秒数httpsleetcodecncontestweekly-contest-416problemsminimum-number-of-seconds-to-make-mountain-height-zero"><a href="https://leetcode.cn/contest/weekly-contest-416/problems/minimum-number-of-seconds-to-make-mountain-height-zero/">Q2. 移山所需的最少秒数</a><a hidden class="anchor" aria-hidden="true" href="#q2-移山所需的最少秒数httpsleetcodecncontestweekly-contest-416problemsminimum-number-of-seconds-to-make-mountain-height-zero">#</a></h2>
<h3 id="题目大意-1">题目大意<a hidden class="anchor" aria-hidden="true" href="#题目大意-1">#</a></h3>
<p>给定一个整数 <code>mountainHeight</code> 表示山的高度和一个数组 <code>workerTimes</code>，表示工人们降低山高度所需的工作时间。工人们可以同时工作，每个工人 i 在降低山的过程中，其降低 1 个高度需要 <code>workerTimes[i]</code> 秒，降低 2 个高度需要 <code>workerTimes[i] + 2 * workerTimes[i]</code> 秒，以此类推。题目要求返回工人们将山的高度降低到 0 所需的最少秒数。</p>
<h3 id="实现思路-1">实现思路<a hidden class="anchor" aria-hidden="true" href="#实现思路-1">#</a></h3>
<ol>
<li><strong>工人的工作能力</strong>：工人 i 降低 x 的高度需要的时间是 <code>workerTimes[i] * (1 + 2 + ... + x)</code>，即等差数列求和公式。根据时间 t，工人 i 能降低的最大高度可以通过二分查找确定。</li>
<li><strong>二分查找最小时间</strong>：我们可以通过二分法来确定最少需要的时间，设定一个时间范围 <code>[0, 10^16]</code>，每次取中间值 <code>mid</code> 作为当前时间，判断在这段时间内，所有工人能否把山降低到 0。我们使用一个 <code>work</code> 函数来计算工人在给定时间内可以降低的最大高度。</li>
<li><strong>计算每个工人能降低的高度</strong>：对于每个工人，我们通过二分查找计算出当前时间内该工人能降低的最大高度，如果所有工人的总降低高度超过了山的高度，则说明当前时间 <code>mid</code> 可以满足需求，继续向更小的时间查找，否则向更大的时间查找。</li>
<li><strong>最终结果</strong>：在二分法中找到的最小时间即为答案。</li>
</ol>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-24">24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-25">25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-26">26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-27"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-27">27</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-28"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-28">28</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">minNumberOfSeconds</span>(self, m: int, w: List[int]) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 找到 当前的工作最大时间内 此工人能降低的最大高度</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">work</span>(wt, t):
</span></span><span style="display:flex;"><span>            lo, hi <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, t
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> lo <span style="color:#f92672">&lt;</span> hi:
</span></span><span style="display:flex;"><span>                mid <span style="color:#f92672">=</span> (lo <span style="color:#f92672">+</span> hi <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> wt <span style="color:#f92672">*</span> mid <span style="color:#f92672">*</span> (mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&lt;=</span> t:
</span></span><span style="display:flex;"><span>                    lo <span style="color:#f92672">=</span> mid
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                    hi <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> lo
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 10^5 * (1 + 10^5) // 2 * 10 ^ 4 = </span>
</span></span><span style="display:flex;"><span>        l, r <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 二分答案</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> l <span style="color:#f92672">&lt;</span> r:
</span></span><span style="display:flex;"><span>            mid <span style="color:#f92672">=</span> (l <span style="color:#f92672">+</span> r) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>            tot <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> wt <span style="color:#f92672">in</span> w:
</span></span><span style="display:flex;"><span>                tot <span style="color:#f92672">+=</span> work(wt, mid)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> tot <span style="color:#f92672">&gt;=</span> m:
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> tot <span style="color:#f92672">&gt;=</span> m:
</span></span><span style="display:flex;"><span>                r <span style="color:#f92672">=</span> mid
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                l <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> l
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="q3--q4-3297-统计重新排列后包含另一个字符串的子字符串数目-ihttpsleetcodecnproblemscount-substrings-that-can-be-rearranged-to-contain-a-string-ii"><a href="https://leetcode.cn/problems/count-substrings-that-can-be-rearranged-to-contain-a-string-ii/">Q3 &amp; Q4 3297. 统计重新排列后包含另一个字符串的子字符串数目 I</a><a hidden class="anchor" aria-hidden="true" href="#q3--q4-3297-统计重新排列后包含另一个字符串的子字符串数目-ihttpsleetcodecnproblemscount-substrings-that-can-be-rearranged-to-contain-a-string-ii">#</a></h2>
<h3 id="题目大意-2">题目大意<a hidden class="anchor" aria-hidden="true" href="#题目大意-2">#</a></h3>
<p>给定两个字符串 <code>word1</code> 和 <code>word2</code>，如果某个子字符串 <code>x</code> 的重新排列能够包含 <code>word2</code> 作为其前缀，那么这个子字符串是合法的。问题要求返回 <code>word1</code> 中合法子字符串的数目。</p>
<p>为了满足问题中的内存限制，要求实现一个线性复杂度的解法。</p>
<h3 id="实现思路-2">实现思路<a hidden class="anchor" aria-hidden="true" href="#实现思路-2">#</a></h3>
<ol>
<li><strong>前缀匹配和字符计数</strong>：
<ul>
<li>为了判断一个子字符串的重新排列是否可以包含 <code>word2</code> 作为前缀，需要对 <code>word2</code> 中的字符进行统计。</li>
<li>使用 <code>Counter</code> 对 <code>word2</code> 中每个字符出现的次数进行记录，并使用滑动窗口技术遍历 <code>word1</code> 的子字符串。</li>
</ul>
</li>
<li><strong>滑动窗口法</strong>：
<ul>
<li>维护一个窗口，用来记录当前窗口内的字符计数，并在窗口移动的过程中检查当前窗口能否重新排列成 <code>word2</code> 的前缀。</li>
<li>窗口通过左右指针扩展和收缩，每次遇到合法情况时，记录当前窗口能产生的合法子字符串的数量。</li>
</ul>
</li>
<li><strong>窗口内匹配字符数</strong>：
<ul>
<li>定义变量 <code>m</code>，用于记录当前窗口内有多少字符已经完全匹配了 <code>word2</code> 中对应字符的数量。当 <code>m</code> 等于 <code>word2</code> 中不同字符的总数时，意味着当前窗口可以重新排列出 <code>word2</code> 的前缀。</li>
</ul>
</li>
<li><strong>具体步骤</strong>：
<ul>
<li>初始化 <code>word2</code> 中字符的计数器 <code>w2_cnt</code>。</li>
<li>使用滑动窗口遍历 <code>word1</code>，对每个窗口内的字符进行计数。如果某个字符的计数达到 <code>word2</code> 中相应字符的数量，增加匹配字符数 <code>m</code>。</li>
<li>当 <code>m</code> 达到 <code>word2</code> 不同字符数的总数时，表示窗口中的子字符串可以包含 <code>word2</code> 作为前缀。</li>
<li>每当窗口合法时，计算从当前窗口右边界开始到 <code>word1</code> 末尾的所有子字符串都可以被重新排列成合法子字符串。</li>
</ul>
</li>
</ol>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-24">24</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">validSubstringCount</span>(self, w1: str, w2: str) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span>        w2_cnt <span style="color:#f92672">=</span> Counter(w2)
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        win <span style="color:#f92672">=</span> Counter()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        m <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># the number of matched char</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        l <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> r <span style="color:#f92672">in</span> range(len(w1)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> w1[r] <span style="color:#f92672">in</span> w2_cnt:
</span></span><span style="display:flex;"><span>                win[w1[r]] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> win[w1[r]] <span style="color:#f92672">==</span> w2_cnt[w1[r]]:
</span></span><span style="display:flex;"><span>                    m <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> m <span style="color:#f92672">==</span> len(w2_cnt):
</span></span><span style="display:flex;"><span>                res <span style="color:#f92672">+=</span> len(w1) <span style="color:#f92672">-</span> r <span style="color:#75715e"># (len(w1) - (r + 1) + 1) 因为r是下标</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> w1[l] <span style="color:#f92672">in</span> w2_cnt:
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> win[w1[l]] <span style="color:#f92672">==</span> w2_cnt[w1[l]]:
</span></span><span style="display:flex;"><span>                        m <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                    win[w1[l]] <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                l <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> res
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kennems.github.io/tags/leetcode%E5%91%A8%E8%B5%9B/">LeetCode周赛</a></li>
    </ul>
        
    
    <ul id="categories">
      
        <li><a href="https://kennems.github.io/categories/leetcode">LeetCode</a> </li>
      
    </ul>
    
    
<nav class="paginav">
  <a class="prev" href="https://kennems.github.io/posts/tech/mit6.s08113-coordination-sleepwakeup/">
    <span class="title">« 上一页</span>
    <br>
    <span>MIT6.S081(13)-Coordination (sleep&amp;wakeup)</span>
  </a>
  <a class="next" href="https://kennems.github.io/posts/tech/mit6.s08111--thread-switching/">
    <span class="title">下一页 »</span>
    <br>
    <span>MIT6.S081(11)- Thread switching</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://kennems.github.io/">Kennem&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
<footer class="footer">
    <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        Visitors: <span id="busuanzi_value_page_uv"></span>
        Views: <span id="busuanzi_value_page_pv"></span>

        
    </span>
</footer>



</body>

</html>
