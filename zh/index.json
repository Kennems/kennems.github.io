[{"content":"ç¬¬ä¸€å¤©ä½œä¸š ä½œä¸šå†…å®¹ 1 ç¨‹åºæ­å»ºå®ŒæˆAndroidStudioç¯å¢ƒï¼Œé¡¹ç›®èƒ½å¤Ÿæ­£å¸¸è¿è¡Œå±•ç¤ºhello world æ–°å»ºå·¥ç¨‹çš„hello world ç®€å•ä¿®æ”¹é¡µé¢åçš„hello world 2 ä»£ç ä¸Šä¼ åˆ°è‡ªå·±çš„gitlabä»“åº“ ä¸Šä¼ æˆªå›¾\n3 è¯·å¤§å®¶ç”¨adbå‘½ä»¤é…ç½®åˆ°ç¯å¢ƒå˜é‡é‡Œç”¨adbå‘½ä»¤å®‰è£…è¯¾ä¸Šç¼–è¯‘å¥½çš„apkåˆ°æ‰‹æœºä¸­ å®‰è£…ï¼ˆInstallï¼‰ å¸è½½ï¼ˆUninstallï¼‰ ç¬¬ä¸€å¤©å­¦ä¹ ç¬”è®° è€å¸ˆï¼šå”é¸¿ç¨‹\nAndroidæŒ‰ç…§è¿è¡Œæ–¹å¼åˆ†ä¸º3é˜¶æ®µ JIT\tAOT AOT+JIT\nAndroidç³»ç»Ÿå¯ä»¥åˆ†5å±‚ kernel å±‚ ï¼Œç¡¬ä»¶æŠ½è±¡å±‚ ï¼Œ art c++å±‚ ï¼Œ java frameworkå±‚ ï¼Œ appå±‚\nå­—èŠ‚ç å¯¹é½ï¼ˆBytecode Alignmentï¼‰ï¼šåœ¨ Android åº”ç”¨å¼€å‘ä¸­æ˜¯ä¸€ä¸ªä¼˜åŒ–æ­¥éª¤ï¼Œæ—¨åœ¨æé«˜åº”ç”¨ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦å’Œè¿è¡Œæ•ˆç‡ã€‚å®ƒä¸»è¦ç”¨äºä¼˜åŒ– DEX æ–‡ä»¶çš„åŠ è½½è¿‡ç¨‹ã€‚\ngit é¡¹ç›®ç®¡ç†å·¥å…· gitä½¿ç”¨\ngité…ç½®å¤šä¸ªsshè´¦å·\n1ã€è´¦å·å¯†ç ç™»é™† ï¼š git config --global user.name â€œxxâ€ git config --global user.email \u0026#34;[fangqi@xiaomi.com](mailto:fangqi@xiaomi.com)\u0026#34; éœ€è¦å’Œä½ çš„ç™»å½•çš„è´¦æˆ·é‚®ç®±ä¸€è‡´ 2ã€é…ç½®sshæ–¹å¼ï¼šç”Ÿæˆæœ¬åœ°çš„æŒ‡çº¹ ï¼š ssh-keygen -t rsa cat /Users/{tournament}/.ssh/id_rsa.pub å°†æ–‡æ¡£å…¨éƒ¨å­—ç¬¦ä¸²å¤åˆ¶åˆ° gitlab çš„ sshkey 3ã€å°†ä»£ç æ¨åˆ°æ–°ä»“åº“ï¼š git init git remote add origin [git@partner-gitlab.mioffice.cn](mailto:git@partner-gitlab.mioffice.cn):nj-trainingcollege/miclassroom240108/{yourproject}.git git add * git commit -m \u0026#34;Initial commit\u0026#34; git push -u origin master 4ã€æ‹‰ä»¥åä»“åº“ä»£ç å¹¶æ›´æ–° git clone [git@partner-gitlab.mioffice.cn](mailto:git@partner-gitlab.mioffice.cn):nj-trainingcollege/miclassroom240108/hello.git git status git add * git commit -m \u0026#34;Initial commit\u0026#34; git push -u origin master 5ã€Android studio ä½¿ç”¨ ä¸‹è½½ 2020-2022ç‰ˆæœ¬çš„ android studio\né…ç½® java_home\né…ç½® android_home\né…ç½® adb_home {androidsdk} /platform-tools\næ–°å»ºé¡¹ç›® hello\nåœ¨appç›®å½•ä¸‹ æ‰¾æ‰“resæ–‡ä»¶å¤¹ æ–°å»ºlayoutæ–‡ä»¶å¤¹ ï¼Œæ–°å»ºæ–‡ä»¶ activity_hello.xml\næ·»åŠ ä»£ç \n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_margin=\u0026#34;50dp\u0026#34; android:layout_gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;hello world\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; åˆ‡æ¢åˆ°æ–‡ä»¶mainactivity.java æ–‡ä»¶ï¼ˆå¦‚æœæ˜¯ktæ–‡ä»¶ï¼Œè¯·åˆ æ‰ï¼Œæ–°å»ºmainactivity.java ï¼‰ æ”¹æˆå¦‚ä¸‹ä»£ç \npackage com.example.hello; import android.app.Activity; import android.os.Bundle; public class MainActivity extends Activity { @Override protected void onCreate( Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_hello); } } gradle æ„å»ºé¡¹ç›® ./gradlew build å¦‚æœbuildå¤±è´¥æç¤º java ç‰ˆæœ¬é—®é¢˜ ï¼Œè¯·åˆ‡æ¢åˆ°ç›¸åº”ç‰ˆæœ¬\nadb å®‰è£… apk æ‰‹æœº\næ‰¾åˆ°æ ¹ç›®å½•ä¸‹å·²ç»ç¼–è¯‘å¥½çš„ release æ–‡ä»¶ release/app-release.apk\nadb install {rootdir}/release/app-release.apk æ–°å»ºé¡¹ç›® ç­¾åæ‰“åŒ… åˆ›å»ºä¸€ä¸ªkeystoreã€‚\nApplicationä¸­ä¸è¦åšä¸€äº›è€—æ—¶çš„æ“ä½œ\nADB\nå…¶ä»–èµ„æº Androidå®˜æ–¹æ–‡æ¡£ï¼šhttps://developer.android.google.cn/docs?hl=zh-cn å„ç§å¼€æºä»£ç ï¼šhttps://github.com/ kotlin https://kotlinlang.org/docs/home.html javaï¼š https://www.oracle.com/java/technologies/downloads/ ç³»ç»Ÿæºç  https://cs.android.com/ gradle https://developer.android.google.cn/studio/build/building-cmdline?hl=zh-cn\n","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%AC%94%E8%AE%B0/","summary":"ç¬¬ä¸€å¤©ä½œä¸š ä½œä¸šå†…å®¹ 1 ç¨‹åºæ­å»ºå®ŒæˆAndroidStudioç¯å¢ƒï¼Œé¡¹ç›®èƒ½å¤Ÿæ­£å¸¸è¿è¡Œå±•ç¤ºhello world æ–°å»ºå·¥ç¨‹çš„hello world ç®€å•ä¿®æ”¹é¡µé¢åçš„hel","title":"è®­ç»ƒè¥ç¬¬ä¸€å¤©å­¦ä¹ ç¬”è®°"},{"content":"Androidå†…å­˜ç®¡ç†çŸ¥è¯†ç‚¹ é—®é¢˜ 1: ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ è§£ç­”ï¼š åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æ˜¯ç”±Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰åƒåœ¾å›æ”¶å™¨æä¾›çš„ä¸€ç§å¯¹å†…å­˜å›æ”¶çš„æœºåˆ¶ã€‚å®ƒä¼šåœ¨å†…å­˜ç©ºé—´ä¸è¶³æˆ–è€…å†…å­˜å ç”¨è¿‡é«˜çš„æ—¶å€™ï¼Œè‡ªåŠ¨å›æ”¶é‚£äº›æ²¡æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼Œä»¥é‡Šæ”¾å†…å­˜èµ„æºã€‚åƒåœ¾å›æ”¶çš„ä¸»è¦ç›®æ ‡æ˜¯è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºã€‚\né—®é¢˜ 2: JVMçš„å†…å­˜æ¨¡å‹æœ‰å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿ è§£ç­”ï¼š JVMå†…å­˜æ¨¡å‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š\nç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ï¼šè®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤åœ°å€ã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stacksï¼‰ï¼šç”¨äºæ‰§è¡Œæœ¬åœ°æ–¹æ³•ã€‚ JVMæ ˆï¼ˆJVM Stacksï¼‰ï¼šæ¯ä¸ªçº¿ç¨‹ä¸€ä¸ªæ ˆï¼Œå­˜å‚¨å±€éƒ¨å˜é‡ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥å’Œæ–¹æ³•å‡ºå£ç­‰ã€‚ å †ï¼ˆHeapï¼‰ï¼šæ‰€æœ‰çº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰å¯¹è±¡å®ä¾‹å’Œæ•°ç»„ã€‚å †åˆåˆ†ä¸ºå¹´è½»ä»£ï¼ˆYoung Generationï¼‰å’Œè€å¹´ä»£ï¼ˆOld Generationï¼‰ï¼Œå…¶ä¸­å¹´è½»ä»£åˆåˆ’åˆ†ä¸ºEdenåŒºã€S0åŒºå’ŒS1åŒºã€‚ æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼šå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡å’Œå³æ—¶ç¼–è¯‘åçš„ä»£ç ç­‰ã€‚ è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰ï¼šæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚ ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ï¼šå¹¶ä¸æ˜¯JVMè§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œä½†è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä¸»è¦ç”¨äºNIOï¼ˆNew Input/Outputï¼‰ä¸­çš„ç¼“å†²åŒºã€‚ é—®é¢˜ 3: ä»€ä¹ˆæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•ï¼Ÿ è§£ç­”ï¼š å¼•ç”¨è®¡æ•°ç®—æ³•æ˜¯ä¸€ç§åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯åƒåœ¾çš„ç®—æ³•ã€‚å¯¹è±¡è¢«åˆ›å»ºåï¼Œç³»ç»Ÿä¼šç»™è¯¥å¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œå½“è¯¥å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œè®¡æ•°å™¨+1ï¼›å½“å¼•ç”¨å¤±æ•ˆæ—¶ï¼Œè®¡æ•°å™¨-1ã€‚å½“è®¡æ•°å™¨ä¸º0æ—¶ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ä¸å†è¢«ä½¿ç”¨ï¼Œå¯ä»¥è¿›è¡Œå›æ”¶ã€‚\né—®é¢˜ 4: å¼•ç”¨è®¡æ•°ç®—æ³•çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ è§£ç­”ï¼š\nä¼˜ç‚¹ï¼šåˆ¤å®šæ¯”è¾ƒç®€å•ï¼Œæ•ˆç‡é«˜ã€‚ ç¼ºç‚¹ï¼šæ— æ³•é¿å…å¾ªç¯å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œå½“å¯¹è±¡Aå’Œå¯¹è±¡Bç›¸äº’å¼•ç”¨æ—¶ï¼Œå³ä½¿å®ƒä»¬éƒ½ä¸å†è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œå…¶å¼•ç”¨è®¡æ•°å™¨ä¹Ÿä¸ä¼šå˜ä¸º0ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ é—®é¢˜ 5: å¦‚ä½•å¤„ç†å¼•ç”¨è®¡æ•°ç®—æ³•çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Ÿ è§£ç­”ï¼š å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•ç›´æ¥è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚é€šå¸¸éœ€è¦ç»“åˆå…¶ä»–ç®—æ³•ï¼Œå¦‚æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰ï¼Œæ¥å¤„ç†å¾ªç¯å¼•ç”¨ã€‚æ ‡è®°-æ¸…é™¤ç®—æ³•é€šè¿‡ä»æ ¹å¯¹è±¡å‡ºå‘ï¼Œéå†æ‰€æœ‰å¯è¾¾å¯¹è±¡å¹¶è¿›è¡Œæ ‡è®°ï¼Œç„¶åå›æ”¶æœªè¢«æ ‡è®°çš„å¯¹è±¡ã€‚\nè¡¥å……é—®é¢˜ 6: å¸¸è§çš„åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ è§£ç­”ï¼š\nSerial æ”¶é›†å™¨ï¼šå•çº¿ç¨‹æ”¶é›†ï¼Œé€‚ç”¨äºå•æ ¸å¤„ç†å™¨å’Œå†…å­˜è¾ƒå°çš„åœºæ™¯ã€‚ ParNew æ”¶é›†å™¨ï¼šSerial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œå¸¸ç”¨äºå¤šå¤„ç†å™¨ç³»ç»Ÿã€‚ Parallel Scavenge æ”¶é›†å™¨ï¼šå…³æ³¨ååé‡ï¼Œé€‚ç”¨äºåå°è¿ç®—è€Œä¸è¦æ±‚é«˜å“åº”é€Ÿåº¦çš„åœºæ™¯ã€‚ CMSï¼ˆConcurrent Mark-Sweepï¼‰æ”¶é›†å™¨ï¼šå…³æ³¨ä½å»¶è¿Ÿï¼Œé€‚ç”¨äºéœ€è¦è¾ƒå¿«å“åº”çš„åº”ç”¨ã€‚ G1ï¼ˆGarbage Firstï¼‰æ”¶é›†å™¨ï¼šé€‚ç”¨äºå¤šæ ¸å¤„ç†å™¨å’Œå¤§å†…å­˜åœºæ™¯ï¼Œèƒ½å¤Ÿæä¾›é«˜ååé‡å’Œä½å»¶è¿Ÿã€‚ è¡¥å……é—®é¢˜ 7: å¦‚ä½•æ£€æµ‹å’Œè§£å†³å†…å­˜æ³„æ¼ï¼Ÿ è§£ç­”ï¼š\nå·¥å…·ï¼šä½¿ç”¨MATï¼ˆMemory Analyzer Toolï¼‰ã€VisualVMã€JProfilerç­‰å·¥å…·ã€‚ æ–¹æ³•ï¼šé€šè¿‡åˆ†æå†…å­˜å¿«ç…§ï¼Œæ‰¾åˆ°é•¿æ—¶é—´å­˜åœ¨çš„å¯¹è±¡ï¼Œæ£€æŸ¥å®ƒä»¬çš„å¼•ç”¨é“¾ï¼Œæ‰¾å‡ºå¯èƒ½çš„å†…å­˜æ³„æ¼ç‚¹ã€‚ ç¼–ç è§„èŒƒï¼šåŠæ—¶é‡Šæ”¾ä¸å†ä½¿ç”¨çš„èµ„æºï¼Œé¿å…é•¿æ—¶é—´æŒæœ‰å¯¹è±¡å¼•ç”¨ï¼Œä½¿ç”¨å¼±å¼•ç”¨ï¼ˆWeakReferenceï¼‰ã€è½¯å¼•ç”¨ï¼ˆSoftReferenceï¼‰å’Œè™šå¼•ç”¨ï¼ˆPhantomReferenceï¼‰æ¥è¾…åŠ©åƒåœ¾å›æ”¶ã€‚ é¢è¯•æç¤º é¢è¯•å®˜å¯èƒ½ä¼šæ·±å…¥æ¢è®¨åƒåœ¾å›æ”¶å™¨çš„å…·ä½“å®ç°ï¼Œå¦‚Serialã€Parallelã€CMSã€G1ç­‰ä¸åŒç±»å‹çš„åƒåœ¾å›æ”¶å™¨ã€‚ å¯èƒ½ä¼šæ¶‰åŠå†…å­˜æ³„æ¼çš„å…·ä½“åœºæ™¯åŠæ’æŸ¥å·¥å…·å’Œæ–¹æ³•ï¼Œå¦‚MATï¼ˆMemory Analyzer Toolï¼‰ã€‚ äº†è§£å…¶ä»–åƒåœ¾å›æ”¶ç®—æ³•åŠå…¶ä¼˜ç¼ºç‚¹ï¼Œå¦‚æ ‡è®°-æ¸…é™¤ç®—æ³•ã€æ ‡è®°-å‹ç¼©ç®—æ³•ã€åˆ†ä»£æ”¶é›†ç®—æ³•ç­‰ã€‚ ç†Ÿæ‚‰å„ç§åƒåœ¾å›æ”¶è°ƒä¼˜å‚æ•°åŠå…¶é…ç½®æ–¹æ³•ï¼Œå¦‚-Xmsã€-Xmxã€-XXã€-XX ç­‰ã€‚ å¯è¾¾æ€§åˆ†ææ³• é—®é¢˜ 1: ä»€ä¹ˆæ˜¯å¯è¾¾æ€§åˆ†ææ³•ï¼Ÿ\nè§£ç­”ï¼š å¯è¾¾æ€§åˆ†ææ³•æ˜¯ä¸€ç§åƒåœ¾å›æ”¶ç®—æ³•ï¼Œé€šè¿‡ä»æ ¹å¯¹è±¡ï¼ˆGC Rootsï¼‰å¼€å§‹ï¼Œæ²¿ç€å¼•ç”¨é“¾éå†æ•´ä¸ªå¯¹è±¡å›¾ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿ï¼Œåˆ™è®¤ä¸ºè¯¥å¯¹è±¡ä¸å¯è¾¾ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶ã€‚\né—®é¢˜ 2: GC RootsåŒ…å«å“ªäº›å¯¹è±¡ï¼Ÿ\nè§£ç­”ï¼š GC RootsåŒ…å«ä»¥ä¸‹å‡ ç±»å¯¹è±¡ï¼š\nè™šæ‹Ÿæœºæ ˆï¼ˆJavaçº¿ç¨‹æ ˆï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡ï¼šä¾‹å¦‚æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ã€‚ æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ï¼šä¾‹å¦‚é™æ€å˜é‡å¼•ç”¨çš„å¯¹è±¡ã€‚ æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ï¼šä¾‹å¦‚å¸¸é‡æ± ä¸­çš„å¼•ç”¨ã€‚ æœ¬åœ°æ–¹æ³•æ ˆä¸­JNIï¼ˆNativeæ–¹æ³•ï¼‰å¼•ç”¨çš„å¯¹è±¡ã€‚ é—®é¢˜ 3: åœ¨å¯è¾¾æ€§åˆ†æä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸å¯è¾¾ï¼Œæ˜¯å¦ç«‹å³è¢«å›æ”¶ï¼Ÿ\nè§£ç­”ï¼š ä¸ä¸€å®šã€‚å³ä½¿ä¸€ä¸ªå¯¹è±¡åœ¨å¯è¾¾æ€§åˆ†æä¸­è¢«åˆ¤å®šä¸ºä¸å¯è¾¾ï¼Œå®ƒä¹Ÿä¸ä¼šç«‹å³è¢«å›æ”¶ã€‚å®ƒå°†é¦–å…ˆè¿›å…¥ä¸€ä¸ªâ€œç¼“å†²é˜¶æ®µâ€ï¼ˆå¦‚åœ¨Javaä¸­ä¼šç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼‰ï¼Œä»¥é˜²æ­¢å¯¹è±¡åœ¨ç¼“å†²é˜¶æ®µä¸­è¢«é”™è¯¯åœ°å›æ”¶ã€‚åªæœ‰åœ¨ç¼“å†²é˜¶æ®µç»“æŸåï¼Œä¸”å¯¹è±¡ä»ç„¶ä¸å¯è¾¾æ—¶ï¼Œæ‰ä¼šè¢«æ ‡è®°ä¸ºçœŸæ­£çš„åƒåœ¾ï¼Œè¿›è¡Œå›æ”¶ã€‚\nJava ä¸­çš„å¯¹è±¡å¼•ç”¨ é—®é¢˜ 4: Javaä¸­çš„å¯¹è±¡å¼•ç”¨æœ‰å‡ ç§ç±»å‹ï¼Ÿ\nè§£ç­”ï¼š Javaä¸­çš„å¯¹è±¡å¼•ç”¨æœ‰å››ç§ç±»å‹ï¼š\nå¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰ï¼š ç¤ºä¾‹ï¼šObject obj = new Object(); ç‰¹ç‚¹ï¼šæœ€å¸¸è§çš„å¼•ç”¨ç±»å‹ï¼Œåƒåœ¾å›æ”¶å™¨ä¸ä¼šå›æ”¶è¿™ç±»å¯¹è±¡ï¼Œå³ä½¿å†…å­˜ä¸è¶³ï¼Œä¹Ÿä¼šæŠ›å‡ºOutOfMemoryErroré”™è¯¯ã€‚ è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæ¯”å¼ºå¼•ç”¨å¼±ä¸€äº›ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ï¼Œä»¥é¿å…å†…å­˜æº¢å‡ºã€‚å¸¸ç”¨äºå®ç°ç¼“å­˜ã€‚ ç¤ºä¾‹ï¼šSoftReference\u0026lt;Object\u0026gt; softRef = new SoftReference\u0026lt;\u0026gt;(new Object()); å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæ¯”è½¯å¼•ç”¨æ›´å¼±ï¼Œåªè¦åƒåœ¾å›æ”¶å™¨è¿è¡Œï¼Œä¸è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶å¼±å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚å¸¸ç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ ç¤ºä¾‹ï¼šWeakReference\u0026lt;Object\u0026gt; weakRef = new WeakReference\u0026lt;\u0026gt;(new Object()); è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæœ€å¼±çš„å¼•ç”¨ï¼Œä¸èƒ½é€šè¿‡è™šå¼•ç”¨æ¥è®¿é—®å¯¹è±¡ï¼Œå”¯ä¸€çš„ä½œç”¨æ˜¯åœ¨å¯¹è±¡è¢«å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œé€šå¸¸ç”¨æ¥å®ç°ä¸€äº›æ¸…ç†æœºåˆ¶ã€‚ ç¤ºä¾‹ï¼šPhantomReference\u0026lt;Object\u0026gt; phantomRef = new PhantomReference\u0026lt;\u0026gt;(new Object(), new ReferenceQueue\u0026lt;\u0026gt;()); é—®é¢˜ 5: è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ\nè§£ç­”ï¼š\nè½¯å¼•ç”¨ï¼š åœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ï¼Œä»¥é¿å…å†…å­˜æº¢å‡ºã€‚ é€‚ç”¨äºå®ç°ç¼“å­˜ï¼Œå½“å†…å­˜è¶³å¤Ÿæ—¶ï¼Œä¿ç•™å¯¹è±¡ï¼›å½“å†…å­˜ä¸è¶³æ—¶ï¼Œå›æ”¶å¯¹è±¡ã€‚ å¼±å¼•ç”¨ï¼š åªè¦åƒåœ¾å›æ”¶å™¨è¿è¡Œï¼Œä¸è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶å¼±å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚ é€‚ç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œå¦‚é¿å…é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡å¼•ç”¨çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ã€‚ é—®é¢˜ 6: ä»€ä¹ˆæ˜¯è™šå¼•ç”¨ï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ\nè§£ç­”ï¼š\nè™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰ï¼š ä¹Ÿç§°ä¸ºå¹½çµå¼•ç”¨æˆ–å¹»å½±å¼•ç”¨ï¼Œæ˜¯æœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»ã€‚ ä½œç”¨ï¼šä¸èƒ½é€šè¿‡è™šå¼•ç”¨è®¿é—®å¯¹è±¡ï¼Œä¸»è¦ç”¨äºåœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œä»è€Œè¿›è¡Œç›¸å…³æ¸…ç†æ“ä½œã€‚å®ƒä¸ºå¯¹è±¡è®¾ç½®ä¸€ä¸ªè™šå¼•ç”¨å…³è”ï¼Œè¿™æ ·å¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶ï¼Œä¼šæ”¶åˆ°é€šçŸ¥ã€‚ é¢è¯•æç¤º é¢è¯•å®˜å¯èƒ½ä¼šæ·±å…¥æ¢è®¨å¯è¾¾æ€§åˆ†ææ³•çš„å…·ä½“å®ç°å’Œä¼˜åŒ–ç­–ç•¥ã€‚ äº†è§£å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨ä¸åŒç±»å‹çš„å¼•ç”¨ï¼Œç‰¹åˆ«æ˜¯è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„åº”ç”¨åœºæ™¯ã€‚ å¯ä»¥å‡†å¤‡ä¸€äº›å®é™…æ¡ˆä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™äº›å¼•ç”¨ç±»å‹æ¥ä¼˜åŒ–å†…å­˜ç®¡ç†å’Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ Javaä¸­çš„å¯¹è±¡å¼•ç”¨ é—®é¢˜ 1: Javaä¸­çš„å¯¹è±¡å¼•ç”¨æœ‰å‡ ç§ç±»å‹ï¼Ÿè¯·è§£é‡Šå®ƒä»¬çš„ç‰¹ç‚¹ã€‚\nè§£ç­”ï¼š Javaä¸­çš„å¯¹è±¡å¼•ç”¨æœ‰å››ç§ç±»å‹ï¼š\nå¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰ï¼š ç¤ºä¾‹ï¼šObject obj = new Object(); ç‰¹ç‚¹ï¼šæœ€å¸¸è§çš„å¼•ç”¨ç±»å‹ï¼Œåƒåœ¾å›æ”¶å™¨ä¸ä¼šå›æ”¶è¿™ç±»å¯¹è±¡ï¼Œå³ä½¿å†…å­˜ä¸è¶³ï¼Œä¹Ÿä¼šæŠ›å‡ºOutOfMemoryErroré”™è¯¯ã€‚ è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæ¯”å¼ºå¼•ç”¨å¼±ä¸€äº›ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ï¼Œä»¥é¿å…å†…å­˜æº¢å‡ºã€‚å¸¸ç”¨äºå®ç°ç¼“å­˜ã€‚ ç¤ºä¾‹ï¼šSoftReference\u0026lt;Object\u0026gt; softRef = new SoftReference\u0026lt;\u0026gt;(new Object()); å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæ¯”è½¯å¼•ç”¨æ›´å¼±ï¼Œåªè¦åƒåœ¾å›æ”¶å™¨è¿è¡Œï¼Œä¸è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶å¼±å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚å¸¸ç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ ç¤ºä¾‹ï¼šWeakReference\u0026lt;Object\u0026gt; weakRef = new WeakReference\u0026lt;\u0026gt;(new Object()); è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰ï¼š ç‰¹ç‚¹ï¼šæœ€å¼±çš„å¼•ç”¨ï¼Œä¸èƒ½é€šè¿‡è™šå¼•ç”¨æ¥è®¿é—®å¯¹è±¡ï¼Œå”¯ä¸€çš„ä½œç”¨æ˜¯åœ¨å¯¹è±¡è¢«å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œé€šå¸¸ç”¨æ¥å®ç°ä¸€äº›æ¸…ç†æœºåˆ¶ã€‚ ç¤ºä¾‹ï¼šPhantomReference\u0026lt;Object\u0026gt; phantomRef = new PhantomReference\u0026lt;\u0026gt;(new Object(), new ReferenceQueue\u0026lt;\u0026gt;()); é—®é¢˜ 2: è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ\nè§£ç­”ï¼š\nè½¯å¼•ç”¨ï¼š åœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ï¼Œä»¥é¿å…å†…å­˜æº¢å‡ºã€‚ é€‚ç”¨äºå®ç°ç¼“å­˜ï¼Œå½“å†…å­˜è¶³å¤Ÿæ—¶ï¼Œä¿ç•™å¯¹è±¡ï¼›å½“å†…å­˜ä¸è¶³æ—¶ï¼Œå›æ”¶å¯¹è±¡ã€‚ å¼±å¼•ç”¨ï¼š åªè¦åƒåœ¾å›æ”¶å™¨è¿è¡Œï¼Œä¸è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶å¼±å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚ é€‚ç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œå¦‚é¿å…é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡å¼•ç”¨çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ã€‚ é—®é¢˜ 3: ä»€ä¹ˆæ˜¯è™šå¼•ç”¨ï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ\nè§£ç­”ï¼š\n**è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰**ä¹Ÿç§°ä¸ºå¹½çµå¼•ç”¨æˆ–å¹»å½±å¼•ç”¨ï¼Œæ˜¯æœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»ã€‚ ä½œç”¨ï¼šä¸èƒ½é€šè¿‡è™šå¼•ç”¨è®¿é—®å¯¹è±¡ï¼Œä¸»è¦ç”¨äºåœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œä»è€Œè¿›è¡Œç›¸å…³æ¸…ç†æ“ä½œã€‚è™šå¼•ç”¨ä¸ä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œå½“åƒåœ¾å›æ”¶å™¨å‡†å¤‡å›æ”¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœå‘ç°å®ƒæœ‰è™šå¼•ç”¨ï¼Œä¼šåœ¨å›æ”¶å¯¹è±¡ä¹‹å‰æŠŠè¿™ä¸ªè™šå¼•ç”¨åŠ å…¥åˆ°å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ Androidå†…å­˜æ³„æ¼ é—®é¢˜ 1: ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿå†…å­˜æ³„æ¼çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ\nè§£ç­”ï¼š å†…å­˜æ³„æ¼æ˜¯æŒ‡ç¨‹åºä¸­å·²åˆ†é…çš„å†…å­˜æ— æ³•è¢«é‡Šæ”¾æˆ–å›æ”¶ï¼Œå¯¼è‡´å†…å­˜èµ„æºé€æ¸è€—å°½çš„é—®é¢˜ã€‚å†…å­˜æ³„æ¼çš„ä¸»è¦åŸå› æ˜¯çŸ­ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡è¢«é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æŒæœ‰ï¼Œå¯¼è‡´çŸ­ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æ— æ³•å›æ”¶ã€‚ä¾‹å¦‚ï¼ŒActivityã€Fragmentã€Viewæˆ–ServiceæŒæœ‰äº†ä¸€ä¸ªçŸ­ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¹¶ä¸”æœªåŠæ—¶é‡Šæ”¾ã€‚\né—®é¢˜ 2: Androidä¸­å“ªäº›å¯¹è±¡è¢«é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡æŒæœ‰ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Ÿ\nè§£ç­”ï¼š åœ¨Androidä¸­ï¼Œä»¥ä¸‹å¯¹è±¡è¢«é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡æŒæœ‰ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼š\nActivity Fragment View Service é—®é¢˜ 3: å¦‚ä½•æ£€æµ‹å’Œè§£å†³å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿ\nè§£ç­”ï¼š å¯ä»¥ä½¿ç”¨å·¥å…·å¦‚LeakCanaryæ¥æ£€æµ‹å’Œè§£å†³å†…å­˜æ³„æ¼é—®é¢˜ã€‚LeakCanaryæ˜¯Squareå…¬å¸ä¸ºAndroidå¼€å‘è€…æä¾›çš„ä¸€ä¸ªè‡ªåŠ¨æ£€æµ‹å†…å­˜æ³„æ¼çš„å·¥å…·ã€‚å®ƒåŸºäºMATè¿›è¡ŒAndroidåº”ç”¨ç¨‹åºå†…å­˜æ³„æ¼çš„è‡ªåŠ¨åŒ–æ£€æµ‹ã€‚é€šè¿‡é›†æˆLeakCanaryæä¾›çš„jaråŒ…åˆ°è‡ªå·±çš„å·¥ç¨‹ä¸­ï¼Œä¸€æ—¦æ£€æµ‹åˆ°å†…å­˜æ³„æ¼ï¼ŒLeakCanaryä¼šdump Memoryä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¦ä¸€ä¸ªè¿›ç¨‹åˆ†æå†…å­˜æ³„æ¼çš„ä¿¡æ¯å¹¶å±•ç¤ºå‡ºæ¥ï¼Œå¸®åŠ©å¼€å‘è€…åŠæ—¶å‘ç°å’Œå®šä½å†…å­˜æ³„æ¼é—®é¢˜ã€‚\né¢è¯•æç¤º é¢è¯•å®˜å¯èƒ½ä¼šæ·±å…¥æ¢è®¨å¼•ç”¨ç±»å‹çš„å…·ä½“å®ç°å’Œä½¿ç”¨åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ã€‚ å¯¹äºå†…å­˜æ³„æ¼éƒ¨åˆ†ï¼Œå‡†å¤‡ä¸€äº›å®é™…æ¡ˆä¾‹è¯´æ˜å¦‚ä½•æ£€æµ‹å’Œè§£å†³å†…å­˜æ³„æ¼é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨LeakCanaryç­‰å·¥å…·è¿›è¡Œå†…å­˜ç®¡ç†ä¼˜åŒ–ã€‚ äº†è§£å†…å­˜æ³„æ¼çš„å¸¸è§åœºæ™¯ï¼Œå¦‚é™æ€æŒæœ‰Activityã€åŒ¿åå†…éƒ¨ç±»æˆ–éé™æ€å†…éƒ¨ç±»ã€æœªå–æ¶ˆçš„Handleræˆ–AsyncTaskç­‰ã€‚ ANRï¼ˆApplication Not Respondingï¼‰ é—®é¢˜ 1: ä»€ä¹ˆæ˜¯ANRï¼Ÿ\nè§£ç­”ï¼š ANRçš„å…¨ç§°æ˜¯Application Not Respondingï¼Œå³åº”ç”¨ç¨‹åºæ— å“åº”ã€‚å®ƒæŒ‡çš„æ˜¯åœ¨Androidåº”ç”¨çš„UIçº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰ä¸­ï¼Œæœ‰ç‰¹å®šçš„æ¶ˆæ¯ï¼ˆä¾‹å¦‚æŒ‰é”®ã€è§¦æ‘¸äº‹ä»¶ã€å¹¿æ’­ã€æœåŠ¡ç­‰ï¼‰æ²¡æœ‰åœ¨è§„å®šæ—¶é—´å†…å¤„ç†å®Œæ¯•ï¼Œä»è€Œè§¦å‘äº†ANRå¼‚å¸¸ã€‚\nAndroidç³»ç»Ÿé€šè¿‡æ¶ˆæ¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿åœ¨è§„å®šçš„æ—¶é—´é—´éš”å†…å¤„ç†æ¶ˆæ¯ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œç³»ç»Ÿå°†è®¤ä¸ºåº”ç”¨ç¨‹åºæ— å“åº”ï¼Œå¹¶è§¦å‘ANRå¼‚å¸¸ã€‚\né—®é¢˜ 2: ANRæœ‰å“ªå‡ ç§ç±»å‹ï¼Ÿè¯·è¯¦ç»†è§£é‡Šæ¯ç§ç±»å‹ã€‚\nè§£ç­”ï¼š ANRæœ‰ä¸‰ç§ç±»å‹ï¼š\nKeyDispatchTimeoutï¼š æè¿°ï¼šå½“æŒ‰é”®æˆ–è§¦æ‘¸äº‹ä»¶æ²¡æœ‰åœ¨ç‰¹å®šæ—¶é—´å†…æ— å“åº”æ—¶è§¦å‘ã€‚ é»˜è®¤æ—¶é—´ï¼šä¸€èˆ¬Androidå¹³å°é»˜è®¤è¶…æ—¶æ—¶é—´æ˜¯5ç§’ï¼Œä½†æœ‰äº›å¹³å°ä¼šä¿®æ”¹è¿™ä¸ªæ—¶é—´ï¼Œä¾‹å¦‚MTKå¹³å°è¶…æ—¶æ—¶é—´ä¸º8ç§’ã€‚ BroadcastTimeoutï¼š æè¿°ï¼šå½“BroadcastReceiveråœ¨è§„å®šæ—¶é—´å†…æ— æ³•å¤„ç†å®Œå¹¿æ’­æ¶ˆæ¯æ—¶è§¦å‘ã€‚ é»˜è®¤æ—¶é—´ï¼šå‰å°å¹¿æ’­è¶…æ—¶æ—¶é—´æ˜¯10ç§’ï¼Œåå°å¹¿æ’­è¶…æ—¶æ—¶é—´æ˜¯60ç§’ã€‚ ServiceTimeoutï¼š æè¿°ï¼šå½“Serviceåœ¨è§„å®šæ—¶é—´å†…æ— æ³•å¤„ç†å®Œæ“ä½œæ—¶è§¦å‘ã€‚ é»˜è®¤æ—¶é—´ï¼šå‰å°Serviceè¶…æ—¶æ—¶é—´æ˜¯20ç§’ï¼Œåå°Serviceè¶…æ—¶æ—¶é—´æ˜¯200ç§’ã€‚ é—®é¢˜ 3: å¦‚ä½•æ£€æµ‹ANRé—®é¢˜ï¼Ÿ\nè§£ç­”ï¼š ANRå‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåœ¨æ—¥å¿—ä¸­è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª/data/anr/traces.txtçš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«å½“å‰åº”ç”¨è¿›ç¨‹å’Œç³»ç»Ÿè¿›ç¨‹çš„å‡½æ•°å †æ ˆä¿¡æ¯ï¼Œæ˜¯åˆ†æANRåŸå› çš„å…³é”®æ–‡ä»¶ã€‚é€šè¿‡æ£€æŸ¥è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰çš„CPUä½¿ç”¨ç‡ç­‰ä¿¡æ¯ï¼Œè¿™äº›éƒ½æ˜¯é‡è¦çš„çº¿ç´¢ã€‚\né—®é¢˜ 4: ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œä¼šå¯¼è‡´ANRï¼Œè¯·è§£é‡Šå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚\nè§£ç­”ï¼š ä¸»çº¿ç¨‹ï¼ˆUIçº¿ç¨‹ï¼‰æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä¾‹å¦‚å¤§é‡è®¡ç®—ã€å¾ªç¯ã€é€’å½’ã€I/Oæ“ä½œç­‰ï¼Œä¼šå ç”¨ä¸»çº¿ç¨‹çš„æ—¶é—´ï¼Œå¯¼è‡´æ— æ³•åŠæ—¶å¤„ç†UIæ›´æ–°å’Œç”¨æˆ·è¾“å…¥ï¼Œä»è€Œå¼•å‘ANRã€‚\nç¤ºä¾‹ä»£ç ï¼š\njavaCopy codemBind.textView.setOnClickListener(new View.OnClickListener() {\r@Override\rpublic void onClick(View v) {\rwhile (true) {\rLog.i(\u0026#34;TAG\u0026#34;, \u0026#34;ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ\u0026#34;);\rtry {\rThread.sleep(500);\r} catch (Exception e) {\re.printStackTrace();\r}\r}\r}\r}); é—®é¢˜ 5: æ­»é”ä¼šå¯¼è‡´ANRï¼Œè¯·è§£é‡Šå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚\nè§£ç­”ï¼š æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œå¯¼è‡´çº¿ç¨‹æ°¸ä¹…é˜»å¡ã€‚ä¸»çº¿ç¨‹é•¿æ—¶é—´æ— æ³•è·å–åˆ°æ‰€éœ€çš„èµ„æºé”ï¼Œå¯¼è‡´æ— æ³•å“åº”ç”¨æˆ·æ“ä½œï¼Œä»è€Œå¼•å‘ANRã€‚\nç¤ºä¾‹ä»£ç ï¼š\njavaCopy codepublic class MainThreadAnrActivity extends BaseActivity\u0026lt;ActivityHandlerBinding\u0026gt; { private final Object object = new Object(); private final String TAG = MainThreadAnrActivity.class.getSimpleName(); private boolean taskComplete = false; @Override protected void bindListener() { super.bindListener(); mBind.textView.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { synchronized (object) { Log.i(TAG, \u0026#34;æ­»é”å¯¼è‡´ANR \u0026#34; + taskComplete); } } }); new Thread(new Runnable() { @Override public void run() { synchronized (object) { try { Thread.sleep(30 * 1000); taskComplete = true; } catch (Exception e) { e.printStackTrace(); } } } }).start(); } } é¢è¯•æç¤º é¢è¯•å®˜å¯èƒ½ä¼šæ·±å…¥æ¢è®¨ANRçš„å…·ä½“ç±»å‹å’Œè§¦å‘æ¡ä»¶ï¼Œäº†è§£å¦‚ä½•åˆ†æå’Œè§£å†³ANRé—®é¢˜ã€‚ å‡†å¤‡ä¸€äº›å®é™…é¡¹ç›®ä¸­çš„ANRæ¡ˆä¾‹ï¼Œè¯´æ˜å¦‚ä½•æ£€æµ‹ã€åˆ†æå’Œè§£å†³è¿™äº›é—®é¢˜ã€‚ ç†Ÿæ‚‰ANRç›¸å…³çš„æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚traces.txtï¼‰çš„ç»“æ„å’Œå†…å®¹ï¼Œèƒ½å¤Ÿæ ¹æ®æ—¥å¿—è¿›è¡Œé—®é¢˜å®šä½å’Œåˆ†æã€‚ ","permalink":"https://kennems.github.io/zh/posts/tech/android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E7%9F%A5%E8%AF%86%E7%82%B9/","summary":"Androidå†…å­˜ç®¡ç†çŸ¥è¯†ç‚¹ é—®é¢˜ 1: ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ è§£ç­”ï¼š åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æ˜¯ç”±Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰åƒåœ¾å›æ”¶å™¨æä¾›çš„ä¸€ç§å¯¹å†…å­˜å›æ”¶çš„æœºåˆ¶","title":"Androidå†…å­˜ç®¡ç†çŸ¥è¯†ç‚¹"},{"content":"Androidï¼ˆ5ï¼‰ é«˜çº§æ§ä»¶ SpinnerDialog + ArrayAdapter XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; tools:context=\u0026#34;.SpinnerDropdownActivity\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¸‹æ‹‰æ¨¡å¼çš„åˆ—è¡¨æ¡†\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;Spinner android:id=\u0026#34;@id/sp_dialog\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:spinnerMode=\u0026#34;dialog\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; item_select.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;TextView xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;50dp\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:textColor=\u0026#34;#0000ff\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; tools:text=\u0026#34;ç«æ˜Ÿ\u0026#34;\u0026gt; \u0026lt;/TextView\u0026gt; Java package com.showguan.chapter08; import android.os.Bundle; import android.view.View; import android.widget.AdapterView; import android.widget.ArrayAdapter; import android.widget.Spinner; import androidx.appcompat.app.AppCompatActivity; import com.showguan.chapter08.util.ToastUtil; public class SpinnerDialogActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener { private Spinner sp_dialog; private static final String[] starArray = new String[]{ \u0026#34;æ°´æ˜Ÿ\u0026#34;, \u0026#34;é‡‘æ˜Ÿ\u0026#34;, \u0026#34;åœ°çƒ\u0026#34;, \u0026#34;ç«æ˜Ÿ\u0026#34;, \u0026#34;æœ¨æ˜Ÿ\u0026#34;, \u0026#34;åœŸæ˜Ÿ\u0026#34;, \u0026#34;å¤©ç‹æ˜Ÿ\u0026#34;, \u0026#34;æµ·ç‹æ˜Ÿ\u0026#34; }; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_spinner_dialog); sp_dialog = findViewById(R.id.sp_dialog); ArrayAdapter\u0026lt;String\u0026gt; starAdapter = new ArrayAdapter\u0026lt;\u0026gt;(this, R.layout.item_select, starArray); sp_dialog.setPrompt(\u0026#34;ğŸŒ¤é€‰æ‹©è¡Œæ˜Ÿ\u0026#34;); sp_dialog.setAdapter(starAdapter); sp_dialog.setSelection(0); sp_dialog.setOnItemSelectedListener(this); } @Override public void onItemSelected(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { ToastUtil.show(this, \u0026#34;æ‚¨é€‰æ‹©äº†ï¼š \u0026#34; + starArray[position]); } @Override public void onNothingSelected(AdapterView\u0026lt;?\u0026gt; parent) { } } SpinnerDropdown XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; tools:context=\u0026#34;.SpinnerDropdownActivity\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¸‹æ‹‰æ¨¡å¼çš„åˆ—è¡¨æ¡†\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;Spinner android:id=\u0026#34;@id/sp_dropdown\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:spinnerMode=\u0026#34;dropdown\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; import android.os.Bundle; import android.view.View; import android.widget.AdapterView; import android.widget.ArrayAdapter; import android.widget.Spinner; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import com.showguan.chapter08.util.ToastUtil; public class SpinnerDropdownActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener { private Spinner sp_dropdown; private static final String[] starArray = new String[]{ \u0026#34;æ°´æ˜Ÿ\u0026#34;, \u0026#34;é‡‘æ˜Ÿ\u0026#34;, \u0026#34;åœ°çƒ\u0026#34;, \u0026#34;ç«æ˜Ÿ\u0026#34;, \u0026#34;æœ¨æ˜Ÿ\u0026#34;, \u0026#34;åœŸæ˜Ÿ\u0026#34;, \u0026#34;å¤©ç‹æ˜Ÿ\u0026#34;, \u0026#34;æµ·ç‹æ˜Ÿ\u0026#34; }; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_spinner_dropdown); sp_dropdown = findViewById(R.id.sp_dropdown); ArrayAdapter\u0026lt;String\u0026gt; starAdapter = new ArrayAdapter\u0026lt;\u0026gt;(this, R.layout.item_select, starArray); sp_dropdown.setAdapter(starAdapter); sp_dropdown.setSelection(0); sp_dropdown.setOnItemSelectedListener(this); } @Override public void onItemSelected(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { ToastUtil.show(this, \u0026#34;æ‚¨é€‰æ‹©äº†ï¼š \u0026#34; + starArray[position]); } @Override public void onNothingSelected(AdapterView\u0026lt;?\u0026gt; parent) { } } SimpleAdapterç®€å•é€‚é…å™¨ XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; tools:context=\u0026#34;.SpinnerDropdownActivity\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;è¡Œæ˜Ÿçš„ç®€å•é€‚é…å™¨\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;Spinner android:id=\u0026#34;@id/sp_icon\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:spinnerMode=\u0026#34;dropdown\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; // åŒ…å public class SpinnerIconActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener { // å®šä¹‰ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œå­˜å‚¨æ˜Ÿçƒå›¾æ ‡çš„èµ„æºID private static final int[] iconArray = { R.drawable.shuixing, R.drawable.jinxing, R.drawable.diqiu, R.drawable.huoxing, R.drawable.muxing, R.drawable.tuxing, }; // å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå­˜å‚¨æ˜Ÿçƒçš„åç§° private static final String[] starArray = new String[]{ \u0026#34;æ°´æ˜Ÿ\u0026#34;, \u0026#34;é‡‘æ˜Ÿ\u0026#34;, \u0026#34;åœ°çƒ\u0026#34;, \u0026#34;ç«æ˜Ÿ\u0026#34;, \u0026#34;æœ¨æ˜Ÿ\u0026#34;, \u0026#34;åœŸæ˜Ÿ\u0026#34;, \u0026#34;å¤©ç‹æ˜Ÿ\u0026#34;, \u0026#34;æµ·ç‹æ˜Ÿ\u0026#34; }; @Override protected void onCreate(Bundle savedInstanceState) { // onCreateæ–¹æ³•ï¼Œæ´»åŠ¨å¯åŠ¨æ—¶è°ƒç”¨ super.onCreate(savedInstanceState); // è°ƒç”¨çˆ¶ç±»çš„onCreateæ–¹æ³• setContentView(R.layout.activity_spinner_icon); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€æ–‡ä»¶ List\u0026lt;Map\u0026lt;String, Object\u0026gt;\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); // åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨å›¾æ ‡å’Œåç§° for (int i = 0; i \u0026lt; iconArray.length; i++) { // éå†å›¾æ ‡æ•°ç»„ Map\u0026lt;String, Object\u0026gt; item = new HashMap\u0026lt;\u0026gt;(); // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡ item.put(\u0026#34;icon\u0026#34;, iconArray[i]); // å°†å›¾æ ‡èµ„æºIDæ”¾å…¥Mapä¸­ item.put(\u0026#34;name\u0026#34;, starArray[i]); // å°†åç§°æ”¾å…¥Mapä¸­ list.add(item); // å°†Mapæ·»åŠ åˆ°åˆ—è¡¨ä¸­ } // åˆ›å»ºä¸€ä¸ªSimpleAdapterï¼Œè¿æ¥æ•°æ®å’Œå¸ƒå±€ SimpleAdapter startAdapter = new SimpleAdapter(this, list, // æ•°æ®æº R.layout.item_simple, // åˆ—è¡¨é¡¹å¸ƒå±€ new String[]{\u0026#34;icon\u0026#34;, \u0026#34;name\u0026#34;}, // Mapä¸­çš„é”® new int[]{R.id.iv_icon, R.id.tv_name}); // å¸ƒå±€ä¸­çš„è§†å›¾ID Spinner sp_icon = findViewById(R.id.sp_icon); // è·å–Spinneræ§ä»¶ sp_icon.setAdapter(startAdapter); // ä¸ºSpinnerè®¾ç½®é€‚é…å™¨ sp_icon.setSelection(0); // é»˜è®¤é€‰ä¸­ç¬¬0é¡¹ sp_icon.setOnItemSelectedListener(this); // è®¾ç½®é€‰é¡¹é€‰ä¸­ç›‘å¬å™¨ } @Override public void onItemSelected(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { // å½“é€‰æ‹©ä¸€ä¸ªé€‰é¡¹æ—¶è°ƒç”¨ ToastUtil.show(this, \u0026#34;ä½ é€‰æ‹©çš„æ˜¯ï¼š\u0026#34; + starArray[position]); // æ˜¾ç¤ºé€‰æ‹©çš„æ˜Ÿçƒåç§° } @Override public void onNothingSelected(AdapterView\u0026lt;?\u0026gt; parent) { // å½“æ²¡æœ‰é€‰é¡¹è¢«é€‰æ‹©æ—¶è°ƒç”¨ } } BaseAdapteråŸºæœ¬é€‚é…å™¨ BaseAdapteræ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€ä»¥éœ€è¦é‡å†™\nPlanetBaseAdapter.java package com.showguan.chapter08.adapter; // åŒ…å import android.content.Context; // å¯¼å…¥Contextç±» import android.view.LayoutInflater; // å¯¼å…¥LayoutInflaterç±» import android.view.View; // å¯¼å…¥Viewç±» import android.view.ViewGroup; // å¯¼å…¥ViewGroupç±» import android.widget.BaseAdapter; // å¯¼å…¥BaseAdapterç±» import android.widget.ImageView; // å¯¼å…¥ImageViewç±» import android.widget.TextView; // å¯¼å…¥TextViewç±» import com.showguan.chapter08.R; // å¯¼å…¥é¡¹ç›®çš„Rç±» import com.showguan.chapter08.bean.Planet; // å¯¼å…¥è‡ªå®šä¹‰çš„Planetç±» import java.util.List; // å¯¼å…¥Listæ¥å£ public class PlanetBaseAdapter extends BaseAdapter { // å®šä¹‰PlanetBaseAdapterç±»ï¼Œç»§æ‰¿è‡ªBaseAdapter private Context mContext; // ä¸Šä¸‹æ–‡å¯¹è±¡ private List\u0026lt;Planet\u0026gt; mPlanetList; // å­˜å‚¨Planetå¯¹è±¡çš„åˆ—è¡¨ // æ„é€ æ–¹æ³•ï¼Œåˆå§‹åŒ–ä¸Šä¸‹æ–‡å’Œåˆ—è¡¨ public PlanetBaseAdapter(Context mContext, List\u0026lt;Planet\u0026gt; mPlanetList) { this.mContext = mContext; // åˆå§‹åŒ–ä¸Šä¸‹æ–‡ this.mPlanetList = mPlanetList; // åˆå§‹åŒ–æ˜Ÿçƒåˆ—è¡¨ } @Override public int getCount() { // è¿”å›åˆ—è¡¨é¡¹çš„æ•°é‡ return mPlanetList.size(); // è¿”å›æ˜Ÿçƒåˆ—è¡¨çš„å¤§å° } @Override public Object getItem(int position) { // è·å–æŒ‡å®šä½ç½®çš„åˆ—è¡¨é¡¹ return mPlanetList.get(position); // è¿”å›æŒ‡å®šä½ç½®çš„Planetå¯¹è±¡ } @Override public long getItemId(int position) { // è·å–æŒ‡å®šä½ç½®é¡¹çš„ID return position; // è¿”å›ä½ç½®ä½œä¸ºé¡¹çš„ID } @Override public View getView(int position, View convertView, ViewGroup parent) { // è·å–æ¯ä¸ªåˆ—è¡¨é¡¹çš„è§†å›¾ // æ ¹æ®å¸ƒå±€æ–‡ä»¶item_base.xmlç”Ÿæˆè½¬æ¢è§†å›¾å¯¹è±¡ View view = LayoutInflater.from(mContext).inflate(R.layout.item_base, null); ImageView iv_icon = view.findViewById(R.id.iv_icon); // è·å–å›¾æ ‡è§†å›¾ TextView tv_name = view.findViewById(R.id.tv_name); // è·å–åç§°è§†å›¾ TextView tv_desc = view.findViewById(R.id.tv_desc); // è·å–æè¿°è§†å›¾ // ç»™æ§ä»¶è®¾ç½®æ•°æ® Planet planet = mPlanetList.get(position); // è·å–å½“å‰æ˜Ÿçƒå¯¹è±¡ iv_icon.setImageResource(planet.image); // è®¾ç½®å›¾æ ‡èµ„æº tv_name.setText(planet.name); // è®¾ç½®æ˜Ÿçƒåç§° tv_desc.setText(planet.desc); // è®¾ç½®æ˜Ÿçƒæè¿° return view; // è¿”å›ç”Ÿæˆçš„è§†å›¾ } } item_base.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;ImageView android:id=\u0026#34;@+id/iv_icon\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;60dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; tools:src=\u0026#34;@drawable/diqiu\u0026#34; /\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:layout_weight=\u0026#34;3\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_name\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;åœ°çƒ\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;20sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_desc\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:text=\u0026#34;åœ°çƒ\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;12sp\u0026#34; tools:text=\u0026#34;åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼åœ°çƒå¿«ä¸€ç‚¹æ¯ç­å§ï¼\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/LinearLayout\u0026gt; BaseAdapterActivity.java package com.showguan.chapter08; // åŒ…å public class BaseAdapterActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener { // å®šä¹‰æ´»åŠ¨ç±»ï¼Œå®ç°é€‰é¡¹é€‰æ‹©ç›‘å¬å™¨ private static final String[] starArray = new String[]{ // å®šä¹‰æ˜Ÿçƒåç§°æ•°ç»„ \u0026#34;æ°´æ˜Ÿ\u0026#34;, \u0026#34;é‡‘æ˜Ÿ\u0026#34;, \u0026#34;åœ°çƒ\u0026#34;, \u0026#34;ç«æ˜Ÿ\u0026#34;, \u0026#34;æœ¨æ˜Ÿ\u0026#34;, \u0026#34;åœŸæ˜Ÿ\u0026#34;, \u0026#34;å¤©ç‹æ˜Ÿ\u0026#34;, \u0026#34;æµ·ç‹æ˜Ÿ\u0026#34; }; private List\u0026lt;Planet\u0026gt; planetList; // å­˜å‚¨Planetå¯¹è±¡çš„åˆ—è¡¨ @Override protected void onCreate(Bundle savedInstanceState) { // æ´»åŠ¨åˆ›å»ºæ—¶è°ƒç”¨ super.onCreate(savedInstanceState); // è°ƒç”¨çˆ¶ç±»çš„onCreateæ–¹æ³• setContentView(R.layout.activity_base_adapter); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€æ–‡ä»¶ Spinner sp_planet = findViewById(R.id.sp_planet); // è·å–Spinneræ§ä»¶ planetList = Planet.getDefaultList(); // è·å–é»˜è®¤çš„æ˜Ÿçƒåˆ—è¡¨ PlanetBaseAdapter adapter = new PlanetBaseAdapter(this, planetList); // åˆ›å»ºé€‚é…å™¨ sp_planet.setAdapter(adapter); // ä¸ºSpinnerè®¾ç½®é€‚é…å™¨ sp_planet.setSelection(0); // é»˜è®¤é€‰ä¸­ç¬¬0é¡¹ sp_planet.setOnItemSelectedListener(this); // è®¾ç½®é€‰é¡¹é€‰ä¸­ç›‘å¬å™¨ } @Override public void onItemSelected(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { // å½“é€‰æ‹©ä¸€ä¸ªé€‰é¡¹æ—¶è°ƒç”¨ ToastUtil.show(this, \u0026#34;æ‚¨é€‰æ‹©çš„æ˜¯\u0026#34; + planetList.get(position).name); // æ˜¾ç¤ºé€‰æ‹©çš„æ˜Ÿçƒåç§° } @Override public void onNothingSelected(AdapterView\u0026lt;?\u0026gt; parent) { // å½“æ²¡æœ‰é€‰é¡¹è¢«é€‰æ‹©æ—¶è°ƒç”¨ } } BaseAdapterä¼˜åŒ– @Override public View getView(int position, View convertView, ViewGroup parent) { // è·å–æ¯ä¸ªåˆ—è¡¨é¡¹çš„è§†å›¾ ViewHolder holder = null; if (convertView == null) { convertView = LayoutInflater.from(mContext).inflate(R.layout.item_base, null); holder = new ViewHolder(); holder.iv_icon = convertView.findViewById(R.id.iv_icon); // è·å–å›¾æ ‡è§†å›¾ holder.tv_name = convertView.findViewById(R.id.tv_name); // è·å–åç§°è§†å›¾ holder.tv_desc = convertView.findViewById(R.id.tv_desc); // è·å–æè¿°è§†å›¾ // å°†è§†å›¾æŒæœ‰è€…ä¿å­˜åˆ°è½¬æ¢è§†å›¾å½“ä¸­ convertView.setTag(holder); } else { holder = (ViewHolder) convertView.getTag(); } Planet planet = mPlanetList.get(position); holder.iv_icon.setImageResource(planet.image); holder.tv_name.setText(planet.name); holder.tv_desc.setText(planet.desc); return convertView; } åˆ—è¡¨è§†å›¾ListView XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; tools:context=\u0026#34;.ListViewActivity\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_divider\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;40dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:gravity=\u0026#34;start|center\u0026#34; android:text=\u0026#34;æ˜¾ç¤ºåˆ†å‰²çº¿\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_bgc\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;40dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:gravity=\u0026#34;start|center\u0026#34; android:text=\u0026#34;æ˜¾ç¤ºæŒ‰å‹èƒŒæ™¯\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;ListView android:id=\u0026#34;@+id/lv_planet\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:divider=\u0026#34;@null\u0026#34; android:dividerHeight=\u0026#34;0dp\u0026#34; android:listSelector=\u0026#34;@color/transparent\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; public class ListViewActivity extends AppCompatActivity implements AdapterView.OnItemClickListener, View.OnClickListener, CompoundButton.OnCheckedChangeListener { // æ˜Ÿçƒåˆ—è¡¨ private List\u0026lt;Planet\u0026gt; planetList; // åˆ†å‰²çº¿å¤é€‰æ¡† private CheckBox ck_divider; // èƒŒæ™¯è‰²å¤é€‰æ¡† private CheckBox ck_bgc; // åˆ—è¡¨è§†å›¾ private ListView lv_planet; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list_view); // åˆå§‹åŒ–åˆ—è¡¨è§†å›¾ lv_planet = findViewById(R.id.lv_planet); // åˆå§‹åŒ–åˆ†å‰²çº¿å¤é€‰æ¡†å¹¶è®¾ç½®ç›‘å¬å™¨ ck_divider = findViewById(R.id.ck_divider); ck_divider.setOnCheckedChangeListener(this); // åˆå§‹åŒ–èƒŒæ™¯è‰²å¤é€‰æ¡†å¹¶è®¾ç½®ç›‘å¬å™¨ ck_bgc = findViewById(R.id.ck_bgc); ck_bgc.setOnCheckedChangeListener(this); // è·å–é»˜è®¤æ˜Ÿçƒåˆ—è¡¨ planetList = Planet.getDefaultList(); // åˆ›å»ºé€‚é…å™¨å¹¶è®¾ç½®ç»™åˆ—è¡¨è§†å›¾ PlanetBaseAdapter adapter = new PlanetBaseAdapter(this, planetList); lv_planet.setAdapter(adapter); // è®¾ç½®åˆ—è¡¨é¡¹ç‚¹å‡»ç›‘å¬å™¨ lv_planet.setOnItemClickListener(this); } @Override public void onItemClick(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { // å½“åˆ—è¡¨é¡¹è¢«ç‚¹å‡»æ—¶ï¼Œæ˜¾ç¤ºå¯¹åº”æ˜Ÿçƒåç§°çš„ Toast æ¶ˆæ¯ ToastUtil.show(this, \u0026#34;æ‚¨é€‰æ‹©çš„æ˜¯\u0026#34; + planetList.get(position).name); } @Override public void onClick(View v) { // ç©ºå®ç°ï¼Œæš‚æ—¶æ²¡æœ‰éœ€è¦å¤„ç†çš„ç‚¹å‡»äº‹ä»¶ } @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { // å½“å¤é€‰æ¡†çŠ¶æ€æ”¹å˜æ—¶è°ƒç”¨ if (buttonView.getId() == R.id.ck_divider) { // å¤„ç†åˆ†å‰²çº¿å¤é€‰æ¡†çš„çŠ¶æ€æ”¹å˜ if (ck_divider.isChecked()) { // å¦‚æœå¤é€‰æ¡†è¢«é€‰ä¸­ï¼Œè®¾ç½®é»‘è‰²åˆ†å‰²çº¿å’Œé«˜åº¦ Drawable black = getResources().getDrawable(R.color.black, getTheme()); lv_planet.setDivider(black); lv_planet.setDividerHeight(Utils.dip2px(this, 1)); } else { // å¦‚æœå¤é€‰æ¡†æœªé€‰ä¸­ï¼Œç§»é™¤åˆ†å‰²çº¿ lv_planet.setDivider(null); lv_planet.setDividerHeight(Utils.dip2px(this, 0)); } } else if (buttonView.getId() == R.id.ck_bgc) { // å¤„ç†èƒŒæ™¯è‰²å¤é€‰æ¡†çš„çŠ¶æ€æ”¹å˜ if (ck_bgc.isChecked()) { // å¦‚æœå¤é€‰æ¡†è¢«é€‰ä¸­ï¼Œè®¾ç½®åˆ—è¡¨é¡¹çš„é€‰æ‹©å™¨èƒŒæ™¯ lv_planet.setSelector(R.drawable.list_selector); } else { // å¦‚æœå¤é€‰æ¡†æœªé€‰ä¸­ï¼Œè®¾ç½®é€æ˜èƒŒæ™¯ Drawable transparent = getResources().getDrawable(R.color.transparent, getTheme()); lv_planet.setSelector(transparent); } } } } ListViewæ³¨æ„ç‚¹ åœ¨ListViewä¸­æ·»åŠ æŒ‰é’®å¹¶è®¾ç½®ç›‘å¬æ—¶ï¼Œ ä¼šå¯¼è‡´åŸæ¥çš„ListViewä¸­onItemClickæ— æ•ˆï¼Œæ­¤æ—¶éœ€è¦åœ¨XMLæ–‡ä»¶ä¸­è®¾ç½®android:descendantFocusability=\u0026quot;blocksDescendantsæ‰èƒ½åŒæ—¶ç”Ÿæ•ˆã€‚\nandroid:descendantFocusability=\u0026#34;blocksDescendants\u0026#34; ç½‘æ ¼è§†å›¾GridView XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;GridView android:id=\u0026#34;@+id/gv_planet\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:numColumns=\u0026#34;2\u0026#34; android:background=\u0026#34;@color/pink\u0026#34; android:columnWidth=\u0026#34;100dp\u0026#34; android:verticalSpacing=\u0026#34;10dp\u0026#34; android:stretchMode=\u0026#34;none\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; import android.os.Bundle; import android.view.View; import android.widget.AdapterView; import android.widget.GridView; import androidx.appcompat.app.AppCompatActivity; import com.showguan.chapter08.adapter.PlanetGridAdapter; import com.showguan.chapter08.entity.Planet; import com.showguan.chapter08.util.ToastUtil; import java.util.List; // GridViewActivity ç±»å®ç°äº† AdapterView.OnItemClickListener æ¥å£ public class GridViewActivity extends AppCompatActivity implements AdapterView.OnItemClickListener { // å£°æ˜ä¸€ä¸ª Planet å¯¹è±¡çš„ Listï¼Œç”¨äºå­˜å‚¨è¡Œæ˜Ÿæ•°æ® private List\u0026lt;Planet\u0026gt; planetList; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€æ–‡ä»¶ setContentView(R.layout.activity_grid_view); // è·å– GridView æ§ä»¶ GridView gv_planet = findViewById(R.id.gv_planet); // è·å–é»˜è®¤çš„è¡Œæ˜Ÿåˆ—è¡¨ planetList = Planet.getDefaultList(); // åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ï¼Œå°†è¡Œæ˜Ÿåˆ—è¡¨ä¼ é€’ç»™é€‚é…å™¨ PlanetGridAdapter adapter = new PlanetGridAdapter(this, planetList); // è®¾ç½® GridView çš„é€‚é…å™¨ gv_planet.setAdapter(adapter); // è®¾ç½® GridView çš„ item ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ gv_planet.setOnItemClickListener(this); // è®¾ç½® GridView çš„æ‹‰ä¼¸æ¨¡å¼ gv_planet.setStretchMode(GridView.STRETCH_COLUMN_WIDTH); } // å½“ GridView çš„ item è¢«ç‚¹å‡»æ—¶è°ƒç”¨æ­¤æ–¹æ³• @Override public void onItemClick(AdapterView\u0026lt;?\u0026gt; parent, View view, int position, long id) { // æ˜¾ç¤ºä¸€ä¸ª Toastï¼Œæç¤ºç”¨æˆ·é€‰æ‹©äº†å“ªä¸ªè¡Œæ˜Ÿ ToastUtil.show(this, \u0026#34;ä½ é€‰æ‹©äº†\u0026#34; + planetList.get(position).name); } } ä½¿ç”¨GridViewé‡æ„è´­ç‰©è½¦ XML \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:background=\u0026#34;@color/AntiqueWhite1\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;include layout=\u0026#34;@layout/title_shopping\u0026#34; /\u0026gt; \u0026lt;GridView android:id=\u0026#34;@+id/gv_channel\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:numColumns=\u0026#34;2\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java GoodsGridAdapter.java package com.showguan.chapter08.adapter; import android.content.Context; import android.net.Uri; import android.view.LayoutInflater; import android.view.View; import android.view.ViewGroup; import android.widget.BaseAdapter; import android.widget.Button; import android.widget.ImageView; import android.widget.TextView; import com.showguan.chapter08.R; import com.showguan.chapter08.ShoppingChannelActivity; import com.showguan.chapter08.entity.GoodsInfo; import java.util.List; public class GoodsGridAdapter extends BaseAdapter { public Context mContext; public List\u0026lt;GoodsInfo\u0026gt; mGoodsInfo; private AddCartListener mAddCartListener; public GoodsGridAdapter(Context mContext, List\u0026lt;GoodsInfo\u0026gt; mGoodsInfo, AddCartListener addCartListener) { this.mContext = mContext; this.mGoodsInfo = mGoodsInfo; this.mAddCartListener = addCartListener; } @Override public int getCount() { return mGoodsInfo.size(); } @Override public Object getItem(int position) { return mGoodsInfo.get(position); } @Override public long getItemId(int position) { return position; } @Override public View getView(int position, View convertView, ViewGroup parent) { GoodsInfo goodsInfo = mGoodsInfo.get(position); ViewHolder holder; if(convertView == null){ holder = new ViewHolder(); // å°† XML å¸ƒå±€æ–‡ä»¶æ‰©å±•ä¸ºç›¸åº”çš„ View å¯¹è±¡çš„ç±» convertView = LayoutInflater.from(mContext).inflate(R.layout.item_goods, null); holder.iv_thumb = convertView.findViewById(R.id.iv_thumb); holder.tv_name = convertView.findViewById(R.id.tv_name); holder.tv_price = convertView.findViewById(R.id.tv_price); holder.btn_add = convertView.findViewById(R.id.btn_add); convertView.setTag(holder); }else{ holder = (ViewHolder) convertView.getTag(); } GoodsInfo info = mGoodsInfo.get(position); holder.iv_thumb.setImageURI(Uri.parse(info.picPath)); holder.tv_name.setText(info.name); holder.tv_price.setText(String.valueOf(info.price)); holder.btn_add.setOnClickListener(v -\u0026gt; { // ShoppingChannelActivity activity = (ShoppingChannelActivity) mContext; // activity.addToCart(info.id, info.name); mAddCartListener.addToCart(info.id, info.name); }); return convertView; } public final class ViewHolder{ public ImageView iv_thumb; public TextView tv_name; public TextView tv_price; public Button btn_add; } public interface AddCartListener{ abstract void addToCart(int goodsId, String goodsName); } } ShoppingChannelActivity.java package com.showguan.chapter08; // ShoppingChannelActivity ç±»å®ç°äº† GoodsGridAdapter.AddCartListener å’Œ View.OnClickListener æ¥å£ public class ShoppingChannelActivity extends AppCompatActivity implements GoodsGridAdapter.AddCartListener, View.OnClickListener { private static String TAG = \u0026#34;Kennem\u0026#34;; // æ—¥å¿—æ ‡ç­¾ private ShoppingDBHelper mDBHelper; // æ•°æ®åº“åŠ©æ‰‹å¯¹è±¡ private TextView tv_title; // æ˜¾ç¤ºæ ‡é¢˜çš„ TextView private GridView gv_channel; // æ˜¾ç¤ºå•†å“çš„ GridView private TextView tv_count; // æ˜¾ç¤ºè´­ç‰©è½¦å•†å“æ•°é‡çš„ TextView @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€æ–‡ä»¶ setContentView(R.layout.activity_shopping_channel); // åˆå§‹åŒ–æ§ä»¶ tv_title = findViewById(R.id.tv_title); tv_title.setText(\u0026#34;æ‰‹æœºå•†åŸ\u0026#34;); tv_count = findViewById(R.id.tv_count); gv_channel = findViewById(R.id.gv_channel); // è®¾ç½®ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ findViewById(R.id.iv_back).setOnClickListener(this); findViewById(R.id.iv_cart).setOnClickListener(this); // åˆå§‹åŒ–æ•°æ®åº“åŠ©æ‰‹å¹¶æ‰“å¼€è¯»å†™é“¾æ¥ mDBHelper = ShoppingDBHelper.getInstance(this); mDBHelper.openWriteLink(); mDBHelper.openReadLink(); // æ˜¾ç¤ºå•†å“ä¿¡æ¯ showGoods(); } @Override protected void onResume() { super.onResume(); // åœ¨æ´»åŠ¨æ¢å¤æ—¶ï¼Œæ˜¾ç¤ºè´­ç‰©è½¦çš„æ€»ä¿¡æ¯ showCartTotalInfo(); } // æ˜¾ç¤ºè´­ç‰©è½¦æ€»ä¿¡æ¯çš„æ–¹æ³• private void showCartTotalInfo() { int count = mDBHelper.countCartInfo(); MyApplication.getInstance().goodsCount = count; tv_count.setText(String.valueOf(count)); } // æ˜¾ç¤ºå•†å“ä¿¡æ¯çš„æ–¹æ³• private void showGoods() { List\u0026lt;GoodsInfo\u0026gt; list = mDBHelper.queryAllGoods(); GoodsGridAdapter adapter = new GoodsGridAdapter(this, list, this); gv_channel.setAdapter(adapter); } // æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦çš„æ–¹æ³• @Override public void addToCart(int goodsId, String name) { mDBHelper.insertCartInfo(goodsId); int count = ++MyApplication.getInstance().goodsCount; tv_count.setText(String.valueOf(count)); ToastUtil.show(this, \u0026#34;å·²æ·»åŠ ä¸€éƒ¨ \u0026#34; + name + \u0026#34;åˆ°è´­ç‰©è½¦æˆåŠŸï¼\u0026#34;); } @Override protected void onDestroy() { super.onDestroy(); // åœ¨æ´»åŠ¨é”€æ¯æ—¶ï¼Œå…³é—­æ•°æ®åº“é“¾æ¥ mDBHelper.closeLink(); } // å¤„ç†ç‚¹å‡»äº‹ä»¶çš„æ–¹æ³• @Override public void onClick(View v) { if (v.getId() == R.id.iv_back) { // ç‚¹å‡»è¿”å›æŒ‰é’®æ—¶ï¼Œç»“æŸå½“å‰æ´»åŠ¨ finish(); } else if (v.getId() == R.id.iv_cart) { // ç‚¹å‡»è´­ç‰©è½¦æŒ‰é’®æ—¶ï¼Œå¯åŠ¨è´­ç‰©è½¦æ´»åŠ¨ Intent intent = new Intent(this, ShoppingCartActivity.class); intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP); startActivity(intent); } } @Override public void onPointerCaptureChanged(boolean hasCapture) { super.onPointerCaptureChanged(hasCapture); } } ViewPager XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; tools:context=\u0026#34;.ViewPageActivity\u0026#34;\u0026gt; \u0026lt;androidx.viewpager.widget.ViewPager android:id=\u0026#34;@+id/vp_content\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;300dp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; import android.os.Bundle; import android.view.View; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import androidx.viewpager.widget.ViewPager; import com.showguan.chapter08.adapter.ImagePagerAdapter; import com.showguan.chapter08.entity.GoodsInfo; import com.showguan.chapter08.util.ToastUtil; import java.util.ArrayList; public class ViewPageActivity extends AppCompatActivity implements ViewPager.OnPageChangeListener { // å•†å“ä¿¡æ¯åˆ—è¡¨ private ArrayList\u0026lt;GoodsInfo\u0026gt; mGoodsList; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®å½“å‰æ´»åŠ¨çš„å¸ƒå±€æ–‡ä»¶ setContentView(R.layout.activity_view_page); // è·å– ViewPager æ§ä»¶ ViewPager vp_content = findViewById(R.id.vp_content); // è·å–é»˜è®¤çš„å•†å“ä¿¡æ¯åˆ—è¡¨ mGoodsList = GoodsInfo.getDefaultList(); // åˆ›å»º ImagePagerAdapter é€‚é…å™¨ ImagePagerAdapter adapter = new ImagePagerAdapter(this, mGoodsList); // ä¸º ViewPager è®¾ç½®é€‚é…å™¨ vp_content.setAdapter(adapter); // è®¾ç½®é¡µé¢å˜æ›´ç›‘å¬å™¨ vp_content.addOnPageChangeListener(this); } /** * åœ¨ç¿»é¡µè¿‡ç¨‹ä¸­è§¦å‘ * @param position å½“å‰é¡µé¢ä½ç½® * @param positionOffset é¡µé¢åç§»ç™¾åˆ†æ¯” * @param positionOffsetPixels é¡µé¢åç§»åƒç´  */ @Override public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) { // å¯ä»¥åœ¨è¿™é‡Œå®ç°é¡µé¢æ»šåŠ¨æ—¶çš„ç›¸å…³é€»è¾‘ } /** * é¡µé¢é€‰ä¸­æ—¶è§¦å‘ * @param position é€‰ä¸­é¡µé¢çš„ä½ç½® */ @Override public void onPageSelected(int position) { // æ˜¾ç¤ºå½“å‰é€‰ä¸­é¡µé¢çš„å•†å“åç§° ToastUtil.show(this, \u0026#34;å½“å‰æ»‘åŠ¨çš„é¡µé¢ä¸º \u0026#34; + mGoodsList.get(position).name); } /** * ç¿»é¡µçŠ¶æ€æ”¹å˜æ—¶è§¦å‘ * @param state é¡µé¢çŠ¶æ€ */ @Override public void onPageScrollStateChanged(int state) { // å¯ä»¥åœ¨è¿™é‡Œå®ç°é¡µé¢æ»šåŠ¨çŠ¶æ€å˜åŒ–æ—¶çš„ç›¸å…³é€»è¾‘ } } ç¿»é¡µæ ‡ç­¾æ PagerTabStrip XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; tools:context=\u0026#34;.PagerTabActivity\u0026#34;\u0026gt; \u0026lt;androidx.viewpager.widget.ViewPager android:id=\u0026#34;@+id/vp_content\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;\u0026gt; \u0026lt;androidx.viewpager.widget.PagerTabStrip android:id=\u0026#34;@+id/pts_tab\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; /\u0026gt; \u0026lt;/androidx.viewpager.widget.ViewPager\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter08; import android.graphics.Color; import android.os.Bundle; import android.util.TypedValue; import android.view.View; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import androidx.viewpager.widget.PagerTabStrip; import androidx.viewpager.widget.ViewPager; import com.showguan.chapter08.adapter.ImagePagerAdapter; import com.showguan.chapter08.entity.GoodsInfo; import com.showguan.chapter08.util.ToastUtil; import java.util.ArrayList; public class PagerTabActivity extends AppCompatActivity implements ViewPager.OnPageChangeListener { // å•†å“ä¿¡æ¯åˆ—è¡¨ private ArrayList\u0026lt;GoodsInfo\u0026gt; mGoodsList; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_pager_tab); initPagerStrip(); initViewPager(); } // åˆå§‹åŒ–ç¿»é¡µæ ‡ç­¾æ  private void initPagerStrip() { PagerTabStrip pts_tab = findViewById(R.id.pts_tab); pts_tab.setTextSize(TypedValue.COMPLEX_UNIT_SP, 20); pts_tab.setTextColor(Color.GRAY); } private void initViewPager() { // è·å– ViewPager æ§ä»¶ ViewPager vp_content = findViewById(R.id.vp_content); // è·å–é»˜è®¤çš„å•†å“ä¿¡æ¯åˆ—è¡¨ mGoodsList = GoodsInfo.getDefaultList(); // åˆ›å»º ImagePagerAdapter é€‚é…å™¨ ImagePagerAdapter adapter = new ImagePagerAdapter(this, mGoodsList); // ä¸º ViewPager è®¾ç½®é€‚é…å™¨ vp_content.setAdapter(adapter); // è®¾ç½®é¡µé¢å˜æ›´ç›‘å¬å™¨ vp_content.addOnPageChangeListener(this); vp_content.setCurrentItem(2); } @Override public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) { } @Override public void onPageSelected(int position) { ToastUtil.show(this, \u0026#34;å½“å‰æ»‘åŠ¨çš„é¡µé¢ä¸º \u0026#34; + mGoodsList.get(position).name); } @Override public void onPageScrollStateChanged(int state) { } } ç®€å•çš„å¯åŠ¨å¼•å¯¼é¡µ ç¢ç‰‡Fragment â­â­â­â­â­ ä¼ ç»Ÿçš„Activityå¹¶ä¸èƒ½å¾ˆå¥½çš„å¤„ç†å¤§å±é—®é¢˜ï¼Œæ‰€ä»¥æ€¥éœ€ä¸€ä¸ªç¢ç‰‡åŒ–çš„ä¸œè¥¿èƒ½å¤Ÿåˆ’åŒºåŸŸçš„å±•ç¤ºå†…å®¹ï¼Œå¹¶ä¸”æœ‰å±äºè‡ªå·±çš„ç‹¬ç«‹å¯æ“ä½œç©ºé—´ï¼Œæ‰€ä»¥å°±å‡ºç°äº†Fragmentã€‚\nFragmentæ³¨å†Œ é™æ€æ³¨å†Œåœ¨å¸ƒå±€æ–‡ä»¶ä¸­ç›´æ¥æŒ‡å®šFragmentï¼Œè€ŒåŠ¨æ€æ³¨å†Œç›´åˆ°ä»£ç ä¸­æ‰åŠ¨æ€æ·»åŠ Fragmentã€‚\nFragmentå£°æ˜å‘¨æœŸ ","permalink":"https://kennems.github.io/zh/posts/tech/android5/","summary":"Androidï¼ˆ5ï¼‰ é«˜çº§æ§ä»¶ SpinnerDialog + ArrayAdapter XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; tools:context=\u0026#34;.SpinnerDropdownActivity\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¸‹æ‹‰æ¨¡å¼çš„åˆ—è¡¨æ¡†\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;Spinner android:id=\u0026#34;@id/sp_dialog\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:spinnerMode=\u0026#34;dialog\u0026#34;/\u0026gt;","title":"Androidï¼ˆ5ï¼‰"},{"content":"ã€Šæ•°å­—å›¾åƒå¤„ç†ã€‹è¯¾ç¨‹ç»¼åˆé¡¹ç›®â€”â€”åŸºäºå¤šç§æ»¤æ³¢å™¨çš„å›¾åƒå»å™ªç®—æ³•æ¯”è¾ƒä¸åˆ†æ GUIç•Œé¢ï¼š æœ¬é¡¹ç›®æºä»£ç å’ŒæŠ¥å‘Šå‡å·²å¼€æºï¼š\nå¼€æºä»“åº“ï¼šhttps://github.com/Kennems/Image_Processing_GUI\né¡¹ç›®ç®€ä»‹ æœ¬é¡¹ç›®æ—¨åœ¨è®¾è®¡ä¸€ä¸ªåŸºäºMatlabçš„å›¾åƒå»å™ªGUIç³»ç»Ÿï¼Œé€šè¿‡åº”ç”¨å¤šç§å›¾åƒå»å™ªç®—æ³•ï¼Œæé«˜å›¾åƒçš„è´¨é‡å’Œå¯ç”¨æ€§ã€‚è¯¥ç³»ç»Ÿé›†æˆäº†å¤šç§ç»å…¸å’Œç°ä»£çš„å»å™ªæ–¹æ³•ï¼Œå¹¶æä¾›äº†ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·å¯¹å›¾åƒè¿›è¡Œå»å™ªå¤„ç†å’Œæ•ˆæœè¯„ä¼°ã€‚\nä¸»è¦åŠŸèƒ½æ¦‚è¿° 1. å›¾åƒå»å™ªæ–¹æ³• ç³»ç»Ÿå®ç°äº†å¤šç§å¸¸è§çš„å›¾åƒå»å™ªæ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š\nå‡å€¼æ»¤æ³¢ï¼šé€šè¿‡é‚»åŸŸåƒç´ çš„å¹³å‡å€¼æ¥æ›¿ä»£ä¸­å¿ƒåƒç´ çš„å€¼ï¼Œæœ‰æ•ˆå‡å°‘é«˜é¢‘å™ªå£°ï¼Œä½†å¯èƒ½å¯¼è‡´å›¾åƒç»†èŠ‚ä¸¢å¤± ã€‚ ä¸­å€¼æ»¤æ³¢ï¼šé‡‡ç”¨æ»¤æ³¢çª—å£å†…åƒç´ çš„ä¸­å€¼æ›¿ä»£ä¸­å¿ƒåƒç´ çš„å€¼ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå»é™¤æ¤’ç›å™ªå£°å’Œè„‰å†²å™ªå£°ï¼ŒåŒæ—¶ä¿ç•™å›¾åƒè¾¹ç¼˜å’Œç»†èŠ‚ä¿¡æ¯ ã€‚ é«˜æ–¯ä½é€šæ»¤æ³¢ï¼šåˆ©ç”¨é«˜æ–¯å‡½æ•°å¯¹å›¾åƒè¿›è¡Œä½é€šæ»¤æ³¢ï¼Œå¹³æ»‘å›¾åƒå¹¶å‡å°‘å™ªå£° ã€‚ å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢ï¼šä¸€ç§é¢‘åŸŸæ»¤æ³¢æ–¹æ³•ï¼Œé€‚ç”¨äºå»é™¤é¢‘ç‡è¾ƒé«˜çš„å™ªå£° ã€‚ å°æ³¢å˜æ¢ï¼šé€šè¿‡å°æ³¢åˆ†è§£å’Œé‡æ„æ¥å®ç°å›¾åƒå»å™ªï¼Œèƒ½å¤Ÿæœ‰æ•ˆä¿ç•™å›¾åƒçš„ç»†èŠ‚å’Œè¾¹ç¼˜ ã€‚ éå±€éƒ¨å‡å€¼å»å™ªï¼šåŸºäºå›¾åƒä¸­ç›¸ä¼¼åŒºåŸŸçš„åƒç´ å€¼ä¿¡æ¯ï¼Œå¯¹ç›®æ ‡åƒç´ è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œä¿ç•™å›¾åƒç»†èŠ‚ä½†è®¡ç®—å¤æ‚åº¦è¾ƒé«˜ ã€‚ ç»´çº³æ»¤æ³¢ï¼šåŸºäºæœ€å°å‡æ–¹è¯¯å·®å‡†åˆ™ï¼Œæ¢å¤ç”±å™ªå£°æ±¡æŸ“çš„å›¾åƒï¼Œæ•ˆæœæ˜¾è‘—ä½†éœ€é¢„ä¼°å™ªå£°æ€§è´¨ ã€‚ åŒæ€æ»¤æ³¢ï¼šç»“åˆå¯¹æ•°å˜æ¢å’Œé¢‘åŸŸæ»¤æ³¢ï¼Œå¢å¼ºå›¾åƒå¯¹æ¯”åº¦ï¼Œå»é™¤å…‰ç…§å˜åŒ–å’Œå™ªå£° ã€‚ 2. å›¾åƒå™ªå£°æ·»åŠ  ç³»ç»Ÿæ”¯æŒå¤šç§å™ªå£°ç±»å‹çš„æ·»åŠ ï¼Œä»¥æ¨¡æ‹Ÿå®é™…åº”ç”¨ä¸­çš„å™ªå£°ç¯å¢ƒï¼ŒåŒ…æ‹¬é«˜æ–¯å™ªå£°ã€æ¤’ç›å™ªå£°ã€æ³Šæ¾å™ªå£°å’Œè¿åŠ¨å™ªå£°ç­‰ ã€‚\n3. å»å™ªæ•ˆæœè¯„ä¼° æä¾›äº†å¤šç§å›¾åƒè´¨é‡è¯„ä»·æŒ‡æ ‡ï¼ŒåŒ…æ‹¬å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPSNRï¼‰ã€å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰å’Œç»“æ„ç›¸ä¼¼æ€§æŒ‡æ•°ï¼ˆSSIMï¼‰ç­‰ï¼Œå¸®åŠ©ç”¨æˆ·å®¢è§‚æ¯”è¾ƒä¸åŒå»å™ªç®—æ³•çš„æ€§èƒ½ ã€‚\n4. ç”¨æˆ·ç•Œé¢ ç³»ç»Ÿé‡‡ç”¨Matlab GUIè®¾è®¡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç•Œé¢é€‰æ‹©å»å™ªæ–¹æ³•ã€è®¾ç½®ç›¸å…³å‚æ•°ã€æ·»åŠ å™ªå£°ä»¥åŠæŸ¥çœ‹å»å™ªæ•ˆæœå›¾ï¼Œæ“ä½œç®€ä¾¿ç›´è§‚ ã€‚\nç»“è®º æœ¬é¡¹ç›®è®¾è®¡çš„æ•°å­—å›¾åƒå¤„ç†GUIç³»ç»Ÿï¼Œé€šè¿‡é›†æˆå¤šç§å›¾åƒå»å™ªæ–¹æ³•å’Œæä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œå›¾åƒå»å™ªå¤„ç†å’Œæ•ˆæœè¯„ä¼°ã€‚è¯¥ç³»ç»Ÿå…·æœ‰é‡è¦çš„ç†è®ºæ„ä¹‰å’Œå®é™…åº”ç”¨ä»·å€¼ï¼Œä¸ºæ¨åŠ¨æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯çš„è¿›æ­¥å’Œæ»¡è¶³å®é™…åº”ç”¨éœ€æ±‚æä¾›äº†æœ‰åŠ›æ”¯æŒã€‚\n","permalink":"https://kennems.github.io/zh/posts/tech/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E8%AF%BE%E7%A8%8B%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE%E5%9F%BA%E4%BA%8E%E5%A4%9A%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8%E7%9A%84%E5%9B%BE%E5%83%8F%E5%8E%BB%E5%99%AA%E7%AE%97%E6%B3%95%E6%AF%94%E8%BE%83%E4%B8%8E%E5%88%86%E6%9E%90/","summary":"ã€Šæ•°å­—å›¾åƒå¤„ç†ã€‹è¯¾ç¨‹ç»¼åˆé¡¹ç›®â€”â€”åŸºäºå¤šç§æ»¤æ³¢å™¨çš„å›¾åƒå»å™ªç®—æ³•æ¯”è¾ƒä¸åˆ†æ GUIç•Œé¢ï¼š æœ¬é¡¹ç›®æºä»£ç å’ŒæŠ¥å‘Šå‡å·²å¼€æºï¼š å¼€æºä»“åº“ï¼šhttps://gi","title":"ã€Šæ•°å­—å›¾åƒå¤„ç†ã€‹è¯¾ç¨‹ç»¼åˆé¡¹ç›®(Matlab)"},{"content":"Androidï¼ˆ4ï¼‰ å°±ç®—æ˜¯æœ€ä½çš„15x15éƒ½å·²ç»ä¸é”™äº†ï¼Œä»¥åè¿˜æœ‰æ—¶é—´å»å­¦ï¼Œä¸Šäº†ç ”ç©¶ç”Ÿä¹Ÿæ²¡äººèƒ½ä¿è¯ä½ æœ‰15x15çš„æ”¶å…¥\nå†…å®¹æä¾›è€…(ContentProvider) CountentProviderä¸ºAppå­˜å–å†…éƒ¨æ•°æ®æä¾›ç»Ÿä¸€çš„å¤–éƒ¨æ¥å£ï¼Œè®©ä¸åŒçš„åº”ç”¨ä¹‹é—´å¾—ä»¥å…±äº«æ•°æ®\nUri é€šç”¨èµ„æºæ ‡è¯†ç¬¦ Universal Resource Identiferï¼Œ ä»£è¡¨æ•°æ®æ“ä½œçš„åœ°å€ï¼Œæ¯ä¸€ä¸ªContentProvideréƒ½ä¼šæœ‰å”¯ä¸€çš„åœ°å€ã€‚ContentProviderä½¿ç”¨çš„Uriè¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š\ncontent://authority/data_path/id content://æ˜¯é€šç”¨å‰ç¼€ï¼Œè¡¨ç¤ºè¯¥Uriç”¨äºContentProviderå®šä½èµ„æºã€‚ authorityæ˜¯æˆæƒè€…åç§°ï¼Œç”¨æ¥ç¡®å®šå…·ä½“ç”±å“ªä¸€ä¸ªContentProvideræä¾›èµ„æºã€‚å› æ­¤ä¸€èˆ¬anthorityéƒ½ç”±ç±»çš„å°å†™å…¨ç§°ç»„æˆï¼Œä»¥ä¿è¯å”¯ä¸€æ€§ã€‚ data_pathæ˜¯æ•°æ®è·¯å¾„ï¼Œç”¨æ¥ç¡®å®šè¯·æ±‚çš„æ˜¯å“ªä¸ªæ•°æ®é›† idæ˜¯æ•°æ®ç¼–å·ï¼Œç”¨æ¥è¯·æ±‚å•æ¡æ•°æ®ã€‚å¦‚æœæ˜¯å¤šæ¡è¿™ä¸ªå­—æ®µå¿½ç•¥ã€‚ serverå†…å®¹æä¾›ç¨‹åº UserInfoProvider.java package com.showguan.chapter07_server.provider; import android.content.ContentProvider; import android.content.ContentValues; import android.content.UriMatcher; import android.database.Cursor; import android.database.sqlite.SQLiteDatabase; import android.net.Uri; import android.util.Log; import com.showguan.chapter07_server.database.UserDBHelper; public class UserInfoProvider extends ContentProvider { private static String TAG = \u0026#34;Kennem\u0026#34;; private UserDBHelper dbHelper; private static final int USER = 1; private static final int USERS = 2; private static final UriMatcher URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH); static { URI_MATCHER.addURI(UserInfoContent.AUTHORITIES, \u0026#34;/user/#\u0026#34;, USER); URI_MATCHER.addURI(UserInfoContent.AUTHORITIES, \u0026#34;/user\u0026#34;, USERS); } @Override public boolean onCreate() { // TODO: Implement this to initialize your content provider on startup. Log.d(TAG, \u0026#34;ContentProvider onCreate: \u0026#34;); dbHelper = UserDBHelper.getInstance(getContext()); return true; } @Override public Uri insert(Uri uri, ContentValues values) { if (URI_MATCHER.match(uri) == USERS) { SQLiteDatabase db = dbHelper.getWritableDatabase(); db.insert(UserDBHelper.TABLE_NAME, null, values); } return uri; } @Override public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) { if (URI_MATCHER.match(uri) == USERS) { Log.d(TAG, \u0026#34;UserInfoProvider query: \u0026#34;); SQLiteDatabase db = dbHelper.getReadableDatabase(); Cursor cursor = db.query(UserDBHelper.TABLE_NAME, projection, selection, selectionArgs, null, null, null); return cursor; } return null; } @Override public int delete(Uri uri, String selection, String[] selectionArgs) { int count = 0; switch (URI_MATCHER.match(uri)) { case USER: String id = uri.getLastPathSegment(); SQLiteDatabase db1 = dbHelper.getWritableDatabase(); count = db1.delete(UserDBHelper.TABLE_NAME, \u0026#34;_id = ?\u0026#34;, new String[]{id}); db1.close(); break; case USERS: SQLiteDatabase db2 = dbHelper.getWritableDatabase(); count = db2.delete(UserDBHelper.TABLE_NAME, selection, selectionArgs); db2.close(); break; } return count; } @Override public String getType(Uri uri) { // TODO: Implement this to handle requests for the MIME type of the data // at the given URI. throw new UnsupportedOperationException(\u0026#34;Not yet implemented\u0026#34;); } @Override public int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) { // TODO: Implement this to handle requests to update one or more rows. throw new UnsupportedOperationException(\u0026#34;Not yet implemented\u0026#34;); } } UserInfoContent.java å®šä¹‰å¸¸é‡ package com.showguan.chapter07_server.provider; import android.net.Uri; import android.provider.BaseColumns; public class UserInfoContent implements BaseColumns { public static final String AUTHORITIES = \u0026#34;com.showguan.chapter07_server.provider.UserInfoProvider\u0026#34;; public static final Uri CONTENT_URI = Uri.parse(\u0026#34;content://\u0026#34; + AUTHORITIES + \u0026#34;/user\u0026#34;); public static final String USER_NAME = \u0026#34;name\u0026#34;; public static final String USER_AGE = \u0026#34;age\u0026#34;; public static final String USER_HEIGHT = \u0026#34;height\u0026#34;; public static final String USER_WEIGHT = \u0026#34;weight\u0026#34;; public static final String USER_MARRIED = \u0026#34;married\u0026#34;; } UserDBHelper.javaåˆ›å»ºè¡¨ package com.showguan.chapter07_server.database; import android.content.ContentValues; import android.content.Context; import android.database.Cursor; import android.database.sqlite.SQLiteDatabase; import android.database.sqlite.SQLiteOpenHelper; import androidx.annotation.Nullable; import java.util.ArrayList; import java.util.List; public class UserDBHelper extends SQLiteOpenHelper { public static final String DB_NAME = \u0026#34;user.db\u0026#34;; public static final String TABLE_NAME = \u0026#34;user_info\u0026#34;; private static final int DB_VERSION = 2; private static UserDBHelper mHelper = null; private SQLiteDatabase mRDB = null; private SQLiteDatabase mWDB = null; private UserDBHelper(@Nullable Context context) { super(context, DB_NAME, null, DB_VERSION); } public static UserDBHelper getInstance(Context context) { if (mHelper == null) { mHelper = new UserDBHelper(context); } return mHelper; } @Override public void onCreate(SQLiteDatabase db) { String sql = \u0026#34;CREATE TABLE IF NOT EXISTS \u0026#34; + TABLE_NAME + \u0026#34; (\u0026#34; + \u0026#34;_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\u0026#34; + \u0026#34; name VARCHAR NOT NULL,\u0026#34; + \u0026#34; age INTEGER NOT NULL,\u0026#34; + \u0026#34; height LONG NOT NULL,\u0026#34; + \u0026#34; weight FLOAT NOT NULL,\u0026#34; + \u0026#34; married INTEGER NOT NULL);\u0026#34;; db.execSQL(sql); } @Override public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { } } clientæ¥å—æ•°æ®ç«¯ é¦–å…ˆåœ¨Manifestä¸­æ·»åŠ å¦‚ä¸‹ï¼Œè¡¨ç¤ºéœ€è¦è®¿é—®çš„å†…å®¹æä¾›è€…çš„åŒ…\nContentWriteActivity.java package com.showguan.chapter07_client; public class ContentWriteActivity extends AppCompatActivity implements View.OnClickListener { private static String TAG = \u0026#34;Kennem\u0026#34;; private EditText et_name; private EditText et_age; private EditText et_height; private EditText et_weight; private CheckBox ck_isMarried; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_content_write); et_name = findViewById(R.id.et_name); et_age = findViewById(R.id.et_age); et_height = findViewById(R.id.et_height); et_weight = findViewById(R.id.et_weight); ck_isMarried = findViewById(R.id.ck_isMarried); findViewById(R.id.btn_read).setOnClickListener(this); findViewById(R.id.btn_write).setOnClickListener(this); findViewById(R.id.btn_delete).setOnClickListener(this); } @SuppressLint(\u0026#34;Range\u0026#34;) @Override public void onClick(View v) { if(v.getId() == R.id.btn_write){ ContentValues values = new ContentValues(); values.put(UserInfoContent.USER_NAME, et_name.getText().toString()); values.put(UserInfoContent.USER_AGE, et_age.getText().toString()); values.put(UserInfoContent.USER_HEIGHT, et_height.getText().toString()); values.put(UserInfoContent.USER_WEIGHT, et_weight.getText().toString()); values.put(UserInfoContent.USER_MARRIED, ck_isMarried.isChecked()); getContentResolver().insert(UserInfoContent.CONTENT_URI, values); ToastUtil.show(this, \u0026#34;ä¿å­˜æˆåŠŸï¼\u0026#34;); } else if (v.getId() == R.id.btn_read) { Cursor cursor = getContentResolver().query(UserInfoContent.CONTENT_URI, null, null, null, null); if (cursor != null) { while(cursor.moveToNext()){ User info = new User(); info.setId(cursor.getInt(cursor.getColumnIndex(UserInfoContent._ID))); info.setAge(cursor.getInt(cursor.getColumnIndex(UserInfoContent.USER_AGE))); info.setName(cursor.getString(cursor.getColumnIndex(UserInfoContent.USER_NAME))); info.setHeight(cursor.getFloat(cursor.getColumnIndex(UserInfoContent.USER_HEIGHT))); info.setWeight(cursor.getFloat(cursor.getColumnIndex(UserInfoContent.USER_WEIGHT))); info.setMarried(cursor.getInt(cursor.getColumnIndex(UserInfoContent.USER_MARRIED)) == 1); Log.d(TAG, info.toString()); } cursor.close(); } } else if (v.getId() == R.id.btn_delete) { // æ ¹æ®idåˆ é™¤å•æ¡ // Uri uri = ContentUris.withAppendedId(UserInfoContent.CONTENT_URI, 1); // int count = getContentResolver().delete(uri, null, null); //æ ¹æ®åç§°åˆ é™¤å¤šæ¡ int count = getContentResolver().delete(UserInfoContent.CONTENT_URI, \u0026#34;name = ?\u0026#34;, new String[]{et_name.getText().toString()}); if(count \u0026gt; 0){ ToastUtil.show(this, \u0026#34;åˆ é™¤æˆåŠŸ\u0026#34;); }else{ ToastUtil.show(this, \u0026#34;åˆ é™¤å¤±è´¥ï¼Œä¸å­˜åœ¨åä¸º\u0026#34; + et_name.getText().toString() + \u0026#34;çš„ç”¨æˆ·ï¼\u0026#34;); } } } } é€šè¿‡Uriæ ¼å¼åˆ é™¤ä¸€ä¸ªç”¨æˆ· // æ ¹æ®idåˆ é™¤å•æ¡ Uri uri = ContentUris.withAppendedId(UserInfoContent.CONTENT_URI, 1); int count = getContentResolver().delete(uri, null, null); åŠ¨æ€ç”³è¯·æƒé™ æ­¥éª¤ï¼š\næ£€æŸ¥Appæ˜¯å¦å¼€å¯äº†æŒ‡å®šæƒé™ è°ƒç”¨ContextCompatçš„checkSelfPermissionæ–¹æ³• è¯·æ±‚ç³»ç»Ÿå¼¹çª—ï¼Œä»¥ä¾¿ç”¨æˆ·é€‰æ‹©æ˜¯å¦å¼€å¯æƒé™ è°ƒç”¨ActivityCompatçš„requestPermissionæ–¹æ³•ï¼Œå³å¯å‘½ä»¤ç³»ç»Ÿè‡ªåŠ¨å¼¹å‡ºæƒé™ç”³è¯·çª—å£ã€‚ åˆ¤æ–­ç”¨æˆ·çš„æƒé™é€‰æ‹©ç»“æœ é‡å†™æ´»åŠ¨é¡µé¢çš„æƒé™è¯·æ±‚å›è°ƒæ–¹æ³•onRequestPermissionResultï¼Œ åœ¨è¯¥æ–¹æ³•å†…éƒ¨å¤„ç†ç”¨æˆ·çš„æƒé™é€‰æ‹©ç»“æœã€‚ æ‡’æ±‰å¼è·å–æƒé™ é¦–å…ˆæ·»åŠ æŒ‰é’®äº‹ä»¶ç›‘å¬ï¼š @Override public void onClick(View v) { if (v.getId() == R.id.btn_contacts) { PermissionUtil.checkPermission(this, PERMISSIONS_CONTACTS, REQUEST_CODE_CONTACTS); } else if (v.getId() == R.id.btn_sms) { PermissionUtil.checkPermission(this, PERMISSIONS_SMS, REQUEST_CODE_SMS); } } åœ¨å·¥å…·ç±»ä¸­åˆ¤æ–­æ˜¯å¦æœ‰æ²¡æœ‰è·å–åˆ°çš„æƒé™ï¼Œç”³è¯·è·å– public static boolean checkPermission(Activity act, String[] permissions, int requestCode){ if(Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.M){ int check = PackageManager.PERMISSION_GRANTED; for (String permission : permissions) { check = ContextCompat.checkSelfPermission(act, permission); if(check != PackageManager.PERMISSION_GRANTED){ break; } } if(check != PackageManager.PERMISSION_GRANTED){ ActivityCompat.requestPermissions(act, permissions, requestCode); return false; } } return true; } å…¶ä¸­ActivityCompat.requestPermissionsæ–¹æ³•çš„å‚æ•°åœ¨onRequestPermissionsResultä¸­è¿”å› @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) { case REQUEST_CODE_CONTACTS: for (int grantResult : grantResults) { Log.d(TAG, String.valueOf(grantResult)); } if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;é€šè®¯å½•æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; case REQUEST_CODE_SMS: if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;çŸ­ä¿¡æ”¶å‘æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; } } PermissionLazyActivity.java package com.showguan.chapter07_client; import android.Manifest; import android.content.Intent; import android.net.Uri; import android.os.Bundle; import android.provider.Settings; import android.util.Log; import android.view.View; import androidx.activity.EdgeToEdge; import androidx.annotation.NonNull; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import com.showguan.chapter07_client.util.PermissionUtil; import com.showguan.chapter07_client.util.ToastUtil; public class PermissionLazyActivity extends AppCompatActivity implements View.OnClickListener { private static String TAG = \u0026#34;Kennem\u0026#34;; private static final String[] PERMISSIONS_CONTACTS = new String[]{ android.Manifest.permission.READ_CONTACTS, android.Manifest.permission.WRITE_CONTACTS }; private static final String[] PERMISSIONS_SMS = new String[]{ Manifest.permission.SEND_SMS, Manifest.permission.READ_SMS }; private static final int REQUEST_CODE_CONTACTS = 1; private static final int REQUEST_CODE_SMS = 2; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_permission_lazy); findViewById(R.id.btn_contacts).setOnClickListener(this); findViewById(R.id.btn_sms).setOnClickListener(this); } @Override public void onClick(View v) { if (v.getId() == R.id.btn_contacts) { PermissionUtil.checkPermission(this, PERMISSIONS_CONTACTS, REQUEST_CODE_CONTACTS); } else if (v.getId() == R.id.btn_sms) { PermissionUtil.checkPermission(this, PERMISSIONS_SMS, REQUEST_CODE_SMS); } } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) { case REQUEST_CODE_CONTACTS: for (int grantResult : grantResults) { Log.d(TAG, String.valueOf(grantResult)); } if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;é€šè®¯å½•æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; case REQUEST_CODE_SMS: if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;çŸ­ä¿¡æ”¶å‘æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; } } private void jumpToSettings() { Intent intent = new Intent(); intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS); intent.setData(Uri.fromParts(\u0026#34;package\u0026#34;, getPackageName(), null)); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); startActivity(intent); } } è·³è½¬åˆ°ç³»ç»Ÿæƒé™è®¾è®¡ç•Œé¢ï¼š private void jumpToSettings() { Intent intent = new Intent(); intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS); intent.setData(Uri.fromParts(\u0026#34;package\u0026#34;, getPackageName(), null)); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); startActivity(intent); } é¥¿æ±‰å¼è·å–æƒé™ PermissionHungryActivity.java ä¸åŒäºæ‡’æ±‰å¼ï¼Œåˆ›å»ºæ—¶å³ç”³è¯·å…¨éƒ¨æƒé™\npackage com.showguan.chapter07_client; import android.Manifest; import android.content.Intent; import android.content.pm.PackageManager; import android.net.Uri; import android.os.Bundle; import android.provider.Settings; import android.util.Log; import android.view.View; import androidx.activity.EdgeToEdge; import androidx.annotation.NonNull; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import com.showguan.chapter07_client.util.PermissionUtil; import com.showguan.chapter07_client.util.ToastUtil; public class PermissionHungryActivity extends AppCompatActivity implements View.OnClickListener { private static String TAG = \u0026#34;Kennem\u0026#34;; private static final String[] PERMISSIONS_ALL = new String[]{ android.Manifest.permission.READ_CONTACTS, android.Manifest.permission.WRITE_CONTACTS, android.Manifest.permission.SEND_SMS, Manifest.permission.READ_SMS }; private static final int REQUEST_CODE_ALL = 1; private static final int REQUEST_CODE_CONTACTS = 2; private static final int REQUEST_CODE_SMS = 3; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_permission_lazy); findViewById(R.id.btn_contacts).setOnClickListener(this); findViewById(R.id.btn_sms).setOnClickListener(this); PermissionUtil.checkPermission(this, PERMISSIONS_ALL, REQUEST_CODE_ALL); } @Override public void onClick(View v) { if (v.getId() == R.id.btn_contacts) { PermissionUtil.checkPermission(this, new String[]{PERMISSIONS_ALL[0], PERMISSIONS_ALL[1]}, REQUEST_CODE_CONTACTS); } else if (v.getId() == R.id.btn_sms) { PermissionUtil.checkPermission(this, new String[]{PERMISSIONS_ALL[2], PERMISSIONS_ALL[3]}, REQUEST_CODE_SMS); } } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) { case REQUEST_CODE_ALL: if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;æ‰€æœ‰æƒé™è·å–æˆåŠŸï¼\u0026#34;); } else { for (int i = 0; i \u0026lt; grantResults.length; i++) { if (grantResults[i] != PackageManager.PERMISSION_GRANTED) { switch (permissions[i]) { case Manifest.permission.READ_CONTACTS: case Manifest.permission.WRITE_CONTACTS: ToastUtil.show(this, \u0026#34;è·å–é€šè®¯å½•è¯»å†™æƒé™å¤±è´¥\u0026#34;); jumpToSettings(); return; case Manifest.permission.SEND_SMS: case Manifest.permission.READ_SMS: ToastUtil.show(this, \u0026#34;è·å–çŸ­ä¿¡è¯»å†™æƒé™å¤±è´¥\u0026#34;); jumpToSettings(); return; } } } } break; case REQUEST_CODE_CONTACTS: for (int grantResult : grantResults) { Log.d(TAG, String.valueOf(grantResult)); } if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;é€šè®¯å½•æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; case REQUEST_CODE_SMS: if (PermissionUtil.checkGranted(grantResults)) { Log.d(TAG, \u0026#34;çŸ­ä¿¡æ”¶å‘æƒé™è·å–æˆåŠŸ\u0026#34;); } else { ToastUtil.show(this, \u0026#34;è·å–æƒé™å¤±è´¥!\u0026#34;); jumpToSettings(); } break; } } private void jumpToSettings() { Intent intent = new Intent(); intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS); intent.setData(Uri.fromParts(\u0026#34;package\u0026#34;, getPackageName(), null)); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); startActivity(intent); } } æ·»åŠ è”ç³»äºº æ·»åŠ ç”¨æˆ·åˆ°é€šè®¯å½•ï¼Œè¯»å–æ‰€æœ‰è”ç³»äººä¿¡æ¯åˆ°logcatä¸­ã€‚\npackage com.showguan.chapter07_client; public class ContactAddActivity extends AppCompatActivity implements View.OnClickListener { private static String TAG = \u0026#34;Kennem\u0026#34;; private TextView et_name; private TextView et_phone; private TextView et_email; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_contact_add); et_name = findViewById(R.id.et_name); et_phone = findViewById(R.id.et_phone); et_email = findViewById(R.id.et_email); findViewById(R.id.btn_read).setOnClickListener(this); findViewById(R.id.btn_write).setOnClickListener(this); } @Override public void onClick(View v) { if (v.getId() == R.id.btn_write) { // åˆ›å»ºä¸€ä¸ªè”ç³»äººå¯¹è±¡ Contact contact = new Contact(); contact.name = et_name.getText().toString(); contact.phone = et_phone.getText().toString(); contact.email = et_email.getText().toString(); //addContacts(getContentResolver(), contact); //æ‰¹å¤„ç†æ–¹å¼ï¼Œæ¯ä¸€æ¬¡æ“ä½œéƒ½æ˜¯ä¸€ä¸ªContentProviderOperationï¼Œ æ„å»ºä¸€ä¸ªæ“ä½œé›†åˆï¼Œç„¶åä¸€æ¬¡æ€§æ‰§è¡Œ // å¥½å¤„ï¼šè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œä¿è¯äº†äº‹åŠ¡çš„ä¸€è‡´æ€§ addFullContacts(getContentResolver(), contact); } else if (v.getId() == R.id.btn_read) { readPhoneContact(getContentResolver()); } } @SuppressLint(\u0026#34;Range\u0026#34;) // ç¦ç”¨èŒƒå›´è­¦å‘Šï¼Œå› ä¸ºæˆ‘ä»¬æ‰‹åŠ¨å¤„ç†åˆ—ç´¢å¼• private void readPhoneContact(ContentResolver resolver) { // æŸ¥è¯¢RawContactsè¡¨ï¼Œè·å–æ‰€æœ‰è”ç³»äººçš„_raw_contact_id Cursor cursor = resolver.query( ContactsContract.RawContacts.CONTENT_URI, new String[]{ContactsContract.RawContacts._ID}, // åªæŸ¥è¯¢_raw_contact_idåˆ— null, // æ— ç­›é€‰æ¡ä»¶ null, // æ— ç­›é€‰æ¡ä»¶å‚æ•° null // æ— æ’åº ); // éå†æŸ¥è¯¢ç»“æœ while (cursor.moveToNext()) { // è·å–å½“å‰è®°å½•çš„raw_contact_id int rawContactId = cursor.getInt(0); // æ„å»ºç”¨äºæŸ¥è¯¢è”ç³»äººçš„Data URI Uri uri = Uri.parse(\u0026#34;content://com.android.contacts/contacts/\u0026#34; + rawContactId + \u0026#34;/data\u0026#34;); // æŸ¥è¯¢Dataè¡¨ï¼Œè·å–ä¸å½“å‰è”ç³»äººç›¸å…³çš„æ‰€æœ‰æ•°æ® Cursor dataCursor = resolver.query( uri, new String[]{Contacts.Data.MIMETYPE, Contacts.Data.DATA1, Contacts.Data.DATA2}, // æŸ¥è¯¢MIMEç±»å‹å’Œæ•°æ®åˆ— null, // æ— ç­›é€‰æ¡ä»¶ null, // æ— ç­›é€‰æ¡ä»¶å‚æ•° null // æ— æ’åº ); // åˆ›å»ºä¸€ä¸ªContactå¯¹è±¡ç”¨äºå­˜å‚¨æŸ¥è¯¢ç»“æœ Contact contact = new Contact(); // éå†æŸ¥è¯¢ç»“æœ while (dataCursor.moveToNext()) { // è·å–å½“å‰è®°å½•çš„DATA1åˆ—çš„å€¼ String data1 = dataCursor.getString(dataCursor.getColumnIndex(Contacts.Data.DATA1)); // è·å–å½“å‰è®°å½•çš„MIMETYPEåˆ—çš„å€¼ String mimeType = dataCursor.getString(dataCursor.getColumnIndex(Contacts.Data.MIMETYPE)); // æ ¹æ®MIMEç±»å‹ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°ç›¸åº”çš„Contactå±æ€§ä¸­ switch (mimeType) { case CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE: // å¦‚æœMIMEç±»å‹æ˜¯StructuredNameï¼Œåˆ™å°†data1èµ‹å€¼ç»™contactçš„nameå±æ€§ contact.name = data1; break; case CommonDataKinds.Phone.CONTENT_ITEM_TYPE: // å¦‚æœMIMEç±»å‹æ˜¯Phoneï¼Œåˆ™å°†data1èµ‹å€¼ç»™contactçš„phoneå±æ€§ contact.phone = data1; break; case CommonDataKinds.Email.CONTENT_ITEM_TYPE: // å¦‚æœMIMEç±»å‹æ˜¯Emailï¼Œåˆ™å°†data1èµ‹å€¼ç»™contactçš„emailå±æ€§ contact.email = data1; break; } } // å…³é—­Dataè¡¨çš„æŸ¥è¯¢ç»“æœæ¸¸æ ‡ dataCursor.close(); // å¦‚æœcontactçš„nameå±æ€§ä¸ä¸ºç©ºï¼Œåˆ™è¾“å‡ºè”ç³»äººå§“ååˆ°æ—¥å¿— if (contact.name != null) { Log.d(TAG, contact.name); } } // å…³é—­RawContactsè¡¨çš„æŸ¥è¯¢ç»“æœæ¸¸æ ‡ cursor.close(); } // å¾€æ‰‹æœºé€šè®¯å½•ä¸€æ¬¡æ€§æ·»åŠ ä¸€ä¸ªè”ç³»äººä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¸»è®°å½•ï¼Œå§“åï¼Œç”µè¯å·ç ï¼Œç”µå­é‚®ç®±ï¼‰ // äº‹åŠ¡æ€§ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ private void addFullContacts(ContentResolver contentResolver, Contact contact) { // åˆ›å»ºä¸€ä¸ªæ’å…¥è”ç³»äººä¸»è®°å½•çš„å†…å®¹æ“ä½œå™¨ ContentProviderOperation op_main = ContentProviderOperation // è®¾ç½®æ“ä½œç±»å‹ä¸ºæ’å…¥ .newInsert(ContactsContract.RawContacts.CONTENT_URI) // è®¾ç½®æ’å…¥çš„ACCOUNT_NAMEä¸ºnullï¼Œè¡¨ç¤ºä½¿ç”¨é»˜è®¤è´¦æˆ· .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null) // æ„å»ºæ“ä½œ .build(); // åˆ›å»ºä¸€ä¸ªæ’å…¥è”ç³»äººå§“åçš„å†…å®¹æ“ä½œå™¨ ContentProviderOperation op_name = ContentProviderOperation // è®¾ç½®æ“ä½œç±»å‹ä¸ºæ’å…¥ .newInsert(ContactsContract.Data.CONTENT_URI) // è®¾ç½®å¼•ç”¨çš„RAW_CONTACT_IDä¸ºå‰ä¸€ä¸ªæ“ä½œç”Ÿæˆçš„ID .withValueBackReference(Contacts.Data.RAW_CONTACT_ID, 0) // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºStructuredNameï¼ˆè”ç³»äººçš„åå­—ï¼‰ .withValue(Contacts.Data.MIMETYPE, CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE) // è®¾ç½®è”ç³»äººçš„åå­— .withValue(Contacts.Data.DATA1, contact.name) // æ„å»ºæ“ä½œ .build(); // åˆ›å»ºä¸€ä¸ªæ’å…¥è”ç³»äººç”µè¯å·ç çš„å†…å®¹æ“ä½œå™¨ ContentProviderOperation op_phone = ContentProviderOperation // è®¾ç½®æ“ä½œç±»å‹ä¸ºæ’å…¥ .newInsert(ContactsContract.Data.CONTENT_URI) // è®¾ç½®å¼•ç”¨çš„RAW_CONTACT_IDä¸ºå‰ä¸€ä¸ªæ“ä½œç”Ÿæˆçš„ID .withValueBackReference(Contacts.Data.RAW_CONTACT_ID, 0) // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºPhoneï¼ˆè”ç³»äººçš„ç”µè¯ï¼‰ .withValue(Contacts.Data.MIMETYPE, CommonDataKinds.Phone.CONTENT_ITEM_TYPE) // è®¾ç½®è”ç³»äººçš„ç”µè¯å·ç  .withValue(Contacts.Data.DATA1, contact.phone) // è®¾ç½®ç”µè¯å·ç çš„ç±»å‹ä¸ºMobileï¼ˆæ‰‹æœºï¼‰ .withValue(Contacts.Data.DATA2, CommonDataKinds.Phone.TYPE_MOBILE) // æ„å»ºæ“ä½œ .build(); // åˆ›å»ºä¸€ä¸ªæ’å…¥è”ç³»äººç”µå­é‚®ç®±çš„å†…å®¹æ“ä½œå™¨ ContentProviderOperation op_email = ContentProviderOperation // è®¾ç½®æ“ä½œç±»å‹ä¸ºæ’å…¥ .newInsert(ContactsContract.Data.CONTENT_URI) // è®¾ç½®å¼•ç”¨çš„RAW_CONTACT_IDä¸ºå‰ä¸€ä¸ªæ“ä½œç”Ÿæˆçš„ID .withValueBackReference(Contacts.Data.RAW_CONTACT_ID, 0) // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºEmailï¼ˆè”ç³»äººçš„é‚®ç®±ï¼‰ .withValue(Contacts.Data.MIMETYPE, CommonDataKinds.Email.CONTENT_ITEM_TYPE) // è®¾ç½®è”ç³»äººçš„ç”µå­é‚®ç®±åœ°å€ .withValue(Contacts.Data.DATA1, contact.email) // è®¾ç½®ç”µå­é‚®ç®±çš„ç±»å‹ä¸ºMobileï¼ˆæ‰‹æœºé‚®ç®±ï¼‰ .withValue(Contacts.Data.DATA2, CommonDataKinds.Email.TYPE_MOBILE) // æ„å»ºæ“ä½œ .build(); // åˆ›å»ºä¸€ä¸ªæ“ä½œåˆ—è¡¨ï¼Œç”¨äºæ‰¹é‡æ‰§è¡Œæ‰€æœ‰æ“ä½œ ArrayList\u0026lt;ContentProviderOperation\u0026gt; operations = new ArrayList\u0026lt;\u0026gt;(); // å°†æ’å…¥ä¸»è®°å½•çš„æ“ä½œæ·»åŠ åˆ°æ“ä½œåˆ—è¡¨ operations.add(op_main); // å°†æ’å…¥å§“åçš„æ“ä½œæ·»åŠ åˆ°æ“ä½œåˆ—è¡¨ operations.add(op_name); // å°†æ’å…¥ç”µè¯å·ç çš„æ“ä½œæ·»åŠ åˆ°æ“ä½œåˆ—è¡¨ operations.add(op_phone); // å°†æ’å…¥ç”µå­é‚®ç®±çš„æ“ä½œæ·»åŠ åˆ°æ“ä½œåˆ—è¡¨ operations.add(op_email); try { // æ‰§è¡Œæ‰¹é‡æ“ä½œï¼Œå°†æ‰€æœ‰æ•°æ®æ’å…¥è”ç³»äººæ•°æ®åº“ contentResolver.applyBatch(ContactsContract.AUTHORITY, operations); } catch (OperationApplicationException e) { // æ•è·OperationApplicationExceptionå¼‚å¸¸å¹¶æŠ›å‡ºRuntimeException throw new RuntimeException(e); } catch (RemoteException e) { // æ•è·RemoteExceptionå¼‚å¸¸å¹¶æŠ›å‡ºRuntimeException throw new RuntimeException(e); } } private void addContacts(ContentResolver resolver, Contact contact) { // åˆ›å»ºä¸€ä¸ªContentValueså¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æ–°è”ç³»äººæ•°æ® ContentValues values = new ContentValues(); // æ’å…¥ä¸€ä¸ªç©ºçš„RawContactè®°å½•ï¼Œè¿”å›è¯¥è®°å½•çš„URI Uri uri = resolver.insert(ContactsContract.RawContacts.CONTENT_URI, values); // è§£æå‡ºæ–°æ’å…¥è®°å½•çš„ID long rawContactId = ContentUris.parseId(uri); // åˆ›å»ºä¸€ä¸ªContentValueså¯¹è±¡ï¼Œç”¨äºå­˜å‚¨è”ç³»äººçš„åå­—æ•°æ® ContentValues name = new ContentValues(); // è®¾ç½®RAW_CONTACT_IDï¼Œè¡¨ç¤ºè¯¥æ•°æ®å±äºå“ªä¸ªè”ç³»äºº name.put(Contacts.Data.RAW_CONTACT_ID, rawContactId); // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºStructuredNameï¼ˆè”ç³»äººçš„åå­—ï¼‰ name.put(Contacts.Data.MIMETYPE, CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE); // è®¾ç½®è”ç³»äººçš„åå­— name.put(Contacts.Data.DATA1, contact.name); // å°†è”ç³»äººçš„åå­—æ•°æ®æ’å…¥åˆ°Dataè¡¨ä¸­ resolver.insert(ContactsContract.Data.CONTENT_URI, name); // åˆ›å»ºä¸€ä¸ªContentValueså¯¹è±¡ï¼Œç”¨äºå­˜å‚¨è”ç³»äººçš„ç”µè¯å·ç æ•°æ® ContentValues phone = new ContentValues(); // è®¾ç½®RAW_CONTACT_IDï¼Œè¡¨ç¤ºè¯¥æ•°æ®å±äºå“ªä¸ªè”ç³»äºº phone.put(Contacts.Data.RAW_CONTACT_ID, rawContactId); // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºPhoneï¼ˆè”ç³»äººçš„ç”µè¯ï¼‰ phone.put(Contacts.Data.MIMETYPE, CommonDataKinds.Phone.CONTENT_ITEM_TYPE); // è®¾ç½®è”ç³»äººçš„ç”µè¯å·ç  phone.put(Contacts.Data.DATA1, contact.phone); // è®¾ç½®ç”µè¯å·ç çš„ç±»å‹ä¸ºMobileï¼ˆæ‰‹æœºï¼‰ phone.put(Contacts.Data.DATA2, CommonDataKinds.Phone.TYPE_MOBILE); // å°†è”ç³»äººçš„ç”µè¯å·ç æ•°æ®æ’å…¥åˆ°Dataè¡¨ä¸­ resolver.insert(ContactsContract.Data.CONTENT_URI, phone); // åˆ›å»ºä¸€ä¸ªContentValueså¯¹è±¡ï¼Œç”¨äºå­˜å‚¨è”ç³»äººçš„é‚®ç®±æ•°æ® ContentValues email = new ContentValues(); // è®¾ç½®RAW_CONTACT_IDï¼Œè¡¨ç¤ºè¯¥æ•°æ®å±äºå“ªä¸ªè”ç³»äºº email.put(Contacts.Data.RAW_CONTACT_ID, rawContactId); // è®¾ç½®æ•°æ®çš„MIMEç±»å‹ä¸ºEmailï¼ˆè”ç³»äººçš„é‚®ç®±ï¼‰ email.put(Contacts.Data.MIMETYPE, CommonDataKinds.Email.CONTENT_ITEM_TYPE); // è®¾ç½®è”ç³»äººçš„é‚®ç®±åœ°å€ï¼ˆæ­¤å¤„é”™è¯¯ï¼Œåº”è¯¥æ˜¯contact.emailï¼Œè€Œä¸æ˜¯contact.phoneï¼‰ email.put(Contacts.Data.DATA1, contact.email); // çº æ­£äº†åŸæ¥çš„é”™è¯¯ // è®¾ç½®é‚®ç®±åœ°å€çš„ç±»å‹ä¸ºWorkï¼ˆå·¥ä½œé‚®ç®±ï¼‰ email.put(Contacts.Data.DATA2, CommonDataKinds.Email.TYPE_WORK); // å°†è”ç³»äººçš„é‚®ç®±æ•°æ®æ’å…¥åˆ°Dataè¡¨ä¸­ resolver.insert(ContactsContract.Data.CONTENT_URI, email); } private void addContact(ContentResolver resolver, Contact contact) { ContentValues values = new ContentValues(); Uri uri = resolver.insert(ContactsContract.RawContacts.CONTENT_URI, values); long rawDataId = ContentUris.parseId(uri); } } å‘é€çŸ­ä¿¡ Java package com.showguan.chapter07_client; // å®šä¹‰åŒ…å public class SentMmsActivity extends AppCompatActivity implements View.OnClickListener { // å®šä¹‰SentMmsActivityç±»ï¼Œç»§æ‰¿AppCompatActivityï¼Œå®ç°View.OnClickListeneræ¥å£ private static String TAG = \u0026#34;Kennem\u0026#34;; // å®šä¹‰TAGç”¨äºæ—¥å¿— private ActivityResultLauncher\u0026lt;Intent\u0026gt; mResultLauncher; // å®šä¹‰ActivityResultLauncherå˜é‡ private EditText et_phone_number; // å®šä¹‰EditTextå˜é‡ç”¨äºç”µè¯å·ç è¾“å…¥ private EditText et_title; // å®šä¹‰EditTextå˜é‡ç”¨äºæ ‡é¢˜è¾“å…¥ private EditText et_desc; // å®šä¹‰EditTextå˜é‡ç”¨äºæè¿°è¾“å…¥ private Uri picUri; // å®šä¹‰Uriå˜é‡ç”¨äºå­˜å‚¨å›¾ç‰‡URI @Override protected void onCreate(Bundle savedInstanceState) { // onCreateæ–¹æ³•ï¼ŒActivityåˆ›å»ºæ—¶è°ƒç”¨ super.onCreate(savedInstanceState); // è°ƒç”¨çˆ¶ç±»onCreateæ–¹æ³• setContentView(R.layout.activity_sent_mms); // è®¾ç½®å¸ƒå±€æ–‡ä»¶ ImageView iv_add_pic = findViewById(R.id.iv_add_pic); // è·å–ImageViewç”¨äºæ·»åŠ å›¾ç‰‡ findViewById(R.id.btn_send).setOnClickListener(this); // è®¾ç½®å‘é€æŒ‰é’®çš„ç‚¹å‡»ç›‘å¬ iv_add_pic.setOnClickListener(this); // è®¾ç½®æ·»åŠ å›¾ç‰‡æŒ‰é’®çš„ç‚¹å‡»ç›‘å¬ et_phone_number = findViewById(R.id.et_phone_number); // è·å–EditTextç”¨äºç”µè¯å·ç è¾“å…¥ et_title = findViewById(R.id.et_title); // è·å–EditTextç”¨äºæ ‡é¢˜è¾“å…¥ et_desc = findViewById(R.id.et_desc); // è·å–EditTextç”¨äºæè¿°è¾“å…¥ mResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -\u0026gt; { // æ³¨å†ŒActivityç»“æœå¯åŠ¨å™¨ if(result.getResultCode() == RESULT_OK){ // æ£€æŸ¥ç»“æœç æ˜¯å¦ä¸ºRESULT_OK Intent intent = result.getData(); // è·å–ç»“æœæ•°æ® picUri = intent.getData(); // è·å–å›¾ç‰‡URI if(picUri != null){ // å¦‚æœURIä¸ä¸ºç©º iv_add_pic.setImageURI(picUri); // è®¾ç½®ImageViewæ˜¾ç¤ºå›¾ç‰‡ Log.d(TAG, picUri.toString()); // æ‰“å°å›¾ç‰‡URIåˆ°æ—¥å¿— } } }); } @Override public void onClick(View v) { // onClickæ–¹æ³•ï¼Œå¤„ç†ç‚¹å‡»äº‹ä»¶ if(v.getId() == R.id.iv_add_pic){ // å¦‚æœç‚¹å‡»çš„æ˜¯æ·»åŠ å›¾ç‰‡æŒ‰é’® Intent intent = new Intent(Intent.ACTION_GET_CONTENT); // åˆ›å»ºIntentç”¨äºé€‰æ‹©å†…å®¹ intent.setType(\u0026#34;image/*\u0026#34;); // è®¾ç½®é€‰æ‹©ç±»å‹ä¸ºå›¾ç‰‡ mResultLauncher.launch(intent); // å¯åŠ¨é€‰æ‹©å›¾ç‰‡çš„Activity } else if (v.getId() == R.id.btn_send) { // å¦‚æœç‚¹å‡»çš„æ˜¯å‘é€æŒ‰é’® sendMms(et_phone_number.getText().toString(), // è°ƒç”¨sendMmsæ–¹æ³•å‘é€MMS et_title.getText().toString(), // è·å–æ ‡é¢˜æ–‡æœ¬ et_desc.getText().toString()); // è·å–æè¿°æ–‡æœ¬ } } private void sendMms(String phone, String title, String desc) { // sendMmsæ–¹æ³•ï¼Œç”¨äºå‘é€MMS Intent intent = new Intent(Intent.ACTION_SEND); // åˆ›å»ºå‘é€Intent intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); // æ·»åŠ æ–°ä»»åŠ¡æ ‡å¿— intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // æ·»åŠ URIè¯»æƒé™æ ‡å¿— intent.putExtra(\u0026#34;address\u0026#34;, phone); // è®¾ç½®ç”µè¯å·ç  intent.putExtra(\u0026#34;subject\u0026#34;, title); // è®¾ç½®æ ‡é¢˜ intent.putExtra(\u0026#34;sms_body\u0026#34;, desc); // è®¾ç½®æè¿° intent.putExtra(Intent.EXTRA_STREAM, picUri); // æ·»åŠ å›¾ç‰‡URI intent.setType(\u0026#34;image/*\u0026#34;); // è®¾ç½®ç±»å‹ä¸ºå›¾ç‰‡ startActivity(intent); // å¯åŠ¨å‘é€MMSçš„Activity ToastUtil.show(this, \u0026#34;ä»åœ¨å¼¹çª—ä¸­é€‰æ‹©ä¿¡æ¯æˆ–çŸ­ä¿¡åº”ç”¨\u0026#34;); // æ˜¾ç¤ºæç¤ºä¿¡æ¯ } } FileProvideræŒ‡å®šè·å–å›¾ç‰‡è·¯å¾„å¹¶å‘é€çŸ­ä¿¡ package com.showguan.chapter07_client; // å®šä¹‰åŒ…å public class ProvideMmsActivity extends AppCompatActivity { // å®šä¹‰ProvideMmsActivityç±»ï¼Œç»§æ‰¿AppCompatActivity private static String TAG = \u0026#34;Kennem\u0026#34;; // å®šä¹‰TAGç”¨äºæ—¥å¿— private List\u0026lt;ImageInfo\u0026gt; mImageList = new ArrayList\u0026lt;\u0026gt;(); // å®šä¹‰ç”¨äºå­˜å‚¨å›¾ç‰‡ä¿¡æ¯çš„åˆ—è¡¨ private GridLayout gl_appendix; // å®šä¹‰GridLayoutç”¨äºæ˜¾ç¤ºå›¾ç‰‡ private static final String[] PERMISSION_STORAGE = new String[]{ // å®šä¹‰å­˜å‚¨æƒé™æ•°ç»„ Manifest.permission.READ_EXTERNAL_STORAGE, }; private static final int PERMISSION_STORAGE_CODE = 1; // å®šä¹‰å­˜å‚¨æƒé™è¯·æ±‚ç  private EditText et_phone_number; // å®šä¹‰EditTextç”¨äºè¾“å…¥ç”µè¯å·ç  private EditText et_message; // å®šä¹‰EditTextç”¨äºè¾“å…¥æ¶ˆæ¯ private EditText et_title; // å®šä¹‰EditTextç”¨äºè¾“å…¥æ ‡é¢˜ @Override protected void onCreate(Bundle savedInstanceState) { // onCreateæ–¹æ³•ï¼ŒActivityåˆ›å»ºæ—¶è°ƒç”¨ super.onCreate(savedInstanceState); // è°ƒç”¨çˆ¶ç±»onCreateæ–¹æ³• setContentView(R.layout.activity_provide_mms); // è®¾ç½®å¸ƒå±€æ–‡ä»¶ gl_appendix = findViewById(R.id.gl_appendix); // è·å–GridLayoutç”¨äºæ˜¾ç¤ºå›¾ç‰‡ et_title = findViewById(R.id.et_title); // è·å–EditTextç”¨äºè¾“å…¥æ ‡é¢˜ et_message = findViewById(R.id.et_message); // è·å–EditTextç”¨äºè¾“å…¥æ¶ˆæ¯ et_phone_number = findViewById(R.id.et_phone_number); // è·å–EditTextç”¨äºè¾“å…¥ç”µè¯å·ç  MediaScannerConnection.scanFile( // è°ƒç”¨MediaScannerConnectionæ‰«ææ–‡ä»¶ this, new String[]{Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString()}, // æ‰«æä¸‹è½½ç›®å½• null, null ); if (PermissionUtil.checkPermission(this, PERMISSION_STORAGE, PERMISSION_STORAGE_CODE)) { // æ£€æŸ¥å­˜å‚¨æƒé™ loadImageList(); // åŠ è½½å›¾ç‰‡åˆ—è¡¨ showImageGrid(); // æ˜¾ç¤ºå›¾ç‰‡ç½‘æ ¼ } } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { // æƒé™è¯·æ±‚ç»“æœå›è°ƒ super.onRequestPermissionsResult(requestCode, permissions, grantResults); // è°ƒç”¨çˆ¶ç±»æ–¹æ³• if (requestCode == PERMISSION_STORAGE_CODE) { // åˆ¤æ–­è¯·æ±‚ç æ˜¯å¦ä¸ºå­˜å‚¨æƒé™ if (PermissionUtil.checkGranted(grantResults)) { // æ£€æŸ¥æƒé™æ˜¯å¦è¢«æˆäºˆ loadImageList(); // åŠ è½½å›¾ç‰‡åˆ—è¡¨ showImageGrid(); // æ˜¾ç¤ºå›¾ç‰‡ç½‘æ ¼ } } } private void showImageGrid() { // æ˜¾ç¤ºå›¾ç‰‡ç½‘æ ¼çš„æ–¹æ³• gl_appendix.removeAllViews(); // ç§»é™¤æ‰€æœ‰è§†å›¾ for (ImageInfo image : mImageList) { // éå†å›¾ç‰‡åˆ—è¡¨ ImageView imageView = new ImageView(this); // åˆ›å»ºImageView Bitmap bitmap = BitmapFactory.decodeFile(image.path); // è§£ç å›¾ç‰‡æ–‡ä»¶ imageView.setImageBitmap(bitmap); // è®¾ç½®å›¾ç‰‡ imageView.setScaleType(ImageView.ScaleType.FIT_CENTER); // è®¾ç½®ç¼©æ”¾ç±»å‹ int px = Utils.dip2px(this, 110); // å°†110dpè½¬æ¢ä¸ºpx ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(px, px); // åˆ›å»ºå¸ƒå±€å‚æ•° imageView.setLayoutParams(params); // è®¾ç½®å¸ƒå±€å‚æ•° int padding = Utils.dip2px(this, 5); // å°†5dpè½¬æ¢ä¸ºpx imageView.setPadding(padding, padding, padding, padding); // è®¾ç½®å†…è¾¹è· imageView.setOnClickListener(v -\u0026gt; { // è®¾ç½®ç‚¹å‡»ç›‘å¬å™¨ sendMms(et_phone_number.getText().toString(), // è·å–è¾“å…¥çš„ç”µè¯å·ç  et_title.getText().toString(), // è·å–è¾“å…¥çš„æ ‡é¢˜ et_message.getText().toString(), // è·å–è¾“å…¥çš„æ¶ˆæ¯ image.path); // è·å–å›¾ç‰‡è·¯å¾„ }); gl_appendix.addView(imageView); // å°†ImageViewæ·»åŠ åˆ°GridLayout } } private void sendMms(String phone, String title, String desc, String path) { // å‘é€MMSçš„æ–¹æ³• Uri uri = Uri.parse(path); // å°†è·¯å¾„è§£æä¸ºUri // å…¼å®¹Android 7.0 æŠŠè®¿é—®æ–‡ä»¶çš„Uriæ–¹å¼æ”¹ä¸ºFileProvider if (Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.N) { // åˆ¤æ–­æ˜¯å¦ä¸ºAndroid 7.0åŠä»¥ä¸Š uri = FileProvider.getUriForFile(this, getString(R.string.file_Provider), new File(path)); // ä½¿ç”¨FileProviderè·å–Uri Log.d(TAG, String.format(\u0026#34;FileProvider Uri : %s\u0026#34;, uri.toString())); // æ‰“å°FileProviderçš„Uri } Intent intent = new Intent(Intent.ACTION_SEND); // åˆ›å»ºå‘é€Intent intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); // æ·»åŠ æ–°ä»»åŠ¡æ ‡å¿— intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // æ·»åŠ è¯»å–URIæƒé™æ ‡å¿— intent.putExtra(\u0026#34;address\u0026#34;, phone); // è®¾ç½®ç”µè¯å·ç  intent.putExtra(\u0026#34;subject\u0026#34;, title); // è®¾ç½®æ ‡é¢˜ intent.putExtra(\u0026#34;sms_body\u0026#34;, desc); // è®¾ç½®æ¶ˆæ¯å†…å®¹ intent.putExtra(Intent.EXTRA_STREAM, uri); // æ·»åŠ å›¾ç‰‡Uri intent.setType(\u0026#34;image/*\u0026#34;); // è®¾ç½®ç±»å‹ä¸ºå›¾ç‰‡ startActivity(intent); // å¯åŠ¨Activity ToastUtil.show(this, \u0026#34;ä»åœ¨å¼¹çª—ä¸­é€‰æ‹©ä¿¡æ¯æˆ–çŸ­ä¿¡åº”ç”¨\u0026#34;); // æ˜¾ç¤ºæç¤ºä¿¡æ¯ } @SuppressLint(\u0026#34;Range\u0026#34;) private void loadImageList() { // åŠ è½½å›¾ç‰‡åˆ—è¡¨çš„æ–¹æ³• String[] columns = new String[]{ // å®šä¹‰è¦æŸ¥è¯¢çš„åˆ— MediaStore.Images.Media._ID, MediaStore.Images.Media.TITLE, MediaStore.Images.Media.SIZE, MediaStore.Images.Media.DATA }; Cursor cursor = getContentResolver().query( // æŸ¥è¯¢å›¾ç‰‡åª’ä½“åº“ MediaStore.Images.Media.EXTERNAL_CONTENT_URI, // æŸ¥è¯¢å¤–éƒ¨å›¾ç‰‡URI columns, // æŸ¥è¯¢çš„åˆ— \u0026#34;_size \u0026lt; 307200\u0026#34;, // æŸ¥è¯¢æ¡ä»¶ï¼šå¤§å°å°äº300KB null, // æŸ¥è¯¢å‚æ•° \u0026#34;_size DESC\u0026#34;); // æ’åºæ–¹å¼ï¼šæŒ‰å¤§å°é™åº int count = 0; // å®šä¹‰è®¡æ•°å™¨ if (cursor != null) { // å¦‚æœæ¸¸æ ‡ä¸ä¸ºç©º while (cursor.moveToNext() \u0026amp;\u0026amp; count \u0026lt; 6) { // éå†æŸ¥è¯¢ç»“æœï¼Œæœ€å¤š6ä¸ª ImageInfo image = new ImageInfo(); // åˆ›å»ºImageInfoå¯¹è±¡ image.id = cursor.getLong(cursor.getColumnIndex(MediaStore.Images.Media._ID)); // è·å–å›¾ç‰‡ID image.name = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.TITLE)); // è·å–å›¾ç‰‡æ ‡é¢˜ image.size = cursor.getLong(cursor.getColumnIndex(MediaStore.Images.Media.SIZE)); // è·å–å›¾ç‰‡å¤§å° image.path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA)); // è·å–å›¾ç‰‡è·¯å¾„ if (FileUtil.checkFileUri(this, image.path)) { // æ£€æŸ¥æ–‡ä»¶URIæ˜¯å¦æœ‰æ•ˆ count += 1; // å¢åŠ è®¡æ•° mImageList.add(image); // å°†å›¾ç‰‡ä¿¡æ¯æ·»åŠ åˆ°åˆ—è¡¨ } Log.d(TAG, image.toString()); // æ‰“å°å›¾ç‰‡ä¿¡æ¯ } } } } xml \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:padding=\u0026#34;5dp\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;40dp\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;å¯¹æ–¹å·ç ï¼š\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_phone_number\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:layout_margin=\u0026#34;3dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; android:inputType=\u0026#34;number\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; android:text=\u0026#34;10086\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;40dp\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;å½©ä¿¡æ ‡é¢˜ï¼š\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_title\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:layout_margin=\u0026#34;3dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; android:text=\u0026#34;Hallo\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;100dp\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;å½©ä¿¡å†…å®¹ï¼š\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_message\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:layout_margin=\u0026#34;3dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; android:gravity=\u0026#34;left|top\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; android:text=\u0026#34;test\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;30dp\u0026#34; android:text=\u0026#34;ç‚¹å‡»ä¸‹æ–¹å›¾ç‰‡å¼€å§‹å‘é€å½©ä¿¡\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;GridLayout andddroid:id=\u0026#34;@+id/gl_appendix\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:columnCount=\u0026#34;3\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; FileProvider å®‰è£…apk Java package com.showguan.chapter07_client; public class ProviderApkActivity extends AppCompatActivity implements View.OnClickListener { private static final String TAG = \u0026#34;Kennem\u0026#34;; // æ‰€éœ€æƒé™åˆ—è¡¨ private static final String[] PERMISSIONS = new String[]{ Manifest.permission.REQUEST_INSTALL_PACKAGES, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE }; // è¯·æ±‚ç ï¼Œç”¨äºæƒé™è¯·æ±‚å›è°ƒæ ‡è¯† private static final int REQUEST_CODE = 1; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_provider_apk); // è®¾ç½®æŒ‰é’®ç‚¹å‡»ç›‘å¬ findViewById(R.id.btn_install).setOnClickListener(this); } @Override public void onClick(View v) { // æ£€æŸ¥æƒé™å¹¶å®‰è£…APK checkAndInstall(); } /** * æ£€æŸ¥æƒé™å¹¶å®‰è£…APK */ private void checkAndInstall() { if (Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.R) { Log.d(TAG, \u0026#34;android 11 + \u0026#34;); // æ£€æŸ¥æ˜¯å¦å…·æœ‰ç®¡ç†æ‰€æœ‰æ–‡ä»¶çš„æƒé™ if (!Environment.isExternalStorageManager()) { Log.d(TAG, \u0026#34;checkisExternalStorageManager\u0026#34;); // è·³è½¬åˆ°è®¾ç½®é¡µé¢è¯·æ±‚æƒé™ Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); intent.setData(Uri.fromParts(\u0026#34;package\u0026#34;, getPackageName(), null)); startActivity(intent); } else { // æƒé™å·²æˆäºˆï¼Œ // å®‰è£…APK installApk(); } } else { // æ£€æŸ¥æ‰€éœ€æƒé™æ˜¯å¦å·²å…¨éƒ¨æˆäºˆ if (PermissionUtil.checkPermission(this, PERMISSIONS, REQUEST_CODE)) { // æƒé™å·²æˆäºˆï¼Œå®‰è£…APK installApk(); } } } /** * å®‰è£…APKæ–‡ä»¶ */ private void installApk() { // è·å–APKæ–‡ä»¶çš„è·¯å¾„ String apkPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() + \u0026#34;/chapter06-release.apk\u0026#34;; Log.d(TAG, \u0026#34;apkPath:\u0026#34; + apkPath); // è·å–åº”ç”¨åŒ…ç®¡ç†å™¨ PackageManager pm = getPackageManager(); // è·å–APKæ–‡ä»¶çš„åŒ…ä¿¡æ¯ PackageInfo pi = pm.getPackageArchiveInfo(apkPath, PackageManager.GET_ACTIVITIES); if (pi == null) { // å¦‚æœåŒ…ä¿¡æ¯ä¸ºç©ºï¼Œæ˜¾ç¤ºæ–‡ä»¶æŸåæç¤º ToastUtil.show(this, \u0026#34;å®‰è£…æ–‡ä»¶å·²ç»æŸå!\u0026#34;); return; } // è·å–APKæ–‡ä»¶çš„Uri Uri uri = Uri.parse(apkPath); // å…¼å®¹Android 7.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œé€šè¿‡FileProviderè·å–Uri if (Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.N) { // é€šè¿‡FileProviderè·å–æ–‡ä»¶çš„Uri uri = FileProvider.getUriForFile(this, getString(R.string.file_provider), new File(apkPath)); Log.d(\u0026#34;Kennem\u0026#34;, String.format(\u0026#34;new uri:%s\u0026#34;, uri.toString())); } // åˆ›å»ºIntentä»¥å¯åŠ¨APKå®‰è£…ç¨‹åº Intent intent = new Intent(Intent.ACTION_VIEW); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // è®¾ç½®Uriçš„æ•°æ®ç±»å‹ä¸ºAPKæ–‡ä»¶ intent.setDataAndType(uri, \u0026#34;application/vnd.android.package-archive\u0026#34;); // å¯åŠ¨ç³»ç»Ÿè‡ªå¸¦çš„åº”ç”¨å®‰è£…ç¨‹åº startActivity(intent); } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); // æ£€æŸ¥æƒé™è¯·æ±‚ç»“æœ if (requestCode == REQUEST_CODE \u0026amp;\u0026amp; PermissionUtil.checkGranted(grantResults)) { // æƒé™å·²æˆäºˆï¼Œå®‰è£…APK installApk(); } } } ","permalink":"https://kennems.github.io/zh/posts/tech/android4/","summary":"Androidï¼ˆ4ï¼‰ å°±ç®—æ˜¯æœ€ä½çš„15x15éƒ½å·²ç»ä¸é”™äº†ï¼Œä»¥åè¿˜æœ‰æ—¶é—´å»å­¦ï¼Œä¸Šäº†ç ”ç©¶ç”Ÿä¹Ÿæ²¡äººèƒ½ä¿è¯ä½ æœ‰15x15çš„æ”¶å…¥ å†…å®¹æä¾›è€…(Conten","title":"Androidï¼ˆ4ï¼‰"},{"content":"Androidï¼ˆ2ï¼‰ Activityçš„å¯åŠ¨å’Œç»“æŸ ä»å½“å‰é¡µé¢è·³è½¬åˆ°æ–°é¡µé¢ï¼Œè·³è½¬ä»£ç å¦‚ä¸‹ï¼š\nstartActivity(new Intent(æºé¡µé¢.thisï¼Œ ç›®æ ‡é¡µé¢.class)) ä»å½“å‰é¡µé¢å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ï¼Œç›¸å½“äºå…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä»£ç å¦‚ä¸‹ï¼š\nfinish(); //ç»“æŸå½“å‰çš„æ´»åŠ¨é¡µé¢ Activityå£°æ˜å‘¨æœŸ onCreate ï¼šåˆ›å»ºæ´»åŠ¨ã€‚æŠŠé¡µé¢å¸ƒå±€åŠ è½½è¿›å†…å­˜ï¼Œè¿›å…¥äº†åˆå§‹çŠ¶æ€ã€‚ onStartï¼šå¼€å§‹æ´»åŠ¨ã€‚æŠŠæ´»åŠ¨æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œè¿›å…¥äº†å°±ç»ªçŠ¶æ€ onResumeï¼šæ¢å¤æ´»åŠ¨ã€‚æ´»åŠ¨é¡µé¢è¿›å…¥äº†æ´»è·ƒçŠ¶æ€ï¼Œèƒ½å¤Ÿä¸ç”¨æˆ·æ­£å¸¸äº¤äº’ï¼Œä¾‹å¦‚å…è®¸å“åº”ç”¨æˆ·çš„ç‚¹å‡»åŠ¨ä½œï¼Œå…è®¸ç”¨æˆ·è¾“å…¥æ–‡å­—ç­‰ç­‰ã€‚åŠ¨ç”»å¼€å¯ onPauseï¼šæš‚åœæ´»åŠ¨ã€‚é¡µé¢è¿›å…¥æš‚åœçŠ¶æ€ï¼Œæ— æ³•ä¸ç”¨æˆ·æ­£å¸¸äº¤äº’ã€‚åŠ¨ç”»æš‚åœ onStopï¼šåœæ­¢æ´»åŠ¨ã€‚é¡µé¢ä¸åœ¨å±å¹•ä¸Šæ˜¾ç¤ºã€‚ onDestroyï¼šé”€æ¯æ´»åŠ¨ã€‚å›æ”¶æ´»åŠ¨å ç”¨çš„ç³»ç»Ÿèµ„æºï¼ŒæŠŠé¡µé¢ä»å†…å­˜ä¸­æ¸…é™¤ã€‚ onRestartï¼šé‡å¯æ´»åŠ¨ã€‚é‡æ–°åŠ è½½å†…å­˜ä¸­çš„é¡µé¢æ•°æ®ã€‚ onNewIntentï¼šé‡ç”¨å·²æœ‰çš„æ´»åŠ¨å®ä¾‹ Activityçš„å¯åŠ¨æ¨¡å¼ launchModeå±æ€§å€¼ è¯´æ˜ standard æ ‡å‡†æ¨¡å¼ï¼Œæ— è®ºä½•æ—¶å¯åŠ¨å“ªä¸ªæ´»åŠ¨ï¼Œéƒ½æ˜¯é‡æ–°åˆ›å»ºè¯¥é¡µé¢çš„å®ä¾‹å¹¶æ”¾å…¥æ ˆé¡¶ã€‚å¦‚æœä¸æŒ‡å®šlaunchModeå±æ€§ï¼Œåˆ™é»˜è®¤ä¸ºæ ‡å‡†æ¨¡å¼ singleTop å¯åŠ¨æ–°æ´»åŠ¨æ—¶ï¼Œåˆ¤æ–­å¦‚æœæ ˆé¡¶æ­£å¥½å°±æ˜¯è¯¥æ´»åŠ¨çš„å®ä¾‹ï¼Œåˆ™é‡ç”¨è¯¥å®ä¾‹ï¼›å¦åˆ™åˆ›å»ºæ–°çš„å®ä¾‹å¹¶æ”¾å…¥æ ˆé¡¶ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§standardæ¨¡å¼å¤„ç† singleTask å¯åŠ¨æ–°æ´»åŠ¨æ—¶ï¼Œåˆ¤æ–­å¦‚æœæ ˆä¸­å­˜åœ¨è¯¥æ´»åŠ¨çš„å®ä¾‹ï¼Œåˆ™é‡ç”¨è¯¥å®ä¾‹ï¼Œå¯åŠ¨æ–°æ´»åŠ¨æ—¶ï¼Œåˆ¤æ–­å¦‚æœæ ˆä¸­å­˜åœ¨è¯¥æ´»åŠ¨çš„å®ä¾‹ï¼Œåˆ™é‡ç”¨è¯¥å®ä¾‹ï¼Œå¹¶æ¸…é™¤ä½äºè¯¥å®ä¾‹ä¸Šé¢çš„æ‰€æœ‰å®ä¾‹ï¼›å¦åˆ™æŒ‰ç…§standardæ¨¡å¼å¤„ç† singleInstance å¯åŠ¨æ–°æ´»åŠ¨æ—¶ï¼Œå°†è¯¥æ´»åŠ¨çš„å®ä¾‹æ”¾å…¥ä¸€ä¸ªæ–°æ ˆä¸­ï¼ŒåŸæ ˆçš„å®ä¾‹åˆ—è¡¨ä¿æŒä¸å˜ å¯åŠ¨æ ‡å¿—çš„å–å€¼è¯´æ˜å¦‚ä¸‹ï¼š\nIntent.FLAG_ACTIVITY_NEW_TASKï¼šå¼€è¾Ÿä¸€ä¸ªæ–°çš„ä»»åŠ¡æ ˆ\nIntent.FLAG_ACTIVITY_SINGLE_TOPï¼šå½“æ ˆé¡¶ä¸ºå¾…è·³è½¬çš„æ´»åŠ¨å®ä¾‹ä¹‹æ—¶ï¼Œåˆ™é‡ç”¨æ ˆé¡¶çš„å®ä¾‹\nIntent.FLAG_ACTIVITY_CLEAR_TOPï¼šå½“æ ˆä¸­å­˜åœ¨å¾…è·³è½¬çš„æ´»åŠ¨å®ä¾‹æ—¶ï¼Œåˆ™é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œå¹¶æ¸…é™¤åŸå®ä¾‹ä¸Šæ–¹çš„æ‰€æœ‰å®ä¾‹\nIntent.FLAG_ACTIVITY_NO_HISTORYï¼šæ ˆä¸­ä¸ä¿å­˜æ–°å¯åŠ¨çš„æ´»åŠ¨å®ä¾‹\nIntent.FLAG_ACTIVITY_CLEAR_TASKï¼šè·³è½¬åˆ°æ–°é¡µé¢æ—¶ï¼Œæ ˆä¸­çš„åŸæœ‰å®ä¾‹éƒ½è¢«æ¸…ç©º\næ˜¾ç¤ºIntentå’Œéšå¼Intent Intentæ˜¯å„ä¸ªç»„ä»¶ä¹‹é—´ä¿¡æ¯æ²Ÿé€šçš„æ¡¥æ¢ï¼Œå®ƒç”¨äºAndroidå„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦å®Œæˆä¸‹åˆ—å·¥ä½œï¼š\næ ‡æ˜æœ¬æ¬¡é€šä¿¡è¯·æ±‚ä»å“ªé‡Œæ¥ï¼Œåˆ°å“ªé‡Œå»ï¼Œè¦æ€ä¹ˆèµ°ã€‚ å‘èµ·æ–¹æºå¸¦æœ¬æ¬¡é€šä¿¡éœ€è¦çš„æ•°æ®å†…å®¹ï¼Œæ¥æ”¶æ–¹ä»æ”¶åˆ°çš„æ„å›¾ä¸­è§£ææ•°æ® å‘èµ·æ–¹è‹¥æƒ³åˆ¤æ–­æ¥æ”¶æ–¹çš„å¤„ç†ç»“æœï¼Œæ„å›¾å°±è¦è´Ÿè´£è®©æ¥æ”¶æ–¹ä¼ å›åº”ç­”çš„æ•°æ®å†…å®¹ æ˜¾ç¤ºIntent æ˜¾ç¤ºIntentï¼Œç›´æ¥æŒ‡å®šæ¥æºæ´»åŠ¨ä¸ç›®æ ‡æ´»åŠ¨ï¼Œå±äºç²¾ç¡®åŒ¹é…ã€‚ä¸‰ç§æ„å»ºæ–¹å¼ï¼š\nåœ¨Intentçš„æ„é€ å‡½æ•°ä¸­æŒ‡å®š è°ƒç”¨æ„å›¾å¯¹è±¡çš„setClassæ–¹æ³•æŒ‡å®š è°ƒç”¨æ„å›¾å¯¹è±¡çš„setComponentæ–¹æ³•æŒ‡å®š @Override public void onClick(View v) { // startActivity(new Intent(this, ActFinishActivity.class)); // Intent intent = new Intent(); // intent.setClass(this, ActFinishActivity.class) // startActivity(intent); Intent intent = new Intent(); ComponentName componentName = new ComponentName(this, ActFinishActivity.class); intent.setComponent(componentName); Log.d(TAG, \u0026#34;ActStartActivity onClick\u0026#34;); } éšå¼Intent æ²¡æœ‰æ˜ç¡®æŒ‡å®šè¦è·³è½¬çš„ç›®æ ‡æ´»åŠ¨ï¼Œåªç»™å‡ºä¸€ä¸ªåŠ¨ä½œå­—ç¬¦ä¸²è®©ç³»ç»Ÿè‡ªåŠ¨åŒ¹é…ã€‚å±äºæ¨¡ç³ŠåŒ¹é…ã€‚åŠ¨ä½œåç§°æ—¢å¯ä»¥é€šè¿‡setActionæ–¹æ³•æŒ‡å®šï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°Intent(String action)ç›´æ¥ç”Ÿæˆæ„å›¾å¯¹è±¡ã€‚å¸¸ç”¨çš„ç³»ç»ŸåŠ¨ä½œå¦‚ä¸‹è¡¨ï¼š\nAndroidManifest.xml æŒ‡å®šä¸€ä¸ªéœ€è¦è‡ªå®šä¹‰è·³è½¬çš„View, å°†\u0026lt;action\u0026gt; å’Œ \u0026lt;category\u0026gt;ä¸¤ä¸ªæ ‡ç­¾åˆ†åˆ«ä¿®æ”¹ä¸ºï¼Œè‡ªå®šä¹‰åŒ…åï¼Œä»¥åŠandroid.intent.category.DEFAULT\n\u0026lt;activity android:name=\u0026#34;.LoginInputActivity\u0026#34; android:exported=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;intent-filter\u0026gt; \u0026lt;action android:name=\u0026#34;android.intent.action.kennem\u0026#34; /\u0026gt; \u0026lt;category android:name=\u0026#34;android.intent.category.DEFAULT\u0026#34; /\u0026gt; \u0026lt;/intent-filter\u0026gt; \u0026lt;/activity\u0026gt; XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:padding=\u0026#34;5dp\u0026#34; android:text=\u0026#34;ç‚¹å‡»ä»¥ä¸‹æŒ‰é’®å¯¹å·ç 123321å‘èµ·è¯·æ±‚\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_dial\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è·³è½¬åˆ°æ‹¨å·é¡µé¢\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_sms\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è·³è½¬åˆ°å‘çŸ­ä¿¡é¡µé¢\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_my\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è·³è½¬åˆ°æˆ‘çš„é¡µé¢\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java // å®šä¹‰ä¸€ä¸ªåä¸º ActUriActivity çš„ Activity ç±»ï¼Œç»§æ‰¿è‡ª AppCompatActivity å¹¶å®ç° View.OnClickListener æ¥å£ public class ActUriActivity extends AppCompatActivity implements View.OnClickListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½® Activity çš„å¸ƒå±€æ–‡ä»¶ setContentView(R.layout.activity_act_uri); // ä¸ºä¸‰ä¸ªæŒ‰é’®è®¾ç½®ç‚¹å‡»ç›‘å¬å™¨ findViewById(R.id.btn_dial).setOnClickListener(this); findViewById(R.id.btn_sms).setOnClickListener(this); findViewById(R.id.btn_my).setOnClickListener(this); } @Override public void onClick(View v) { // åˆ›å»ºä¸€ä¸ª Intent å¯¹è±¡ï¼Œç”¨äºå¯åŠ¨å…¶ä»– Activity Intent intent = new Intent(); // å®šä¹‰ä¸€ä¸ªç”µè¯å·ç å­—ç¬¦ä¸² String phoneNum = \u0026#34;123654789\u0026#34;; // æ ¹æ®ç‚¹å‡»çš„æŒ‰é’® ID æ‰§è¡Œç›¸åº”çš„æ“ä½œ if (v.getId() == R.id.btn_dial) { // è®¾ç½® Intent çš„ Action ä¸ºæ‹¨å· intent.setAction(Intent.ACTION_DIAL); // åˆ›å»ºä¸€ä¸ª Uri å¯¹è±¡ï¼Œè¡¨ç¤ºç”µè¯å·ç  Uri uri = Uri.parse(\u0026#34;tel:\u0026#34; + phoneNum); // å°† Uri æ•°æ®è®¾ç½®åˆ° Intent ä¸­ intent.setData(uri); // å¯åŠ¨æ‹¨å·ç•Œé¢ startActivity(intent); } else if (v.getId() == R.id.btn_sms) { // è®¾ç½® Intent çš„ Action ä¸ºå‘é€çŸ­ä¿¡ intent.setAction(Intent.ACTION_SENDTO); // åˆ›å»ºä¸€ä¸ª Uri å¯¹è±¡ï¼Œè¡¨ç¤ºçŸ­ä¿¡å·ç  Uri uri2 = Uri.parse(\u0026#34;smsto:\u0026#34; + phoneNum); // å°† Uri æ•°æ®è®¾ç½®åˆ° Intent ä¸­ intent.setData(uri2); // å¯åŠ¨çŸ­ä¿¡ç•Œé¢ startActivity(intent); } else if (v.getId() == R.id.btn_my) { // è®¾ç½® Intent çš„ Action ä¸ºè‡ªå®šä¹‰ Action intent.setAction(\u0026#34;android.intent.action.kennem\u0026#34;); // æ·»åŠ é»˜è®¤ç±»åˆ« intent.addCategory(Intent.CATEGORY_DEFAULT); // å¯åŠ¨è‡ªå®šä¹‰çš„ Activity startActivity(intent); } } } å‘ä¸‹ä¸€ä¸ªActivityå‘é€æ•°æ®\nIntentä½¿ç”¨Bundleå¯¹è±¡å­˜æ”¾å¾…ä¼ é€’çš„æ•°æ®ä¿¡æ¯ã€‚ Bundleå¯¹è±¡æ“ä½œå„ç§ç±»å‹æ•°æ®çš„è¯»å†™æ–¹æ³•è¯´æ˜ï¼š å‘ä¸‹ä¸€ä¸ªActivityå‘é€æ•°æ® XML send.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_send\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;åšæŒä¸‹å»\u0026#34; android:textSize=\u0026#34;20sp\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_send\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;å‘é€ä»¥ä¸Šçš„æ–‡å­—\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; receive.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_receive\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;åšæŒä¸‹å»\u0026#34; android:textSize=\u0026#34;20sp\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java ActSentActivity.java package com.showguan.chapter04; public class ActSentActivity extends AppCompatActivity implements View.OnClickListener { private TextView tv_send; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_act_sent); tv_send = findViewById(R.id.tv_send); findViewById(R.id.btn_send).setOnClickListener(this); } @Override public void onClick(View v) { Intent intent = new Intent(this, ActReceiveActivity.class); Bundle bundle = new Bundle(); bundle.putString(\u0026#34;request_time\u0026#34;, DateUtil.getNowTime()); bundle.putString(\u0026#34;request_content\u0026#34;, tv_send.getText().toString()); intent.putExtras(bundle); startActivity(intent); } } ActReceiveActivity.java package com.showguan.chapter04; public class ActReceiveActivity extends AppCompatActivity { private TextView tv_send; private TextView tv_receive; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_act_receive); tv_receive = findViewById(R.id.tv_receive); Bundle bundle = getIntent().getExtras(); String request_time = bundle.getString(\u0026#34;request_time\u0026#34;); String request_content = bundle.getString(\u0026#34;request_content\u0026#34;); String desc = String.format(\u0026#34;æˆåŠŸæ”¶åˆ°æ¶ˆæ¯ï¼Œæ”¶åˆ°æ—¶é—´ä¸º%s, æ”¶åˆ°å†…å®¹ä¸º%s\u0026#34;, request_time, request_content); tv_receive.setText(desc); } } å‘ä¸Šä¸€ä¸ªActivityè¿”å›æ•°æ® XML request.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_request\u0026#34; android:layout_margin=\u0026#34;30dp\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; /\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_request\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_margin=\u0026#34;30dp\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;è¯·æ±‚ä¼ é€æ•°æ®\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_response\u0026#34; android:layout_margin=\u0026#34;30dp\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; response.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; xmlns:app=\u0026#34;http://schemas.android.com/apk/res-auto\u0026#34; xmlns:tools=\u0026#34;http://schemas.android.com/tools\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_request\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; /\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_response\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:text=\u0026#34;è¯·æ±‚ä¼ é€æ•°æ®\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_response\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java ActRequestActivity.java package com.showguan.chapter04; public class ActRequestActivity extends AppCompatActivity implements View.OnClickListener { // è¦å‘é€çš„è¯·æ±‚å†…å®¹ private final String mRequest = \u0026#34;ä»Šå¤©æ˜¯2024/06/18ï¼Œ åšæŒå°±æ˜¯èƒœåˆ©ï¼Œæ•ˆç‡å°±æ˜¯ç‹è€…\u0026#34;; // ç”¨äºå¯åŠ¨æ´»åŠ¨å¹¶æ¥æ”¶ç»“æœçš„å¯åŠ¨å™¨ private ActivityResultLauncher\u0026lt;Intent\u0026gt; register; // æ˜¾ç¤ºå“åº”å†…å®¹çš„TextView private TextView tv_response; // æ˜¾ç¤ºè¯·æ±‚å†…å®¹çš„TextView private TextView tv_request; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€ setContentView(R.layout.activity_act_request); // ç»‘å®šæ˜¾ç¤ºè¯·æ±‚å†…å®¹çš„TextView tv_request = findViewById(R.id.tv_request); // ç»‘å®šæ˜¾ç¤ºå“åº”å†…å®¹çš„TextView tv_response = findViewById(R.id.tv_response); // è®¾ç½®å¾…å‘é€çš„æ–‡æœ¬å†…å®¹ tv_request.setText(\u0026#34;å¾…å‘é€çš„æ–‡æœ¬ï¼š\u0026#34; + mRequest); // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶ findViewById(R.id.btn_request).setOnClickListener(this); // æ³¨å†Œä¸€ä¸ªç”¨äºå¯åŠ¨æ´»åŠ¨å¹¶æ¥æ”¶ç»“æœçš„å¯åŠ¨å™¨ register = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -\u0026gt; { if (result != null) { // è·å–è¿”å›çš„Intent Intent intent = result.getData(); if (intent != null \u0026amp;\u0026amp; result.getResultCode() == Activity.RESULT_OK) { // è·å–Intentä¸­çš„æ•°æ® Bundle bundle = intent.getExtras(); String request_time = bundle.getString(\u0026#34;response_time\u0026#34;); String request_content = bundle.getString(\u0026#34;response_content\u0026#34;); // æ ¼å¼åŒ–æ˜¾ç¤ºå“åº”æ¶ˆæ¯ String desc = String.format(\u0026#34;æ”¶åˆ°åº”ç­”æ¶ˆæ¯ï¼Œåº”ç­”æ—¶é—´ä¸º%s, åº”ç­”å†…å®¹ä¸º%s\u0026#34;, request_time, request_content); tv_response.setText(desc); } } }); } @Override public void onClick(View v) { // åˆ›å»ºä¸€ä¸ªå¯åŠ¨ActResponseActivityçš„Intent Intent intent = new Intent(this, ActResponseActivity.class); // åˆ›å»ºä¸€ä¸ªBundleç”¨äºä¼ é€’è¯·æ±‚æ•°æ® Bundle bundle = new Bundle(); // å°†å½“å‰æ—¶é—´å’Œè¯·æ±‚å†…å®¹æ”¾å…¥Bundle bundle.putString(\u0026#34;request_time\u0026#34;, DateUtil.getNowTime()); bundle.putString(\u0026#34;request_content\u0026#34;, mRequest); // å°†Bundleæ”¾å…¥Intent intent.putExtras(bundle); // å¯åŠ¨æ´»åŠ¨å¹¶ç­‰å¾…ç»“æœ register.launch(intent); } } ActResponseActivity.java package com.showguan.chapter04; public class ActResponseActivity extends AppCompatActivity implements View.OnClickListener { // é™æ€å¸¸é‡ï¼Œè¡¨ç¤ºå“åº”çš„å†…å®¹ private static final String mResponse = \u0026#34;æˆ‘â„¢ä¸€å®šèƒ½è¿›å°ç±³\u0026#34;; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®æ´»åŠ¨çš„å¸ƒå±€ setContentView(R.layout.activity_act_response); // ç»‘å®šæ˜¾ç¤ºè¯·æ±‚å†…å®¹çš„TextView TextView tv_request = findViewById(R.id.tv_request); // è·å–å¯åŠ¨æ­¤æ´»åŠ¨æ—¶ä¼ é€’çš„Intentä¸­çš„Extras Bundle bundle = getIntent().getExtras(); // ä»Extrasä¸­è·å–è¯·æ±‚çš„æ—¶é—´å’Œå†…å®¹ String request_time = bundle.getString(\u0026#34;request_time\u0026#34;); String request_content = bundle.getString(\u0026#34;request_content\u0026#34;); // æ ¼å¼åŒ–æ˜¾ç¤ºæ¥æ”¶åˆ°çš„è¯·æ±‚æ¶ˆæ¯ String desc = String.format(\u0026#34;æˆåŠŸæ”¶åˆ°æ¶ˆæ¯ï¼Œæ”¶åˆ°æ—¶é—´ä¸º%s, æ”¶åˆ°å†…å®¹ä¸º%s\u0026#34;, request_time, request_content); tv_request.setText(desc); // ç»‘å®šå“åº”æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ findViewById(R.id.btn_response).setOnClickListener(this); // ç»‘å®šæ˜¾ç¤ºå“åº”å†…å®¹çš„TextView TextView tv_response = findViewById(R.id.tv_response); // è®¾ç½®å¾…è¿”å›çš„å“åº”å†…å®¹ tv_response.setText(\u0026#34;å¾…è¿”å›çš„å†…å®¹ï¼š\u0026#34; + mResponse); } @Override public void onClick(View v) { // åˆ›å»ºä¸€ä¸ªè¿”å›ç»™ActRequestActivityçš„Intent Intent intent = new Intent(this, ActRequestActivity.class); // åˆ›å»ºä¸€ä¸ªBundleç”¨äºä¼ é€’å“åº”æ•°æ® Bundle bundle = new Bundle(); // å°†å½“å‰æ—¶é—´å’Œå“åº”å†…å®¹æ”¾å…¥Bundle bundle.putString(\u0026#34;response_time\u0026#34;, DateUtil.getNowTime()); bundle.putString(\u0026#34;response_content\u0026#34;, \u0026#34;åº”ç­”å†…å®¹ï¼š\u0026#34; + mResponse); // å°†Bundleæ”¾å…¥Intent intent.putExtras(bundle); // è®¾ç½®ç»“æœç å’Œè¿”å›çš„Intent setResult(Activity.RESULT_OK, intent); // ç»“æŸå½“å‰æ´»åŠ¨ finish(); } } ä¸ºæ´»åŠ¨è¡¥å……é™„åŠ ä¿¡æ¯ å°†stringä¿¡æ¯å®šä¹‰åœ¨strings.xml\n\u0026lt;resources\u0026gt; \u0026lt;string name=\u0026#34;app_name\u0026#34;\u0026gt;chapter04\u0026lt;/string\u0026gt; \u0026lt;string name=\u0026#34;weather_info\u0026#34;\u0026gt;ä»Šå¤©æ˜¯ä¸ªç³Ÿç³•çš„ä¸€å¤©\u0026lt;/string\u0026gt; \u0026lt;/resources\u0026gt; javaä»£ç ä¸­å¼•ç”¨å³å¯ï¼š\nTextView tv_resource = findViewById(R.id.tv_resource); String value = getString(R.string.weather_info); tv_resource.setText(value); åœ¨ä»£ç ä¸­è·å–å…ƒæ•°æ® åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­æŒ‡å®šmetadata \u0026lt;activity android:name=\u0026#34;.ActStartActivity\u0026#34; android:exported=\u0026#34;true\u0026#34; android:launchMode=\u0026#34;standard\u0026#34;\u0026gt; \u0026lt;intent-filter\u0026gt; \u0026lt;action android:name=\u0026#34;android.intent.action.MAIN\u0026#34; /\u0026gt; \u0026lt;category android:name=\u0026#34;android.intent.category.LAUNCHER\u0026#34; /\u0026gt; \u0026lt;/intent-filter\u0026gt; \u0026lt;meta-data android:name=\u0026#34;android.app.shortcuts\u0026#34; android:resource=\u0026#34;@xml/shortcuts\u0026#34; /\u0026gt; \u0026lt;/activity\u0026gt; ç¼–å†™shortcuts.xmlï¼Œ æŒ‡å®šæ˜¾ç¤ºçš„åç§°å’Œè¦è·³è½¬çš„é¡µé¢ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;shortcuts xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34;\u0026gt; \u0026lt;shortcut android:enabled=\u0026#34;true\u0026#34; android:icon=\u0026#34;@mipmap/ic_launcher\u0026#34; android:shortcutId=\u0026#34;first\u0026#34; android:shortcutLongLabel=\u0026#34;@string/first_long\u0026#34; android:shortcutShortLabel=\u0026#34;@string/first_short\u0026#34;\u0026gt; \u0026lt;intent android:action=\u0026#34;android.intent.action.VIEW\u0026#34; android:targetClass=\u0026#34;com.showguan.chapter04.ActStartActivity\u0026#34; android:targetPackage=\u0026#34;com.showguan.chapter04\u0026#34;\u0026gt; \u0026lt;categories android:name=\u0026#34;android.shortcut.conversation\u0026#34; /\u0026gt; \u0026lt;/intent\u0026gt; \u0026lt;/shortcut\u0026gt; \u0026lt;shortcut android:enabled=\u0026#34;true\u0026#34; android:icon=\u0026#34;@mipmap/ic_launcher\u0026#34; android:shortcutId=\u0026#34;second\u0026#34; android:shortcutLongLabel=\u0026#34;@string/second_long\u0026#34; android:shortcutShortLabel=\u0026#34;@string/second_short\u0026#34;\u0026gt; \u0026lt;intent android:action=\u0026#34;android.intent.action.VIEW\u0026#34; android:targetClass=\u0026#34;com.showguan.chapter04.JumpFirstActivity\u0026#34; android:targetPackage=\u0026#34;com.showguan.chapter04\u0026#34;\u0026gt; \u0026lt;categories android:name=\u0026#34;android.shortcut.conversation\u0026#34; /\u0026gt; \u0026lt;/intent\u0026gt; \u0026lt;/shortcut\u0026gt; \u0026lt;shortcut android:enabled=\u0026#34;true\u0026#34; android:icon=\u0026#34;@mipmap/ic_launcher\u0026#34; android:shortcutId=\u0026#34;third\u0026#34; android:shortcutLongLabel=\u0026#34;@string/third_long\u0026#34; android:shortcutShortLabel=\u0026#34;@string/third_short\u0026#34;\u0026gt; \u0026lt;intent android:action=\u0026#34;android.intent.action.VIEW\u0026#34; android:targetClass=\u0026#34;com.showguan.chapter04.LoginInputActivity\u0026#34; android:targetPackage=\u0026#34;com.showguan.chapter04\u0026#34;\u0026gt; \u0026lt;categories android:name=\u0026#34;android.shortcut.conversation\u0026#34; /\u0026gt; \u0026lt;/intent\u0026gt; \u0026lt;/shortcut\u0026gt; \u0026lt;/shortcuts\u0026gt; æ³¨æ„åç§°éœ€è¦å­˜å‚¨åœ¨strings.xmlä¸­\nAndroidManifest.xmlä¸­éœ€è¦è·³è½¬çš„é¡µé¢exportedå±æ€§è¦è®¾ç½®ä¸ºtrue ä¸­çº§æ§ä»¶ å›¾å½¢Drawable Drawableç±»å‹è¡¨è¾¾äº†å„ç§å„æ ·çš„å›¾å½¢ï¼ŒåŒ…æ‹¬å›¾ç‰‡ï¼Œè‰²å—ï¼Œç”»æ¿ï¼Œ èƒŒæ™¯ç­‰\nåŒ…å«å›¾ç‰‡åœ¨å†…çš„å›¾å½¢æ–‡ä»¶æ”¾åœ¨resç›®å½•çš„å„ä¸ªdrawableç›®å½•ä¸‹ï¼Œå…¶ä¸­drawableç›®å½•ä¸€èˆ¬ä¿å­˜æè¿°æ€§çš„XMLæ–‡ä»¶ï¼Œè€Œå›¾ç‰‡æ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨å…·ä½“åˆ†è¾¨ç‡çš„drawableç›®å½•ä¸‹ã€‚\ndrawable-ldpi, drawable-mdpi, drawable-hdpi, drawable-xhdpi,drawable-xxhdpiï¼Œ drawable-xxhdpiè¡¨ç¤ºä½åˆ†è¾¨ç‡ï¼Œä¸­ç­‰åˆ†è¾¨ç‡ï¼Œé«˜åˆ†è¾¨ç‡ï¼Œè¶…é«˜åˆ†è¾¨ç‡ï¼Œ è¶…è¶…é«˜åˆ†è¾¨ç‡ å„è§†å›¾çš„backgroundå±æ€§ï¼ŒImageViewå’ŒImageButtonçš„srcå±æ€§ï¼ŒTextViewå’ŒButtonå››ä¸ªæ–¹å‘çš„drawableç³»åˆ—å±æ€§éƒ½å¯ä»¥å¼•ç”¨å›¾å½¢æ–‡ä»¶ã€‚\nå½¢çŠ¶å›¾å½¢ shapeå›¾å½¢åˆç§°å½¢çŠ¶å›¾å½¢ï¼Œå®ƒç”¨æ¥æè¿°å¸¸è§çš„å‡ ä½•å½¢çŠ¶ï¼ŒåŒ…æ‹¬çŸ©å½¢ï¼Œåœ†è§’çŸ©å½¢ï¼Œåœ†å½¢ï¼Œæ¤­åœ†ç­‰ã€‚ å½¢çŠ¶å›¾å½¢ drawableä¸­xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;shape xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:shape=\u0026#34;oval\u0026#34;\u0026gt; \u0026lt;solid android:color=\u0026#34;#ff66aa\u0026#34;/\u0026gt; \u0026lt;stroke android:width=\u0026#34;1dp\u0026#34; android:color=\u0026#34;#aaaaaa\u0026#34;/\u0026gt; \u0026lt;/shape\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;shape xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34;\u0026gt; \u0026lt;!-- å¡«å……é¢œè‰²--\u0026gt; \u0026lt;solid android:color=\u0026#34;#ffdd66\u0026#34; /\u0026gt; \u0026lt;!-- è½®å»“ç²—ç»†ä¸é¢œè‰²--\u0026gt; \u0026lt;stroke android:width=\u0026#34;1dp\u0026#34; android:color=\u0026#34;#aaaaaa\u0026#34; /\u0026gt; \u0026lt;!-- å½¢çŠ¶å››ä¸ªåœ†è§’çš„åŠå¾„--\u0026gt; \u0026lt;corners android:radius=\u0026#34;10dp\u0026#34; /\u0026gt; \u0026lt;/shape\u0026gt; activity_draw_shape.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;View android:id=\u0026#34;@+id/v_content\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;200dp\u0026#34; android:layout_margin=\u0026#34;10dp\u0026#34;/\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_rect\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;åœ†è§’çŸ©å½¢æŒ‰é’®\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_oval\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;æ¤­åœ†æŒ‰é’®\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; public class DrawShapeActivity extends AppCompatActivity implements View.OnClickListener { private View v_content; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_draw_shape); v_content = findViewById(R.id.v_content); findViewById(R.id.btn_rect).setOnClickListener(this); findViewById(R.id.btn_oval).setOnClickListener(this); v_content.setBackgroundResource(R.drawable.shape_rect_gold); } @Override public void onClick(View v) { if(v.getId() == R.id.btn_rect){ v_content.setBackgroundResource(R.drawable.shape_rect_gold); }else if (v.getId()==R.id.btn_oval){ v_content.setBackgroundResource(R.drawable.shape_oval_rose); } } } ä¹å®«æ ¼å›¾ç‰‡ å°†æŸå¼ å›¾ç‰‡è®¾ç½®ä¸ºè§†å›¾èƒŒæ™¯æ—¶ï¼Œå¦‚æœå›¾ç‰‡å°ºå¯¸å¤ªå°ï¼Œåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨æ‹‰ä¼¸å›¾ç‰‡ä½¿ä¹‹å¡«æ»¡èƒŒæ™¯ å¯æ˜¯ä¸€æ—¦å›¾ç‰‡æ‹‰å¾—è¿‡å¤§ï¼Œå…¶ç”»é¢å®¹æ˜“å˜å¾—æ¨¡ç³Š åˆ›å»º.9æ–‡ä»¶ çŠ¶æ€åˆ—è¡¨å›¾å½¢ btn_nice_selector.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;selector xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34;\u0026gt; \u0026lt;item android:state_pressed=\u0026#34;true\u0026#34; android:drawable=\u0026#34;@drawable/button_pressed\u0026#34; /\u0026gt; \u0026lt;item android:drawable=\u0026#34;@drawable/button_normal\u0026#34; /\u0026gt; \u0026lt;/selector\u0026gt; å¤é€‰æ¡†checkbox xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_system\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:text=\u0026#34;ç³»ç»Ÿçš„checkbox\u0026#34;/\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_custom\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:button=\u0026#34;@drawable/checkbox_selector\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34; android:checked=\u0026#34;true\u0026#34; android:text=\u0026#34;ç³»ç»Ÿçš„checkbox\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; import android.os.Bundle; import android.view.View; import android.widget.CheckBox; import android.widget.CompoundButton; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; public class CheckBoxActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_check_box); CheckBox ck_system = findViewById(R.id.ck_system); CheckBox ck_custom = findViewById(R.id.ck_custom); ck_system.setOnCheckedChangeListener(this); ck_custom.setOnCheckedChangeListener(this); } @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { String desc = String.format(\u0026#34;æ‚¨%sæ­¤æŒ‰é’®ã€‚\u0026#34; , isChecked ? \u0026#34;å‹¾é€‰äº†\u0026#34; : \u0026#34;å–æ¶ˆå‹¾é€‰äº†\u0026#34;); buttonView.setText(desc); } } å¼€å…³Switch xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;start\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;å¼€å…³\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;Switch android:id=\u0026#34;@+id/sw_status\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;end\u0026#34; android:width=\u0026#34;80dp\u0026#34; android:height=\u0026#34;30dp\u0026#34; android:padding=\u0026#34;5dp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;start\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:gravity=\u0026#34;start\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; public class SwitchActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener { private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_switch); Switch sw_status = findViewById(R.id.sw_status); tv_result = findViewById(R.id.tv_result); sw_status.setOnCheckedChangeListener(this); } @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { String desc = String.format(\u0026#34;SwitchæŒ‰é’®çš„çŠ¶æ€æ˜¯%s\u0026#34;, isChecked ? \u0026#34;å¼€\u0026#34; : \u0026#34;å…³\u0026#34;); tv_result.setText(desc); } } ç”¨checkboxå®ç°switch xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;start\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;å¼€å…³\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_status\u0026#34; android:layout_width=\u0026#34;60dp\u0026#34; android:layout_height=\u0026#34;30dp\u0026#34; android:layout_gravity=\u0026#34;end\u0026#34; android:width=\u0026#34;80dp\u0026#34; android:height=\u0026#34;30dp\u0026#34; android:background=\u0026#34;@drawable/switch_selector\u0026#34; android:button=\u0026#34;@null\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;start\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34; android:gravity=\u0026#34;start\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; public class SwitchIOSActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener { private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_switch_iosactivity); CheckBox ck_status = findViewById(R.id.ck_status); tv_result = findViewById(R.id.tv_result); ck_status.setOnCheckedChangeListener(this); } @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { String desc = String.format(\u0026#34;å¼€å…³æŒ‰é’®çš„çŠ¶æ€æ˜¯%s\u0026#34;, isChecked ? \u0026#34;å¼€\u0026#34; : \u0026#34;å…³\u0026#34;); tv_result.setText(desc); } } å•é€‰æŒ‰é’®RadioButton XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_gravity=\u0026#34;start\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:text=\u0026#34;è¯·é€‰æ‹©ä½ çš„æ€§åˆ«\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;RadioGroup android:id=\u0026#34;@+id/rg_gender\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;RadioButton android:id=\u0026#34;@+id/rb_male\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;ç”·\u0026#34; /\u0026gt; \u0026lt;RadioButton android:id=\u0026#34;@+id/rb_female\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;å¥³\u0026#34; /\u0026gt; \u0026lt;/RadioGroup\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; public class RadioHorizontalActivity extends AppCompatActivity implements RadioGroup.OnCheckedChangeListener { private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_radio_horizontal); RadioGroup rg_gender = findViewById(R.id.rg_gender); rg_gender.setOnCheckedChangeListener(this); tv_result = findViewById(R.id.tv_result); } @Override public void onCheckedChanged(RadioGroup group, int checkedId) { if(checkedId == R.id.rb_male){ tv_result.setText(\u0026#34;ä½ æ˜¯ä¸ªå¸…æ°”çš„ç”·å­©\u0026#34;); } else if (checkedId==R.id.rb_female) { tv_result.setText(\u0026#34;ä½ æ˜¯ä¸ªæ¼‚äº®çš„å¥³å­©\u0026#34;); } } } EditTextè®¾ç½®å¤–æ¡† XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:padding=\u0026#34;5dp\u0026#34;\u0026gt; \u0026lt;EditText android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¿™é‡Œæ˜¯é»˜è®¤è¾¹æ¡†\u0026#34; android:inputType=\u0026#34;text\u0026#34;/\u0026gt; \u0026lt;EditText android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¿™é‡Œæ²¡æœ‰è¾¹æ¡†\u0026#34; android:inputType=\u0026#34;text\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;@null\u0026#34;/\u0026gt; \u0026lt;EditText android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¿™é‡Œæ˜¯åœ†è§’è¾¹æ¡†\u0026#34; android:inputType=\u0026#34;text\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java public class EditBoardActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_edit_board); } } å¯¹è¯æç¤ºæ¡† XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:padding=\u0026#34;5dp\u0026#34;\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_alert\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¿™é‡Œæ²¡æœ‰è¾¹æ¡†\u0026#34; android:text=\u0026#34;ç‚¹å‡»å¼¹å‡ºæé†’å¯¹è¯æ¡†\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;@null\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_alert\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; import android.os.Bundle; import android.view.View; import android.widget.TextView; import androidx.appcompat.app.AlertDialog; import androidx.appcompat.app.AppCompatActivity; public class AlertDialogActivity extends AppCompatActivity implements View.OnClickListener { private TextView tv_alert; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_alert_dialog); findViewById(R.id.btn_alert).setOnClickListener(this); tv_alert = findViewById(R.id.tv_alert); } @Override public void onClick(View v) { AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\u0026#34;å°Šæ•¬çš„ç”¨æˆ·æœ‹å‹\u0026#34;); builder.setMessage(\u0026#34;ä½ çœŸçš„ç¡®å®šæ²¡ç‚¹é”™å—ï¼Ÿ\u0026#34;); builder.setPositiveButton(\u0026#34;æ®‹å¿å¸è½½\u0026#34;, (dialog, which) -\u0026gt; { tv_alert.setText(\u0026#34;è™½ç„¶ä¾ä¾ä¸èˆï¼Œä½†æ˜¯å¸Œæœ›èƒ½å†è§é¢\u0026#34;); }); builder.setNegativeButton(\u0026#34;ç‚¹é”™äº†å“¦\u0026#34;, (dialog, which) -\u0026gt; { tv_alert.setText(\u0026#34;æˆ‘è¿˜è¦å†é™ªä½ 365*nä¸ªæ—¥å¤œ\u0026#34;); }); AlertDialog dialog = builder.create(); dialog.show(); } } æ–‡æœ¬æ¡†æç¤ºä¿¡æ¯ XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:padding=\u0026#34;5dp\u0026#34;\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_phone\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¯·è¾“å…¥11ä½æ‰‹æœºå·ç \u0026#34; android:inputType=\u0026#34;number\u0026#34; android:maxLength=\u0026#34;11\u0026#34; android:layout_marginTop=\u0026#34;15dp\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_password\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:hint=\u0026#34;è¯·è¾“å…¥6ä½å¯†ç \u0026#34; android:inputType=\u0026#34;numberPassword\u0026#34; android:maxLength=\u0026#34;11\u0026#34; android:layout_marginTop=\u0026#34;15dp\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;Button android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_marginTop=\u0026#34;15dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ç™»å½•\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; public class EditFocusActivity extends AppCompatActivity implements View.OnFocusChangeListener { private EditText et_phone; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_edit_focus); et_phone = findViewById(R.id.et_phone); et_phone.setOnFocusChangeListener(this); } @Override public void onFocusChange(View v, boolean hasFocus) { if(!hasFocus){ String phone = et_phone.getText().toString(); if(TextUtils.isEmpty(phone) || phone.length() \u0026lt; 11){ // et_phone.requestFocus(); Toast.makeText(this, \u0026#34;è¯·è¾“å…¥11ä½æ‰‹æœºå·ç \u0026#34;, Toast.LENGTH_SHORT).show(); } } } } å®ç°å½“æ–‡æœ¬é•¿åº¦ç¬¦åˆæ—¶è‡ªåŠ¨æ”¶èµ·è¾“å…¥æ³• @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_edit_hide); // è®¾ç½®å½“å‰æ´»åŠ¨çš„å¸ƒå±€ // è·å–å¸ƒå±€æ–‡ä»¶ä¸­çš„EditTextæ§ä»¶ EditText et_phone = findViewById(R.id.et_phone); EditText et_password = findViewById(R.id.et_password); // ä¸ºEditTextæ§ä»¶æ·»åŠ æ–‡æœ¬å˜åŒ–ç›‘å¬å™¨ et_phone.addTextChangedListener(new HideTextWatcher(et_phone, 11)); et_password.addTextChangedListener(new HideTextWatcher(et_password, 6)); } // è‡ªå®šä¹‰çš„æ–‡æœ¬ç›‘å¬å™¨ç±»ï¼Œç”¨äºåœ¨æ–‡æœ¬é•¿åº¦è¾¾åˆ°æŒ‡å®šå€¼æ—¶éšè—è¾“å…¥æ³• private class HideTextWatcher implements TextWatcher { private EditText mView; // éœ€è¦ç›‘å¬çš„EditTextæ§ä»¶ private int mMaxLength; // æ–‡æœ¬é•¿åº¦çš„æœ€å¤§å€¼ // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ§ä»¶å’Œæœ€å¤§é•¿åº¦ public HideTextWatcher(EditText et, int maxLength) { this.mView = et; this.mMaxLength = maxLength; } // æ–‡æœ¬å˜åŒ–å‰çš„å›è°ƒæ–¹æ³• @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) { // åœ¨æ–‡æœ¬å˜åŒ–å‰æ‰§è¡Œçš„æ“ä½œï¼Œè¿™é‡Œä¸éœ€è¦å®ç° } // æ–‡æœ¬å˜åŒ–ä¸­çš„å›è°ƒæ–¹æ³• @Override public void onTextChanged(CharSequence s, int start, int before, int count) { // åœ¨æ–‡æœ¬å˜åŒ–ä¸­æ‰§è¡Œçš„æ“ä½œï¼Œè¿™é‡Œä¸éœ€è¦å®ç° } // æ–‡æœ¬å˜åŒ–åçš„å›è°ƒæ–¹æ³• @Override public void afterTextChanged(Editable s) { String str = s.toString(); // è·å–å½“å‰æ–‡æœ¬å†…å®¹ if(str.length() == mMaxLength) { // å¦‚æœæ–‡æœ¬é•¿åº¦ç­‰äºæœ€å¤§å€¼ // è°ƒç”¨è‡ªå®šä¹‰å·¥å…·ç±»éšè—è¾“å…¥æ³• ViewUtil.hideOneInputMethod(EditHideActivity.this, mView); } } } æ—¥æœŸé€‰æ‹©å™¨ DatePicker XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; \u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_calendar\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è¯·é€‰æ‹©æ—¥æœŸ\u0026#34; android:layout_marginTop=\u0026#34;40dp\u0026#34;/\u0026gt; \u0026lt;DatePicker android:id=\u0026#34;@+id/dp_date\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:datePickerMode=\u0026#34;spinner\u0026#34; android:calendarViewShown=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_confirm\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ç¡®å®š\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter05; import android.app.DatePickerDialog; import android.os.Bundle; import android.view.View; import android.widget.Button; import android.widget.DatePicker; import android.widget.TextView; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; public class DatePickerActivity extends AppCompatActivity implements View.OnClickListener, DatePickerDialog.OnDateSetListener { private DatePicker dp_date; private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); EdgeToEdge.enable(this); setContentView(R.layout.activity_date_picker); findViewById(R.id.btn_confirm).setOnClickListener(this); findViewById(R.id.btn_calendar).setOnClickListener(this); dp_date = findViewById(R.id.dp_date); tv_result = findViewById(R.id.tv_result); } @Override public void onClick(View v) { if(v.getId() == R.id.btn_confirm){ String desc = String.format(\u0026#34;æ‚¨é€‰æ‹©çš„æ—¥æœŸä¸º%så¹´ %sæœˆ %sæ—¥\u0026#34;, dp_date.getYear(), dp_date.getMonth() + 1, dp_date.getDayOfMonth()); tv_result.setText(desc); } else if (v.getId() == R.id.btn_calendar) { DatePickerDialog dialog = new DatePickerDialog(this, this, 2027, 4, 13); dialog.show(); } } @Override public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) { String desc = String.format(\u0026#34;æ‚¨é€‰æ‹©çš„æ—¥æœŸä¸º%så¹´ %sæœˆ %sæ—¥\u0026#34;, year, month, dayOfMonth); tv_result.setText(desc); } } æ—¶é—´é€‰æ‹©å™¨ TimePicker XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; \u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_time\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è¯·é€‰æ‹©æ—¶é—´\u0026#34; android:layout_marginTop=\u0026#34;40dp\u0026#34;/\u0026gt; \u0026lt;TimePicker android:id=\u0026#34;@+id/tp_time\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:timePickerMode=\u0026#34;spinner\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:calendarViewShown=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_confirm\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ç¡®å®š\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java public class TimePickerActivity extends AppCompatActivity implements View.OnClickListener, TimePickerDialog.OnTimeSetListener { private TimePicker tp_time; private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_time_picker); findViewById(R.id.btn_confirm).setOnClickListener(this); findViewById(R.id.btn_time).setOnClickListener(this); tp_time = findViewById(R.id.tp_time); tv_result = findViewById(R.id.tv_result); } @Override public void onClick(View v) { if (v.getId() == R.id.btn_confirm) { String desc = String.format(\u0026#34;æ‚¨é€‰æ‹©çš„æ—¶é—´ä¸º%sæ—¶ %såˆ†\u0026#34;, tp_time.getHour(), tp_time.getMinute()); tv_result.setText(desc); } else if (v.getId() == R.id.btn_time) { Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;onClick: R.id.btn_time\u0026#34;); Calendar calendar = Calendar.getInstance(); TimePickerDialog dialog = new TimePickerDialog(this, AlertDialog.THEME_HOLO_DARK,this, calendar.get(Calendar.HOUR_OF_DAY), calendar.get(Calendar.MINUTE), true); dialog.show(); } } @Override public void onTimeSet(TimePicker view, int hourOfDay, int minute) { String desc = String.format(\u0026#34;æ‚¨é€‰æ‹©çš„æ—¶é—´ä¸º%sæ—¶ %såˆ†\u0026#34;, hourOfDay, minute); tv_result.setText(desc); } } æ¡ˆä¾‹ ç™»å½•é¡µé¢ä»¥åŠæ‰¾å›å¯†ç é¡µé¢\n","permalink":"https://kennems.github.io/zh/posts/tech/android2/","summary":"Androidï¼ˆ2ï¼‰ Activityçš„å¯åŠ¨å’Œç»“æŸ ä»å½“å‰é¡µé¢è·³è½¬åˆ°æ–°é¡µé¢ï¼Œè·³è½¬ä»£ç å¦‚ä¸‹ï¼š startActivity(new Intent(æºé¡µé¢.thisï¼Œ ç›®æ ‡é¡µé¢.class","title":"Androidï¼ˆ2ï¼‰"},{"content":"Androidï¼ˆ3ï¼‰ æ•°æ®å­˜å‚¨ å…±äº«å‚æ•°çš„ç”¨æ³• SharedPreferences æ˜¯ Androidçš„ä¸€ä¸ªè½»é‡çº§å­˜å‚¨å·¥å…·ï¼Œé‡‡ç”¨çš„å­˜å‚¨ç»“æ„æ˜¯key-valueçš„é”®å€¼å¯¹æ–¹å¼ å…±äº«å‚æ•°çš„å­˜å‚¨ä»‹è´¨æ˜¯ç¬¦åˆXMLè§„èŒƒçš„é…ç½®æ–‡ä»¶ã€‚ä¿å­˜è·¯å¾„æ˜¯ï¼š/data/data/åº”ç”¨åŒ…å/shared_prefs/æ–‡ä»¶å.xml å…±äº«å‚æ•°ä¸»è¦é€‚ç”¨çš„åœºåˆï¼š\nç®€å•ä¸”å­¤ç«‹çš„æ•°æ®ã€‚è‹¥æ˜¯å¤æ‚ä¸”ç›¸äº’é—´æœ‰å…³çš„æ•°æ®ï¼Œåˆ™è¦ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚ æ–‡æœ¬å½¢å¼çš„æ•°æ®ã€‚è‹¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™è¦ä¿å­˜åœ¨æ–‡ä»¶ä¸­ã€‚ éœ€è¦æŒä¹…åŒ–å­˜å‚¨çš„æ•°æ®ã€‚åœ¨Appé€€å‡ºåå†æ¬¡å¯åŠ¨æ—¶ï¼Œä¹‹å‰ä¿å­˜çš„æ•°æ®ä»ç„¶æœ‰æ•ˆã€‚ å®é™…å¼€å‘ä¸­ï¼Œå…±äº«å‚æ•°ç»å¸¸å­˜å‚¨çš„æ•°æ®æœ‰Appçš„ä¸ªæ€§åŒ–é…ç½®ä¿¡æ¯ï¼Œç”¨æˆ·ä½¿ç”¨Appçš„è¡Œä¸ºä¿¡æ¯ï¼Œä¸´æ—¶éœ€è¦ä¿å­˜çš„ç‰‡æ®µä¿¡æ¯ã€‚\nShareWriteActivity.java package com.showguan.chapter06; public class ShareWriteActivity extends AppCompatActivity implements View.OnClickListener { private EditText et_name; private EditText et_age; private EditText et_height; private EditText et_weight; private SharedPreferences preferences; private CheckBox ck_isMarried; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_share_write); et_name = findViewById(R.id.et_name); et_age = findViewById(R.id.et_age); et_height = findViewById(R.id.et_height); et_weight = findViewById(R.id.et_weight); ck_isMarried = findViewById(R.id.ck_isMarried); findViewById(R.id.btn_save).setOnClickListener(this); preferences = getSharedPreferences(\u0026#34;config\u0026#34;, Context.MODE_PRIVATE); reload(); } private void reload() { String name = preferences.getString(\u0026#34;name\u0026#34;, null); if(name != null){ et_name.setText(name); } int age = preferences.getInt(\u0026#34;age\u0026#34;, 0); if(age != 0){ et_age.setText(String.valueOf(age)); } Float height = preferences.getFloat(\u0026#34;height\u0026#34;, 0.0F); if(height != 0.0F){ et_height.setText(height.toString()); } Float weight = preferences.getFloat(\u0026#34;weight\u0026#34;, 0.0F); if(weight != 0.0F){ et_weight.setText(weight.toString()); } Boolean isMarried = preferences.getBoolean(\u0026#34;married\u0026#34;, false); ck_isMarried.setChecked(isMarried); } @Override public void onClick(View v) { String name = et_name.getText().toString(); String age = et_age.getText().toString(); String height = et_height.getText().toString(); String weight = et_weight.getText().toString(); SharedPreferences.Editor editor = preferences.edit(); editor.putString(\u0026#34;name\u0026#34;, name); editor.putInt(\u0026#34;age\u0026#34;, Integer.valueOf(age)); editor.putFloat(\u0026#34;height\u0026#34;, Float.valueOf(height)); editor.putFloat(\u0026#34;weight\u0026#34;, Float.valueOf(weight)); editor.putBoolean(\u0026#34;married\u0026#34;, ck_isMarried.isChecked()); editor.commit(); } } å®ç°ä¿å­˜å¯†ç  Java ç”¨æ•°æ®åº“å­˜å‚¨\npackage com.showguan.chapter06; import java.util.Random; public class LoginSQLliteActivity extends AppCompatActivity implements RadioGroup.OnCheckedChangeListener, View.OnClickListener, View.OnFocusChangeListener { // å®šä¹‰ç•Œé¢ä¸­çš„æ§ä»¶ private TextView login_passFun; private EditText login_input; private TextView login_input_option; private View remember_password_layout; private RadioButton rb_phonecode; private RadioButton rb_password; private CheckBox ck_save_password; private EditText et_phone; private Button login; private String mPassword = \u0026#34;123456\u0026#34;; // é»˜è®¤å¯†ç  private String mVerifyCode; // éªŒè¯ç  // ActivityResultLauncherç”¨äºå¤„ç†ä»FindPasswordActivityè¿”å›çš„ç»“æœ private ActivityResultLauncher\u0026lt;Intent\u0026gt; register = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback\u0026lt;ActivityResult\u0026gt;() { @Override public void onActivityResult(ActivityResult o) { Intent intent = o.getData(); if (intent != null \u0026amp;\u0026amp; o.getResultCode() == Activity.RESULT_OK) { mPassword = intent.getStringExtra(\u0026#34;new_password\u0026#34;); // è·å–æ–°å¯†ç  } } }); private SharedPreferences preferences; private LoginDBHelper mHelper; @Override protected void onStart() { super.onStart(); mHelper = LoginDBHelper.getInstance(this); // è·å–æ•°æ®åº“å¸®åŠ©ç±»å®ä¾‹ mHelper.openReadLink(); // æ‰“å¼€æ•°æ®åº“è¯»å–è¿æ¥ mHelper.openWriteLink(); // æ‰“å¼€æ•°æ®åº“å†™å…¥è¿æ¥ reload(); // é‡æ–°åŠ è½½ç”¨æˆ·ä¿¡æ¯ } @Override protected void onStop() { super.onStop(); mHelper.closeLink(); // å…³é—­æ•°æ®åº“è¿æ¥ } @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login_main); // è®¾ç½®æ´»åŠ¨å¸ƒå±€ // åˆå§‹åŒ–æ§ä»¶ RadioGroup rg_login = findViewById(R.id.rg_login); login_passFun = findViewById(R.id.login_passFun); login_input = findViewById(R.id.login_input); login_input_option = findViewById(R.id.login_input_option); remember_password_layout = findViewById(R.id.remember_password_layout); rb_password = findViewById(R.id.rb_password); rb_phonecode = findViewById(R.id.rb_phonecode); et_phone = findViewById(R.id.et_phone); ck_save_password = findViewById(R.id.ck_save_password); login = findViewById(R.id.login); // è®¾ç½®ç›‘å¬å™¨ rg_login.setOnCheckedChangeListener(this); et_phone.addTextChangedListener(new HideTextWatcher(et_phone, 11)); login_input.addTextChangedListener(new HideTextWatcher(login_input, 6)); login_input.setOnFocusChangeListener(this); login_input_option.setOnClickListener(this); login.setOnClickListener(this); // è·å–SharedPreferenceså¯¹è±¡ preferences = getSharedPreferences(\u0026#34;config\u0026#34;, Context.MODE_PRIVATE); } // é‡æ–°åŠ è½½ç”¨æˆ·ä¿¡æ¯ private void reload() { LoginInfo info = mHelper.queryTop(); // æŸ¥è¯¢æœ€æ–°çš„ç”¨æˆ·ä¿¡æ¯ if (info != null \u0026amp;\u0026amp; info.isRemember()) { et_phone.setText(info.getPhone()); login_input.setText(info.getPassword()); ck_save_password.setChecked(true); } } // ç›‘å¬RadioGroupé€‰ä¸­çŠ¶æ€å˜åŒ– @Override public void onCheckedChanged(RadioGroup group, int checkedId) { if (checkedId == R.id.rb_password) { login_passFun.setText(R.string.login_password); login_input.setHint(R.string.password_hint); login_input_option.setText(R.string.forget_password); remember_password_layout.setVisibility(View.VISIBLE); } else if (checkedId == R.id.rb_phonecode) { login_passFun.setText(R.string.login_phonecode); login_input.setHint(R.string.code_hint); login_input_option.setText(R.string.get_code); remember_password_layout.setVisibility(View.GONE); } } // ç›‘å¬ç‚¹å‡»äº‹ä»¶ @Override public void onClick(View v) { String phoneNum = et_phone.getText().toString(); if (phoneNum.length() \u0026lt; 11) { Toast.makeText(this, \u0026#34;æ‚¨è¾“å…¥çš„æ‰‹æœºå·ä¸è¶³11ä½ï¼Œè¯·é‡æ–°è¾“å…¥\u0026#34;, Toast.LENGTH_SHORT).show(); return; } if (v.getId() == R.id.login_input_option) { if (rb_password.isChecked()) { Intent intent = new Intent(this, FindPasswordActivity.class); intent.putExtra(\u0026#34;phone\u0026#34;, phoneNum); register.launch(intent); // å¯åŠ¨FindPasswordActivity } else if (rb_phonecode.isChecked()) { mVerifyCode = String.format(\u0026#34;%06d\u0026#34;, new Random().nextInt(999999)); // ç”ŸæˆéšæœºéªŒè¯ç  AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\u0026#34;æ‰‹æœºéªŒè¯ç \u0026#34;); builder.setMessage(\u0026#34;æ‰‹æœºå·\u0026#34; + phoneNum + \u0026#34;, æœ¬æ¬¡éªŒè¯ç æ˜¯\u0026#34; + mVerifyCode); builder.setPositiveButton(\u0026#34;å¥½çš„\u0026#34;, null); AlertDialog dialog = builder.create(); dialog.show(); } } else if (v.getId() == R.id.login) { if (rb_password.isChecked()) { if (!mPassword.equals(login_input.getText().toString())) { Toast.makeText(this, \u0026#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥ï¼š\u0026#34;, Toast.LENGTH_SHORT).show(); return; } loginSuccess(); } else if (rb_phonecode.isChecked()) { if (mVerifyCode == null || !mVerifyCode.equals(login_input.getText().toString())) { Toast.makeText(this, \u0026#34;éªŒè¯ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥ï¼š\u0026#34;, Toast.LENGTH_SHORT).show(); return; } loginSuccess(); } } } // ç™»å½•æˆåŠŸå¤„ç† private void loginSuccess() { String desc = String.format(\u0026#34;ä½ çš„æ‰‹æœºå·æ˜¯%s, æ­å–œä½ ç™»å½•æˆåŠŸï¼Œç‚¹å‡»ç¡®è®¤è¿”å›ä¸Šä¸€ä¸ªé¡µé¢\u0026#34;, et_phone.getText().toString()); AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\u0026#34;ç™»å½•æˆåŠŸ\u0026#34;); builder.setMessage(desc); builder.setPositiveButton(\u0026#34;ç¡®è®¤è¿”å›\u0026#34;, (dialog, which) -\u0026gt; { finish(); // ç»“æŸå½“å‰æ´»åŠ¨ }); builder.setNegativeButton(\u0026#34;æˆ‘å†çœ‹çœ‹å§\u0026#34;, null); AlertDialog dialog = builder.create(); dialog.show(); if (rb_password.isChecked() \u0026amp;\u0026amp; ck_save_password.isChecked()) { SharedPreferences.Editor editor = preferences.edit(); editor.putString(\u0026#34;account\u0026#34;, et_phone.getText().toString()); editor.putString(\u0026#34;password\u0026#34;, login_input.getText().toString()); editor.putBoolean(\u0026#34;is_save_password\u0026#34;, true); editor.commit(); // æäº¤ä¿å­˜ } LoginInfo info = new LoginInfo(et_phone.getText().toString(), login_input.getText().toString(), ck_save_password.isChecked()); mHelper.insert(info); // å°†ç”¨æˆ·ä¿¡æ¯æ’å…¥æ•°æ®åº“ } // ç›‘å¬æ§ä»¶ç„¦ç‚¹å˜åŒ– @Override public void onFocusChange(View v, boolean hasFocus) { if (v.getId() == R.id.login_input \u0026amp;\u0026amp; hasFocus) { LoginInfo info = mHelper.queryByPhone(et_phone.getText().toString()); if (info != null) { login_input.setText(info.getPassword()); ck_save_password.setChecked(true); } else { login_input.setText(\u0026#34;\u0026#34;); ck_save_password.setChecked(false); } } } // è‡ªå®šä¹‰TextWatcherç±»ï¼Œç”¨äºéšè—è¾“å…¥æ³• class HideTextWatcher implements TextWatcher { private EditText mView; private int maxLength; public HideTextWatcher(EditText editText, int maxLength) { this.mView = editText; this.maxLength = maxLength; } @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) { // åœ¨æ–‡æœ¬æ”¹å˜å‰æ‰§è¡Œçš„æ“ä½œ } @Override public void onTextChanged(CharSequence s, int start, int before, int count) { // åœ¨æ–‡æœ¬æ”¹å˜æ—¶æ‰§è¡Œçš„æ“ä½œ } @Override public void afterTextChanged(Editable s) { // åœ¨æ–‡æœ¬æ”¹å˜åæ‰§è¡Œçš„æ“ä½œ if (s.toString().length() == maxLength) { ViewUtil.hideOneInputMethod(LoginSQLliteActivity.this, mView); } } } } æ•°æ®åº“ç®¡ç†å™¨SQLiteDatabase SQLiteDatabaseæ˜¯SQLiteçš„æ•°æ®åº“ç®¡ç†ç±»ï¼Œå®ƒæä¾›äº†æ‰˜å¹²æ“ä½œæ•°æ®è¡¨çš„APIï¼Œ å¸¸ç”¨çš„æ–¹æ³•æœ‰3ç±»ï¼š ç®¡ç†ç±»ï¼Œç”¨æˆ·æ•°æ®åº“å±‚é¢çš„æ“ä½œ openDatabaseï¼šæ‰“å¼€æŒ‡å®šè·¯å¾„çš„æ•°æ®åº“ isOpenï¼šåˆ¤æ–­æ•°æ®åº“æ˜¯å¦å·²æ‰“å¼€ closeï¼šå…³é—­æ•°æ®åº“ getVersionï¼šè·å–æ•°æ®åº“çš„ç‰ˆæœ¬å· setVersionï¼šè®¾ç½®æ•°æ®åº“çš„ç‰ˆæœ¬å· SQLiteDatabaseå®ç°ä¿å­˜å¯†ç  æ•ˆæœå’ŒSharePreferenceä¸€è‡´ï¼Œä½†æ˜¯æ˜¯ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚\nLoginDBHelper.java package com.showguan.chapter06.database; import android.content.ContentValues; import android.content.Context; import android.database.Cursor; import android.database.sqlite.SQLiteDatabase; import android.database.sqlite.SQLiteOpenHelper; import android.util.Log; import androidx.annotation.Nullable; import com.showguan.chapter06.enity.LoginInfo; import com.showguan.chapter06.enity.User; import java.util.ArrayList; import java.util.List; public class LoginDBHelper extends SQLiteOpenHelper { private static final String DB_NAME = \u0026#34;login.db\u0026#34;; private static final String TABLE_NAME = \u0026#34;login_info\u0026#34;; private static final int DB_VERSION = 1; private static LoginDBHelper mHelper = null; private SQLiteDatabase mRDB = null; private SQLiteDatabase mWDB = null; private LoginDBHelper(@Nullable Context context) { super(context, DB_NAME, null, DB_VERSION); } public static LoginDBHelper getInstance(Context context) { if (mHelper == null) { mHelper = new LoginDBHelper(context); } return mHelper; } public SQLiteDatabase openReadLink() { if (mRDB == null || !mRDB.isOpen()) { mRDB = mHelper.getReadableDatabase(); } return mRDB; } public SQLiteDatabase openWriteLink() { if (mWDB == null || !mWDB.isOpen()) { mWDB = mHelper.getReadableDatabase(); } return mWDB; } public void closeLink() { if (mRDB != null \u0026amp;\u0026amp; mRDB.isOpen()) { mRDB.close(); mRDB = null; } if (mWDB != null \u0026amp;\u0026amp; mWDB.isOpen()) { mWDB.close(); mWDB = null; } } @Override public void onCreate(SQLiteDatabase db) { String sql = \u0026#34;CREATE TABLE IF NOT EXISTS \u0026#34; + TABLE_NAME + \u0026#34; (\u0026#34; + \u0026#34;_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\u0026#34; + \u0026#34; phone VARCHAR NOT NULL,\u0026#34; + \u0026#34; password VARCHAR NOT NULL,\u0026#34; + \u0026#34; remember INTEGER NOT NULL);\u0026#34;; db.execSQL(sql); } @Override public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { // æ•°æ®åº“ç‰ˆæœ¬æ›´æ–°æ—¶ä½¿ç”¨ String sql = \u0026#34;ALTER TABLE \u0026#34; + TABLE_NAME + \u0026#34; ADD COLUMN phone VARCHAR;\u0026#34;; db.execSQL(sql); sql = \u0026#34;ALTER TABLE \u0026#34; + TABLE_NAME + \u0026#34; ADD COLUMN password VARCHAR;\u0026#34;; db.execSQL(sql); } public void save(LoginInfo info){ try { mWDB.beginTransaction(); delete(info); insert(info); mWDB.setTransactionSuccessful(); }catch (Exception e){ e.printStackTrace(); }finally { mWDB.endTransaction(); } } public long delete(LoginInfo info){ return mWDB.delete(TABLE_NAME, \u0026#34;phone=?\u0026#34;, new String[]{ info.getPhone() }); } public long insert(LoginInfo info) { ContentValues values = new ContentValues(); values.put(\u0026#34;phone\u0026#34;, info.getPhone()); values.put(\u0026#34;password\u0026#34;, info.getPassword()); values.put(\u0026#34;remember\u0026#34;, info.isRemember()); // è¿”å›è¡Œå· return mWDB.insert(TABLE_NAME, null, values); } public long deleteByName(String name) { return mWDB.delete(TABLE_NAME, \u0026#34;name = ?\u0026#34;, new String[]{ name }); } public List\u0026lt;User\u0026gt; queryAll() { List\u0026lt;User\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); Cursor cursor = mRDB.query(TABLE_NAME, null, null, null, null, null, null); while (cursor.moveToNext()) { User user = new User(); user.setId(cursor.getInt(0)); user.setName(cursor.getString(1)); user.setAge(cursor.getInt(2)); user.setHeight(cursor.getFloat(3)); user.setWeight(cursor.getFloat(4)); user.setMarried(cursor.getInt(5) == 1 ? true : false); list.add(user); } return list; } public LoginInfo queryTop() { LoginInfo info = null; String sql = \u0026#34;SELECT * FROM \u0026#34; + TABLE_NAME + \u0026#34; WHERE remember = 1 ORDER BY _id DESC LIMIT 1\u0026#34;; Cursor cursor = null; try { cursor = mRDB.rawQuery(sql, null); if (cursor != null \u0026amp;\u0026amp; cursor.moveToNext()) { info = new LoginInfo(); int phoneIndex = cursor.getColumnIndex(\u0026#34;phone\u0026#34;); int passwordIndex = cursor.getColumnIndex(\u0026#34;password\u0026#34;); int rememberIndex = cursor.getColumnIndex(\u0026#34;remember\u0026#34;); if (phoneIndex != -1) { info.setPhone(cursor.getString(phoneIndex)); } if (passwordIndex != -1) { info.setPassword(cursor.getString(passwordIndex)); } if (rememberIndex != -1) { info.setRemember(cursor.getInt(rememberIndex) == 1); } } } finally { if (cursor != null) { cursor.close(); } } return info; } public LoginInfo queryByPhone(String phone) { LoginInfo info = null; String sql = \u0026#34;SELECT * FROM \u0026#34; + TABLE_NAME; Cursor cursor = mRDB.query(TABLE_NAME, null, \u0026#34;phone=? and remember=1\u0026#34;, new String[]{phone}, null, null, null); try { if (cursor != null \u0026amp;\u0026amp; cursor.moveToNext()) { info = new LoginInfo(); int phoneIndex = cursor.getColumnIndex(\u0026#34;phone\u0026#34;); int passwordIndex = cursor.getColumnIndex(\u0026#34;password\u0026#34;); int rememberIndex = cursor.getColumnIndex(\u0026#34;remember\u0026#34;); if (phoneIndex != -1) { info.setPhone(cursor.getString(phoneIndex)); } if (passwordIndex != -1) { info.setPassword(cursor.getString(passwordIndex)); } if (rememberIndex != -1) { info.setRemember(cursor.getInt(rememberIndex) == 1); } } } finally { if (cursor != null) { cursor.close(); } } return info; } } å®ä½“ç±»LoginInfo.java package com.showguan.chapter06.enity; public class LoginInfo { private String phone; private String password; private boolean remember; public LoginInfo(String phone, String password, boolean remember) { this.phone = phone; this.password = password; this.remember = remember; } public LoginInfo() { } public String getPhone() { return phone; } public void setPhone(String phone) { this.phone = phone; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public boolean isRemember() { return remember; } public void setRemember(boolean remember) { this.remember = remember; } @Override public String toString() { return \u0026#34;LoginInfo{\u0026#34; + \u0026#34;phone=\u0026#39;\u0026#34; + phone + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, remember=\u0026#34; + remember + \u0026#39;}\u0026#39;; } } LoginSQLliteActivity.java package com.showguan.chapter06; public class LoginSQLliteActivity extends AppCompatActivity implements RadioGroup.OnCheckedChangeListener, View.OnClickListener, View.OnFocusChangeListener { // UIå…ƒç´  private TextView login_passFun; private EditText login_input; private TextView login_input_option; private View remember_password_layout; private RadioButton rb_phonecode; private RadioButton rb_password; private CheckBox ck_save_password; private EditText et_phone; private Button login; // å¯†ç å’ŒéªŒè¯ç  private String mPassword = \u0026#34;123456\u0026#34;; private String mVerifyCode; // ActivityResultLauncher ç”¨äºå¯åŠ¨å¦ä¸€ä¸ªActivityå¹¶æ¥æ”¶ç»“æœ private ActivityResultLauncher\u0026lt;Intent\u0026gt; register = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback\u0026lt;ActivityResult\u0026gt;() { @Override public void onActivityResult(ActivityResult o) { Intent intent = o.getData(); if (intent != null \u0026amp;\u0026amp; o.getResultCode() == Activity.RESULT_OK) { // è·å–ä»FindPasswordActivityè¿”å›çš„æ–°å¯†ç  mPassword = intent.getStringExtra(\u0026#34;new_password\u0026#34;); } } }); // SharedPreferences ç”¨äºå­˜å‚¨æ•°æ® private SharedPreferences preferences; // SQLiteæ•°æ®åº“åŠ©æ‰‹ private LoginDBHelper mHelper; // Activityç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåœ¨Activityå¯åŠ¨æ—¶è°ƒç”¨ @Override protected void onStart() { super.onStart(); // æ‰“å¼€æ•°æ®åº“è¯»å†™è¿æ¥ mHelper = LoginDBHelper.getInstance(this); mHelper.openReadLink(); mHelper.openWriteLink(); // é‡æ–°åŠ è½½ç™»å½•ä¿¡æ¯ reload(); } // Activityç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåœ¨Activityåœæ­¢æ—¶è°ƒç”¨ @Override protected void onStop() { super.onStop(); // å…³é—­æ•°æ®åº“è¿æ¥ mHelper.closeLink(); } // Activityåˆ›å»ºæ—¶è°ƒç”¨ @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®Activityçš„å¸ƒå±€æ–‡ä»¶ setContentView(R.layout.activity_login_main); // ç»‘å®šUIå…ƒç´  RadioGroup rg_login = findViewById(R.id.rg_login); login_passFun = findViewById(R.id.login_passFun); login_input = findViewById(R.id.login_input); login_input_option = findViewById(R.id.login_input_option); remember_password_layout = findViewById(R.id.remember_password_layout); rb_password = findViewById(R.id.rb_password); rb_phonecode = findViewById(R.id.rb_phonecode); et_phone = findViewById(R.id.et_phone); ck_save_password = findViewById(R.id.ck_save_password); login = findViewById(R.id.login); // è®¾ç½®äº‹ä»¶ç›‘å¬ rg_login.setOnCheckedChangeListener(this); et_phone.addTextChangedListener(new HideTextWatcher(et_phone, 11)); login_input.addTextChangedListener(new HideTextWatcher(login_input, 6)); login_input.setOnFocusChangeListener(this); login_input_option.setOnClickListener(this); login.setOnClickListener(this); // åˆå§‹åŒ–SharedPreferences preferences = getSharedPreferences(\u0026#34;config\u0026#34;, Context.MODE_PRIVATE); } // é‡æ–°åŠ è½½ç™»å½•ä¿¡æ¯ private void reload() { LoginInfo info = mHelper.queryTop(); if (info != null \u0026amp;\u0026amp; info.isRemember()) { // å¦‚æœæœ‰ä¿å­˜çš„ç™»å½•ä¿¡æ¯ï¼Œå¡«å……åˆ°UIå…ƒç´ ä¸­ et_phone.setText(info.getPhone()); login_input.setText(info.getPassword()); ck_save_password.setChecked(true); } } // RadioGroupé€‰é¡¹å˜åŒ–æ—¶è°ƒç”¨ @Override public void onCheckedChanged(RadioGroup group, int checkedId) { if (checkedId == R.id.rb_password) { // é€‰æ‹©å¯†ç ç™»å½• login_passFun.setText(R.string.login_password); login_input.setHint(R.string.password_hint); login_input_option.setText(R.string.forget_password); remember_password_layout.setVisibility(View.VISIBLE); } else if (checkedId == R.id.rb_phonecode) { // é€‰æ‹©éªŒè¯ç ç™»å½• login_passFun.setText(R.string.login_phonecode); login_input.setHint(R.string.code_hint); login_input_option.setText(R.string.get_code); remember_password_layout.setVisibility(View.GONE); } } // ç‚¹å‡»äº‹ä»¶å¤„ç† @Override public void onClick(View v) { String phoneNum = et_phone.getText().toString(); if (phoneNum.length() \u0026lt; 11) { // æ‰‹æœºå·ä¸è¶³11ä½ï¼Œæç¤ºç”¨æˆ· Toast.makeText(this, \u0026#34;æ‚¨è¾“å…¥çš„æ‰‹æœºå·ä¸è¶³11ä½ï¼Œè¯·é‡æ–°è¾“å…¥\u0026#34;, Toast.LENGTH_SHORT).show(); return; } if (v.getId() == R.id.login_input_option) { if (rb_password.isChecked()) { // æ‰¾å›å¯†ç  Intent intent = new Intent(this, FindPasswordActivity.class); intent.putExtra(\u0026#34;phone\u0026#34;, phoneNum); register.launch(intent); } else if (rb_phonecode.isChecked()) { // è·å–éªŒè¯ç  mVerifyCode = String.format(\u0026#34;%06d\u0026#34;, new Random().nextInt(999999)); AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\u0026#34;æ‰‹æœºéªŒè¯ç \u0026#34;); builder.setMessage(\u0026#34;æ‰‹æœºå·\u0026#34; + phoneNum + \u0026#34;, æœ¬æ¬¡éªŒè¯ç æ˜¯\u0026#34; + mVerifyCode); builder.setPositiveButton(\u0026#34;å¥½çš„\u0026#34;, null); AlertDialog dialog = builder.create(); dialog.show(); } } else if (v.getId() == R.id.login) { if (rb_password.isChecked()) { // éªŒè¯å¯†ç ç™»å½• if (!mPassword.equals(login_input.getText().toString())) { Toast.makeText(this, \u0026#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥ï¼š\u0026#34;, Toast.LENGTH_SHORT).show(); return; } loginSuccess(); } else if (rb_phonecode.isChecked()) { // éªŒè¯éªŒè¯ç ç™»å½• if (mVerifyCode == null || !mVerifyCode.equals(login_input.getText().toString())) { Toast.makeText(this, \u0026#34;éªŒè¯ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥ï¼š\u0026#34;, Toast.LENGTH_SHORT).show(); return; } loginSuccess(); } } } // ç™»å½•æˆåŠŸå¤„ç† private void loginSuccess() { String desc = String.format(\u0026#34;ä½ çš„æ‰‹æœºå·æ˜¯%s, æ­å–œä½ ç™»å½•æˆåŠŸï¼Œç‚¹å‡»ç¡®è®¤è¿”å›ä¸Šä¸€ä¸ªé¡µé¢\u0026#34;, et_phone.getText().toString()); AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\u0026#34;ç™»å½•æˆåŠŸ\u0026#34;); builder.setMessage(desc); builder.setPositiveButton(\u0026#34;ç¡®è®¤è¿”å›\u0026#34;, (dialog, which) -\u0026gt; { finish(); }); builder.setNegativeButton(\u0026#34;æˆ‘å†çœ‹çœ‹å§\u0026#34;, null); AlertDialog dialog = builder.create(); dialog.show(); if (rb_password.isChecked() \u0026amp;\u0026amp; ck_save_password.isChecked()) { // ä¿å­˜å¯†ç åˆ°SharedPreferences SharedPreferences.Editor editor = preferences.edit(); editor.putString(\u0026#34;account\u0026#34;, et_phone.getText().toString()); editor.putString(\u0026#34;password\u0026#34;, login_input.getText().toString()); editor.putBoolean(\u0026#34;is_save_password\u0026#34;, true); editor.commit(); } if (rb_password.isChecked()) { // ä¿å­˜ç™»å½•ä¿¡æ¯åˆ°SQLite LoginInfo info = new LoginInfo(et_phone.getText().toString(), login_input.getText().toString(), ck_save_password.isChecked()); mHelper.insert(info); } } // ç„¦ç‚¹å˜åŒ–å¤„ç† @Override public void onFocusChange(View v, boolean hasFocus) { if (v.getId() == R.id.login_input \u0026amp;\u0026amp; hasFocus) { // è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¯¹åº”çš„å¯†ç  LoginInfo info = mHelper.queryByPhone(et_phone.getText().toString()); if (info != null) { login_input.setText(info.getPassword()); ck_save_password.setChecked(true); } else { login_input.setText(\u0026#34;\u0026#34;); ck_save_password.setChecked(false); } } } // è‡ªå®šä¹‰TextWatcherç±»ï¼Œç”¨äºç›‘å¬æ–‡æœ¬å˜åŒ– class HideTextWatcher implements TextWatcher { private EditText mView; private int maxLength; public HideTextWatcher(EditText editText, int i) { this.mView = editText; this.maxLength = i; } @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) { } @Override public void onTextChanged(CharSequence s, int start, int before, int count) { } @Override public void afterTextChanged(Editable s) { if (s.toString().length() == maxLength) { // å½“æ–‡æœ¬é•¿åº¦è¾¾åˆ°æœ€å¤§å€¼æ—¶éšè—è¾“å…¥æ³• ViewUtil.hideOneInputMethod(LoginSQLliteActivity.this, mView); } } } } å­˜å‚¨å¡å­˜å‚¨ ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´\nXML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å§“å: \u0026#34; android:textSize=\u0026#34;@dimen/common_font_size\u0026#34;/\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_name\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å¹´é¾„: \u0026#34; android:textSize=\u0026#34;@dimen/common_font_size\u0026#34;/\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_age\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;èº«é«˜: \u0026#34; android:textSize=\u0026#34;@dimen/common_font_size\u0026#34;/\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_height\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34; android:layout_marginTop=\u0026#34;10dp\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä½“é‡: \u0026#34; android:textSize=\u0026#34;@dimen/common_font_size\u0026#34;/\u0026gt; \u0026lt;EditText android:id=\u0026#34;@+id/et_weight\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@drawable/edittext_selector\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;CheckBox android:id=\u0026#34;@+id/ck_isMarried\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;/\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å·²å©š\u0026#34; android:textSize=\u0026#34;@dimen/common_small_font_size\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_write\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¿å­˜\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_read\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è¯»å–\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_content\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.chapter06; public class FileWriteActivity extends AppCompatActivity implements View.OnClickListener { // å®šä¹‰ç•Œé¢ä¸­çš„æ§ä»¶ private EditText et_name; private EditText et_age; private EditText et_height; private EditText et_weight; private SharedPreferences preferences; private CheckBox ck_isMarried; private String path; private TextView tv_content; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®æ´»åŠ¨å¸ƒå±€ setContentView(R.layout.activity_file_write); // åˆå§‹åŒ–æ§ä»¶ et_name = findViewById(R.id.et_name); et_age = findViewById(R.id.et_age); et_height = findViewById(R.id.et_height); et_weight = findViewById(R.id.et_weight); ck_isMarried = findViewById(R.id.ck_isMarried); tv_content = findViewById(R.id.tv_content); // è®¾ç½®æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ findViewById(R.id.btn_write).setOnClickListener(this); findViewById(R.id.btn_read).setOnClickListener(this); // è·å–SharedPreferenceså¯¹è±¡ï¼Œæ¨¡å¼ä¸ºç§æœ‰ preferences = getSharedPreferences(\u0026#34;config\u0026#34;, Context.MODE_PRIVATE); } @Override public void onClick(View v) { if(v.getId() == R.id.btn_write){ // è·å–è¾“å…¥æ¡†ä¸­çš„æ–‡æœ¬å†…å®¹ String name = et_name.getText().toString(); String age = et_age.getText().toString(); String height = et_height.getText().toString(); String weight = et_weight.getText().toString(); // æ‹¼æ¥å­—ç¬¦ä¸²å†…å®¹ StringBuilder sb = new StringBuilder(); sb.append(\u0026#34;å§“å:\u0026#34;).append(name); sb.append(\u0026#34;\\nå¹´é¾„:\u0026#34;).append(age); sb.append(\u0026#34;\\nèº«é«˜:\u0026#34;).append(height); sb.append(\u0026#34;\\nä½“é‡:\u0026#34;).append(weight); sb.append(\u0026#34;\\nå©šå¦:\u0026#34;).append(ck_isMarried.isChecked()); String directory; String fileName = System.currentTimeMillis() + \u0026#34;.txt\u0026#34;; // ä½¿ç”¨å†…éƒ¨å­˜å‚¨ç©ºé—´ï¼Œå¸è½½åº”ç”¨åæ–‡ä»¶å°†è¢«åˆ é™¤ directory = getFilesDir().toString(); path = directory + File.separatorChar + fileName; // æ‰“å°è·¯å¾„æ—¥å¿— Log.d(\u0026#34;Kennem\u0026#34;, path); // ä¿å­˜æ–‡æœ¬å†…å®¹åˆ°æ–‡ä»¶ FileUtil.saveText(path, sb.toString()); // æ˜¾ç¤ºä¿å­˜æˆåŠŸçš„Toastæ¶ˆæ¯ Toast.makeText(this, \u0026#34;ä¿å­˜æˆåŠŸ\u0026#34;, Toast.LENGTH_SHORT).show(); } else if (v.getId() == R.id.btn_read) { // ä»æ–‡ä»¶è¯»å–å†…å®¹å¹¶æ˜¾ç¤ºåˆ°TextView tv_content.setText(FileUtil.openText(path)); } } } å­˜å‚¨å¡ä¿å­˜å›¾ç‰‡ å®é™…ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼š/sdcard/Android/data/com.showguan.chapter06/files/Download/1719307975140.jpg\nJava package com.showguan.chapter06; import android.graphics.Bitmap; import android.graphics.BitmapFactory; import android.net.Uri; import android.os.Bundle; import android.os.Environment; import android.util.Log; import android.view.View; import android.widget.ImageView; import android.widget.Toast; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import com.showguan.chapter06.util.FileUtil; import java.io.File; public class ImageWriteActivity extends AppCompatActivity implements View.OnClickListener { private ImageView iv_pic; private String path; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_image_write); findViewById(R.id.btn_read).setOnClickListener(this); findViewById(R.id.btn_save).setOnClickListener(this); iv_pic = findViewById(R.id.iv_pic); } @Override public void onClick(View v) { if(v.getId() == R.id.btn_save){ String directory = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString(); String fileName = System.currentTimeMillis() + \u0026#34;.jpg\u0026#34;; path = directory + File.separatorChar + fileName; Log.d(\u0026#34;Kennem\u0026#34;, path); Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.cat2); FileUtil.saveImage(path, bitmap); Toast.makeText(this, \u0026#34;ä¿å­˜æˆåŠŸ\u0026#34;, Toast.LENGTH_SHORT).show(); } else if (v.getId() == R.id.btn_read) { // ä½¿ç”¨FileUtilå·¥å…·ç±»ä»æŒ‡å®šè·¯å¾„è¯»å–å›¾ç‰‡æ–‡ä»¶å¹¶è®¾ç½®åˆ°ImageViewä¸­æ˜¾ç¤º // æ³¨æ„ï¼šè¿™é‡Œå‡è®¾FileUtilç±»ä¸­æœ‰ä¸€ä¸ªåä¸ºreadImageçš„æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®è·¯å¾„è¿”å›Bitmapå¯¹è±¡ã€‚ // ç”±äºå…·ä½“çš„FileUtilç±»å®ç°ä¸æ˜ç¡®ï¼Œè¿™æ®µä»£ç æ˜¯å‡è®¾æ€§çš„ç¤ºä¾‹ã€‚ // æ–¹æ³•ä¸€ï¼šä½¿ç”¨FileUtilå·¥å…·ç±»è¯»å–å›¾ç‰‡æ–‡ä»¶ // Bitmap bitmap = FileUtil.readImage(path); // å‡è®¾FileUtilç±»æœ‰è¿™ä¸ªæ–¹æ³• // iv_pic.setImageBitmap(bitmap); // å°†è¯»å–çš„Bitmapå¯¹è±¡è®¾ç½®åˆ°ImageViewä¸­æ˜¾ç¤º // æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨BitmapFactoryè§£ç æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶ä¸ºBitmapå¯¹è±¡ // Bitmap bitmap = BitmapFactory.decodeFile(path); // ä½¿ç”¨BitmapFactoryè§£ç æ–‡ä»¶ // iv_pic.setImageBitmap(bitmap); // å°†è§£ç å¾—åˆ°çš„Bitmapå¯¹è±¡è®¾ç½®åˆ°ImageViewä¸­æ˜¾ç¤º // æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Uriå¯¹è±¡åŠ è½½æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶åˆ°ImageViewä¸­æ˜¾ç¤º iv_pic.setImageURI(Uri.parse(path)); // å°†æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶é€šè¿‡UriåŠ è½½å¹¶æ˜¾ç¤ºåˆ°ImageView } } } FileUtil package com.showguan.chapter06.util; public class FileUtil { // ä¿å­˜æ–‡æœ¬åˆ°æŒ‡å®šè·¯å¾„ public static void saveText(String path, String txt) { // æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦ç¡®ä¿osè¢«æ­£ç¡®å…³é—­ä¹‹åæ‰èƒ½ä¿å­˜æ–‡ä»¶ try (BufferedWriter os = new BufferedWriter(new FileWriter(path))) { os.write(txt); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;ä¿å­˜æˆåŠŸ\u0026#34;); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;ä¿å­˜çš„å†…å®¹\u0026#34; + txt); } catch (Exception e) { e.printStackTrace(); } } //ä»æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–ä¸ºå­—ç¬¦ä¸² public static String openText(String path){ BufferedReader is = null; StringBuilder sb = new StringBuilder(); try{ is = new BufferedReader(new FileReader(path)); String line = null; while((line = is.readLine()) != null){ sb.append(line); } }catch (Exception e){ e.printStackTrace(); }finally { if(is != null){ try{ is.close(); }catch (Exception e){ e.printStackTrace(); } } } return sb.toString(); } public static void saveImage(String path, Bitmap bitmap) { try(FileOutputStream fos = new FileOutputStream(path)){ bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos); }catch (Exception e){ e.printStackTrace(); } } public static Bitmap readImage(String path) { Bitmap bitmap = null; try(FileInputStream fis = new FileInputStream(path)) { bitmap = BitmapFactory.decodeStream(fis); }catch (Exception e){ e.printStackTrace(); } return bitmap; } } Application å£°æ˜å‘¨æœŸ é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªApplication\npackage com.showguan.chapter06; import android.app.Application; import android.content.res.Configuration; import android.util.Log; import androidx.annotation.NonNull; import java.util.HashMap; public class MyApplication extends Application { private static MyApplication mApp; public HashMap\u0026lt;String, String\u0026gt; infoMap = new HashMap\u0026lt;\u0026gt;(); public static MyApplication getInstance(){ return mApp; } @Override public void onCreate() { super.onCreate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onCreate: \u0026#34;); } @Override public void onTerminate() { super.onTerminate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onTerminate: \u0026#34;); } @Override public void onConfigurationChanged(@NonNull Configuration newConfig) { super.onConfigurationChanged(newConfig); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onConfigurationChanged: \u0026#34;); } } 2ã€ä¿®æ”¹manifestæ–‡ä»¶\n3ã€Applicationå£°æ˜å‘¨æœŸ\nApplicationåœ¨Activityä¹‹å‰åˆ›å»ºï¼Œ å¹¶ä¸”æ—‹è½¬å±å¹•æ—¶ä¼šè°ƒç”¨onConfigurationChangedæ–¹æ³•ï¼Œå¹¶ä¼šé‡æ–°åˆ›å»ºActivityã€‚\nApplicationå…¨å±€å˜é‡ æ•°å’Œåœ¨Applicationä¸­ä¿å­˜çš„å…¨å±€å˜é‡ä¸»è¦æœ‰ä¸‹é¢ä¸‰ç§æ•°æ®ï¼š\nä¼šé¢‘ç¹è¯»å–çš„ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·åï¼Œæ‰‹æœºå·ç­‰ã€‚ ä¸æ–¹ä¾¿ç”±æ„å›¾ä¼ é€’çš„æ•°æ®ï¼Œä¾‹å¦‚ä½å›¾å¯¹è±¡ï¼Œéå­—ç¬¦ä¸²ç±»å‹çš„é›†åˆå¯¹è±¡ç­‰ å®¹æ˜“å› é¢‘ç¹åˆ†é…å†…å­˜äºŒå¯¼è‡´å†…å­˜æ³„æ¼çš„å¯¹è±¡ï¼Œå¦‚Handlerå¯¹è±¡ç­‰ã€‚ é€šè¿‡åœ¨MyApplicationä¸­å®šä¹‰å…¨å±€å˜é‡infoMap, é€šè¿‡å•ä¾‹ç±»è·å–appå¯¹è±¡ï¼Œå®ç°åœ¨infoMapä¸­ï¼Œ å³å†…å­˜ä¸­å­˜å‚¨æ•°æ®ã€‚\nMyAppliaction.java package com.showguan.chapter06; import android.app.Application; import android.content.res.Configuration; import android.util.Log; import androidx.annotation.NonNull; import java.util.HashMap; public class MyApplication extends Application { private static MyApplication mApp = new MyApplication(); public HashMap\u0026lt;String, String\u0026gt; infoMap = new HashMap\u0026lt;\u0026gt;(); public static MyApplication getInstance(){ return mApp; } @Override public void onCreate() { super.onCreate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onCreate: \u0026#34;); } @Override public void onTerminate() { super.onTerminate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onTerminate: \u0026#34;); } @Override public void onConfigurationChanged(@NonNull Configuration newConfig) { super.onConfigurationChanged(newConfig); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onConfigurationChanged: \u0026#34;); } } AppWriteActivity.java package com.showguan.chapter06; import android.content.SharedPreferences; import android.os.Bundle; import android.view.View; import android.widget.CheckBox; import android.widget.EditText; import androidx.appcompat.app.AppCompatActivity; import com.showguan.chapter06.util.ToastUtil; public class AppWriteActivity extends AppCompatActivity implements View.OnClickListener { private EditText et_name; private EditText et_age; private EditText et_height; private EditText et_weight; private SharedPreferences preferences; private CheckBox ck_isMarried; private MyApplication app; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_app_write); et_name = findViewById(R.id.et_name); et_age = findViewById(R.id.et_age); et_height = findViewById(R.id.et_height); et_weight = findViewById(R.id.et_weight); ck_isMarried = findViewById(R.id.ck_isMarried); findViewById(R.id.btn_save).setOnClickListener(this); app = MyApplication.getInstance(); reload(); } private void reload() { String name = app.infoMap.get(\u0026#34;name\u0026#34;); if (name == null) { return; } String age = app.infoMap.get(\u0026#34;age\u0026#34;); String height = app.infoMap.get(\u0026#34;height\u0026#34;); String weight = app.infoMap.get(\u0026#34;weight\u0026#34;); String married = app.infoMap.get(\u0026#34;married\u0026#34;); et_name.setText(name); et_age.setText(age); et_height.setText(height); et_weight.setText(weight); ck_isMarried.setChecked(married == \u0026#34;æ˜¯\u0026#34;); } // @Override public void onClick(View v) { String name = et_name.getText().toString(); String age = et_age.getText().toString(); String height = et_height.getText().toString(); String weight = et_weight.getText().toString(); app.infoMap.put(\u0026#34;name\u0026#34;, name); app.infoMap.put(\u0026#34;age\u0026#34;, age); app.infoMap.put(\u0026#34;height\u0026#34;, height); app.infoMap.put(\u0026#34;weight\u0026#34;, weight); app.infoMap.put(\u0026#34;married\u0026#34;, ck_isMarried.isChecked() ? \u0026#34;æ˜¯\u0026#34; : \u0026#34;å¦\u0026#34;); ToastUtil.show(this, \u0026#34;ä¿å­˜æˆåŠŸ\u0026#34;); } } Roomæ¡†æ¶çš„å¯¼å…¥ Roomæ—¶è°·æ­Œå…¬å¸æ¨å‡ºçš„æ•°æ®åº“å¤„ç†æ¡†æ¶ï¼Œè¯¥æ¡†æ¶åŒæ ·åŸºäºSQLite, ä½†å®ƒé€šè¿‡æ³¨è§£æŠ€æœ¯æå¤§ç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œå‡å°‘äº†åŸæ¥ç›¸å½“ä¸€éƒ¨åˆ†ç¼–ç å·¥ä½œé‡ã€‚\nåœ¨ä½¿ç”¨Roomä¹‹å‰ï¼Œè¦å…ˆä¿®æ”¹æ¨¡å—çš„build.gradleæ–‡ä»¶ï¼Œå¾€dependenciesèŠ‚ç‚¹æ·»åŠ ä¸‹é¢çš„é…ç½®ï¼Œè¡¨ç¤ºå¯¼å…¥æŒ‡å®šç‰ˆæœ¬çš„Roomåº“ dependencies { implementation \u0026#39;androidx.room:room-runtime:2.6.1\u0026#39; annotationProcessor \u0026#39;androidx.room:room-compiler:2.6.1\u0026#39; } 1ã€åˆ›å»ºå®ä½“ç±» BookInfo.java package com.showguan.chapter06.enity; import androidx.room.Entity; import androidx.room.PrimaryKey; @Entity public class BookInfo { @PrimaryKey(autoGenerate = true) private int id; private String name; private String author; private String publish; private double price; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getAuthor() { return author; } public void setAuthor(String author) { this.author = author; } public String getPublish() { return publish; } public void setPublish(String publish) { this.publish = publish; } public double getPrice() { return price; } public void setPrice(double price) { this.price = price; } @Override public String toString() { return \u0026#34;BookInfo{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, author=\u0026#39;\u0026#34; + author + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, publish=\u0026#39;\u0026#34; + publish + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, price=\u0026#34; + price + \u0026#39;}\u0026#39;; } } 2ã€åˆ›å»ºDaoæ•°æ®è®¿é—®å¯¹è±¡ package com.showguan.chapter06.dao; import androidx.room.Dao; import androidx.room.Delete; import androidx.room.Insert; import androidx.room.Query; import androidx.room.Update; import com.showguan.chapter06.enity.BookInfo; import java.util.List; @Dao public interface BookDao { @Insert void insert(BookInfo... bookInfos); @Delete void delete(BookInfo... bookInfos); @Query(\u0026#34;DELETE FROM BookInfo\u0026#34;) void deleteAll(); @Update int update(BookInfo... bookInfos); @Query(\u0026#34;SELECT * FROM BookInfo\u0026#34;) List\u0026lt;BookInfo\u0026gt; queryAll(); @Query(\u0026#34;SELECT * FROM BookInfo WHERE name = :name ORDER BY id DESC LIMIT 1\u0026#34;) BookInfo queryByName(String name); } 3ã€åˆ›å»º BookDatabase è¿æ¥å®ä½“ç±»å’ŒDao package com.showguan.chapter06.database; import androidx.room.Database; import androidx.room.RoomDatabase; import com.showguan.chapter06.dao.BookDao; import com.showguan.chapter06.enity.BookInfo; @Database(entities = {BookInfo.class}, version = 1, exportSchema = true) public abstract class BookDatabase extends RoomDatabase{ public abstract BookDao bookDao(); } 4ã€åœ¨MyApplicationä¸­æ„å»ºå¹¶è¿”å›æ•°æ®åº“å¯¹è±¡ package com.showguan.chapter06; import android.app.Application; import android.content.res.Configuration; import android.util.Log; import androidx.annotation.NonNull; import androidx.room.DatabaseConfiguration; import androidx.room.InvalidationTracker; import androidx.room.Room; import androidx.sqlite.db.SupportSQLiteOpenHelper; import com.showguan.chapter06.dao.BookDao; import com.showguan.chapter06.database.BookDatabase; import java.util.HashMap; public class MyApplication extends Application { private static MyApplication mApp = new MyApplication(); public HashMap\u0026lt;String, String\u0026gt; infoMap = new HashMap\u0026lt;\u0026gt;(); private static BookDatabase bookDatabase; public static MyApplication getInstance(){ return mApp; } @Override public void onCreate() { super.onCreate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onCreate: \u0026#34;); bookDatabase = Room.databaseBuilder(this, BookDatabase.class, \u0026#34;book\u0026#34;) .addMigrations() // å…è®¸è¿ç§»æ•°æ®åº“ï¼ˆå‘ç”Ÿæ•°æ®åº“å˜æ›´æ—¶ï¼ŒRoomé»˜è®¤åˆ é™¤åŸæ•°æ®åº“å†åˆ›å»ºæ–°æ•°æ®åº“ï¼Œ è¿™æ ·åŸæ¥çš„æ•°æ®ä¼šæ¶ˆå¤±ã€‚ .allowMainThreadQueries() //å…è®¸å†ä¸»çº¿ç¨‹ä¸­æ“ä½œæ•°æ®åº“ï¼ˆRoomé»˜è®¤ä¸èƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ“ä½œæ•°æ®åº“ï¼‰ .build(); } @Override public void onTerminate() { super.onTerminate(); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onTerminate: \u0026#34;); } @Override public void onConfigurationChanged(@NonNull Configuration newConfig) { super.onConfigurationChanged(newConfig); Log.d(\u0026#34;Kennem\u0026#34;, \u0026#34;MyApplication onConfigurationChanged: \u0026#34;); } public BookDatabase getBookDatabase(){ return bookDatabase; } } 5ã€åœ¨ä½¿ç”¨æ—¶åªéœ€è¦ç”¨BookDaoè°ƒç”¨ç›¸åº”çš„æ–¹æ³•å³å¯ package com.showguan.chapter06; import android.os.Bundle; import android.util.Log; import android.view.View; import android.widget.EditText; import androidx.appcompat.app.AppCompatActivity; import com.showguan.chapter06.dao.BookDao; import com.showguan.chapter06.enity.BookInfo; import com.showguan.chapter06.util.ToastUtil; import java.util.List; public class RoomWriteActivity extends AppCompatActivity implements View.OnClickListener { private String TAG = \u0026#34;Kennem\u0026#34;; private EditText et_name; private EditText et_author; private EditText et_publish; private EditText et_price; private BookDao bookDao; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_room_write); et_name = findViewById(R.id.et_name); et_author = findViewById(R.id.et_author); et_publish = findViewById(R.id.et_publish); et_price = findViewById(R.id.et_price); findViewById(R.id.btn_add).setOnClickListener(this); findViewById(R.id.btn_delete).setOnClickListener(this); findViewById(R.id.btn_update).setOnClickListener(this); findViewById(R.id.btn_select).setOnClickListener(this); findViewById(R.id.btn_deleteAll).setOnClickListener(this); bookDao = MyApplication.getInstance().getBookDatabase().bookDao(); } @Override public void onClick(View v) { String name = null; String author = null; String publish = null; Double price = 0.0; if (!et_name.getText().toString().equals(\u0026#34;\u0026#34;)) { name = et_name.getText().toString(); } if (!et_author.getText().toString().equals(\u0026#34;\u0026#34;)) { author = et_author.getText().toString(); } if (!et_publish.getText().toString().equals(\u0026#34;\u0026#34;)) { publish = et_publish.getText().toString(); } if (!et_price.getText().toString().equals(\u0026#34;\u0026#34;)) { // Log.d(TAG, et_price.getText().toString()); price = Double.valueOf(et_price.getText().toString()); } if (v.getId() == R.id.btn_add) { BookInfo bookInfo = new BookInfo(); bookInfo.setName(name); bookInfo.setAuthor(author); bookInfo.setPublish(publish); bookInfo.setPrice(price); bookDao.insert(bookInfo); ToastUtil.show(this, \u0026#34;ä¿å­˜æˆåŠŸï¼\u0026#34;); } else if (v.getId() == R.id.btn_delete) { BookInfo b = new BookInfo(); int id = bookDao.queryByName(name).getId(); b.setId(id); bookDao.delete(b); } else if (v.getId() == R.id.btn_update) { BookInfo b3 = new BookInfo(); BookInfo b4 = bookDao.queryByName(name); b3.setId(b4.getId()); b3.setName(name); b3.setAuthor(author); b3.setPublish(publish); b3.setPrice(price); bookDao.update(b3); } else if (v.getId() == R.id.btn_select) { List\u0026lt;BookInfo\u0026gt; bookInfos = bookDao.queryAll(); for (BookInfo bookInfo : bookInfos) { Log.d(TAG, bookInfo.toString()); } } else if (v.getId() == R.id.btn_deleteAll) { bookDao.deleteAll(); } } } æ¡ˆä¾‹-å®ç°è´­ç‰©è½¦ ","permalink":"https://kennems.github.io/zh/posts/tech/android3/","summary":"Androidï¼ˆ3ï¼‰ æ•°æ®å­˜å‚¨ å…±äº«å‚æ•°çš„ç”¨æ³• SharedPreferences æ˜¯ Androidçš„ä¸€ä¸ªè½»é‡çº§å­˜å‚¨å·¥å…·ï¼Œé‡‡ç”¨çš„å­˜å‚¨ç»“æ„æ˜¯key-valueçš„é”®å€¼å¯¹æ–¹å¼ å…±äº«å‚æ•°çš„å­˜","title":"Androidï¼ˆ3ï¼‰"},{"content":"Androidï¼ˆ1ï¼‰ ã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Kotlin è®²ä¹‰\rhttps://kdocs.cn/l/cu14rrCtfKxv\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Android å››å¤§ç»„ä»¶è¯¾ç¨‹æ¦‚è¦ https://kdocs.cn/l/croaFl0RS5LA\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Fragment é‡ç‚¹çŸ¥è¯†\rhttps://kdocs.cn/l/cj89XRLXypb8\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Android UI è¯¾ç¨‹é‡ç‚¹çŸ¥è¯†\rhttps://kdocs.cn/l/cokrSwEg1GF4\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Androidå¸ƒå±€ä¸ä¼˜åŒ–\rhttps://kdocs.cn/l/ciwSdaSLRAwB\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ ç»„ä»¶åº“\rhttps://kdocs.cn/l/cvsBNce6AfjI\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Android åŠ¨ç”»\rhttps://kdocs.cn/l/cf4bQiAeZdlI\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ è‡ªå®šä¹‰æ§ä»¶çš„å®ç°\rhttps://kdocs.cn/l/cu3bUFFJVvn8\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ æƒé™ä¸ç½‘ç»œè¯·æ±‚è¯¾ç¨‹é¢„ä¹ \rhttps://kdocs.cn/l/cme7bRkDMYcB\rã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ å†…å­˜æ³„æ¼å’ŒANRé¢„ä¹ \rhttps://kdocs.cn/l/cpFLi1gGV4Xs ctrl + alt + o è‡ªåŠ¨ç»„ç»‡å¯¼å…¥\nAppå¼€å‘è¯­è¨€\nAppå¼€å‘ä¸»è¦æœ‰ä¸¤å¤§æŠ€æœ¯è·¯å¾„ï¼Œåˆ†åˆ«æ˜¯åŸç”Ÿå¼€å‘å’Œæ··åˆå¼€å‘ Androidçš„å®˜æ–¹ç¼–ç¨‹è¯­è¨€åŒ…æ‹¬Javaå’ŒKotlin XMLï¼šExtensible Markup Language, å³å¯æ‰©å±•æ ‡è®°è¯­è¨€\ngradleä¸‹è½½é•œåƒ\nä½¿ç”¨å®˜ç½‘ä¸‹è½½éå¸¸çš„æ…¢ï¼Œå»ºè®®ä½¿ç”¨é•œåƒç«™ï¼š\nï¼ˆ1ï¼‰å®˜ç½‘åœ°å€ï¼šhttps://services.gradle.org/distributions/ ï¼ˆ2ï¼‰è…¾è®¯é•œåƒ Gradleä¸‹è½½åœ°å€ï¼šhttps://mirrors.cloud.tencent.com/gradle/ ï¼ˆ3ï¼‰é˜¿é‡Œäº‘é•œåƒ Gradleä¸‹è½½åœ°å€ï¼šhttps://mirrors.aliyun.com/macports/distfiles/gradle/\nè™šæ‹Ÿæœºæ”¹æˆå†·å¯åŠ¨\nhttps://blog.csdn.net/gh8609123/article/details/118514352\nç±»ä¼¼ç½‘é¡µï¼ŒXMLæè¿°ç•Œé¢ï¼ŒJavaåšäº¤äº’æ•ˆæœ\nç®€å•æ§ä»¶ å­—ä½“å¤§å°è®¾ç½® Javaä»£ç  tv.setTextSize(10); åœ¨XMLæ–‡ä»¶ä¸­åˆ™é€šè¿‡å±æ€§android:textSizeæŒ‡å®šæ–‡æœ¬å¤§å°ï¼Œæ­¤æ—¶éœ€è¦æŒ‡å®šå­—å·å•ä½ã€‚ pxï¼šæ˜¯æ‰‹æœºå±å¹•çš„æœ€å°æ˜¾ç¤ºå•ä½ï¼Œä¸è®¾å¤‡çš„æ˜¾ç¤ºå±æœ‰å…³ dpï¼šæ˜¯ä¸è®¾å¤‡æ— å…³çš„æ˜¾ç¤ºå•ä½**ï¼Œåªä¸å±å¹•çš„å°ºå¯¸æœ‰å…³** spï¼šä¸“é—¨ç”¨æ¥è®¾ç½®å­—ä½“å¤§å°ï¼Œåœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ä»¥è°ƒæ•´å­—ä½“å¤§å° Dpi(åƒç´ å¯†åº¦dots-per-inch)è®¡ç®—è§„åˆ™\nä»¥$4.95$è‹±å¯¸ $1920*1080$ çš„æ‰‹æœºè®¾å¤‡ä¸ºä¾‹ï¼š\nè®¡ç®—ç›´è§’è¾¹åƒç´ æ•°é‡ï¼š$1920^2 + 1080^2 = 2202^2$ è®¡ç®—Dpiï¼š$2205/4.95=445$ å¾—åˆ°Dpiä¸º$445$ ï¼ˆæ¯è‹±å¯¸çš„è·ç¦»æœ‰$445$ä¸ªåƒç´ ï¼‰ Density\næŒ‡å±å¹•ä¸Šæ¯å¹³æ–¹è‹±å¯¸ä¸­å«æœ‰çš„åƒç´ ç‚¹æ•°ï¼Œ $445^2$\nDip/dp (è®¾å¤‡ç‹¬ç«‹åƒç´ Device Independent Pixel)\næ‰€æœ‰æ˜¾ç¤ºåˆ°å±å¹•ä¸Šçš„å›¾åƒéƒ½æ˜¯ä»¥pxä¸ºå•ä½çš„ï¼ŒDipæ˜¯å¼€å‘ä¸­ä½¿ç”¨çš„é•¿åº¦å•ä½ï¼Œæœ€åä¹Ÿéœ€è¦è½¬æ¢æˆpxï¼Œè®¡ç®—è¿™ä¸ªè®¾å¤‡ä¸Š1dipç­‰äºå¤šå°‘px\n$px = dip * dpi / 160$\næ ¹æ®æ¢ç®—å…³ç³»ï¼š\n320*480åƒç´ ï¼Œ3.6å¯¸çš„æ‰‹æœºï¼šdpi ä¸º160ï¼Œ$ 1dp = 1px$\npublic class TextSizeActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); EdgeToEdge.enable(this); setContentView(R.layout.activity_text_size); TextView viewById = findViewById(R.id.hello_tv); viewById.setTextSize(30); } } \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:gravity=\u0026#34;center\u0026#34; \u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_TextSize_px\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;@string/textSize\u0026#34; android:textSize=\u0026#34;30px\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_TextSize_dp\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;@string/textSize\u0026#34; android:textSize=\u0026#34;30dp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_TextSize_sp\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;@string/textSize\u0026#34; android:textSize=\u0026#34;30sp\u0026#34; /\u0026gt; \u0026lt;!-- spè·Ÿéšç³»ç»Ÿå­—ä½“å˜å¤§è€Œå˜å¤§--\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/hello_tv\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;@string/textSize\u0026#34; android:textSize=\u0026#34;30px\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; å­—ä½“é¢œè‰²è®¾ç½® åœ¨XMLæ–‡ä»¶ä¸­é€šè¿‡å±æ€§android:textColoræŒ‡å®šæ–‡æœ¬é¢œè‰²ï¼Œè‰²å€¼ç”±é€æ˜åº¦alphaå’ŒRGBä¸‰åŸè‰²ï¼ˆçº¢è‰²red, ç»¿è‰²green, è“è‰²blueï¼‰è”åˆå®šä¹‰ã€‚ è‰²å€¼æœ‰å…«ä½åå…­è¿›åˆ¶å’Œå…­ä½åå…­è¿›åˆ¶ä¸¤ç§è¡¨è¾¾æ–¹å¼ï¼Œä¾‹å¦‚å…«ä½ç¼–ç FFEEDDCCä¸­ï¼ŒFFè¡¨ç¤ºé€æ˜åº¦ï¼ŒEEè¡¨ç¤ºçº¢è‰²çš„æµ“åº¦ï¼ŒDDè¡¨ç¤ºç»¿è‰²çš„æµ“åº¦ï¼ŒCCè¡¨ç¤ºè“è‰²çš„æµ“åº¦ã€‚ é€æ˜åº¦ä¸ºFFè¡¨ç¤ºå®Œå…¨ä¸é€æ˜ï¼Œä¸º00è¡¨ç¤ºå®Œå…¨é€æ˜ã€‚RGBä¸‰è‰²çš„æ•°å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºé¢œè‰²è¶Šæµ“ï¼Œä¹Ÿå°±è¶Šäº®ï¼›æ•°å€¼è¶Šå°ï¼Œè¡¨ç¤ºé¢œè‰²è¶Šæ·¡ï¼Œä¹Ÿå°±è¶Šæš—ã€‚ Javaä¸­é€æ˜åº¦è®¾ç½®çš„æ˜¯é€æ˜ï¼ˆä¾‹å¦‚ï¼š0x00ff00 å®é™…ä¸ºï¼š0x0000ff00ï¼‰ï¼Œè€ŒXMLæ–‡ä»¶ä¸­é€æ˜åº¦è®¾ç½®é»˜è®¤ä¸ºä¸é€æ˜ï¼ˆä¾‹å¦‚é»‘è‰²ï¼š#000000ï¼Œ å®é™…ä¸º#ff000000ï¼‰\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_TextSize_code_system\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;æ™®é€šé¢œè‰²è®¾ç½®\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_code_eight\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å…«ä½åå…­è¿›åˆ¶é¢œè‰²è®¾ç½®\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_code_six\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å…­ä½åå…­è¿›åˆ¶é¢œè‰²è®¾ç½®\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_xml\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;XMLæ–‡ä»¶é»˜è®¤é€æ˜åº¦é¢œè‰²è®¾ç½®\u0026#34; android:textColor=\u0026#34;#00ff00\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_values\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è‡ªå®šä¹‰é¢œè‰²è®¾ç½®\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_bgc\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;@color/kennemColor\u0026#34; android:text=\u0026#34;XMLèƒŒæ™¯è‰²é¢œè‰²è®¾ç½®\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_java_bgc\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;JavaèƒŒæ™¯è‰²è®¾ç½®\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; public class TextColorActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); // è®¾ç½®å½“å‰æ´»åŠ¨çš„å¸ƒå±€è§†å›¾ï¼Œå¸ƒå±€æ–‡ä»¶ä¸º activity_text_color.xml setContentView(R.layout.activity_text_color); // è·å–å¸ƒå±€æ–‡ä»¶ä¸­çš„ TextViewï¼Œå…¶ ID ä¸º tv_TextSize_code_system TextView textView = findViewById(R.id.tv_TextSize_code_system); // å°†è¯¥ TextView çš„æ–‡æœ¬é¢œè‰²è®¾ç½®ä¸ºç»¿è‰²ï¼Œä½¿ç”¨ Color ç±»çš„é™æ€å¸¸é‡ textView.setTextColor(Color.GREEN); // è·å–å¸ƒå±€æ–‡ä»¶ä¸­çš„ TextViewï¼Œå…¶ ID ä¸º tv_code_eight TextView tv_code_eight = findViewById(R.id.tv_code_eight); // å°†è¯¥ TextView çš„æ–‡æœ¬é¢œè‰²è®¾ç½®ä¸ºç»¿è‰²ï¼Œä½¿ç”¨ ARGB æ ¼å¼çš„ 8 ä½åå…­è¿›åˆ¶é¢œè‰²å€¼ tv_code_eight.setTextColor(0xff00ff00); // è·å–å¸ƒå±€æ–‡ä»¶ä¸­çš„ TextViewï¼Œå…¶ ID ä¸º tv_code_six TextView tv_code_six = findViewById(R.id.tv_code_six); // å°†è¯¥ TextView çš„æ–‡æœ¬é¢œè‰²è®¾ç½®ä¸ºç»¿è‰²ï¼Œä½¿ç”¨ RGB æ ¼å¼çš„ 6 ä½åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼ˆ0x00ff00ï¼‰ // æ³¨æ„ï¼šè¿™è¡Œä»£ç å­˜åœ¨é—®é¢˜ï¼Œå› ä¸º 0x00ff00 å®é™…ä¸Šæ˜¯ä¸€ä¸ª 24 ä½çš„å€¼ï¼Œä¼šè¢«è§£æä¸ºé€æ˜é¢œè‰²ã€‚ // åº”è¯¥ä½¿ç”¨ 0xff00ff00 è¿™ç§ 32 ä½æ ¼å¼ã€‚ tv_code_six.setTextColor(0xff00ff00); // ä¿®æ”¹äº†åŸæœ‰çš„é”™è¯¯ // è·å–å¸ƒå±€æ–‡ä»¶ä¸­çš„ TextViewï¼Œå…¶ ID ä¸º tv_java_bgc TextView tv_java_bgc = findViewById(R.id.tv_java_bgc); // å°†è¯¥ TextView çš„èƒŒæ™¯é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²ï¼Œä½¿ç”¨ Color ç±»çš„é™æ€å¸¸é‡ tv_java_bgc.setBackgroundColor(Color.RED); } } è®¾ç½®è§†å›¾çš„å®½é«˜ è§†å›¾å®½åº¦é€šè¿‡å±æ€§android:layout_widthè¡¨è¾¾ï¼Œè¯•å›¾é«˜åº¦é€šè¿‡å±æ€§android:lay_heightè¡¨è¾¾ï¼Œå®½é«˜çš„å–å€¼ä¸»è¦æœ‰ä¸‹åˆ—ä¸‰ç§\nmatch_parentï¼šè¡¨ç¤ºä¸ä¸Šçº§è¯•å›¾ä¿æŒä¸€è‡´ wrap_contentï¼šè¡¨ç¤ºä¸å†…å®¹è‡ªé€‚åº” ä»¥dpä¸ºå•ä½çš„å…·ä½“å°ºå¯¸ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34; android:text=\u0026#34;è§†å›¾å®½é«˜å‡ç”¨wrap_contentå®šä¹‰\u0026#34; android:textColor=\u0026#34;#000000\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34; android:text=\u0026#34;è§†å›¾å®½é«˜å‡ç”¨match_parentå®šä¹‰\u0026#34; android:textColor=\u0026#34;#000000\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;300dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34; android:text=\u0026#34;è§†å›¾å®½åº¦æŒ‡å®šå›ºå®šå¤§å°\u0026#34; android:textColor=\u0026#34;#000000\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_code\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_marginTop=\u0026#34;5dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34; android:text=\u0026#34;ç”¨ä»£ç å®šä¹‰è§†å›¾å®½é«˜\u0026#34; android:textColor=\u0026#34;#000000\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; è®¾ç½®è§†å›¾çš„é—´è· layout_margin ï¼š å½“å‰è§†å›¾ä¸å‘¨å›´å¹³çº§è§†å›¾ä¹‹é—´çš„è·ç¦»ã€‚åŒ…æ‹¬layout_marginï¼Œ layout_marginLeft, layout_marginTop, layout_marginRight, layout_marginBottom.\nlayout_padding ï¼š å½“å‰è§†å›¾å’Œå†…éƒ¨ä¸‹çº§è§†å›¾ä¹‹é—´çš„å…³ç³»ï¼Œ åŒ…æ‹¬padding, paddingLeft, paddingTop, paddingRight, paddingBottom\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;300dp\u0026#34; android:background=\u0026#34;#00AAFF\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:layout_margin=\u0026#34;20dp\u0026#34; android:background=\u0026#34;#FFFF99\u0026#34; android:padding=\u0026#34;60dp\u0026#34;\u0026gt; \u0026lt;View android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:background=\u0026#34;#FF0000\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/LinearLayout\u0026gt; è®¾ç½®è§†å›¾çš„å¯¹é½æ–¹å¼ è®¾ç½®è§†å›¾çš„å¯¹é½æ–¹å¼æœ‰ä¸¤ç§é€”å¾„\né‡‡ç”¨layout_gravityå±æ€§ï¼Œå®ƒæŒ‡å®šäº†å½“å‰è§†å›¾ç›¸å¯¹äºä¸Šçº§è§†å›¾çš„å¯¹é½æ–¹å¼ é‡‡ç”¨gravityå±æ€§ï¼Œå®ƒæŒ‡å®šäº†ä¸‹çº§è§†å›¾ç›¸å¯¹äºå½“å‰è§†å›¾çš„å¯¹é½æ–¹å¼ layout_gravityä¸gravityçš„å–å€¼åŒ…æ‹¬ï¼šleft, top, right, bottom, è¿˜å¯ä»¥ç”¨ç«–çº¿è¿æ¥å„å–å€¼ï¼Œä¾‹å¦‚ \u0026quot;left|top\u0026quot; è¡¨ç¤ºå³é å·¦åˆé ä¸Šï¼Œå·¦ä¸Šè§’å¯¹é½ã€‚\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;300dp\u0026#34; android:background=\u0026#34;#ffff99\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34; \u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;200dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:layout_margin=\u0026#34;10dp\u0026#34; android:background=\u0026#34;#ff0000\u0026#34; android:padding=\u0026#34;10dp\u0026#34; android:layout_gravity=\u0026#34;bottom\u0026#34; android:gravity=\u0026#34;left\u0026#34;\u0026gt; \u0026lt;View android:layout_width=\u0026#34;100dp\u0026#34; android:layout_height=\u0026#34;100dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;200dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:layout_margin=\u0026#34;10dp\u0026#34; android:background=\u0026#34;#ff0000\u0026#34; android:padding=\u0026#34;10dp\u0026#34; android:layout_gravity=\u0026#34;top\u0026#34; android:gravity=\u0026#34;right\u0026#34;\u0026gt; \u0026lt;View android:layout_width=\u0026#34;100dp\u0026#34; android:layout_height=\u0026#34;100dp\u0026#34; android:background=\u0026#34;#00ffff\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/LinearLayout\u0026gt; å¸¸ç”¨å¸ƒå±€ çº¿æ€§å¸ƒå±€LinearLayout çº¿æ€§å¸ƒå±€çš„æƒé‡\nçº¿æ€§å¸ƒå±€çš„æƒé‡æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯çº¿æ€§å¸ƒå±€çš„ä¸‹çº§è§†å›¾å„è‡ªæ‹¥æœ‰å¤šå¤§æ¯”ä¾‹çš„å®½é«˜ æƒé‡å±æ€§åå«layout_weightï¼Œ ä½†è¯¥å±æ€§ä¸åœ¨LinearLayoutèŠ‚ç‚¹è®¾ç½®ï¼Œè€Œåœ¨çº¿æ€§å¸ƒå±€çš„ç›´æ¥ä¸‹çº§è§†å›¾è®¾ç½®ï¼Œè¡¨ç¤ºè¯¥ä¸‹çº§è§†å›¾å æ®çš„å®½é«˜æ¯”ä¾‹ã€‚ layout_widthå¡«0dpæ—¶ï¼Œlayout_weightè¡¨ç¤ºæ°´å¹³æ–¹å‘çš„å®½åº¦æ¯”ä¾‹ã€‚ layout_heightå¡«0dpæ—¶ï¼Œ layout_weightè¡¨ç¤ºå‚ç›´æ–¹å‘çš„é«˜åº¦æ¯”ä¾‹ã€‚ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:background=\u0026#34;@color/backgroundColor\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;The æ¨ªæ’ç¬¬ä¸€ä¸ª\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;0dp\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_weight=\u0026#34;2\u0026#34; android:text=\u0026#34;The æ¨ªæ’ç¬¬äºŒä¸ª\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;0dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;The ç«–æ’ç¬¬ä¸€ä¸ª\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;0dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:text=\u0026#34;The ç«–æ’ç¬¬äºŒä¸ª\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/LinearLayout\u0026gt; ç›¸å¯¹å¸ƒå±€RelativeLayout ç›¸å¯¹å¸ƒå±€çš„ä¸‹çº§è§†å›¾ä½ç½®åˆå…¶ä»–è§†å›¾å†³å®šã€‚ç”¨äºç¡®å®šä¸‹çº§è§†å›¾ä½ç½®çš„å‚ç…§ç‰©åˆ†ä¸¤ç§ï¼š ä¸è¯¥è§†å›¾è‡ªèº«å¹³çº§çš„è§†å›¾ è¯¥è§†å›¾çš„ä¸Šçº§è§†å›¾ï¼ˆä¹Ÿå°±æ˜¯å®ƒå½’å±çš„RelativeLayoutï¼‰ å¦‚æœä¸è®¾å®šä¸‹çº§è§†å›¾çš„å‚ç…§ç‰©ï¼Œé‚£ä¹ˆä¸‹çº§è§†å›¾é»˜è®¤æ˜¾ç¤ºåœ¨RelativeLayoutå†…éƒ¨çš„åä¸Šè§’ã€‚ â€‹\t\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;RelativeLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;150dp\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_center\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_centerInParent=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨ä¸­é—´\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_center_horizontal\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_centerHorizontal=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨æ°´å¹³ä¸­é—´\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_center_vertical\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_centerVertical=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨å‚ç›´ä¸­é—´\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_parent_left\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_alignParentLeft=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;å’Œä¸Šçº§çš„å·¦è¾¹å¯¹é½\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_parent_right\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_alignParentRight=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;å’Œä¸Šçº§çš„å³è¾¹å¯¹é½\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_parent_top\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_alignParentTop=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;å’Œä¸Šçº§çš„é¡¶éƒ¨å¯¹é½\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_parent_bottom\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_alignParentBottom=\u0026#34;true\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;å’Œä¸Šçº§çš„åº•éƒ¨å¯¹é½\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_left_center\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_toLeftOf=\u0026#34;@id/tv_center\u0026#34; android:layout_alignTop=\u0026#34;@+id/tv_center\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨ä¸­é—´çš„å·¦è¾¹\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_right_center\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_toRightOf=\u0026#34;@id/tv_center\u0026#34; android:layout_alignBottom=\u0026#34;@+id/tv_center\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨ä¸­é—´çš„å³è¾¹\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_top_center\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_above=\u0026#34;@id/tv_center\u0026#34; android:layout_alignLeft=\u0026#34;@+id/tv_center\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨ä¸­é—´çš„ä¸Šè¾¹\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_blow_center\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:layout_below=\u0026#34;@id/tv_center\u0026#34; android:layout_alignRight=\u0026#34;@+id/tv_center\u0026#34; android:background=\u0026#34;#ffffff\u0026#34; android:text=\u0026#34;æˆ‘åœ¨ä¸­é—´çš„ä¸‹è¾¹\u0026#34; android:textSize=\u0026#34;11sp\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34;/\u0026gt; \u0026lt;/RelativeLayout\u0026gt; ç½‘æ ¼å¸ƒå±€GridLayout ç½‘æ ¼å¸ƒå±€æ”¯æŒå¤šè¡Œå¤šåˆ—çš„è¡¨æ ¼æ’åˆ—ã€‚ ç½‘æ ¼å¸ƒå±€é»˜è®¤ä»å·¦å¾€å³ã€ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œå®ƒæ–°å¢äº†ä¸¤ä¸ªå±æ€§ï¼š columnCountå±æ€§ï¼Œå®ƒæŒ‡å®šäº†ç½‘æ ¼çš„åˆ—æ•°ï¼Œå³æ¯è¡Œèƒ½æ”¾å¤šå°‘ä¸ªè§†å›¾ï¼› rowCountå±æ€§ï¼Œå®ƒæŒ‡å®šäº†ç½‘æ ¼çš„è¡Œæ•°ï¼Œå³æ¯åˆ—èƒ½æ”¾å¤šå°‘ä¸ªè§†å›¾ æ»šåŠ¨è§†å›¾ScrollView æ»šåŠ¨è§†å›¾æœ‰ä¸¤ç§ï¼š\nScrollViewï¼Œ å®ƒæ˜¯å‚ç›´æ–¹å‘çš„æ»šåŠ¨è§†å›¾ï¼Œå‚ç›´æ–¹å‘æ»šåŠ¨æ—¶ï¼Œlayout_widthå±æ€§å€¼è®¾ç½®ä¸ºmatch_parentï¼Œ layout_heightå±æ€§å€¼è®¾ç½®ä¸ºwrap_contentã€‚\nHorizontalScrollViewï¼Œ å®ƒæ˜¯æ°´å¹³æ–¹å‘çš„æ»šåŠ¨è§†å›¾ï¼›æ°´å¹³æ–¹å‘æ»šåŠ¨æ—¶ï¼Œlayout_widthå±æ€§å€¼è®¾ç½®ä¸ºwrap_contentï¼Œ layout_heightå±æ€§å€¼è®¾ç½®ä¸ºmatch_parentã€‚\nå“ªä¸ªæ–¹å‘è¦æ»‘åŠ¨å°±å°†å“ªä¸ªæ–¹å‘è®¾ç½®ä¸ºwrap_content\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;HorizontalScrollView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;200dp\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;View android:layout_width=\u0026#34;300dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:background=\u0026#34;#ffff00\u0026#34; /\u0026gt; \u0026lt;View android:layout_width=\u0026#34;300dp\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:background=\u0026#34;#aaffff\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/HorizontalScrollView\u0026gt; \u0026lt;ScrollView android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;View android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;700dp\u0026#34; android:background=\u0026#34;#aaff00\u0026#34; /\u0026gt; \u0026lt;View android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;700dp\u0026#34; android:background=\u0026#34;#ff6600\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;/ScrollView\u0026gt; \u0026lt;/LinearLayout\u0026gt; æŒ‰é’®æ§ä»¶Button æŒ‰é’®æ§ä»¶Buttonç”±TextViewæ´¾ç”Ÿè€Œæ¥ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æœ‰ï¼š\nButtonæ‹¥æœ‰é»˜è®¤çš„æŒ‰é’®èƒŒæ™¯ï¼Œè€ŒTextViewé»˜è®¤æ— èƒŒæ™¯ Buttonçš„å†…éƒ¨æ–‡æœ¬é»˜è®¤å±…ä¸­å¯¹é½ï¼Œè€ŒTextViewçš„å†…éƒ¨æ–‡æœ¬é»˜è®¤é å·¦å¯¹é½ Buttonä¼šé»˜è®¤å°†è‹±æ–‡å­—æ¯è½¬ä¸ºå¤§å†™ï¼Œè€ŒTextViewä¿æŒåŸå§‹çš„è‹±æ–‡å¤§å°å†™ï¼ˆæ–°ç‰ˆä¿æŒåŸæœ‰æ ¼å¼ï¼‰ æŒ‰é’®æ§ä»¶çš„æ–°å¢å±æ€§ ä¸TextViewç›¸æ¯”ï¼ŒButtonå¢åŠ äº†ä¸¤ä¸ªæ–°å±æ€§ï¼š\ntextAllCapså±æ€§ï¼Œå®ƒæŒ‡å®šäº†æ˜¯å¦å°†è‹±æ–‡å­—æ¯è½¬ä¸ºå¤§å†™ï¼Œä¸ºtrueè¡¨ç¤ºè‡ªåŠ¨è½¬ä¸ºå¤§å†™ï¼Œä¸ºfalseè¡¨ç¤ºä¸åšå¤§å†™è½¬æ¢ onClickå±æ€§ï¼šå®ƒç”¨æ¥æ¥ç®¡ç”¨æˆ·çš„ç‚¹å‡»åŠ¨ä½œï¼ŒæŒ‡å®šäº†ç‚¹å‡»æŒ‰é’®æ—¶è¦è§¦å‘å“ªä¸ªæ–¹æ³• ButtonStyleActivity.java å°† findViewById(R.id.button_result) å­˜å‚¨åˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ï¼Œå¿«æ·é”®ï¼šctrl + alt + f\npublic class ButtonStyleActivity extends AppCompatActivity { private TextView button_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_button_style); button_result = findViewById(R.id.button_result); } public void doClick(View view){ String desc = String.format(\u0026#34;%s æ‚¨ç‚¹å‡»äº†æŒ‰é’®ï¼š%s\u0026#34;, DateUtil.getNowTime(), ((Button)view).getText()); button_result.setText(desc); } } å¸ƒå±€æ–‡ä»¶ï¼š \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34; android:padding=\u0026#34;5dp\u0026#34;\u0026gt; \u0026lt;TextView android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¸‹é¢çš„buttonå­—æ¯é»˜è®¤å¤§å†™ï¼š\u0026#34; android:layout_gravity=\u0026#34;center\u0026#34; /\u0026gt; \u0026lt;Button android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;Hello Button\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;16sp\u0026#34; /\u0026gt; \u0026lt;Button android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ç›´æ¥æŒ‡å®šç‚¹å‡»æ–¹æ³•\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;16sp\u0026#34; android:onClick=\u0026#34;doClick\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/button_result\u0026#34; android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ä¸‹é¢æ—¶ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹åˆ°çš„ç»“æœ \u0026#34; android:layout_gravity=\u0026#34;center\u0026#34; /\u0026gt; \u0026lt;/LinearLayout\u0026gt; ç‚¹å‡»äº‹ä»¶å’Œé•¿æŒ‰äº‹ä»¶ ç›‘å¬å™¨ï¼Œæ„æ€æ˜¯å¯¹ä¸“é—¨ç›‘å¬æ§ä»¶çš„åŠ¨ä½œè¡Œä¸ºã€‚åªæœ‰æ§ä»¶å‘ç”Ÿäº†æŒ‡å®šçš„åŠ¨ä½œï¼Œç›‘å¬å™¨æ‰ä¼šè§¦å‘å¼€å…³å»æ‰§è¡Œå¯¹åº”çš„ä»£ç é€»è¾‘ æŒ‰é’®æ§ä»¶æœ‰ä¸¤ç§å¸¸ç”¨çš„ç›‘å¬å™¨ï¼š ç‚¹å‡»ç›‘å¬å™¨ï¼šé€šè¿‡setOnClickListeneræ–¹æ³•è®¾ç½®ã€‚æŒ‰é’®è¢«æŒ‰ä½å°‘äº500æ¯«ç§’æ—¶ï¼Œä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ é•¿æŒ‰ç›‘å¬å™¨ï¼Œé€šè¿‡setOnLongClickListeneræ–¹æ³•è®¾ç½®ã€‚æŒ‰é’®è¢«æŒ‰ä½è¶…è¿‡500æ¯«ç§’æ—¶ï¼Œä¼šè§¦å‘é•¿æŒ‰äº‹ä»¶ã€‚ å•å‡»äº‹ä»¶ XMLå¸ƒå±€æ–‡ä»¶ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_click_sigle\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;æŒ‡å®šå•ç‹¬çš„å•å‡»æŒ‰é’®\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; /\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_click_public\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;æŒ‡å®šå…¬å…±çš„å•å‡»æŒ‰é’®\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:padding=\u0026#34;5dp\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; android:text=\u0026#34;ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹æ˜¾ç¤ºç»“æœ\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Javaæ–‡ä»¶ /** * ButtonClickActivityç±»ï¼Œç»§æ‰¿AppCompatActivityï¼Œå®ç°View.OnClickListeneræ¥å£ * ç”¨äºå¤„ç†æŒ‰é’®ç‚¹å‡»äº‹ä»¶ */ public class ButtonClickActivity extends AppCompatActivity implements View.OnClickListener { // å®šä¹‰Viewå’ŒTextViewç±»å‹çš„æˆå‘˜å˜é‡ private View btn_click_sigle; private TextView tv_result; /** * åœ¨Activityåˆ›å»ºæ—¶è°ƒç”¨ï¼Œåˆå§‹åŒ–Activity * @param savedInstanceState ç”¨äºä¿å­˜Activityçš„çŠ¶æ€ */ @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_button_click); // è®¾ç½®å¸ƒå±€æ–‡ä»¶ // è·å–å¸ƒå±€ä¸­çš„TextViewæ§ä»¶ tv_result = findViewById(R.id.tv_result); // è·å–å¸ƒå±€ä¸­çš„æŒ‰é’®æ§ä»¶ btn_click_sigle = findViewById(R.id.btn_click_sigle); // è®¾ç½®æŒ‰é’®çš„ç‚¹å‡»ç›‘å¬å™¨ btn_click_sigle.setOnClickListener(new MyOnClickListener(tv_result)); // è·å–å¦ä¸€ä¸ªæŒ‰é’®æ§ä»¶ Button btn_click_public = findViewById(R.id.btn_click_public); // è®¾ç½®å½“å‰ç±»ä¸ºæŒ‰é’®çš„ç‚¹å‡»ç›‘å¬å™¨ btn_click_public.setOnClickListener(this); } /** * é‡å†™View.OnClickListeneræ¥å£ä¸­çš„onClickæ–¹æ³• * å¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ * @param v è¢«ç‚¹å‡»çš„View */ @Override public void onClick(View v) { if (v.getId() == R.id.btn_click_public) { // åˆ¤æ–­ç‚¹å‡»çš„æ˜¯å¦ä¸ºbtn_click_publicæŒ‰é’® // è·å–å½“å‰æ—¶é—´å’ŒæŒ‰é’®æ–‡æœ¬ï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸² String desc = String.format(\u0026#34;%s æ‚¨ç‚¹å‡»äº†æŒ‰é’®ï¼š%s\u0026#34;, DateUtil.getNowTime(), ((Button) v).getText()); // è®¾ç½®TextViewçš„æ–‡æœ¬å†…å®¹ tv_result.setText(desc); } } /** * é™æ€å†…éƒ¨ç±»ï¼Œå®ç°View.OnClickListeneræ¥å£ * é˜²æ­¢å†…å­˜æ³„æ¼ï¼Œå¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ */ static class MyOnClickListener implements View.OnClickListener { // å®šä¹‰TextViewç±»å‹çš„æˆå‘˜å˜é‡ private final TextView tv_result; /** * æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–TextView * @param tv_result TextViewæ§ä»¶ */ public MyOnClickListener(TextView tv_result) { this.tv_result = tv_result; } /** * é‡å†™View.OnClickListeneræ¥å£ä¸­çš„onClickæ–¹æ³• * å¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ * @param v è¢«ç‚¹å‡»çš„View */ @Override public void onClick(View v) { // è·å–å½“å‰æ—¶é—´å’ŒæŒ‰é’®æ–‡æœ¬ï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸² String desc = String.format(\u0026#34;%s æ‚¨ç‚¹å‡»äº†æŒ‰é’®ï¼š%s\u0026#34;, DateUtil.getNowTime(), ((Button) v).getText()); // è®¾ç½®TextViewçš„æ–‡æœ¬å†…å®¹ tv_result.setText(desc); } } } é•¿æŒ‰äº‹ä»¶ XML \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_long_click\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;æŒ‡å®šé•¿æŒ‰çš„ç‚¹å‡»ç›‘å¬å™¨\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; /\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_result\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:padding=\u0026#34;5dp\u0026#34; android:gravity=\u0026#34;center\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;15sp\u0026#34; android:text=\u0026#34;ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹æ˜¾ç¤ºç»“æœ\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java package com.showguan.myapplication; import android.os.Bundle; import android.view.View; import android.widget.Button; import android.widget.TextView; import androidx.activity.EdgeToEdge; import androidx.appcompat.app.AppCompatActivity; import androidx.core.graphics.Insets; import androidx.core.view.ViewCompat; import androidx.core.view.WindowInsetsCompat; import com.showguan.myapplication.util.DateUtil; public class ButtomLongClickActivity extends AppCompatActivity { private TextView tv_result; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_buttom_long_click); tv_result = findViewById(R.id.tv_result); Button btn_long_click = findViewById(R.id.btn_long_click); btn_long_click.setOnLongClickListener(v -\u0026gt; { String desc = String.format(\u0026#34;%s æ‚¨ç‚¹å‡»äº†æŒ‰é’®ï¼š%s\u0026#34;, DateUtil.getNowTime(), ((Button) v).getText()); tv_result.setText(desc); return true; }); } } ç¦ç”¨å’Œæ¢å¤ åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼ŒæŒ‰é’®é€šå¸¸æ‹¥æœ‰ä¸¤ç§çŠ¶æ€ï¼Œå³ä¸å¯ç”¨çŠ¶æ€å’Œå¯ç”¨çŠ¶æ€ï¼Œå®ƒä»¬åœ¨å¤–è§‚å’ŒåŠŸèƒ½ä¸Šçš„åŒºåˆ«å¦‚ä¸‹ï¼š\nä¸å¯ç”¨æŒ‰é’®ï¼šæŒ‰é’®ä¸å…è®¸ç‚¹å‡»ï¼Œå³ä½¿ç‚¹å‡»ä¹Ÿæ²¡ååº”ï¼ŒåŒæ—¶æŒ‰é’®æ–‡å­—ä¸ºç°è‰² å¯ç”¨æŒ‰é’®ï¼šæŒ‰é’®å…è®¸ç‚¹å‡»ï¼Œç‚¹å‡»æŒ‰é’®ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ŒåŒæ—¶æŒ‰é’®æ–‡å­—ä¸ºæ­£å¸¸çš„é»‘è‰²ã€‚ æ˜¯å¦å…è®¸ç‚¹å‡»ç”±enabledå±æ€§æ§åˆ¶ï¼Œå±æ€§å€¼ä¸ºtrueæ—¶è¡¨ç¤ºå…è®¸ç‚¹å‡»ï¼Œä¸ºfalseæ—¶è¡¨ç¤ºä¸å…è®¸ç‚¹å‡»ã€‚\nXMLæ–‡ä»¶ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:id=\u0026#34;@+id/main\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;LinearLayout android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_enable\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;å¯åŠ¨æµ‹è¯•æŒ‰é’®\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_disenable\u0026#34; android:layout_width=\u0026#34;0dp\u0026#34; android:layout_weight=\u0026#34;1\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;ç¦ç”¨æµ‹è¯•æŒ‰é’®\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; \u0026lt;Button android:id=\u0026#34;@+id/btn_test\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;æµ‹è¯•æŒ‰é’®\u0026#34; android:textColor=\u0026#34;@color/black\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; android:enabled=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;TextView android:id=\u0026#34;@+id/tv_content\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:text=\u0026#34;è¿™é‡ŒæŸ¥çœ‹æµ‹è¯•æŒ‰é’®çš„ç»“æœ\u0026#34; android:textColor=\u0026#34;@color/kennemColor\u0026#34; android:textSize=\u0026#34;17sp\u0026#34;/\u0026gt; \u0026lt;/LinearLayout\u0026gt; Java /** * ButtonEnableActivityç±»ï¼Œç»§æ‰¿AppCompatActivityï¼Œå®ç°View.OnClickListeneræ¥å£ * ç”¨äºå¤„ç†æŒ‰é’®å¯ç”¨å’Œç¦ç”¨çš„åŠŸèƒ½ */ public class ButtonEnableActivity extends AppCompatActivity implements View.OnClickListener { // å®šä¹‰TextViewå’ŒButtonç±»å‹çš„æˆå‘˜å˜é‡ private TextView tv_content; private Button btn_test; private Button btn_enable; private Button btn_disenable; /** * åœ¨Activityåˆ›å»ºæ—¶è°ƒç”¨ï¼Œåˆå§‹åŒ–Activity * @param savedInstanceState ç”¨äºä¿å­˜Activityçš„çŠ¶æ€ */ @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_button_enable); // è®¾ç½®å¸ƒå±€æ–‡ä»¶ // è·å–å¸ƒå±€ä¸­çš„æŒ‰é’®æ§ä»¶ btn_enable = findViewById(R.id.btn_enable); btn_disenable = findViewById(R.id.btn_disenable); btn_test = findViewById(R.id.btn_test); // è·å–å¸ƒå±€ä¸­çš„TextViewæ§ä»¶ tv_content = findViewById(R.id.tv_content); // è®¾ç½®æŒ‰é’®çš„ç‚¹å‡»ç›‘å¬å™¨ btn_enable.setOnClickListener(this); btn_disenable.setOnClickListener(this); btn_test.setOnClickListener(this); } /** * é‡å†™View.OnClickListeneræ¥å£ä¸­çš„onClickæ–¹æ³• * å¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ * @param v è¢«ç‚¹å‡»çš„View */ @Override public void onClick(View v) { int id = v.getId(); // è·å–è¢«ç‚¹å‡»Viewçš„ID if (id == R.id.btn_enable) { // å¦‚æœç‚¹å‡»çš„æ˜¯å¯ç”¨æŒ‰é’® btn_test.setEnabled(true); // å¯ç”¨æµ‹è¯•æŒ‰é’® btn_test.setTextColor(Color.BLACK); // è®¾ç½®æŒ‰é’®æ–‡å­—é¢œè‰²ä¸ºé»‘è‰² } else if (id == R.id.btn_disenable) { // å¦‚æœç‚¹å‡»çš„æ˜¯ç¦ç”¨æŒ‰é’® btn_test.setEnabled(false); // ç¦ç”¨æµ‹è¯•æŒ‰é’® btn_test.setTextColor(Color.GRAY); // è®¾ç½®æŒ‰é’®æ–‡å­—é¢œè‰²ä¸ºç°è‰² } else if (id == R.id.btn_test) { // å¦‚æœç‚¹å‡»çš„æ˜¯æµ‹è¯•æŒ‰é’® tv_content.setText(\u0026#34;æµ‹è¯•æŒ‰é’®è¢«ç‚¹å‡»äº†\u0026#34;); // è®¾ç½®TextViewçš„æ–‡æœ¬å†…å®¹ } } } å›¾åƒæ˜¾ç¤ºImageView å›¾åƒè§†å›¾å±•ç¤ºçš„å›¾ç‰‡é€šå¸¸ä½äºres/drawable***ç›®å½•ä¸‹ï¼Œè®¾ç½®å›¾åƒè§†å›¾çš„æ˜¾ç¤ºå›¾ç‰‡æœ‰ä¸¤ç§æ–¹å¼\nåœ¨XMLæ–‡ä»¶ä¸­ï¼Œé€šè¿‡å±æ€§android:srcå±æ€§å€¼æ ¼å¼å¦‚\u0026quot;@drawable/ä¸å«æ‰©å±•åçš„å›¾ç‰‡åç§°\u0026quot; åœ¨Javaä»£ç ä¸­ï¼Œè°ƒç”¨setImageResourceæ–¹æ³•è®¾ç½®å›¾ç‰‡èµ„æºï¼Œæ–¹æ³•å‚æ•°æ ¼å¼å½¢å¦‚\u0026quot;R.drawable.ä¸å«æ‰©å±•åçš„å›¾ç‰‡åç§°\u0026quot;ã€‚ centerInsideå’Œcenterï¼Œ fitCenterçš„åŒºåˆ«ï¼š fitCenteræ—¢å…è®¸ç¼©å°å›¾ç‰‡ï¼Œä¹Ÿå…è®¸æ”¾å¤§å›¾ç‰‡ï¼ŒcenterInsideåªå…è®¸ç¼©å°å›¾ç‰‡ï¼Œä¸å…è®¸æ”¾å¤§å›¾ç‰‡ï¼Œè€Œcenterè‡ªå§‹è‡³ç»ˆä¿æŒåŸå§‹å°ºå¯¸ï¼Œæ—¢ä¸å…è®¸ç¼©å°å›¾ç‰‡ï¼Œä¹Ÿä¸å…è®¸æ”¾å¤§å›¾ç‰‡\né»˜è®¤ä¸ºfitCenter\nä»£ç è®¾ç½®æ–¹å¼ï¼š\nImageView iv_scale = findViewById(R.id.iv_scale); iv_scale.setImageResource(R.drawable.cat); iv_scale.setScaleType(ImageView.ScaleType.FIT_END); å›¾åƒæŒ‰é’®ImageButton ImageButtonæ˜¯æ˜¾ç¤ºå›¾ç‰‡çš„å›¾åƒæŒ‰é’®ï¼Œä½†å®ƒç»§æ‰¿è‡ªImageViewï¼Œ è€Œéç»§æ‰¿Button\nImageButton å’Œ Buttonä¹‹é—´çš„åŒºåˆ«ï¼š\nButtonæ—¢å¯æ˜¾ç¤ºæ–‡æœ¬ä¹Ÿå¯æ˜¾ç¤ºå›¾ç‰‡ï¼ŒImageButtonåªèƒ½æ˜¾ç¤ºå›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºæ–‡æœ¬ã€‚ ImageButtonä¸Šçš„å›¾åƒå¯æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œè€ŒButtoné€šè¿‡èƒŒæ™¯è®¾ç½®çš„å›¾åƒä¼šæ‹‰ä¼¸å˜å½¢ Buttonåªèƒ½é èƒŒæ™¯æ˜¾ç¤ºä¸€å¼ å›¾ç‰‡ï¼Œè€ŒImageButtonå¯åˆ†åˆ«åœ¨å‰æ™¯å’ŒèƒŒæ™¯æ˜¾ç¤ºå›¾ç‰‡ï¼Œä»è€Œå®ç°ä¸¤å¼ å›¾ç‰‡çš„å åŠ æ•ˆæœ \u0026lt;ImageButton android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;80dp\u0026#34; android:src=\u0026#34;@drawable/cat\u0026#34; android:scaleType=\u0026#34;fitCenter\u0026#34; \u0026gt;\u0026lt;/ImageButton\u0026gt; åŒæ—¶å±•ç¤ºæ–‡æœ¬ä¸å›¾åƒ XML æ–‡ä»¶ \u0026lt;Button android:layout_width=\u0026#34;wrap_content\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34; android:background=\u0026#34;#ffffffff\u0026#34; android:drawableRight=\u0026#34;@drawable/ic_launcher_foreground\u0026#34; android:drawablePadding=\u0026#34;15dp\u0026#34; android:text=\u0026#34;å›¾æ ‡æ–‡å­—\u0026#34; android:textSize=\u0026#34;17sp\u0026#34; /\u0026gt; åšæŒï¼Œä¸€å®šè¦åšæŒä¸‹å»ï¼ŒæŒç»­æŠ•å…¥ï¼Œä¸€ä¸‡å°æ—¶å®šå¾‹ æœ‰å›°éš¾äº†å°±åœä¸‹æ¥æƒ³ä¸€æƒ³ æ¥å—ç—›è‹¦, æˆ˜èƒœç—›è‹¦ ","permalink":"https://kennems.github.io/zh/posts/tech/android1/","summary":"Androidï¼ˆ1ï¼‰ ã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Kotlin è®²ä¹‰ https://kdocs.cn/l/cu14rrCtfKxv ã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Android å››å¤§ç»„ä»¶è¯¾ç¨‹æ¦‚è¦ https://kdocs.cn/l/croaFl0RS5LA ã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ Fragment é‡ç‚¹çŸ¥è¯† https://kdocs.cn/l/cj89XRLXypb8 ã€","title":"Androidï¼ˆ1ï¼‰"},{"content":"Java Webå¼€å‘(7) SpringåŸç† é…ç½®ä¼˜å…ˆçº§ SpringBootä¸­æ”¯æŒä¸‰ç§æ ¼å¼é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§\nproperties yaml yml é…ç½® SpringBooté™¤äº†æ”¯æŒé…ç½®æ–‡ä»¶å±æ€§é…ç½®ï¼Œè¿˜æ”¯æŒJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼è¿›è¡Œå±æ€§é…ç½®\nJavaç³»ç»Ÿå±æ€§\n-Dserver.port=9000 å‘½ä»¤è¡Œå‚æ•°\n--server.port=10010 æ‰“åŒ…æ—¶æŒ‡å®šç«¯å£å·(cmd å‘½ä»¤)\njava -Dserver.port=9000 -jar tilas-web-management-0.0.1-SNAPSHOT.jar --server.port=10011 powershellå‘½ä»¤è¡Œå‚æ•°è§£é‡Šä¸åŒ\njava -D\u0026#34;server.port=9000\u0026#34; -jar .\\tilas-web-management-0.0.1-SNAPSHOT.jar --server.port=10011 Javaç³»ç»Ÿå±æ€§-Dserver.port=9000ä¼˜å…ˆçº§é«˜äºä¸‰ç§é…ç½®æ–‡ä»¶ï¼Œ è€Œ--server.port=10011é«˜äºJavaç³»ç»Ÿå±æ€§\nBeanç®¡ç† è·å–bean\né»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringé¡¹ç›®å¯åŠ¨æ—¶ï¼Œä¼šæŠŠbeanéƒ½åˆ›å»ºå¥½æ”¾åœ¨IOCå®¹å™¨ä¸­ï¼Œå¦‚æœæƒ³è¦ä¸»åŠ¨è·å–è¿™äº›beanï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼\næ ¹æ®nameè·å–bean\nObject getBean(String name) æ ¹æ®ç±»å‹è·å–bean\n\u0026lt;T\u0026gt; T getBean(Class\u0026lt;T\u0026gt; requiredType) æ ¹æ®nameè·å–beanï¼ˆå¸¦ç±»å‹è½¬æ¢ï¼‰\n\u0026lt;T\u0026gt; T getBean(String name, Class\u0026lt;T\u0026gt; requiredType) BUGè§£å†³Could not autowire. No beans of 'ApplicationContext' type found.çš„é—®é¢˜\nideaå¯¼å…¥å‡ºé”™\nimport org.springframework.context.ApplicationContext; DeptController bean1 = (DeptController) applicationContext.getBean(\u0026#34;deptController\u0026#34;); System.out.println(bean1); DeptController bean2 = (DeptController) applicationContext.getBean(DeptController.class); System.out.println(bean2); DeptController bean3 = (DeptController) applicationContext.getBean(\u0026#34;deptController\u0026#34;, DeptController.class); System.out.println(bean3); beançš„ä½œç”¨åŸŸ ä½œç”¨åŸŸ è¯´æ˜ singleton å®¹å™¨å†…åŒåç§°çš„beanåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹ï¼‰é»˜è®¤ prototype æ¯æ¬¡ä½¿ç”¨è¯¥beanæ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆéå•ä¾‹ï¼‰ request æ¯ä¸ªè¯·æ±‚èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ session æ¯ä¸ªä¼šè¯èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ application æ¯ä¸ªåº”ç”¨èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ //@Lazy @Scope(\u0026#34;prototype\u0026#34;) æ³¨æ„äº‹é¡¹ï¼š\né»˜è®¤singletonçš„beanï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶èƒŒåˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨@Lazyæ³¨è§£æ¥å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆå»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼‰ prototypeçš„beanï¼Œæ¯ä¸€æ¬¡ä½¿ç”¨è¯¥beançš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ å®é™…å¼€å‘ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„beanéƒ½æ˜¯å•ä¾‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç»å¤§éƒ¨åˆ†çš„beanä¸éœ€è¦é…ç½®scopeå±æ€§ ç¬¬ä¸‰æ–¹bean å¦‚æœè¦ç®¡ç†çš„beanå¯¹è±¡æ¥è‡ªç¬¬ä¸‰æ–¹ï¼ˆä¸æ˜¯è‡ªå®šä¹‰çš„ï¼‰ï¼Œæ˜¯æ— æ³•ä½¿ç”¨@ComponentåŠè¡ç”Ÿæ³¨è§£å£°æ˜beançš„ï¼Œå°±éœ€è¦ç”¨åˆ°@Beanæ³¨è§£ è‹¥è¦ç®¡ç†çš„ç¬¬ä¸‰æ–¹beanå¯¹è±¡ï¼Œå»ºè®®å¯¹è¿™äº›beanè¿›è¡Œé›†ä¸­åˆ†ç±»é…ç½®ï¼Œå¯ä»¥é€šè¿‡@Configurationæ³¨è§£å£°æ˜ä¸€ä¸ªé…ç½®ç±»ã€‚ @Configuration public class CommonConfig { @Bean // ç¬¬ä¸‰æ–¹beanå¯¹è±¡ // è·å–beanå¯¹è±¡ : å¦‚æœæ²¡æœ‰æŒ‡å®šbeanåç§°ï¼Œåˆ™é»˜è®¤ä¸ºæ–¹æ³•å // ç¬¬ä¸‰æ–¹beanå¯¹è±¡éœ€è¦å¯¹è±¡æ³¨å…¥ï¼Œåªéœ€è¦åœ¨æ–¹æ³•å‚æ•°ä¸­å†™è¯¥å‚æ•°å³å¯ public SAXReader reader(DeptService deptService){ System.out.println(deptService); return new SAXReader(); } } @ComponentåŠè¡ç”Ÿæ³¨è§£ä¸@Beanæ³¨è§£ä½¿ç”¨åœºæ™¯ï¼š\né¡¹ç›®ä¸­è‡ªå®šä¹‰çš„ï¼Œä½¿ç”¨@ComponentåŠå…¶è¡ç”Ÿæ³¨è§£ é¡¹ç›®ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹çš„ï¼Œä½¿ç”¨@Beanæ³¨è§£ SpringBootåŸç† èµ·æ­¥ä¾èµ–ï¼šSpringBootä½¿ç”¨Mavenä¾èµ–ä¼ é€’ç®¡ç†ä¾èµ–ï¼Œå¯ä»¥è‡ªåŠ¨é…ç½®ä¾èµ–\nè‡ªåŠ¨é…ç½®ï¼š\nSpringBootçš„è‡ªåŠ¨é…ç½®å°±æ˜¯å½“Springå®¹å™¨å¯åŠ¨åï¼Œä¸€äº›é…ç½®ç±»ï¼Œbeanå¯¹è±¡å°±è‡ªåŠ¨å­˜å…¥åˆ°äº†IOCå®¹å™¨ä¸­ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»å£°æ˜ï¼Œä»è€Œç®€åŒ–äº†å¼€å‘ï¼Œçœå»äº†ç¹ççš„é…ç½®æ“ä½œã€‚ è‡ªåŠ¨é…ç½®åŸç† æ–¹æ¡ˆä¸€ï¼š@ComponentScan ç»„ä»¶æ‰«æ\n@ComponentScan({\u0026#34;com.example\u0026#34;, \u0026#34;com.showguan\u0026#34;}) public class TilasWebManagementApplication { æ–¹æ¡ˆäºŒï¼š@Importå¯¼å…¥ã€‚ä½¿ç”¨@Importå¯¼å…¥çš„ç±»ä¼šè¢«SpringåŠ è½½åˆ°IOCå®¹å™¨ä¸­ï¼Œå¯¼å…¥å½¢å¼\nå¯¼å…¥æ™®é€šç±» å¯¼å…¥é…ç½®ç±» å¯¼å…¥ImportSelectoræ¥å£å®ç°ç±» @EnableXXXæ³¨è§£ï¼Œå°è£…@Importæ³¨è§£ //@Import({TokenParser.class}) //@Import({HeaderConfig.class}) //@Import({MyImportSelector.class}) @EnableHeaderConfig public class TilasWebManagementApplication { } æºç è·Ÿè¸ª @SpringBootApplication\nè¯¥æ³¨è§£æ ‡è¯†åœ¨SpringBootå·¥ç¨‹å¼•å¯¼ç±»ä¸Šï¼Œæ˜¯SpringBootä¸­æœ€æœ€æœ€é‡è¦çš„æ³¨è§£ã€‚ @SpringBootConfigurationï¼šè¯¥æ³¨è§£ä¸@Configurationæ³¨è§£ä½œç”¨ç›¸åŒï¼Œç”¨æ¥å£°æ˜å½“å‰ä¹Ÿæ˜¯ä¸€ä¸ªé…ç½®ç±» @ComponentScanï¼šç»„ä»¶æ‰«æï¼Œé»˜è®¤æ‰«æå½“å‰å¼•å¯¼ç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ… @EnableAutoConfigurationï¼šSpringBootå®ç°è‡ªåŠ¨åŒ–é…ç½®çš„æ ¸å¿ƒæ³¨è§£ @Conditional ä½œç”¨ï¼šæŒ‰ç…§ä¸€å®šçš„æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨æ»¡è¶³ç»™å®šæ¡ä»¶åæ‰ä¼šæ³¨å†Œå¯¹åº”çš„beanå¯¹è±¡åˆ°Spring IOCå®¹å™¨ä¸­ ä½ç½®ï¼šæ–¹æ³•ï¼Œç±» @Conditional æœ¬èº«æ˜¯ä¸€ä¸ªçˆ¶æ³¨è§£ï¼Œæ´¾ç”Ÿå‡ºå¤§é‡çš„å­æ³¨è§£ @ConditionalOnClassï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦æœ‰å¯¹åº”å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ @ConditonalOnMissingBeanï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ²¡æœ‰å¯¹åº”çš„beanï¼ˆç±»å‹æˆ–åç§°ï¼‰ï¼Œæ‰æ³¨å†Œè¿™ä¸ªbeanåˆ°IOCå®¹å™¨ä¸­ ï¼ˆå¸¸ç”¨åœºæ™¯ï¼šå…ˆä½¿ç”¨è‡ªå·±åˆ›å»ºçš„beanï¼Œå¦‚æœè‡ªå·±æ²¡æœ‰åˆ›å»ºï¼Œåˆ™ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„beanï¼‰\u0026ndash; æŒ‡å®šç±»å‹ï¼ˆvalueå±æ€§ï¼‰ æˆ– åç§°ï¼ˆnameå±æ€§ï¼‰ @ConditionalPropertyï¼šåˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æœ‰å¯¹åº”å±æ€§å’Œå€¼ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ä¸­ è‡ªå®šä¹‰starter åœºæ™¯ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šå®šä¹‰ä¸€äº›å…¬å…±ç»„ä»¶ï¼Œæä¾›ç»™é¡¹ç›®å›¢é˜Ÿä½¿ç”¨ã€‚è€Œåœ¨SpringBootçš„é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬ä¼šå°†è¿™äº›å…¬å…±ç»„ä»¶å°è£…ä¸ºSpringBootçš„starter æ­¥éª¤ï¼š\nåˆ›å»ºaliyun-oss-spring-boot-starteræ¨¡å— åˆ›å»ºaliyun-oss-spring-boot-autoconfigureæ¨¡å—ï¼Œåœ¨starterä¸­å¼•å…¥è¯¥æ¨¡å— åœ¨aliyun-oss-spring-boot-autoconfigure æ¨¡å—ä¸­çš„å®šä¹‰è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œå¹¶å®šä¹‰è‡ªåŠ¨é…ç½®æ–‡ä»¶ META-INF/spring/xxx.imports æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\nå¤–éƒ¨ç±»éœ€è¦ä½¿ç”¨OSSåŠŸèƒ½æ—¶ï¼š\n1ã€å¼•å…¥ä¾èµ– 2ã€ç¼–å†™ymlæ–‡ä»¶çš„å¿…è¦å‚æ•° 3ã€ç›´æ¥æ³¨å…¥å³å¯\næ€»ç»“ Webä¸‰å±‚æ¶æ„\nSpringMVC æ˜¯ Spring frameworkä¸­çš„Webæ¨¡å—\nSSM(SpringMVC + Spring framework + Mybatis)\nMVNé«˜çº§ mavenç”Ÿæˆimiæ–‡ä»¶\nmvn idea:module ä¸ºä»€ä¹ˆè¦åˆ†æ¨¡å—è®¾è®¡ï¼Ÿ æ–¹ä¾¿é¡¹ç›®çš„ç®¡ç†ç»´æŠ¤ï¼Œæ‰©å±•ï¼Œä¹Ÿæ–¹ä¾¿æ¨¡å—é—´çš„ç›¸äº’è°ƒç”¨ï¼Œèµ„æºå…±äº«ã€‚\næ³¨æ„äº‹é¡¹ åˆ†æ¨¡å—è®¾è®¡éœ€è¦å…ˆé’ˆå¯¹æ¨¡å—åŠŸèƒ½è¿›è¡Œè®¾è®¡ï¼Œå†è¿›è¡Œç¼–ç ã€‚ä¸ä¼šå…ˆå°†å·¥ç¨‹å¼€å‘å®Œæ¯•ï¼Œç„¶åè¿›è¡Œæ‹†åˆ†ã€‚ ç»§æ‰¿å…³ç³»å®ç° å¸¸è§æ‰“åŒ…æ–¹å¼ï¼š\njarï¼šæ™®é€šæ¨¡å—æ‰“åŒ…ï¼Œspringbooté¡¹ç›®åŸºæœ¬éƒ½æ˜¯jaråŒ…ï¼ˆå†…åµŒtomcatè¿è¡Œï¼‰ warï¼šæ™®é€šwebç¨‹åºæ‰“åŒ…ï¼Œéœ€è¦éƒ¨ç½²åœ¨å¤–éƒ¨çš„tomcatæœåŠ¡å™¨ä¸Š pomï¼šçˆ¶å·¥ç¨‹æˆ–èšåˆå·¥ç¨‹ï¼Œè¯¥æ¨¡å—ä¸å†™ä»£ç ï¼Œä»…è¿›è¡Œä¾èµ–ç®¡ç† æ­¥éª¤:\nåˆ›å»ºmavenæ¨¡å— tlias-parentï¼Œè¯¥å·¥ç¨‹ä¸ºçˆ¶å·¥ç¨‹ï¼Œ è®¾ç½®æ‰“åŒ…æ–¹å¼pom\n\u0026lt;!-- è®¾ç½®springå·¥ç¨‹çš„çˆ¶å·¥ç¨‹--\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.6\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.showguan\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!-- è®¾ç½®æ‰“åŒ…æ–¹å¼--\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; åœ¨å­å·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­ï¼Œé…ç½®ç»§æ‰¿å…³ç³»\n\u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.showguan\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;relativePath\u0026gt;../tlias-parent/pom.xml\u0026lt;/relativePath\u0026gt; \u0026lt;/parent\u0026gt; æ³¨æ„äº‹é¡¹ï¼š\nåœ¨å­å·¥ç¨‹ä¸­ï¼Œé…ç½®äº†ç»§æ‰¿å…³ç³»ä¹‹åï¼Œåæ ‡ä¸­çš„groupidæ˜¯å¯ä»¥çœç•¥çš„ï¼Œå› ä¸ºä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶å·¥ç¨‹çš„ã€‚ relativePathæŒ‡å®šçˆ¶å·¥ç¨‹çš„pomæ–‡ä»¶çš„ç›¸å¯¹ä½ç½®ï¼ˆå¦‚æœä¸æŒ‡å®šï¼Œå°†ä»æœ¬åœ°ä»“åº“/è¿œç¨‹ä»“åº“æŸ¥æ‰¾è¯¥å·¥ç¨‹ï¼‰ã€‚ åœ¨çˆ¶å·¥ç¨‹ä¸­é…ç½®å„ä¸ªå·¥ç¨‹å…±æœ‰çš„ä¾èµ–ï¼ˆå­å·¥ç¨‹ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶å·¥ç¨‹çš„ä¾èµ–ï¼‰\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; è‹¥çˆ¶å­å·¥ç¨‹éƒ½é…ç½®äº†åŒä¸€ä¸ªä¾èµ–ï¼Œä»¥å­å·¥ç¨‹çš„ä¾èµ–ä¸ºå‡†ã€‚ ç‰ˆæœ¬é”å®š åœ¨mavenä¸­ï¼Œå¯ä»¥åœ¨çˆ¶å·¥ç¨‹çš„pomæ–‡ä»¶ä¸­ é€šè¿‡ \u0026lt;dependencyManagement\u0026gt; æ¥ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ çˆ¶å·¥ç¨‹ï¼š\n\u0026lt;properties\u0026gt; \u0026lt;jjwt.version\u0026gt;0.9.1\u0026lt;/jjwt.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${jjwt.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependencyManagement\u0026gt; å­å·¥ç¨‹ï¼ˆä»éœ€å¼•å…¥ä¾èµ–ï¼Œä½†æ˜¯ä¸éœ€è¦ç‰ˆæœ¬å·ï¼‰ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; æ³¨æ„äº‹é¡¹ï¼š\nå­å·¥ç¨‹å¼•å…¥ä¾èµ–æ—¶ï¼Œæ— éœ€æŒ‡å®š\u0026lt;version\u0026gt;ç‰ˆæœ¬å·ï¼Œçˆ¶å·¥ç¨‹ç»Ÿä¸€ç®¡ç†ï¼Œå˜æ›´ä¾èµ–ç‰ˆæœ¬ï¼Œåªéœ€è¦çˆ¶å·¥ç¨‹ä¸­ç»Ÿä¸€å˜æ›´ã€‚ èšåˆ å°†å¤šä¸ªæ¨¡å—ç»„ç»‡æˆä¸€ä¸ªæ•´ä½“ï¼ŒåŒæ—¶è¿›è¡Œé¡¹ç›®çš„æ„å»º\nèšåˆå·¥ç¨‹ ä¸€ä¸ªä¸å…·æœ‰ä¸šåŠ¡åŠŸèƒ½çš„\u0026quot;ç©º\u0026quot;å·¥ç¨‹ï¼ˆæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªpomæ–‡ä»¶\nä½œç”¨ï¼šå¿«é€Ÿæ„å»ºé¡¹ç›®ï¼ˆæ— éœ€æ ¹æ®ä¾èµ–å…³ç³»æ‰‹åŠ¨æ„å»ºï¼Œç›´æ¥åœ¨èšåˆå·¥ç¨‹ä¸Šæ„å»ºå³å¯ï¼‰\nåœ¨parent çš„pom.xmlæ–‡ä»¶å†…æ·»åŠ \n\u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;../tlias-pojo\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../tlias-utils\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../tlias-web-management\u0026lt;/module\u0026gt; \u0026lt;/modules\u0026gt; èšåˆå’Œç»§æ‰¿ï¼š\nä½œç”¨ èšåˆç”¨äºå¿«é€Ÿæ„å»ºé¡¹ç›® ç»§æ‰¿ç”¨äºç®€åŒ–ä¾èµ–é…ç½®ã€ç»Ÿä¸€ç®¡ç†ä¾èµ– ç›¸åŒç‚¹ èšåˆä¸ç»§æ‰¿çš„pom.xmlæ–‡ä»¶æ‰“åŒ…æ–¹å¼å‡ä¸ºpomï¼Œ å¯ä»¥å°†ä¸¤ç§å…³ç³»åˆ¶ä½œåˆ°åŒä¸€ä¸ªpomæ–‡ä»¶ä¸­ èšåˆä¸ç»§æ‰¿å‡å±äºè®¾è®¡å‹æ¨¡å—ï¼Œå¹¶æ— å®é™…çš„æ¨¡å—å†…å®¹ ä¸åŒç‚¹ èšåˆæ˜¯åœ¨èšåˆå·¥ç¨‹ä¸­é…ç½®å…³ç³»ï¼Œèšåˆå¯ä»¥æ„ŸçŸ¥åˆ°å‚ä¸èšåˆçš„æ¨¡å—æœ‰å“ªäº› ç»§æ‰¿æ˜¯åœ¨å­æ¨¡å—ä¸­é…ç½®å…³ç³»ï¼Œçˆ¶æ¨¡å—æ— æ³•æ„ŸçŸ¥å“ªäº›å­æ¨¡å—ç»§æ‰¿äº†è‡ªå·± ç§æœ ç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç”¨æ¥ä»£ç†ä½äºå¤–éƒ¨çš„ä¸­å¤®ä»“åº“ï¼Œç”¨äºè§£å†³å›¢é˜Ÿå†…éƒ¨çš„èµ„æºå…±äº«å’Œèµ„æºåŒæ­¥é—®é¢˜ã€‚ èµ„æºä¸Šä¼ ä¸ä¸‹è½½\né¡¹ç›®ç‰ˆæœ¬ï¼š\n\u0026lt;artifactId\u0026gt;tlias-web-management\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;name\u0026gt;tilas-web-management\u0026lt;/name\u0026gt; \u0026lt;description\u0026gt;tilas-web-management\u0026lt;/description\u0026gt; RELEASEï¼ˆå‘è¡Œç‰ˆæœ¬ï¼‰ï¼šåŠŸèƒ½è¶‹äºç¨³å®šï¼Œå½“å‰æ›´æ–°åœæ­¢ï¼Œå¯ä»¥ç”¨äºå‘è¡Œçš„ç‰ˆæœ¬ï¼Œå­˜å‚¨åœ¨ç§æœä¸­çš„RELEASEä»“åº“ä¸­ã€‚ SNAPSHOTï¼ˆå¿«ç…§ç‰ˆæœ¬ï¼‰ï¼šåŠŸèƒ½ä¸ç¨³å®šï¼Œå°šå¤„äºå¼€å‘ä¸­çš„ç‰ˆæœ¬ï¼Œå³å¿«ç…§ç‰ˆæœ¬ï¼Œå­˜å‚¨åœ¨ç§æœçš„SNAPSHOTä»“åº“ä¸­ã€‚ ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%917/","summary":"Java Webå¼€å‘(7) SpringåŸç† é…ç½®ä¼˜å…ˆçº§ SpringBootä¸­æ”¯æŒä¸‰ç§æ ¼å¼é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§ properties yaml yml é…ç½® SpringBooté™¤äº†æ”¯æŒé…ç½®æ–‡ä»¶","title":"Java Webå¼€å‘(7)"},{"content":"æ¯å¤©ä¸‰é“å…«è‚¡ï¼Œ å¤ä¹ ä¸‰å¤©çš„å…«è‚¡ å…«è‚¡åˆ†ä¸ºï¼šåŸºç¡€çŸ¥è¯†ï¼Œåº•å±‚åŸç†ï¼Œåœºæ™¯åº”ç”¨\nåŸºç¡€çŸ¥è¯†ï¼šjavaguide, æ­»è®°ç¡¬èƒŒï¼Œæ€ç»´å¯¼å›¾ åº•å±‚åŸç†ï¼šå…«è‚¡åˆé›†ï¼Œé¢ç»+GPT+æ•´ç† åœºæ™¯åº”ç”¨ï¼šé¢ç»+ç§¯ç´¯ 20240610 20240611 é¢å‘é¢ç»èƒŒå…«è‚¡ï¼Œå°ç±³é¢ç»\nå°ç±³ä¸€é¢é¢ç» è‡ªæˆ‘ä»‹ç»ï¼ˆé¡¹ç›®ç»å†å’Œå®ä¹ ç»å†ï¼‰ åœ¨è‡ªæˆ‘ä»‹ç»æ—¶ï¼Œå¯ä»¥ç®€è¦ä»‹ç»è‡ªå·±çš„æ•™è‚²èƒŒæ™¯ã€å·¥ä½œç»å†ã€ä¸»è¦æŠ€èƒ½å’Œé¡¹ç›®ç»å†ã€‚ç€é‡çªå‡ºåœ¨é¡¹ç›®ä¸­çš„å…·ä½“èŒè´£å’Œè´¡çŒ®ï¼Œä»¥åŠæ‰€ä½¿ç”¨çš„æŠ€æœ¯å’Œå–å¾—çš„æˆæœã€‚\n1. Javaçš„åŸºæœ¬æ•°æ®ç±»å‹ Javaæœ‰8ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š\nbyte: 8ä½ï¼ŒèŒƒå›´æ˜¯ -128 åˆ° 127 short: 16ä½ï¼ŒèŒƒå›´æ˜¯ -32,768 åˆ° 32,767 int: 32ä½ï¼ŒèŒƒå›´æ˜¯ -2^31 åˆ° 2^31-1 long: 64ä½ï¼ŒèŒƒå›´æ˜¯ -2^63 åˆ° 2^63-1 float: 32ä½ï¼Œå•ç²¾åº¦æµ®ç‚¹æ•° double: 64ä½ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•° char: 16ä½ï¼Œæ— ç¬¦å· Unicode å­—ç¬¦ boolean: åªæœ‰ä¸¤ä¸ªå€¼ï¼štrue å’Œ false 2. äº†è§£å“ªäº›åŸºæœ¬çš„æ•°æ®ç»“æ„ å¸¸è§çš„æ•°æ®ç»“æ„åŒ…æ‹¬ï¼š\næ•°ç»„ é“¾è¡¨ï¼ˆå•é“¾è¡¨ã€åŒé“¾è¡¨ï¼‰ æ ˆ é˜Ÿåˆ—ï¼ˆæ™®é€šé˜Ÿåˆ—ã€ä¼˜å…ˆé˜Ÿåˆ—ã€å¾ªç¯é˜Ÿåˆ—ï¼‰ å“ˆå¸Œè¡¨ æ ‘ï¼ˆå¦‚äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€Bæ ‘ã€B+æ ‘ï¼‰ å›¾ï¼ˆæœ‰å‘å›¾ã€æ— å‘å›¾ï¼‰ å †ï¼ˆå¦‚äºŒå‰å †ã€æ–æ³¢é‚£å¥‘å †ï¼‰ 3. ç®€å•ä»‹ç»äºŒå‰æ ‘ äºŒå‰æ ‘æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«ç§°ä¸ºå·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ã€‚å¸¸è§çš„äºŒå‰æ ‘ç±»å‹æœ‰ï¼š\nå®Œå…¨äºŒå‰æ ‘ï¼šé™¤äº†æœ€åä¸€å±‚ï¼Œæ‰€æœ‰å±‚çš„èŠ‚ç‚¹éƒ½å¡«æ»¡ï¼Œæœ€åä¸€å±‚çš„èŠ‚ç‚¹éƒ½é å·¦å¯¹é½ã€‚ æ»¡äºŒå‰æ ‘ï¼šæ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯å¶å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚ äºŒå‰æœç´¢æ ‘ï¼šå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…¶å·¦å­èŠ‚ç‚¹çš„å€¼å°äºè¯¥èŠ‚ç‚¹çš„å€¼ï¼Œå…¶å³å­èŠ‚ç‚¹çš„å€¼å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚ 4. çŸ¥é“MySQLå—ï¼ŸMySQLä¸­è·ŸäºŒå‰æ ‘ç›¸å…³çš„ç»“æ„ä½ çŸ¥é“å—ï¼Ÿ åœ¨MySQLä¸­ï¼Œç´¢å¼•ç»“æ„ä¸äºŒå‰æ ‘ç›¸å…³çš„æ˜¯Bæ ‘å’ŒB+æ ‘ã€‚Bæ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼ŒB+æ ‘æ˜¯Bæ ‘çš„ä¸€ç§æ”¹è¿›ç‰ˆï¼Œæ‰€æœ‰çš„å¶å­èŠ‚ç‚¹å½¢æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚MySQLçš„InnoDBå­˜å‚¨å¼•æ“ä½¿ç”¨B+æ ‘æ¥å®ç°ç´¢å¼•ã€‚\n5. å±•å¼€è¯´è¯´Bæ ‘å’ŒB+æ ‘ Bæ ‘ï¼šä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼ŒèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ã€‚æ‰€æœ‰å¶å­èŠ‚ç‚¹çš„æ·±åº¦ç›¸åŒï¼ŒèŠ‚ç‚¹ä¸­çš„å…ƒç´ æŒ‰é¡ºåºæ’åˆ—ã€‚ B+æ ‘ï¼šBæ ‘çš„æ”¹è¿›ç‰ˆï¼Œéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œåªå­˜å‚¨ç´¢å¼•ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­ã€‚å¶å­èŠ‚ç‚¹ä¹‹é—´å½¢æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œæ–¹ä¾¿èŒƒå›´æŸ¥è¯¢ã€‚ 6. MySQLä¸­ç°åœ¨ä¸»è¦ç”¨Bæ ‘è¿˜æ˜¯B+æ ‘ï¼ŸB+æ ‘çš„ä¼˜åŠ¿ï¼Ÿ MySQLä¸­çš„InnoDBå­˜å‚¨å¼•æ“ä¸»è¦ä½¿ç”¨B+æ ‘ã€‚B+æ ‘çš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š\næ‰€æœ‰æ•°æ®éƒ½åœ¨å¶å­èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢æ•ˆç‡é«˜ å¶å­èŠ‚ç‚¹å½¢æˆæœ‰åºé“¾è¡¨ï¼Œæ–¹ä¾¿èŒƒå›´æŸ¥è¯¢ éå¶å­èŠ‚ç‚¹åªå­˜å‚¨ç´¢å¼•ï¼Œå‡å°‘äº†æ ‘çš„é«˜åº¦ï¼Œæé«˜äº†æŸ¥è¯¢æ•ˆç‡ 7. Redisçš„åŸºæœ¬ç±»å‹ Redisæ”¯æŒä»¥ä¸‹åŸºæœ¬æ•°æ®ç±»å‹ï¼š\nå­—ç¬¦ä¸²ï¼ˆStringï¼‰ åˆ—è¡¨ï¼ˆListï¼‰ é›†åˆï¼ˆSetï¼‰ æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ å“ˆå¸Œï¼ˆHashï¼‰ 8. Redisä¸­Setå’ŒSorted Setçš„åŒºåˆ« Setï¼šæ— åºé›†åˆï¼Œä¸å…è®¸é‡å¤å…ƒç´ ï¼Œæ“ä½œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ Sorted Setï¼šæœ‰åºé›†åˆï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªåˆ†æ•°ï¼ŒRedisé€šè¿‡åˆ†æ•°è¿›è¡Œæ’åºï¼Œæ“ä½œæ—¶é—´å¤æ‚åº¦ä¸ºO(log N)ã€‚ 9. æœ‰äº†è§£è¿‡JVMæ–¹é¢çš„çŸ¥è¯†å—ï¼Ÿåƒåœ¾å›æ”¶ JVMï¼ˆJavaè™šæ‹Ÿæœºï¼‰æ˜¯Javaç¨‹åºè¿è¡Œçš„åŸºç¡€ï¼Œè´Ÿè´£å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶ã€‚åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç®—æ³•ï¼š\næ ‡è®°-æ¸…é™¤ï¼ˆMark-Sweepï¼‰ æ ‡è®°-æ•´ç†ï¼ˆMark-Compactï¼‰ å¤åˆ¶ï¼ˆCopyingï¼‰ åˆ†ä»£æ”¶é›†ï¼ˆGenerational Collectingï¼‰ï¼šå¹´è½»ä»£ï¼ˆYoung Generationï¼‰å’Œè€å¹´ä»£ï¼ˆOld Generationï¼‰åˆ†åˆ«é‡‡ç”¨ä¸åŒçš„GCç®—æ³•ã€‚ 10. TCPé€šè¿‡ä»€ä¹ˆæ¥ä¿è¯å¯é ä¼ è¾“çš„ï¼Ÿ TCPé€šè¿‡ä»¥ä¸‹æœºåˆ¶ä¿è¯å¯é ä¼ è¾“ï¼š\nä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ åºåˆ—å·å’Œç¡®è®¤å· æ»‘åŠ¨çª—å£ è¶…æ—¶é‡ä¼  æµé‡æ§åˆ¶ æ‹¥å¡æ§åˆ¶ 11. ç»†è¯´ä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹ ä¸‰æ¬¡æ¡æ‰‹ï¼š\nå®¢æˆ·ç«¯å‘é€SYNåŒ…ï¼ˆåŒæ­¥åºåˆ—ç¼–å·ï¼‰è¯·æ±‚å»ºç«‹è¿æ¥ã€‚ æœåŠ¡å™¨æ¥æ”¶åˆ°SYNåŒ…ï¼Œè¿”å›ä¸€ä¸ªSYN+ACKåŒ…è¡¨ç¤ºåŒæ„å»ºç«‹è¿æ¥ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°SYN+ACKåŒ…ï¼Œå›å¤ä¸€ä¸ªACKåŒ…ï¼Œè¿æ¥å»ºç«‹æˆåŠŸã€‚ å››æ¬¡æŒ¥æ‰‹ï¼š\nå®¢æˆ·ç«¯å‘é€FINåŒ…ï¼ˆç»“æŸè¿æ¥ï¼‰è¯·æ±‚æ–­å¼€è¿æ¥ã€‚ æœåŠ¡å™¨æ¥æ”¶åˆ°FINåŒ…ï¼Œè¿”å›ä¸€ä¸ªACKåŒ…ï¼Œè¡¨ç¤ºç¡®è®¤æ–­å¼€è¿æ¥è¯·æ±‚ã€‚ æœåŠ¡å™¨å‘é€FINåŒ…è¯·æ±‚æ–­å¼€è¿æ¥ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°FINåŒ…ï¼Œè¿”å›ä¸€ä¸ªACKåŒ…ï¼Œè¿æ¥æ–­å¼€ã€‚ ã€Œæ‰‹æ’•ã€ é“¾è¡¨ç›¸å…³ å°†é“¾è¡¨è½¬æˆæ•°å­—ï¼Œç›¸åŠ ä¹‹åå†è½¬æˆé“¾è¡¨ã€‚ç¤ºä¾‹ï¼š\nè¾“å…¥ï¼šé“¾è¡¨ä¸€ï¼š1-\u0026gt;6-\u0026gt;3ï¼Œé“¾è¡¨äºŒï¼š7-\u0026gt;1-\u0026gt;2 ç›¸å½“äº361 + 217 = 578 è¾“å‡ºï¼š8-\u0026gt;7-\u0026gt;5 class ListNode { int val; ListNode next; ListNode(int x) { val = x; } } public class Solution { public ListNode addTwoNumbers(ListNode l1, ListNode l2) { ListNode dummyHead = new ListNode(0); ListNode p = l1, q = l2, curr = dummyHead; int carry = 0; while (p != null || q != null) { int x = (p != null) ? p.val : 0; int y = (q != null) ? q.val : 0; int sum = carry + x + y; carry = sum / 10; curr.next = new ListNode(sum % 10); curr = curr.next; if (p != null) p = p.next; if (q != null) q = q.next; } if (carry \u0026gt; 0) { curr.next = new ListNode(carry); } return dummyHead.next; } } ã€Œç»§ç»­QAã€ 1. æ‰‹æ’•è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ ä¸Šè¿°ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(max(m, n))ï¼Œå…¶ä¸­må’Œnåˆ†åˆ«æ˜¯ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ã€‚å› ä¸ºéœ€è¦éå†ä¸¤ä¸ªé“¾è¡¨çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚\n2. å¦‚æœèƒ½å®ä¹ ï¼Œæ¯å‘¨å‡ å¤©ã€å®ä¹ å‘¨æœŸï¼Ÿ æ ¹æ®ä¸ªäººæƒ…å†µå›ç­”ï¼Œå¯ä»¥è¯´å‡ºæ¯å‘¨å¯ä»¥å®ä¹ çš„å¤©æ•°å’Œå¸Œæœ›çš„å®ä¹ å‘¨æœŸé•¿åº¦ã€‚ä¾‹å¦‚ï¼š\næ¯å‘¨3-5å¤© å®ä¹ å‘¨æœŸä¸º3-6ä¸ªæœˆ å‚è€ƒèµ„æ–™ ç‰›å®¢ç½‘ï¼šhttps://www.nowcoder.com/feed/main/detail/61f2b3801d6b42d4b39adcf461b784b5?sourceSSR=users å°ç±³äºŒé¢é¢ç» #é¢ç» ã€ŒQAã€\nMyBatis å…·ä½“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿåœ¨ä½¿ç”¨å®ƒä¹‹å‰å¯èƒ½ä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œä½¿ç”¨å®ƒä¹‹åä¼šç»™ä½ çš„é¡¹ç›®å¸¦æ¥ä»€ä¹ˆä¾¿åˆ©ï¼Ÿ é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ç”¨åˆ°çº¿ç¨‹æ± ï¼Ÿ MyBatis ä¸­æ¶‰åŠåˆ°åŠ¨æ€ sqlï¼Œsql çš„æ ‡ç­¾èƒ½è¯´å‡ ä¸ªå— MyBatis èƒ½æ‰§è¡Œä¸€å¯¹ä¸€æˆ–è€…ä¸€å¯¹å¤šå…³è”çš„æŸ¥è¯¢å—ï¼Ÿæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ SpringBoot ä¸­ï¼Œè¯»å–é…ç½®çš„æ—¶å€™æœ‰å“ªäº›æ–¹å¼ï¼Ÿ Integer å¯¹è±¡å’ŒåŸºæœ¬æ•°æ®ç±»å‹ intï¼Œå“ªä¸ªå ç”¨æ›´å¤šçš„å†…å­˜ ArrayList å’Œ LinkedList çš„åŒºåˆ« å¯¹è±¡çš„æµ…æ‹·è´å’Œæ·±æ‹·è´ äº†è§£å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ (é€æ¸ç¦»è°±äº†èµ·æ¥)ï¼štensorflow æ˜¯ç”¨æ¥å¹²å˜›çš„ è§£é‡Šä¸€ä¸‹ softmax (èŠæˆ‘çš„ç§‘ç ”é¡¹ç›®é‡Œ) å¸¸ç”¨çš„å¼ºåŒ–å­¦ä¹ ç®—æ³• ä¸ºä»€ä¹ˆç”¨ PPO ç®—æ³•ä¸ç”¨ DQN ç®—æ³•ï¼Ÿ ä¸ºä»€ä¹ˆä¸ç”¨ A3C ç®—æ³•ï¼Ÿ è®²è®² Transformerâ€¦â€¦ ã€Œæ‰‹æ’•ã€\nå¾ˆç®€å•çš„æ•°ç»„é¢˜ 2min åšå®Œ åè½¬é“¾è¡¨ II åŠ›æ‰£ 92 é¢˜ï¼ˆå†™è¿‡ä½†å¿˜äº† å•Šå•Šå•Šå•Šå•Šå•Šï¼‰ å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å¯¹è¿™äº›é¢è¯•é—®é¢˜çš„è¯¦ç»†å›ç­”ï¼š\n1. MyBatis å…·ä½“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿåœ¨ä½¿ç”¨å®ƒä¹‹å‰å¯èƒ½ä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œä½¿ç”¨å®ƒä¹‹åä¼šç»™ä½ çš„é¡¹ç›®å¸¦æ¥ä»€ä¹ˆä¾¿åˆ©ï¼Ÿ MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚ä½¿ç”¨å‰å¯èƒ½é‡åˆ°çš„é—®é¢˜åŒ…æ‹¬ï¼š\nå­¦ä¹ æ›²çº¿ï¼šéœ€è¦èŠ±æ—¶é—´å­¦ä¹ å’Œç†è§£ MyBatis çš„é…ç½®å’Œä½¿ç”¨æ–¹å¼ã€‚ é…ç½®å¤æ‚æ€§ï¼šéœ€è¦é…ç½® XML æ–‡ä»¶æˆ–æ³¨è§£ï¼ŒåˆæœŸé…ç½®è¾ƒå¤æ‚ã€‚ ä½¿ç”¨ä¹‹åçš„ä¾¿åˆ©åŒ…æ‹¬ï¼š é™ä½äº†ç›´æ¥ä½¿ç”¨ JDBC çš„å¤æ‚æ€§ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ æ”¯æŒåŠ¨æ€ SQLï¼Œçµæ´»æ€§é«˜ã€‚ æ”¯æŒé«˜çº§æ˜ å°„ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å°†æŸ¥è¯¢ç»“æœæ˜ å°„ä¸º Java å¯¹è±¡ã€‚ 2. é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ç”¨åˆ°çº¿ç¨‹æ± ï¼Ÿ çº¿ç¨‹æ± ç”¨äºç®¡ç†å’Œå¤ç”¨å¤šä¸ªçº¿ç¨‹ï¼Œé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹å¸¦æ¥çš„å¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚å¸¸ç”¨çš„çº¿ç¨‹æ± æœ‰ï¼š\nExecutors.newFixedThreadPool(int n): å›ºå®šå¤§å°çš„çº¿ç¨‹æ± ã€‚ Executors.newCachedThreadPool(): å¯ç¼“å­˜çš„çº¿ç¨‹æ± ã€‚ Executors.newScheduledThreadPool(int n): æ”¯æŒå®šæ—¶å’Œå‘¨æœŸæ€§ä»»åŠ¡çš„çº¿ç¨‹æ± ã€‚ Executors.newSingleThreadExecutor(): å•çº¿ç¨‹æ± ã€‚ 3. MyBatis ä¸­æ¶‰åŠåˆ°åŠ¨æ€ sqlï¼Œsql çš„æ ‡ç­¾èƒ½è¯´å‡ ä¸ªå— MyBatis ä¸­çš„åŠ¨æ€ SQL æ ‡ç­¾åŒ…æ‹¬ï¼š\n\u0026lt;if\u0026gt;: æ ¹æ®æ¡ä»¶æ˜¯å¦åŒ…å«æŸæ®µ SQLã€‚ \u0026lt;choose\u0026gt;: ç±»ä¼¼ switch è¯­å¥ï¼ŒåŒ…å« \u0026lt;when\u0026gt; å’Œ \u0026lt;otherwise\u0026gt;ã€‚ \u0026lt;where\u0026gt;: è‡ªåŠ¨å¤„ç† AND/OR é€»è¾‘ã€‚ \u0026lt;set\u0026gt;: ç”¨äºåŠ¨æ€æ›´æ–°è¯­å¥ã€‚ \u0026lt;foreach\u0026gt;: ç”¨äºéå†é›†åˆç”ŸæˆåŠ¨æ€ SQLã€‚ \u0026lt;trim\u0026gt;: è‡ªå®šä¹‰ SQL ç‰‡æ®µã€‚ 4. MyBatis èƒ½æ‰§è¡Œä¸€å¯¹ä¸€æˆ–è€…ä¸€å¯¹å¤šå…³è”çš„æŸ¥è¯¢å—ï¼Ÿæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ MyBatis å¯ä»¥æ‰§è¡Œä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢ã€‚å®ç°æ–¹å¼åŒ…æ‹¬ï¼š\nä½¿ç”¨ resultMap è¿›è¡Œç»“æœæ˜ å°„ï¼Œå®šä¹‰å…³è”å…³ç³»ã€‚ åœ¨ SQL ä¸­ä½¿ç”¨ JOIN è¯­å¥è¿›è¡Œå…³è”æŸ¥è¯¢ã€‚ ä½¿ç”¨ association å’Œ collection æ ‡ç­¾å®ç°ä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šæ˜ å°„ã€‚ 5. SpringBoot ä¸­ï¼Œè¯»å–é…ç½®çš„æ—¶å€™æœ‰å“ªäº›æ–¹å¼ï¼Ÿ SpringBoot è¯»å–é…ç½®çš„æ–¹å¼åŒ…æ‹¬ï¼š\n@Value: æ³¨å…¥å•ä¸ªé…ç½®å±æ€§ã€‚ @ConfigurationProperties: æ‰¹é‡æ³¨å…¥é…ç½®å±æ€§ã€‚ Environment å¯¹è±¡ï¼šé€šè¿‡ environment.getProperty æ–¹æ³•è·å–é…ç½®ã€‚ @PropertySource: åŠ è½½è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚ application.properties æˆ– application.yml: é»˜è®¤é…ç½®æ–‡ä»¶ã€‚ 6. Integer å¯¹è±¡å’ŒåŸºæœ¬æ•°æ®ç±»å‹ intï¼Œå“ªä¸ªå ç”¨æ›´å¤šçš„å†…å­˜ Integer å¯¹è±¡å ç”¨çš„å†…å­˜æ›´å¤šã€‚int æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç›´æ¥å­˜å‚¨æ•°å€¼ï¼Œå ç”¨ 4 ä¸ªå­—èŠ‚ã€‚è€Œ Integer æ˜¯åŒ…è£…ç±»ï¼Œé™¤äº†å­˜å‚¨æ•°å€¼å¤–ï¼Œè¿˜åŒ…å«å¯¹è±¡å¤´ä¿¡æ¯ï¼Œè‡³å°‘å ç”¨ 16 ä¸ªå­—èŠ‚ï¼ˆå…·ä½“æ ¹æ® JVM å®ç°å’Œå¯¹è±¡å¤´ä¿¡æ¯æœ‰æ‰€ä¸åŒï¼‰ã€‚\n7. ArrayList å’Œ LinkedList çš„åŒºåˆ« ArrayList: åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼ˆO(1)ï¼‰ï¼Œå¢åˆ é€Ÿåº¦æ…¢ï¼ˆO(n)ï¼‰ã€‚ LinkedList: åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼ŒæŸ¥è¯¢é€Ÿåº¦æ…¢ï¼ˆO(n)ï¼‰ï¼Œå¢åˆ é€Ÿåº¦å¿«ï¼ˆO(1)ï¼‰ã€‚ 8. å¯¹è±¡çš„æµ…æ‹·è´å’Œæ·±æ‹·è´ æµ…æ‹·è´: åªå¤åˆ¶å¯¹è±¡çš„åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åœ°å€ï¼Œä¸å¤åˆ¶å¼•ç”¨å¯¹è±¡æœ¬èº«ã€‚ä¿®æ”¹å¼•ç”¨å¯¹è±¡ä¼šå½±å“åŸå¯¹è±¡ã€‚ æ·±æ‹·è´: å¤åˆ¶å¯¹è±¡çš„åŸºæœ¬ç±»å‹å’Œå¼•ç”¨å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œäº’ä¸å½±å“ã€‚ 9. äº†è§£å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ å¸¸è§çš„è®¾è®¡æ¨¡å¼åŒ…æ‹¬ï¼š\nåˆ›å»ºå‹æ¨¡å¼: å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€‚ ç»“æ„å‹æ¨¡å¼: é€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€‚ è¡Œä¸ºå‹æ¨¡å¼: ç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€‚ 10. TensorFlow æ˜¯ç”¨æ¥å¹²å˜›çš„ TensorFlow æ˜¯ä¸€ä¸ªå¼€æºçš„æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä¸»è¦ç”¨äºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„å¼€å‘ã€è®­ç»ƒå’Œéƒ¨ç½²ã€‚å®ƒæä¾›äº†çµæ´»çš„è®¡ç®—å›¾ç»“æ„ï¼Œå¯ä»¥åœ¨ CPUã€GPU å’Œ TPU ä¸Šè¿è¡Œï¼Œæ”¯æŒåˆ†å¸ƒå¼è®¡ç®—ã€‚\n11. è§£é‡Šä¸€ä¸‹ softmax Softmax æ˜¯ä¸€ç§æ¿€æ´»å‡½æ•°ï¼Œå¸¸ç”¨äºå¤šåˆ†ç±»æ¨¡å‹çš„è¾“å‡ºå±‚ã€‚å®ƒå°†è¾“å…¥çš„ logits è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œå…¬å¼å¦‚ä¸‹ï¼š [ \\text{softmax}(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} ] å…¶ä¸­ï¼Œ( x_i ) æ˜¯è¾“å…¥å‘é‡çš„ç¬¬ i ä¸ªåˆ†é‡ï¼Œè¾“å‡ºçš„æ¯ä¸ªåˆ†é‡éƒ½æ˜¯ä»‹äº 0 å’Œ 1 ä¹‹é—´çš„æ¦‚ç‡å€¼ï¼Œä¸”æ‰€æœ‰åˆ†é‡çš„å’Œä¸º 1ã€‚\n12. å¸¸ç”¨çš„å¼ºåŒ–å­¦ä¹ ç®—æ³• ä¸ºä»€ä¹ˆç”¨ PPO ç®—æ³•ä¸ç”¨ DQN ç®—æ³•ï¼Ÿ PPOï¼ˆProximal Policy Optimizationï¼‰å’Œ DQNï¼ˆDeep Q-Networkï¼‰éƒ½æ˜¯å¸¸ç”¨çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚é€‰æ‹© PPO è€Œä¸æ˜¯ DQN çš„åŸå› åŒ…æ‹¬ï¼š\nPPO æ˜¯åŸºäºç­–ç•¥æ¢¯åº¦çš„ç®—æ³•ï¼Œé€‚ç”¨äºè¿ç»­åŠ¨ä½œç©ºé—´ï¼Œè€Œ DQN ä¸»è¦ç”¨äºç¦»æ•£åŠ¨ä½œç©ºé—´ã€‚ PPO å¼•å…¥äº†å‰ªåˆ‡æ¦‚ç‡æ¯”ï¼ˆclipped probability ratioï¼‰ï¼Œåœ¨æ›´æ–°ç­–ç•¥æ—¶ä¿æŒå¹³ç¨³ï¼Œè®­ç»ƒæ›´ç¨³å®šã€‚ PPO æ›´åŠ ç®€å•é«˜æ•ˆï¼Œä¸éœ€è¦åƒ DQN é‚£æ ·å¤æ‚çš„ç»éªŒå›æ”¾å’Œç›®æ ‡ç½‘ç»œã€‚ 13. ä¸ºä»€ä¹ˆä¸ç”¨ A3C ç®—æ³•ï¼Ÿ å°½ç®¡ A3Cï¼ˆAsynchronous Advantage Actor-Criticï¼‰æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç®—æ³•ï¼Œä½†ç›¸è¾ƒäº PPOï¼Œæœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š\nA3C ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œï¼Œå®¹æ˜“å—åˆ°çº¿ç¨‹è°ƒåº¦å’ŒåŒæ­¥çš„å½±å“ã€‚ PPO ä¸éœ€è¦å¤æ‚çš„å¤šçº¿ç¨‹è®¾ç½®ï¼Œå…·æœ‰æ›´é«˜çš„æ ·æœ¬æ•ˆç‡å’Œè®­ç»ƒç¨³å®šæ€§ã€‚ PPO ç®—æ³•ç›¸å¯¹æ›´ç®€å•ï¼Œæ›´å®¹æ˜“è°ƒè¯•å’Œå®ç°ã€‚ 14. è®²è®² Transformer Transformer æ˜¯ä¸€ç§ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå…‹æœäº†ä¼ ç»Ÿ RNN æ¨¡å‹åœ¨å¤„ç†é•¿åºåˆ—æ—¶çš„å±€é™æ€§ã€‚å®ƒä¸»è¦ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š\nç¼–ç å™¨ï¼ˆEncoderï¼‰: ç”±å¤šä¸ªç›¸åŒçš„ç¼–ç å±‚å †å è€Œæˆï¼Œæ¯å±‚åŒ…å«è‡ªæ³¨æ„åŠ›æœºåˆ¶å’Œå‰é¦ˆç¥ç»ç½‘ç»œã€‚ è§£ç å™¨ï¼ˆDecoderï¼‰: ç»“æ„ç±»ä¼¼äºç¼–ç å™¨ï¼Œä½†æ¯ä¸ªè§£ç å±‚åœ¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ä¹‹åè¿˜å¢åŠ äº†ä¸€ä¸ªå¯¹ç¼–ç å™¨è¾“å‡ºçš„æ³¨æ„åŠ›æœºåˆ¶ã€‚ è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰: è®¡ç®—è¾“å…¥åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„å…³ç³»ï¼Œä»¥æ•æ‰å…¨å±€ä¾èµ–å…³ç³»ã€‚ ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰: ä¸ºäº†ä¿ç•™åºåˆ—ä¿¡æ¯ï¼Œå‘è¾“å…¥ä¸­æ·»åŠ ä½ç½®ä¿¡æ¯ã€‚ Transformer çš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š å¹¶è¡ŒåŒ–è®¡ç®—æ•ˆç‡é«˜ï¼Œé€‚åˆå¤„ç†é•¿åºåˆ—ã€‚ èƒ½å¤Ÿæ•æ‰åºåˆ—ä¸­å…¨å±€ä¾èµ–å…³ç³»ã€‚ ã€Œæ‰‹æ’•ã€ 1. å¾ˆç®€å•çš„æ•°ç»„é¢˜ 2min åšå®Œ å‡è®¾è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ±‚æ•°ç»„æœ€å¤§å€¼çš„é¢˜ç›®ï¼Œä»£ç å¦‚ä¸‹ï¼š\npublic int findMax(int[] nums) { int max = nums[0]; for (int num : nums) { if (num \u0026gt; max) { max = num; } } return max; } 2. åè½¬é“¾è¡¨ II åŠ›æ‰£ 92 é¢˜ åè½¬é“¾è¡¨ II çš„è§£é¢˜æ€è·¯æ˜¯æ‰¾åˆ°è¦åè½¬çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè¿›è¡Œå±€éƒ¨åè½¬ã€‚ä»£ç å¦‚ä¸‹ï¼š\npublic ListNode reverseBetween(ListNode head, int m, int n) { if (head == null) return null; ListNode dummy = new ListNode(0); dummy.next = head; ListNode pre = dummy; for (int i = 0; i \u0026lt; m - 1; i++) pre = pre.next; ListNode start = pre.next; ListNode then = start.next; for (int i = 0; i \u0026lt; n - m; i++) { start.next = then.next; then.next = pre.next; pre.next = then; then = start.next; } return dummy.next; } /** * Definition for singly-linked list. * public class ListNode { * int val; * ListNode next; * ListNode() {} * ListNode(int val) { this.val = val; } * ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */ class Solution { public ListNode reverseBetween(ListNode head, int m, int n) { if (head == null) return null; ListNode dummy = new ListNode(0); dummy.next = head; ListNode pre = dummy; for (int i = 0; i \u0026lt; m - 1; i++) pre = pre.next; ListNode start = pre.next; ListNode cur = null; ListNode newEnd = start; for (int i = 0; i \u0026lt;= n - m; i++) { ListNode nxt = start.next; start.next = cur; cur = start; start = nxt; } pre.next = cur; newEnd.next = start; return dummy.next; } } å¸Œæœ›è¿™äº›å›ç­”èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°å‡†å¤‡é¢è¯•ã€‚ç¥ä½ é¢è¯•æˆåŠŸï¼\n","permalink":"https://kennems.github.io/zh/posts/tech/%E6%AF%8F%E5%A4%A9%E4%B8%89%E9%81%93%E5%85%AB%E8%82%A1-%E5%A4%8D%E4%B9%A0%E4%B8%89%E5%A4%A9%E7%9A%84%E5%85%AB%E8%82%A1/","summary":"æ¯å¤©ä¸‰é“å…«è‚¡ï¼Œ å¤ä¹ ä¸‰å¤©çš„å…«è‚¡ å…«è‚¡åˆ†ä¸ºï¼šåŸºç¡€çŸ¥è¯†ï¼Œåº•å±‚åŸç†ï¼Œåœºæ™¯åº”ç”¨ åŸºç¡€çŸ¥è¯†ï¼šjavaguide, æ­»è®°ç¡¬èƒŒï¼Œæ€ç»´å¯¼å›¾ åº•å±‚åŸç†ï¼šå…«è‚¡åˆé›†ï¼Œé¢ç»+","title":"å…«è‚¡ç¬”è®°"},{"content":"Java Webå¼€å‘(6) äº‹åŠ¡ï¼šäº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥\nstart transaction / begin commit rollback Springäº‹åŠ¡ç®¡ç† @Transactional ä½ç½®ï¼šä¸šåŠ¡ï¼ˆserviceï¼‰å±‚çš„æ–¹æ³•ä¸Šã€ç±»ä¸Šã€æ¥å£ä¸Š ä½œç”¨ï¼šå°†å½“å‰æ–¹æ³•äº¤ç»™springè¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œæ–¹æ³•æ‰§è¡Œå‰ï¼Œå¼€å¯äº‹åŠ¡ï¼›æˆåŠŸæ‰§è¡Œå®Œæ¯•ï¼Œæäº¤äº‹åŠ¡ï¼›å‡ºç°å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡ã€‚ äº‹åŠ¡å±æ€§\né»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å‡ºç°RuntimeException æ‰å›æ»šå¼‚å¸¸ã€‚rollbackForå±æ€§ç”¨äºæ§åˆ¶å‡ºç°ä½•ç§å¼‚å¸¸ç±»å‹æ˜¯å›æ»šäº‹åŠ¡ @Transactional(rollbackFor = Exception.class) ä¼ æ’­è¡Œä¸º\npropagation\näº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šæŒ‡çš„æ˜¯å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªäº‹åŠ¡æ–¹æ³•åº”è¯¥å¦‚ä½•è¿›è¡Œäº‹åŠ¡æ§åˆ¶\nREQUIREDï¼šå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯ç”¨è¯¥ä¼ æ’­è¡Œä¸ºå³å¯\nREQUIRES_NEWï¼šå½“æˆ‘ä»¬ä¸å¸Œæœ›äº‹åŠ¡ä¹‹é—´ç›¸äº’å½±å“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ä¼ æ’­è¡Œä¸ºã€‚æ¯”å¦‚ï¼šä¸‹è®¢å•å‰éœ€è¦è®°å½•æ—¥å¿—ï¼Œä¸è®ºè®¢å•ä¿å­˜æˆåŠŸä¸å¦ï¼Œéƒ½éœ€è¦ä¿è¯æ—¥å¿—è®°å½•èƒ½å¤Ÿè®°å½•æˆåŠŸã€‚\nAOP AOPï¼ˆAspect Oriented Programmingï¼‰é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé¢å‘æ–¹é¢ç¼–ç¨‹ï¼Œå…¶å®å°±æ˜¯é¢å‘ç‰¹å®šæ–¹æ³•ç¼–ç¨‹ã€‚ åœºæ™¯ï¼š\nç»Ÿè®¡Serviceå„é¡¹æ–¹æ³•çš„è¿è¡Œè€—æ—¶\n@Slf4j @Component @Aspect public class TimeAspect { @Around(\u0026#34;execution(* com.showguan.service.*.*(..))\u0026#34;) public Object recordTime(ProceedingJoinPoint joinPoint) throws Throwable { long begin = System.currentTimeMillis(); Object result = joinPoint.proceed(); long end = System.currentTimeMillis(); log.info(joinPoint.getSignature() + \u0026#34;æ–¹æ³•è€—æ—¶ :{} ms\u0026#34;, (end-begin)); return result; } } AOPæ ¸å¿ƒæ¦‚å¿µ\nè¿æ¥ç‚¹ï¼šJoinPointï¼Œå¯ä»¥è¢«AOPæ§åˆ¶çš„æ–¹æ³•ï¼ˆæš—å«æ–¹æ³•æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ï¼‰ é€šçŸ¥ï¼šAdviceï¼Œ æŒ‡å“ªäº›é‡å¤çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å…±æ€§åŠŸèƒ½ï¼ˆæœ€ç»ˆä½“ç°ä¸ºä¸€ä¸ªæ–¹æ³•ï¼‰ åˆ‡å…¥ç‚¹ï¼šPointCutï¼ŒåŒ¹é…è¿æ¥ç‚¹çš„æ¡ä»¶ï¼Œé€šçŸ¥ä»…ä¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œæ—¶è¢«åº”ç”¨ åˆ‡é¢ï¼šAspectï¼Œæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ï¼ˆé€šçŸ¥+åˆ‡å…¥ç‚¹ï¼‰ ç›®æ ‡å¯¹è±¡ï¼šTarget, é€šçŸ¥æ‰€åº”ç”¨çš„å¯¹è±¡ é€šçŸ¥ç±»å‹\n@Aroundï¼šç¯ç»•é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰åéƒ½è¢«æ‰§è¡Œ @Beforeï¼šå‰ç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰è¢«æ‰§è¡Œ @Afterï¼šåç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ @AfterReturningï¼šè¿”å›åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæœ‰å¼‚å¸¸ä¸ä¼šæ‰§è¡Œ @AfterThrowingï¼šå¼‚å¸¸åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•å‘ç”Ÿå¼‚å¸¸åæ‰§è¡Œ æ³¨æ„äº‹é¡¹ï¼›\n@Around ç¯ç»•é€šçŸ¥éœ€è¦è‡ªå·±è°ƒç”¨ Object result = proceedingJoinPoint.proceed(); æ¥è®©åŸå§‹æ–¹æ³•æ‰§è¡Œï¼Œå…¶ä»–é€šçŸ¥ä¸éœ€è¦è€ƒè™‘ç›®æ ‡æ–¹æ³•æ‰§è¡Œ\n@Around ç¯ç»•é€šçŸ¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¿…é¡»æŒ‡å®šä¸ºObjectï¼Œæ¥æ¥æ”¶åŸå§‹æ–¹æ³•çš„è¿”å›å€¼ é€šçŸ¥é¡ºåº å½“æœ‰å¤šä¸ªåˆ‡é¢çš„åˆ‡å…¥ç‚¹éƒ½åŒ¹é…åˆ°äº†ç›®æ ‡æ–¹æ³•ï¼Œç›®æ ‡æ–¹æ³•è¿è¡Œæ—¶ï¼Œå¤šä¸ªé€šçŸ¥æ–¹æ³•éƒ½ä¼šè¢«æ‰§è¡Œ\næ‰§è¡Œé¡ºåº\nä¸åŒåˆ‡é¢ç±»ä¸­ï¼Œé»˜è®¤æŒ‰ç…§åˆ‡é¢ç±»çš„ç±»åå­—æ¯æ’åº ç›®æ ‡æ–¹æ³•å‰çš„é€šçŸ¥æ–¹æ³•ï¼šå­—æ¯æ’åé å‰çš„å…ˆæ‰§è¡Œ ç›®æ ‡æ–¹æ³•åçš„é€šçŸ¥æ–¹æ³•ï¼šå­—æ¯æ’åé å‰çš„åæ‰§è¡Œ ç”¨@Orderï¼ˆæ•°å­—ï¼‰åŠ åœ¨åˆ‡é¢ç±»ä¸Šæ¥æ§åˆ¶é¡ºåº ç›®æ ‡æ–¹æ³•å‰çš„é€šçŸ¥æ–¹æ³•ï¼šæ•°å­—å°çš„å…ˆæ‰§è¡Œ ç›®æ ‡æ–¹æ³•åçš„é€šçŸ¥æ–¹æ³•ï¼šæ•°å­—å°çš„åæ‰§è¡Œ åˆ‡å…¥ç‚¹è¡¨è¾¾å¼\næè¿°åˆ‡å…¥ç‚¹æ–¹æ³•çš„ä¸€ç§è¡¨è¾¾å¼ ä½œç”¨ï¼šä¸»è¦ç”¨æ¥å†³å®šé¡¹ç›®ä¸­å“ªäº›æ–¹æ³•éœ€è¦åŠ å…¥é€šçŸ¥ å¸¸è§å½¢å¼ execution(...)ï¼šæ ¹æ®æ–¹æ³•çš„ç­¾åæ¥åŒ¹é… @annotation(...)ï¼šæ ¹æ®æ³¨è§£åŒ¹é… executionæ ¹æ®æ–¹æ³•çš„è¿”å›å€¼ï¼ŒåŒ…åï¼Œç±»åï¼Œæ–¹æ³•åï¼Œæ–¹æ³•å‚æ•°ç­‰ä¿¡æ¯æ¥åŒ¹é…ï¼Œè¯­æ³•ä¸ºï¼š\nexecution(è®¿é—®ä¿®é¥°ç¬¦? è¿”å›å€¼ åŒ…å.ç±»å.?æ–¹æ³•å(æ–¹æ³•å‚æ•°) throws å¼‚å¸¸?) å…¶ä¸­å¸¦ ? è¡¨ç¤ºå¯ä»¥çœç•¥çš„éƒ¨åˆ†\nè®¿é—®ä¿®é¥°ç¬¦ï¼šå¯çœç•¥ï¼ˆpublic, protected) åŒ…å.ç±»åï¼šå¯çœç•¥ throwså¼‚å¸¸ï¼šå¯çœç•¥ï¼ˆæ³¨æ„æ—¶æ–¹æ³•ä¸Šå£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä¸æ˜¯å®é™…æŠ›å‡ºçš„å¼‚å¸¸ï¼‰ å¯ä»¥ä½¿ç”¨é€šé…ç¬¦æè¿°åˆ‡å…¥ç‚¹\n*ï¼šå•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„è¿”å›å€¼ï¼ŒåŒ…åï¼Œç±»åï¼Œæ–¹æ³•åï¼Œä»»æ„ç±»å‹çš„ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥ç»Ÿé…åŒ…ï¼Œç±»ï¼Œæ–¹æ³•åçš„ä¸€éƒ¨åˆ†\nexecution(* com.*.service.*.update*(*)) .. : å¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„å±‚çº§çš„åŒ…ï¼Œæˆ–ä»»æ„ç±»å‹ï¼Œä»»æ„ä¸ªæ•°çš„å‚æ•°\nexecution(* com.showguan..DeptService.*(..)) æ ¹æ®ä¸šåŠ¡éœ€è¦ï¼Œ å¯ä»¥ä½¿ç”¨ \u0026amp;\u0026amp;ï¼Œ ||ï¼Œ ! æ¥ç»„åˆæ¯”è¾ƒå¤æ‚çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼\nä¹¦å†™å»ºè®®ï¼š\næ‰€æœ‰ä¸šåŠ¡æ–¹æ³•ååœ¨å‘½åæ—¶å°½é‡è§„èŒƒï¼Œæ–¹ä¾¿åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å¿«é€ŸåŒ¹é…ã€‚å¦‚ï¼šæŸ¥è¯¢ç±»æ–¹æ³•éƒ½æ˜¯findå¼€å¤´ï¼Œæ›´æ–°ç±»æ–¹æ³•éƒ½æ˜¯updateå¼€å¤´ æè¿°åˆ‡å…¥ç‚¹æ–¹æ³•é€šå¸¸åŸºäºæ¥å£æè¿°ï¼Œè€Œä¸æ˜¯ç›´æ¥æè¿°å®ç°ç±»ï¼Œå¢å¼ºæ‹“å±•æ€§ åœ¨æ»¡è¶³ä¸šåŠ¡éœ€è¦çš„å‰æä¸‹ï¼Œå°½é‡ç¼©å°åˆ‡å…¥ç‚¹çš„åŒ¹é…èŒƒå›´ï¼Œå¦‚ï¼šåŒ…åå°½é‡ä¸ä½¿ç”¨\u0026hellip;ï¼Œ ä½¿ç”¨*åŒ¹é…å•ä¸ªåŒ…å æ³¨è§£å½¢å¼ åœ¨apoæ–‡ä»¶å¤¹å†…æ–°å»ºæ³¨è§£æ–‡ä»¶ Mylog.java\n@Retention(RetentionPolicy.RUNTIME) //ä»€ä¹ˆæ—¶å€™è¿è¡Œ @Target(ElementType.METHOD) // è¿è¡ŒèŒƒå›´ public @interface MyLog { } Aspectæ–‡ä»¶é…ç½®ï¼š\n@Slf4j @Component @Aspect public class MyAspect2 { // @Pointcut(\u0026#34;execution(* com.showguan.service.DeptService.list()) ||\u0026#34; + // \u0026#34;execution(* com.showguan.service.DeptService.delete(java.lang.Integer))\u0026#34; // ) @Pointcut(\u0026#34;@annotation(com.showguan.apo.MyLog)\u0026#34;) private void pt(){} @Before(\u0026#34;pt()\u0026#34;) private void before(){ log.info(\u0026#34;My Aspect6 ... Before ...\u0026#34;); } } åœ¨éœ€è¦åŒ¹é…çš„æ–¹æ³•å‰é¢åŠ ä¸Š @MyLog æ³¨è§£å³å¯ã€‚\nè¿æ¥ç‚¹\nåœ¨Springä¸­ç”¨JoinPointæŠ½è±¡äº†è¿æ¥ç‚¹ï¼Œç”¨å®ƒå¯ä»¥åçš„æ–¹æ³•æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç›®æ ‡ç±»åï¼Œæ–¹æ³•åï¼Œæ–¹æ³•å‚æ•°ç­‰ å¯¹äº@Aroundé€šçŸ¥ï¼Œè·å–è¿æ¥ç‚¹ä¿¡æ¯åªèƒ½ç”¨ProceedingJoinPoing å¯¹äºå…¶ä»–å››ç§é€šçŸ¥ï¼Œè·å–è¿æ¥ç‚¹ä¿¡æ¯åªèƒ½ä½¿ç”¨JointPointï¼Œ å®ƒæ˜¯ProceedingPointçš„çˆ¶ç±»å‹ package com.showguan.apo; import lombok.extern.slf4j.Slf4j; import net.sf.jsqlparser.statement.select.Join; import org.aspectj.lang.JoinPoint; import org.aspectj.lang.ProceedingJoinPoint; import org.aspectj.lang.annotation.Around; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.aspectj.lang.annotation.Pointcut; import org.springframework.stereotype.Component; @Slf4j @Component @Aspect public class MyAspect3 { @Pointcut(\u0026#34;execution(* com.showguan.service.impl.DeptServiceImpl.*(..))\u0026#34;) // private void pt(){} public void pt(){} @Before(\u0026#34;pt()\u0026#34;) public void before(JoinPoint joinPoint){ log.info(\u0026#34;before ...\u0026#34;); } @Around(\u0026#34;pt()\u0026#34;) public Object around(ProceedingJoinPoint JoinPoint) throws Throwable { log.info(\u0026#34;around before\u0026#34;); Object target = JoinPoint.getTarget(); log.info(\u0026#34;ç›®æ ‡ å¯¹è±¡çš„ç±»åï¼š{}\u0026#34;, JoinPoint); String name = JoinPoint.getSignature().getName(); log.info(\u0026#34;ç›®æ ‡æ–¹æ³•çš„æ–¹æ³•å\u0026#34;, name); Object[] args = JoinPoint.getArgs(); log.info(\u0026#34;ç›®æ ‡æ–¹æ³•è¿è¡Œæ—¶ä¼ å…¥çš„å‚æ•°ï¼š{}\u0026#34;, args); Object result = JoinPoint.proceed(); log.info(\u0026#34;ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼ï¼š{}\u0026#34;, result); log.info(\u0026#34;around after ...\u0026#34;); return result; } } å®è·µ å¯¹å‘˜å·¥å’Œéƒ¨åˆ†çš„å¢åˆ æ”¹éƒ¨åˆ†è¿›è¡Œæ—¥å¿—è®°å½•\n@Slf4j @Component @Aspect public class LogAspect { @Autowired private OperateLogMapper operateLogMapper; @Autowired private HttpServletRequest request; @Around(\u0026#34;@annotation(com.showguan.anno.Log)\u0026#34;) public Object recordLog(ProceedingJoinPoint joinPoint) throws Throwable { String jwt = request.getHeader(\u0026#34;token\u0026#34;); Claims claims = JwtUtils.parseJWT(jwt); Integer operateUser = (Integer) claims.get(\u0026#34;id\u0026#34;); LocalDateTime operateTime = LocalDateTime.now(); String className = joinPoint.getTarget().getClass().getName(); String methodName = joinPoint.getSignature().getName(); Object[] args = joinPoint.getArgs(); String methodParams = Arrays.toString(args); long begin = System.currentTimeMillis(); Object result = joinPoint.proceed(); long end = System.currentTimeMillis(); String returnValue = JSONObject.toJSONString(result); Long costTime = end - begin; OperateLog operateLog = new OperateLog(null, operateUser, operateTime, className, methodName, methodParams, returnValue, costTime); operateLogMapper.insert(operateLog); return result; } } ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%916/","summary":"Java Webå¼€å‘(6) äº‹åŠ¡ï¼šäº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ start transaction / begin commit rollback Springäº‹åŠ¡ç®¡ç†","title":"Java Webå¼€å‘(6)"},{"content":"LeetCodeåŒå‘¨èµ›132 \u0026amp; å‘¨èµ›401(240608/09) 3181. æ‰§è¡Œæ“ä½œå¯è·å¾—çš„æœ€å¤§æ€»å¥–åŠ± IIå‘¨èµ›ç¬¬å››é¢˜ é¢˜ç›®å¤§æ„ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ rewardValuesï¼Œé•¿åº¦ä¸º nï¼Œè¡¨ç¤ºä¸åŒä½ç½®çš„å¥–åŠ±å€¼ã€‚åˆå§‹æ—¶ï¼Œæ€»å¥–åŠ± x ä¸º 0ï¼Œæ‰€æœ‰ä¸‹æ ‡éƒ½æ˜¯æœªæ ‡è®°çš„ã€‚å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œä»»æ„æ¬¡ï¼š\nä»åŒºé—´ [0, n-1] ä¸­é€‰æ‹©ä¸€ä¸ªæœªæ ‡è®°çš„ä¸‹æ ‡ iã€‚ å¦‚æœ rewardValues[i] å¤§äºå½“å‰çš„æ€»å¥–åŠ± xï¼Œåˆ™å°† rewardValues[i] åŠ åˆ° x ä¸Šï¼Œå¹¶æ ‡è®°ä¸‹æ ‡ iã€‚ è¦æ±‚è¿”å›æ‰§è¡Œæœ€ä¼˜æ“ä½œèƒ½å¤Ÿè·å¾—çš„æœ€å¤§æ€»å¥–åŠ±ã€‚\nå®ç°æ€è·¯ ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³è§£å†³é—®é¢˜ï¼Œè€ƒè™‘å¦‚ä½•é€‰æ‹©æ“ä½œèƒ½ä½¿å¾—æ€»å¥–åŠ±æœ€å¤§åŒ–ã€‚ ä½¿ç”¨ä¸€ä¸ªçŠ¶æ€ f è¡¨ç¤ºå½“å‰å¯ä»¥è¾¾åˆ°çš„æœ€å¤§æ€»å¥–åŠ±çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚åˆå§‹çŠ¶æ€ f = 1 è¡¨ç¤ºå¯ä»¥è¾¾åˆ°æ€»å¥–åŠ±ä¸º 0 çš„çŠ¶æ€ã€‚ éå†å¥–åŠ±å€¼ rewardValues çš„ä¸åŒå€¼ï¼Œå¯¹æ¯ä¸ªå€¼è¿›è¡Œå¤„ç†ï¼š å°†è¯¥å¥–åŠ±å€¼ä½œä¸ºæ–°çš„çŠ¶æ€åŠ å…¥åˆ°å½“å‰çŠ¶æ€ f ä¸­ã€‚ æœ€ç»ˆ f çš„ä½é•¿åº¦å‡å» 1 å³ä¸ºå¯ä»¥è¾¾åˆ°çš„æœ€å¤§æ€»å¥–åŠ±ã€‚ è¯¥è§£æ³•åˆ©ç”¨äº†åŠ¨æ€è§„åˆ’å’Œä½è¿ç®—çš„ç‰¹æ€§ï¼Œé€šè¿‡çŠ¶æ€çš„æ›´æ–°å’Œè½¬ç§»ï¼Œå®ç°äº†å¯¹æœ€ä¼˜æ“ä½œåºåˆ—çš„æ±‚è§£ï¼Œä¿è¯äº†æ—¶é—´å¤æ‚åº¦åœ¨åˆç†èŒƒå›´å†…ã€‚\nclass Solution: def maxTotalReward(self, r: List[int]) -\u0026gt; int: f = 1 for v in sorted(set(r)): mask = (1 \u0026lt;\u0026lt; v) - 1 mask = mask \u0026amp; f mask = mask \u0026lt;\u0026lt; v f |= mask return f.bit_length() - 1 3177. æ±‚å‡ºæœ€é•¿å¥½å­åºåˆ— IIåŒå‘¨èµ›ç¬¬å››é¢˜ é¢˜ç›®å¤§æ„ ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªéè´Ÿæ•´æ•° kã€‚å¦‚æœä¸€ä¸ªæ•´æ•°åºåˆ— seq æ»¡è¶³åœ¨ä¸‹æ ‡èŒƒå›´ [0, seq.length - 2] ä¸­å­˜åœ¨ä¸è¶…è¿‡ k ä¸ªä¸‹æ ‡ i ä½¿å¾— seq[i] != seq[i + 1]ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªæ•´æ•°åºåˆ—ä¸º å¥½åºåˆ—ã€‚\nè¯·ä½ è¿”å› nums ä¸­ å¥½å­åºåˆ— çš„æœ€é•¿é•¿åº¦ã€‚\nå®ç°æ€è·¯ é¢„å¤„ç†ï¼šå°† nums ä¸­çš„å…ƒç´ ç¦»æ•£åŒ–ï¼Œå³å°†æ¯ä¸ªå…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„å”¯ä¸€æ•´æ•°ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–åç»­çš„å¤„ç†ã€‚ç”¨ d å­—å…¸ä¿å­˜æ¯ä¸ªå…ƒç´ çš„ç¦»æ•£åŒ–åçš„å€¼ã€‚ åŠ¨æ€è§„åˆ’ï¼šä½¿ç”¨äºŒç»´æ•°ç»„ f è®°å½•å½“å‰å­åºåˆ—çš„æœ€å¤§é•¿åº¦ï¼Œå…¶ä¸­ f[nm][i] è¡¨ç¤ºä»¥ nm ç»“å°¾ä¸”æœ‰ i æ¬¡ä¸è¿ç»­çš„æœ€å¤§é•¿åº¦ã€‚ å¦ç”¨ mx è®°å½•ä½¿ç”¨ i æ¬¡å˜æ¢çš„æœ€å¤§é•¿åº¦ï¼Œlst è®°å½•è¯¥æœ€å¤§é•¿åº¦å¯¹åº”çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ çŠ¶æ€è½¬ç§»ï¼šéå† nums ä¸­çš„æ¯ä¸ªå…ƒç´  nmï¼Œå¹¶æ›´æ–° f å’Œ mxã€lstã€‚ å¦‚æœ i \u0026gt; 0ï¼Œåˆ™ f[nm][i] æ›´æ–°ä¸º f[lst[i-1]][i-1] + 1ã€‚ æ›´æ–° mx[i] å’Œ lst[i]ï¼Œä¿è¯å®ƒä»¬è®°å½•å½“å‰çš„æœ€å¤§å€¼å’Œå¯¹åº”å…ƒç´ ã€‚ ç»“æœï¼šæœ€ç»ˆçš„ç»“æœä¸º resï¼Œè®°å½•æ‰€æœ‰æƒ…å†µä¸‹çš„æœ€å¤§é•¿åº¦ã€‚ class Solution: def maximumLength(self, nums: List[int], k: int) -\u0026gt; int: # ç¦»æ•£åŒ– d = {v: i for i, v in enumerate(set(nums))} if len(d) == 1: return len(nums) n = len(d) nums = [d[x] for x in nums] # åˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„ f = [[0] * (k + 1) for _ in range(n + 1)] mx, lst = [0] * (k + 1), [0] * (k + 1) res = 0 for nm in nums: for i in range(k, -1, -1): f[nm][i] += 1 if i and f[lst[i - 1]][i - 1] + 1 \u0026gt; f[nm][i]: f[nm][i] = f[lst[i - 1]][i - 1] + 1 if f[nm][i] \u0026gt; mx[i]: mx[i] = f[nm][i] lst[i] = nm if f[nm][i] \u0026gt; res: res = f[nm][i] return res ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E5%8F%8C%E5%91%A8%E8%B5%9B132--%E5%91%A8%E8%B5%9B40124060809/","summary":"LeetCodeåŒå‘¨èµ›132 \u0026amp; å‘¨èµ›401(240608/09) 3181. æ‰§è¡Œæ“ä½œå¯è·å¾—çš„æœ€å¤§æ€»å¥–åŠ± IIå‘¨èµ›ç¬¬å››é¢˜ é¢˜ç›®å¤§æ„ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ reward","title":"LeetCodeåŒå‘¨èµ›132 \u0026 å‘¨èµ›401(240608/09)"},{"content":"Java Webå¼€å‘(5) MyBatis MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œç”¨äºç®€åŒ–JDBCçš„å¼€å‘ã€‚ ä½¿ç”¨MybatisæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ•°æ®\nåˆ›å»ºSpringBootå·¥ç¨‹ï¼Œ æ•°æ®åº“è¡¨userï¼Œ å®ä½“ç±»User\nå¼•å…¥Mybatisçš„ç›¸å…³ä¾èµ–ï¼Œé…ç½®Mybatis\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.3\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; ç¼–å†™SQLè¯­å¥ï¼ˆæ³¨è§£/XMLï¼‰\né‡åˆ°çš„Bug åœ¨mybatisquickstart ä¸­çš„MybatisQuickstartApplication.javaæ·»åŠ ä¸‹é¢è¿™ä¸€è¡Œ\n@MapperScan(\u0026#34;com.showguan.mapper\u0026#34;) // æ·»åŠ è¿™ä¸€è¡Œ package com.showguan.mybatisquickstart; import org.mybatis.spring.annotation.MapperScan; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; @SpringBootApplication @MapperScan(\u0026#34;com.showguan.mapper\u0026#34;) // æ·»åŠ è¿™ä¸€è¡Œ public class MybatisQuickstartApplication { public static void main(String[] args) { SpringApplication.run(MybatisQuickstartApplication.class, args); } } JDBC JDBCï¼š(Java DataBase Connectivity)ï¼Œ å°±æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIã€‚\næœ¬è´¨ï¼š\nSunå…¬å¸å®˜æ–¹å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„èŒƒï¼Œ å³æ¥å£ å„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ… æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™å¥—æ¥å£ï¼ˆJDBCï¼‰ç¼–ç¨‹ï¼Œ çœŸæ­£æ‰§è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±» æ•°æ®åº“è¿æ¥æ±  æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ï¼Œç®¡ç†æ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰ å®ƒå…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ª é‡Šæ”¾ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„è¿æ¥ï¼Œæ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼ æ ‡å‡†æ¥å£ï¼šDataSource\nå®˜æ–¹æä¾›çš„æ•°æ®åº“è¿æ¥æ± æ¥å£ï¼Œç”±ç¬¬ä¸‰æ–¹ç»„ç»‡å®ç°æ­¤æ¥å£ åŠŸèƒ½ï¼šè·å–è¿æ¥ Druid(å¾·é²ä¼Š)ï¼Œ Hikari\nLombok Lombokæ˜¯ä¸€ä¸ªå®ç”¨çš„Javaç±»åº“ï¼Œ èƒ½é€šè¿‡æ³¨è§£çš„å½¢å¼è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ï¼Œgetter/setter, equals, hashcode, toStringç­‰æ–¹æ³•ï¼Œ å¹¶å¯ä»¥è‡ªåŠ¨åŒ–ç”Ÿæˆæ—¥å¿—å˜é‡ï¼Œ ç®€åŒ–Javaå¼€å‘ï¼Œ æé«˜æ•ˆç‡ã€‚ \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; æ³¨è§£ ä½œç”¨ @Getter/Setter ä¸ºæ‰€æœ‰çš„å±æ€§æä¾›get/setæ–¹æ³• @ToString ä¼šç»™ç±»è‡ªåŠ¨ç”Ÿæˆæ˜“é˜…è¯»çš„toStringæ–¹æ³• @EqualsAndHashCode æ ¹æ®ç±»æ‰€æ‹¥æœ‰çš„éé™æ€å­—æ®µè‡ªåŠ¨é‡å†™equalsæ–¹æ³•å’ŒhashCodeæ–¹æ³• @Data æä¾›æ›´ç»¼åˆçš„ç”Ÿæˆä»£ç åŠŸèƒ½ï¼ˆ@Getter + @Setter + @ToString + @EqualsAndHashCodeï¼‰ @NoArgsConstructor ä¸ºå®ä½“ç±»ç”Ÿæˆæ— å‚æ•°çš„æ„é€ å™¨æ–¹æ³• @AllArgsConstructor ä¸ºå®ä½“ç±»ç”Ÿæˆé™¤äº†staticä¿®é¥°çš„å­—æ®µä¹‹å¤–çš„å¸¦æœ‰å„å‚æ•°çš„æ„é€ å™¨æ–¹æ³• MybatisåŸºç¡€æ“ä½œ åˆ é™¤å’Œæ–°å¢æ“ä½œ\nMybatisCrudApplicationTests\n@SpringBootTest class MybatisCrudApplicationTests { @Autowired private EmpMapper empMapper; @Test public void testDelete() { int delete = empMapper.delete(17); System.out.println(delete); } @Test public void testInsert(){ Emp emp = new Emp(152, \u0026#34;Tom1\u0026#34;, \u0026#34;0303\u0026#34;, \u0026#34;Tom\u0026#34;, (short)1, \u0026#34;1.jpg\u0026#34;, (short)1, LocalDate.of(2001, 3, 4), 1, LocalDateTime.now(), LocalDateTime.now()); empMapper.insert(emp); System.out.println(emp.getId()); } } application.properties\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/mybatis spring.datasource.username=root spring.datasource.password=20230205.ken #é…ç½®mybatisçš„æ—¥å¿—, æŒ‡å®šè¾“å‡ºåˆ°æ§åˆ¶å° mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl #å¼€å¯mybatisçš„é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„å¼€å…³ a_column ------\u0026gt; aCloumn mybatis.configuration.map-underscore-to-camel-case=true Emp.java\npackage com.showguan.pojo; import lombok.AllArgsConstructor; import lombok.Data; import lombok.NoArgsConstructor; import java.time.LocalDate; import java.time.LocalDateTime; @Data @NoArgsConstructor @AllArgsConstructor public class Emp { private Integer id; private String username; private String password; private String name; private Short gender; private String image; private Short job; private LocalDate entrydate; private Integer deptId; private LocalDateTime createTime; private LocalDateTime updateTime; } MybatisCrudApplication.java\npackage com.showguan.mybatiscrud; import org.mybatis.spring.annotation.MapperScan; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; @SpringBootApplication @MapperScan(\u0026#34;com.showguan.mapper\u0026#34;) // æ·»åŠ è¿™ä¸€è¡Œ public class MybatisCrudApplication { public static void main(String[] args) { SpringApplication.run(MybatisCrudApplication.class, args); } } EmpMapper.java(å®šä¹‰ä¸ºæ¥å£)\npackage com.showguan.mapper; import com.showguan.pojo.Emp; import org.apache.ibatis.annotations.*; @Mapper public interface EmpMapper { @Delete(\u0026#34;delete from emp where id = #{id}\u0026#34;) // public void delete(Integer id); public int delete(Integer id); // å®šä¹‰ä¸ºintè¿”å›å€¼, è·å–åˆ é™¤çš„ä¸ªæ•°ä¿¡æ¯ @Insert(\u0026#34;insert into emp(id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time)\\n\u0026#34; + \u0026#34; values (#{id}, #{username}, #{password}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime});\u0026#34;) public void insert(Emp emp); } æ³¨æ„äº‹é¡¹\nå¦‚æœmapperæ¥å£æ–¹æ³•å½¢å‚ä¸­åªæœ‰ä¸€ä¸ªæ™®é€šç±»å‹çš„å‚æ•°ï¼Œ #{ }é‡Œé¢çš„å±æ€§åå¯ä»¥éšä¾¿å†™ï¼Œ å¦‚ ï¼š #{id}, #{xxx} (æ¨èä¿æŒä¸€è‡´) é¢„ç¼–è¯‘SQL\nä¼˜åŠ¿ï¼š\næ€§èƒ½æ›´é«˜ æ›´å®‰å…¨ï¼ˆæ”¾ç½®SQLæ³¨å…¥ï¼‰ SQLæ³¨å…¥ SQLæ³¨å…¥æ˜¯é€šè¿‡æ“ä½œè¾“å…¥çš„æ•°æ®æ¥ä¿®æ”¹äº‹å…ˆå®šä¹‰å¥½çš„SQLè¯­å¥ï¼Œ ä»¥è¾¾åˆ°æ‰§è¡Œä»£ç å¯¹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»çš„æ–¹æ³•ã€‚ é¢è¯•é¢˜ : å‚æ•°å ä½ç¬¦ #{\u0026hellip;} æ‰§è¡ŒSQLæ—¶ï¼Œ ä¼šå°†#{\u0026hellip;}æ›¿æ¢ä¸º?, ç”Ÿæˆé¢„ç¼–è¯‘SQLï¼Œ ä¼šè‡ªåŠ¨è®¾ç½®å‚æ•°å€¼ ä½¿ç”¨æ—¶æœºï¼šå‚æ•°ä¼ é€’ï¼Œ éƒ½ä½¿ç”¨{\u0026hellip;} ${\u0026hellip;} æ‹¼æ¥SQLã€‚ç›´æ¥å°†å‚æ•°æ‹¼æ¥å†SQLè¯­å¥ä¸­ï¼Œå­˜åœ¨SQLæ³¨å…¥é—®é¢˜ ä½¿ç”¨æ—¶æœºï¼šå¦‚æœå¯¹è¡¨åï¼Œåˆ—è¡¨è¿›è¡ŒåŠ¨æ€è®¾ç½®æ—¶ä½¿ç”¨ æ•°æ®å°è£… èµ·åˆ«åï¼šåœ¨SQLè¯­å¥ä¸­ï¼Œå¯¹ä¸ä¸€æ ·çš„åˆ—åèµ·åˆ«åï¼Œåˆ«åå’Œå®ä½“ç±»å±æ€§åä¸€æ · @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id deptId, create_time createTime, update_time updateTime from emp where id = #{id}\u0026#34;) public Emp getById(Integer id); æ‰‹åŠ¨ç»“æœæ˜ å°„ï¼šé€šè¿‡ @Results åŠ @Result è¿›è¡Œæ‰‹åŠ¨ç»“æœæ˜ å°„ @Select(\u0026#34;select * from emp where id = #{id}\u0026#34;) @Results({ @Result(column = \u0026#34;dept_id\u0026#34;, property = \u0026#34;deptId\u0026#34;), @Result(column = \u0026#34;create_time\u0026#34;, property = \u0026#34;createTime\u0026#34;), @Result(column = \u0026#34;update_time\u0026#34;, property = \u0026#34;updateTime\u0026#34;) }) public Emp getById(Integer id); å¼€å¯é©¼å³°å‘½åï¼šå¦‚æœå­—æ®µåå’Œå±æ€§åç§°ç¬¦åˆé©¼å³°å‘½åè§„åˆ™ï¼Œ mybatisä¼šè‡ªåŠ¨é€šè¿‡é©¼å³°å‘½åè§„åˆ™æ˜ å°„\n#å¼€å¯mybatisçš„é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„å¼€å…³ a_column ------\u0026gt; aCloumn mybatis.configuration.map-underscore-to-camel-case=true mybatis æŸ¥è¯¢ @Select(\u0026#34;select * from emp where id = #{id}\u0026#34;) public Emp getById(Integer id); // @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id deptId, create_time createTime, update_time updateTime from emp where id = #{id}\u0026#34;) // public Emp getById(Integer id); // @Select(\u0026#34;select * from emp where id = #{id}\u0026#34;) // @Results({ // @Result(column = \u0026#34;dept_id\u0026#34;, property = \u0026#34;deptId\u0026#34;), // @Result(column = \u0026#34;create_time\u0026#34;, property = \u0026#34;createTime\u0026#34;), // @Result(column = \u0026#34;update_time\u0026#34;, property = \u0026#34;updateTime\u0026#34;) // }) // public Emp getById(Integer id); // ä½¿ç”¨${} // @Select(\u0026#34;select *\\n\u0026#34; + // \u0026#34;from emp\\n\u0026#34; + // \u0026#34;where name like \u0026#39;%${name}%\u0026#39;\\n\u0026#34; + // \u0026#34; and gender = #{gender}\\n\u0026#34; + // \u0026#34; and entrydate between #{begin}\\n\u0026#34; + // \u0026#34; and #{end}\\n\u0026#34; + // \u0026#34;order by update_time\u0026#34;) // public List\u0026lt;Emp\u0026gt; list(String name, Short gender, LocalDate begin, LocalDate end); //è§£å†³ä¸Šé¢çš„ #{}å‡ºç°åœ¨å¼•å·ä¹‹å†… @Select(\u0026#34;select *\\n\u0026#34; + \u0026#34;from emp\\n\u0026#34; + \u0026#34;where name like concat(\u0026#39;%\u0026#39;, #{name}, \u0026#39;%\u0026#39;)\\n\u0026#34; + \u0026#34; and gender = #{gender}\\n\u0026#34; + \u0026#34; and entrydate between #{begin}\\n\u0026#34; + \u0026#34; and #{end}\\n\u0026#34; + \u0026#34;order by update_time\u0026#34;) public List\u0026lt;Emp\u0026gt; list(String name, Short gender, LocalDate begin, LocalDate end); å‚æ•°åè¯´æ˜\nåœ¨SpringBootçš„ 1.x ç‰ˆæœ¬ä¸­å•ç‹¬ä½¿ç”¨mybatis XMLæ˜ å°„æ–‡ä»¶ è§„èŒƒ\nXMLæ˜ å°„æ–‡ä»¶çš„åç§°ä¸Mapperæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”å°†XMLæ–‡ä»¶å’ŒMapperæ¥å£æ”¾ç½®åœ¨ç›¸åŒåŒ…ä¸‹ï¼ˆåŒåŒ…åŒåï¼‰ XMLæ˜ å°„æ–‡ä»¶çš„ namespace å±æ€§ä¸ºMapperæ¥å£å…¨é™å®šåä¸€è‡´ XMLæ˜ å°„æ–‡ä»¶SQLè¯­å¥çš„idå’ŒMapperæ¥å£çš„æ–¹æ³•åä¸€è‡´ï¼Œå¹¶ä¿æŒè¿”å›ç±»å‹ä¸€è‡´ã€‚ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.showguan.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.showguan.pojo.Emp\u0026#34;\u0026gt; select * from emp where name like concat(\u0026#39;%\u0026#39;, \u0026#39;å¼ \u0026#39;, \u0026#39;%\u0026#39;) and gender = 1 and entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2030-01-01\u0026#39; order by update_time; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; MybatisåŠ¨æ€SQL æŸ¥è¯¢\u0026lt;if\u0026gt; \u0026lt;where\u0026gt;(å¯ä»¥åˆ é™¤å¤šä½™çš„andå’Œor)\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.showguan.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.showguan.pojo.Emp\u0026#34;\u0026gt; select * from emp \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name like concat(\u0026#39;%\u0026#39;, \u0026#39;å¼ \u0026#39;, \u0026#39;%\u0026#39;) \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; and gender = 1 \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;begin != null and end != null\u0026#34;\u0026gt; and entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2030-01-01\u0026#39; \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; order by update_time desc; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; æ›´æ–°\u0026lt;set\u0026gt;ï¼ˆå¯ä»¥åˆ é™¤å¤šä½™çš„,ï¼‰\n\u0026lt;update id=\u0026#34;update2\u0026#34;\u0026gt; update emp \u0026lt;set\u0026gt; \u0026lt;if test=\u0026#34;username != null\u0026#34;\u0026gt; username = #{username}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;password != null\u0026#34;\u0026gt; password = #{password}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name = #{name}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; gender = #{gender}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;image != null\u0026#34;\u0026gt; image = #{image}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;job != null\u0026#34;\u0026gt; job = #{job}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;deptId != null\u0026#34;\u0026gt; dept_id = #{deptId}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;createTime != null\u0026#34;\u0026gt; create_time = #{createTime}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;updateTime != null\u0026#34;\u0026gt; update_time = #{updateTime} \u0026lt;/if\u0026gt; \u0026lt;/set\u0026gt; where id = #{id}; \u0026lt;/update\u0026gt; \u0026lt;foreach\u0026gt;\n\u0026lt;delete id=\u0026#34;deleteByIds\u0026#34;\u0026gt; delete from emp where id in \u0026lt;foreach collection=\u0026#34;ids\u0026#34; item=\u0026#34;id\u0026#34; separator=\u0026#34;,\u0026#34; open=\u0026#34;(\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt;; \u0026lt;/delete\u0026gt; å¼€å‘è§„èŒƒ-Restful\nREST(REPresentational State Transfer), è¡¨è¿°æ€§çŠ¶æ€è½¬æ¢ï¼Œ å®ƒæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ æ³¨æ„äº‹é¡¹ï¼š\nRESTæ˜¯é£æ ¼ï¼Œ æ˜¯çº¦å®šæ–¹å¼ï¼Œçº¦å®šä¸æ˜¯è§„å®šï¼Œå¯ä»¥æ‰“ç ´ æè¿°æ¨¡å—çš„åŠŸèƒ½é€šå¸¸ä½¿ç”¨å¤æ•°ï¼Œ ä¹Ÿå°±æ˜¯åŠ sçš„æ ¼å¼æ¥æè¿°ï¼Œè¡¨ç¤ºæ­¤ç±»èµ„æºï¼Œè€Œéå•ä¸ªèµ„æºã€‚å¦‚ï¼šusers, emps, books, æ¥å£å¼€å‘æµç¨‹ æ˜ç¡®éœ€æ±‚ æ¥å£æ–‡æ¡£ æ€è·¯åˆ†æ æ¥å£å¼€å‘\næ¥å£æµ‹è¯• postmanæµ‹è¯• å‰åç«¯è”è°ƒ\næ—¥å¿—å°æŠ€å·§ ä½¿ç”¨logbackè®°å½•æ—¥å¿—\n@Slf4j // æ¥å£ @RestController æŸ¥è¯¢éƒ¨é—¨ /** * æŸ¥è¯¢éƒ¨åˆ†æ•°æ® * @return */ // @RequestMapping(value = \u0026#34;/depts\u0026#34;, method = RequestMethod.GET) @GetMapping(\u0026#34;/depts\u0026#34;) public Result list(){ log.info(\u0026#34;æŸ¥è¯¢å…¨éƒ¨\u0026#34;); List\u0026lt;Dept\u0026gt; deptList = deptService.list(); return Result.success(deptList); } åˆ é™¤éƒ¨é—¨ /** * åˆ é™¤éƒ¨é—¨æ•°æ® */ @DeleteMapping(\u0026#34;/depts/{id}\u0026#34;) public Result delete(@PathVariable Integer id){ log.info(\u0026#34;æ ¹æ®idåˆ é™¤éƒ¨åˆ†ï¼š{}\u0026#34;, id); deptService.delete(id); return Result.success(); } å‘˜å·¥æŸ¥è¯¢ æ˜“é”™ç‚¹ï¼š\nä¸€å®šè¦åŠ @AutoWired\nPostManè¯·æ±‚ï¼Œä»ç¬¬ä¸€é¡µå¼€å§‹ï¼Œå¦‚æœæ˜¯ç¬¬0åˆ™è¿”å›çš„æ˜¯æŸ¥è¯¢çš„æ•°é‡\n@Autowired private EmpMapper empMapper; // @Override // public PageBean page(Integer page, Integer pageSize) { // Long count = empMapper.count(); // // Integer start = (page - 1) * pageSize; // List\u0026lt;Emp\u0026gt; empList = empMapper.page(start, pageSize); // PageBean pageBean = new PageBean(count, empList); // return pageBean; // } @Override public PageBean page(Integer page, Integer pageSize,String name, Short gender,LocalDate begin,LocalDate end) { //1. è®¾ç½®åˆ†é¡µå‚æ•° PageHelper.startPage(page,pageSize); //2. æ‰§è¡ŒæŸ¥è¯¢ List\u0026lt;Emp\u0026gt; empList = empMapper.list(name, gender, begin, end); Page\u0026lt;Emp\u0026gt; p = (Page\u0026lt;Emp\u0026gt;) empList; //3. å°è£…PageBeanå¯¹è±¡ PageBean pageBean = new PageBean(p.getTotal(), p.getResult()); return pageBean; } @Override public void delete(List\u0026lt;Integer\u0026gt; ids) { empMapper.delete(ids); } @Override public void save(Emp emp) { emp.setCreateTime(LocalDateTime.now()); emp.setUpdateTime(LocalDateTime.now()); empMapper.insert(emp); } /** * æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ * @param id * @return */ @Override public Emp getById(Integer id) { Emp emp = empMapper.getById(id); return emp; } @Override public void modify(Emp emp) { emp.setUpdateTime(LocalDateTime.now()); empMapper.modify(emp); } PageHelper åˆ†é¡µæŸ¥è¯¢æ—¶ä½¿ç”¨PageHelper\n\u0026lt;!-- PageHelperä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.pagehelper\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;pagehelper-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.4.7\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; æ–‡ä»¶ä¸Šä¼  å‰ç«¯ï¼š\nå¿…é¡»è¦ä¸€ä¸ªè¡¨å•é¡¹type=\u0026quot;file\u0026quot; å¿…é¡»æ˜¯POSTè¯·æ±‚ method=\u0026quot;post\u0026quot; ç¼–ç æ ¼å¼enctype=\u0026quot;multipart/form-data\u0026quot; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ä¸Šä¼ æ–‡ä»¶\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;/upload\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; å§“å: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¹´é¾„: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;age\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¤´åƒ: \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;image\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; é˜¿é‡Œäº‘OSS é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSSï¼ˆObject Storage Serviceï¼‰\nåœ¨utilsæ–‡ä»¶å¤¹å†…ç¼–å†™ AliOSSUtils\npackage com.showguan.utils; import com.aliyun.oss.OSS; import com.aliyun.oss.OSSClientBuilder; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import org.springframework.web.multipart.MultipartFile; import java.io.*; import java.util.UUID; /** * é˜¿é‡Œäº‘ OSS å·¥å…·ç±» */ @Component public class AliOSSUtils { @Value(\u0026#34;${aiyun.oss.endpoint}\u0026#34;) private String endpoint; @Value(\u0026#34;${aiyun.oss.accessKeyId}\u0026#34;) private String accessKeyId ; @Value(\u0026#34;${aiyun.oss.accessKeySecret}\u0026#34;) private String accessKeySecret; @Value(\u0026#34;${aiyun.oss.bucketName}\u0026#34;) private String bucketName; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ public String upload(MultipartFile file) throws IOException { // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ InputStream inputStream = file.getInputStream(); // é¿å…æ–‡ä»¶è¦†ç›– String originalFilename = file.getOriginalFilename(); String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;)); //ä¸Šä¼ æ–‡ä»¶åˆ° OSS OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret); ossClient.putObject(bucketName, fileName, inputStream); //æ–‡ä»¶è®¿é—®è·¯å¾„ String url = endpoint.split(\u0026#34;//\u0026#34;)[0] + \u0026#34;//\u0026#34; + bucketName + \u0026#34;.\u0026#34; + endpoint.split(\u0026#34;//\u0026#34;)[1] + \u0026#34;/\u0026#34; + fileName; // å…³é—­ossClient ossClient.shutdown(); return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å› } } é…ç½®æ–‡ä»¶å‡é…ç½®åˆ°propertiesæ–‡ä»¶ä¸­ï¼Œ è€Œåœ¨AliOSSUtilsä¸­ç”¨@Valueæ³¨å…¥\né…ç½®æ–‡ä»¶ SpringBootæä¾›äº†å¤šç§å±æ€§é…ç½®æ–¹å¼\napplication.properties\nserver.port=8080 server.address=127.0.0.1 yml/yaml ç®€æ´ï¼Œæ•°æ®ä¸ºä¸­å¿ƒ\nserver: port: 8080 address: 127.0.0.1 åŸºæœ¬è¯­æ³•\nå¤§å°å†™æ•æ„Ÿ æ•°å€¼å‰å¿…é¡»æœ‰ç©ºæ ¼ï¼Œä½œä¸ºåˆ†éš”ç¬¦ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œç¼©è¿›æ—¶ï¼Œä¸å…è®¸ä½¿ç”¨tabé”®ï¼Œåªèƒ½ç”¨ç©ºæ ¼ï¼ˆideaä¼šè‡ªåŠ¨å°†Tabè½¬æ¢ä¸ºç©ºæ ¼ï¼‰ ç©ºæ ¼çš„æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯ # è¡¨ç¤ºæ³¨é‡Šï¼Œ ä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°ç»“å°¾ï¼Œéƒ½ä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ã€‚ @ConfigurationProperties åœ¨utilsä¸­æ–°å»ºæ–‡ä»¶AliOSSUtilsProperties.javaï¼Œ ç¼–å†™ä¸‹é¢çš„ç¨‹åº\n@Data @Component @ConfigurationProperties(prefix = \u0026#34;aliyun.oss\u0026#34;) public class AliOSSUtilsProperties { private String endpoint; private String accessKeyId; private String accessKeySecret; private String bucketName; } åœ¨AliOssutils.javaä¸­åªéœ€è¦ç¼–å†™ä¸‹é¢çš„ç¨‹åºå³å¯\n@Autowired private AliOSSUtilsProperties aliOSSUtilsProperties; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ String endpoint = aliOSSUtilsProperties.getEndpoint(); String accessKeyId = aliOSSUtilsProperties.getAccessKeyId(); String accessKeySecret = aliOSSUtilsProperties.getAccessKeySecret(); String bucketName = aliOSSUtilsProperties.getBucketName(); å’Œ@Valueå¯¹æ¯”\nç›¸åŒç‚¹ éƒ½æ˜¯ç”¨æ¥æ³¨å…¥å¤–éƒ¨é…ç½®çš„å±æ€§çš„ ä¸åŒç‚¹ @Valueæ³¨è§£åªèƒ½ä¸€ä¸ªä¸€ä¸ªçš„è¿›è¡Œå¤–éƒ¨å±æ€§çš„æ³¨å…¥ã€‚ @ConfigurationPropertieså¯ä»¥æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®æ³¨å…¥åˆ°beanå¯¹è±¡çš„å±æ€§ä¸­ã€‚ ç»Ÿä¸€æ‹¦æˆª ä¼šè¯æŠ€æœ¯ ä¼šè¯ï¼šç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®webæœåŠ¡å™¨çš„èµ„æºï¼Œä¼šè¯å»ºç«‹ï¼ŒçŸ¥é“æœ‰ä¸€æ–¹æ–­å¼€è¿æ¥ï¼Œä¼šè¯ç»“æŸï¼Œåœ¨ä¸€æ¬¡ä¼šè¯ä¸­å¯ä»¥åŒ…å«å¤šæ¬¡è¯·æ±‚å’Œå“åº”\nä¼šè¯è·Ÿè¸ªï¼šä¸€ç§ç»´æŠ¤æµè§ˆå™¨çŠ¶æ€çš„æ–¹æ³•ï¼ŒæœåŠ¡å™¨éœ€è¦è¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨ï¼Œä»¥ä¾¿åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®\nä¼šè¯è·Ÿè¸ªæŠ€æœ¯æ–¹æ¡ˆï¼š\nå®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼šCookie æœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼šSession ä»¤ç‰ŒæŠ€æœ¯ Cookie ä¼˜ç‚¹ï¼š\nHTTPåè®®ä¸­æ”¯æŒçš„æŠ€æœ¯ ç¼ºç‚¹ï¼š\nç§»åŠ¨ç«¯APPæ— æ³•ä½¿ç”¨Cookie ä¸å®‰å…¨ï¼Œ ç”¨æˆ·å¯ä»¥è‡ªå·±ç¦ç”¨Cookie Cookieä¸èƒ½è·¨åŸŸ è·¨åŸŸåŒºåˆ†ä¸‰ä¸ªç»´åº¦ï¼šåè®®ï¼ŒIP/åŸŸåï¼Œç«¯å£ @GetMapping(\u0026#34;/cookie1\u0026#34;) public Result cookie1(HttpServletResponse response){ response.addCookie(new Cookie(\u0026#34;login_username\u0026#34;, \u0026#34;Kennem\u0026#34;)); return Result.success(); } @GetMapping(\u0026#34;/cookie2\u0026#34;) public Result cookie2(HttpServletRequest request){ Cookie[] cookies = request.getCookies(); for(Cookie cookie : cookies){ if(cookie.getName().equals(\u0026#34;login_username\u0026#34;)){ System.out.println(\u0026#34;login_username: \u0026#34; + cookie.getValue()); } } return Result.success(); } Session ä¼˜ç‚¹ï¼š\nå­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå®‰å…¨ æœåŠ¡å™¨é›†ç¾¤ç¯å¢ƒä¸‹æ— æ³•ç›´æ¥ä½¿ç”¨Session Cookieçš„ç¼ºç‚¹ @GetMapping(\u0026#34;/session1\u0026#34;) public Result session1(HttpSession httpSession){ log.info(\u0026#34;HttpSession-s1 {}\u0026#34;, httpSession.hashCode()); httpSession.setAttribute(\u0026#34;loginUser\u0026#34;, \u0026#34;Kennem\u0026#34;); return Result.success(); } @GetMapping(\u0026#34;/session2\u0026#34;) public Result session2(HttpServletRequest request){ HttpSession session = request.getSession(); log.info(\u0026#34;HttpSession-s2 {}\u0026#34;, session.hashCode()); Object loginUser = session.getAttribute(\u0026#34;loginUser\u0026#34;); log.info(\u0026#34;loginUser {}\u0026#34;, loginUser); return Result.success(loginUser); } ä»¤ç‰ŒæŠ€æœ¯ ä¼˜ç‚¹ï¼š\næ”¯æŒPCç«¯ï¼Œç§»åŠ¨ç«¯ è§£å†³é›†ç¾¤ç¯å¢ƒä¸‹çš„è®¤è¯é—®é¢˜ å‡è½»æœåŠ¡ç«¯å­˜å‚¨å‹åŠ› ç¼ºç‚¹ï¼š\néœ€è¦è‡ªå·±å®ç° JWT JSON Web Token å®šä¹‰äº†ä¸€ç§ç®€æ´çš„ï¼Œè‡ªåŒ…å«çš„æ ¼å¼ï¼Œç”¨äºåœ¨é€šä¿¡åŒæ–¹ä»¥jsonæ•°æ®æ ¼å¼å®‰å…¨çš„ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œè¿™äº›ä¿¡æ¯æ—¶å¯é çš„ã€‚ ç»„æˆï¼š ç¬¬ä¸€éƒ¨åˆ†ï¼šHeaderï¼ˆå¤´ï¼‰ï¼Œè®°å½•ä»¤ç‰Œç±»å‹ï¼Œç­¾åç®—æ³•ç­‰ã€‚ä¾‹å¦‚ï¼š{\u0026ldquo;alg\u0026rdquo;:\u0026ldquo;HS256\u0026rdquo;, \u0026ldquo;\u0026rdquo;} ç¬¬äºŒéƒ¨åˆ†ï¼šPayloadï¼ˆæœ‰æ•ˆè½½è·ï¼‰ï¼Œæºå¸¦ä¸€äº›è‡ªå®šä¹‰ä¿¡æ¯ï¼Œé»˜è®¤ä¿¡æ¯ç­‰ã€‚ä¾‹å¦‚ï¼š{â€˜\u0026ldquo;id\u0026rdquo;:\u0026ldquo;1\u0026rdquo;, \u0026ldquo;username\u0026rdquo;:\u0026ldquo;Tom\u0026rdquo;} ç¬¬ä¸‰éƒ¨åˆ†ï¼šSignatureï¼ˆç­¾åï¼‰ï¼Œæ”¾ç½®Tokenè¢«ç¯¡æ”¹ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚å°†headerï¼Œpayload, å¹¶åŠ å…¥æŒ‡å®šå¯†é’¥ï¼ŒåŒè¿‡æŒ‡å®šç­¾åç®—æ³•è€Œæ¥ã€‚ Base64ï¼šæ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦ï¼ˆA-Z, a-z, 0-9, + /)æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„ç¼–ç æ–¹å¼\nåœºæ™¯ï¼šç™»å½•è®¤è¯ ç™»å½•æˆåŠŸåï¼Œç”Ÿæˆä»¤ç‰Œ åç»­çš„æ¯ä¸ªè¯·æ±‚ï¼Œéƒ½è¦æºå¸¦JWTä»¤ç‰Œï¼Œç³»ç»Ÿåœ¨æ¯æ¬¡è¯·æ±‚å¤„ç†ä¹‹å‰ï¼Œå…ˆæ ¡éªŒçµæ‘†ï¼Œé€šè¿‡åï¼Œå†å¤„ç†ã€‚ @Test public void testGenJwt(){ Map\u0026lt;String, Object\u0026gt; claims = new HashMap\u0026lt;\u0026gt;(); claims.put(\u0026#34;id\u0026#34;, 1); claims.put(\u0026#34;name\u0026#34;, 2); claims.put(\u0026#34;company\u0026#34;, \u0026#34;xiaomi\u0026#34;); String jwt = Jwts.builder() .signWith(SignatureAlgorithm.HS256, \u0026#34;Kennem\u0026#34;) .setClaims(claims) .setExpiration(new Date(System.currentTimeMillis())) // è®¾ç½®æœ‰æ•ˆæœŸä¸ºä¸€ä¸ªå°æ—¶ .compact(); System.out.println(jwt); } @Test public void parseJwt(){ Claims claims = Jwts.parser() .setSigningKey(\u0026#34;Kennem\u0026#34;) .parseClaimsJws(\u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoyLCJjb21wYW55IjoieGlhb21pIiwiaWQiOjEsImV4cCI6MTcxODAwMzMwM30.raK4huIfzd9RY0T3U2a9DGsxHFYLRGYbzTrbqXJabaA\u0026#34;) .getBody(); System.out.println(claims); } æ³¨æ„äº‹é¡¹ï¼š\nJWTæ ¡éªŒæ—¶ä½¿ç”¨çš„ç­¾åå¯†é’¥ï¼Œå¿…é¡»å’Œç”ŸæˆJWTä»¤ç‰Œæ—¶ä½¿ç”¨çš„å¯†é’¥æ—¶é…å¥—çš„ã€‚ å¦‚æœJWTä»¤ç‰Œè§£ææ ¡éªŒæ—¶æŠ¥é”™ï¼Œåˆ™è¯´æ˜JWTä»¤ç‰Œè¢«ç¯¡æ”¹æˆ–å¤±æ•ˆäº†ï¼Œä»¤ç‰Œéæ³•ã€‚ è¿‡æ»¤å™¨Filter Filterè¿‡æ»¤å™¨ï¼Œæ—¶Java webä¸‰å¤§ç»„ä»¶ï¼ˆServlet, Filter, Listenerï¼‰ä¹‹ä¸€ è¿‡æ»¤å™¨å¯ä»¥æŠŠå¯¹èµ„æºçš„è¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ è¿‡æ»¤å™¨ä¸€èˆ¬å®Œæˆä¸€äº›é€šç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šç™»å½•æ ¡éªŒã€ç»Ÿä¸€ç¼–ç å¤„ç†ï¼Œæ•æ„Ÿå­—ç¬¦å¤„ç†ç­‰ã€‚ //@WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) //@WebFilter(urlPatterns = \u0026#34;/login\u0026#34;) @WebFilter(urlPatterns = \u0026#34;/depts/*\u0026#34;) public class DemoFilter implements Filter { @Override public void init(FilterConfig filterConfig) throws ServletException { System.out.println(\u0026#34;Init!\u0026#34;); } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException { System.out.println(\u0026#34;Do Fileter!\u0026#34;); chain.doFilter(servletRequest, servletResponse); } @Override public void destroy() { System.out.println(\u0026#34;Destroy!\u0026#34;); } } æ‰§è¡Œæµç¨‹ï¼š\nè¯·æ±‚ -\u0026gt; æ”¾è¡Œå‰é€»è¾‘ -\u0026gt;æ”¾è¡Œ -\u0026gt;èµ„æº -\u0026gt;æ”¾è¡Œåé€»è¾‘ è¿‡æ»¤å™¨é“¾ ä¸€ä¸ªWebåº”ç”¨ä¸­ï¼Œå¯ä»¥é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ï¼Œè¿™å¤šä¸ªè¿‡æ»¤å™¨å½¢æˆä¸€ä¸ªè¿‡æ»¤å™¨é“¾\né¡ºåºï¼šæ³¨è§£é…ç½®çš„Filterï¼Œä¼˜å…ˆçº§æ—¶æŒ‰ç…§è¿‡æ»¤å™¨ç±»åï¼ˆå­—ç¬¦ä¸²ï¼‰çš„è‡ªç„¶æ’åº(å­—å…¸åº)\nç™»å½•æ ¡éªŒ @Slf4j @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class LoginCheckFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { HttpServletRequest req = (HttpServletRequest) servletRequest; HttpServletResponse resp = (HttpServletResponse) servletResponse; String url = req.getRequestURI().toString(); log.info(\u0026#34;è¯·æ±‚çš„url {}\u0026#34;, url); if(url.contains(\u0026#34;login\u0026#34;)){ log.info(\u0026#34;ç™»å½•æ“ä½œï¼Œ æ”¾è¡Œ...\u0026#34;); filterChain.doFilter(servletRequest, servletResponse); return; } String jwt = req.getHeader(\u0026#34;token\u0026#34;); if(!StringUtils.hasLength(jwt)){ log.info(\u0026#34;è¯·æ±‚å¤´tokenä¸ºç©ºï¼Œ è¿”å›æœªç™»å½•çš„ä¿¡æ¯\u0026#34;); Result error = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); String notLogin = JSONObject.toJSONString(error); resp.getWriter().write(notLogin); return ; } try{ JwtUtils.parseJWT(jwt); }catch (Exception e){ e.printStackTrace(); log.info(\u0026#34;è§£æä»¤ç‰Œå¤±è´¥ï¼Œè¿”å›æœªç™»å½•é”™è¯¯ä¿¡æ¯\u0026#34;); Result error = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); // å‰ç«¯æ”¶åˆ°NOT_LOGIN ä¼šè¿”å›åˆ°ç™»å½•ç•Œé¢ String notLogin = JSONObject.toJSONString(error); resp.getWriter().write(notLogin); return ; } log.info(\u0026#34;æˆåŠŸç™»å½•\u0026#34;); filterChain.doFilter(servletRequest, servletResponse); } } æ‹¦æˆªå™¨ Interceptor Spring æä¾›çš„ï¼Œ åªèƒ½æ‹¦æˆªSpringç¯å¢ƒä¸­çš„èµ„æº\nç”¨æ¥åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œ\næ‹¦æˆªè¯·æ±‚ï¼Œå†æŒ‡å®šçš„æ–¹æ³•è°ƒç”¨å‰åï¼Œæ ¹æ®ä¸šåŠ¡éœ€è¦æ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç  /* è¡¨ç¤ºä¸€çº§è·¯å¾„\n/** è¡¨ç¤ºä»»æ„çº§åˆ«çš„è·¯å¾„\né…ç½®éœ€è¦æ‹¦æˆªçš„è·¯å¾„å’Œä¸éœ€è¦æ‹¦æˆªçš„è·¯å¾„\n@Override public void addInterceptors(InterceptorRegistry registry) { registry.addInterceptor(loginCheckinterceptor).addPathPatterns(\u0026#34;/**\u0026#34;).excludePathPatterns(\u0026#34;/login\u0026#34;); } Filter å’Œ Interceptor\næ¥å£è§„èŒƒä¸åŒï¼šè¿‡æ»¤å™¨éœ€è¦å®ç°Filteræ¥å£ï¼Œè€Œæ‹¦æˆªå™¨éœ€è¦å®ç°HandlerInterceptoræ¥å£ æ‹¦æˆªèŒƒå›´ä¸åŒï¼šè¿‡æ»¤å™¨Filterä¼šæ‹¦æˆªæ‰€æœ‰çš„èµ„æºï¼Œè€ŒInterceptoråªä¼šæ‹¦æˆªSpringç¯å¢ƒä¸­çš„èµ„æºã€‚ @Override // ç›®æ ‡èµ„æºæ–¹æ³•è¿è¡Œå‰è¿è¡Œï¼Œ true:æ”¾è¡Œ false:ä¸æ”¾è¡Œ public boolean preHandle(HttpServletRequest req, HttpServletResponse resp, Object handler) throws Exception { String url = req.getRequestURI().toString(); log.info(\u0026#34;è¯·æ±‚çš„url {}\u0026#34;, url); if(url.contains(\u0026#34;login\u0026#34;)){ log.info(\u0026#34;ç™»å½•æ“ä½œï¼Œ æ”¾è¡Œ...\u0026#34;); return true; } String jwt = req.getHeader(\u0026#34;token\u0026#34;); if(!StringUtils.hasLength(jwt)){ log.info(\u0026#34;è¯·æ±‚å¤´tokenä¸ºç©ºï¼Œ è¿”å›æœªç™»å½•çš„ä¿¡æ¯\u0026#34;); Result error = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); String notLogin = JSONObject.toJSONString(error); resp.getWriter().write(notLogin); return false; } try{ JwtUtils.parseJWT(jwt); }catch (Exception e){ e.printStackTrace(); log.info(\u0026#34;è§£æä»¤ç‰Œå¤±è´¥ï¼Œè¿”å›æœªç™»å½•é”™è¯¯ä¿¡æ¯\u0026#34;); Result error = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); // å‰ç«¯æ”¶åˆ°NOT_LOGIN ä¼šè¿”å›åˆ°ç™»å½•ç•Œé¢ String notLogin = JSONObject.toJSONString(error); resp.getWriter().write(notLogin); return false; } log.info(\u0026#34;æˆåŠŸç™»å½•\u0026#34;); return true; } @Override // ç›®æ ‡èµ„æºæ–¹æ³•è¿è¡Œåè¿è¡Œ public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;postHandle ...\u0026#34;); } @Override // è§†å›¾æ¸²æŸ“å®Œæ¯•åè¿è¡Œï¼Œæœ€åè¿è¡Œ public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;afterCompletion ...\u0026#34;); } å¼‚å¸¸å¤„ç† å…¨å±€å¼‚å¸¸å¤„ç†å™¨\nexception/GlobalExceptionHandler\n/** * å…¨å±€å¼‚å¸¸å¤„ç†å™¨ */ @RestControllerAdvice public class GlobalExceptionHandler{ @ExceptionHandler(Exception.class) public Result ex(Exception ex){ ex.printStackTrace(); return Result.error(\u0026#34;æ“ä½œé”™è¯¯ï¼å¯èƒ½çš„åŸå› ï¼šåç§°é‡å¤\u0026#34;); } } ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%915/","summary":"Java Webå¼€å‘(5) MyBatis MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œç”¨äºç®€åŒ–JDBCçš„å¼€å‘ã€‚ ä½¿ç”¨MybatisæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ•°æ® åˆ›å»ºSpringBoot","title":"Java Webå¼€å‘(5)"},{"content":"åŒå‘¨èµ›131(240525) AKçš„ç¬¬äºŒåœºğŸ˜ï¼Œ ç¬¬å››é¢˜æ˜¯ç”¨C++ æ‰¾ç½‘ä¸Šæ¨¡æ¿ï¼Œå¥—ç”¨æŸ¥æ‰¾æœ€é•¿çš„è¿0ä¸²è¿‡çš„ï¼Œ æœ€åä¸¤åˆ†é’Ÿæ‰è¿‡ï¼Œå¾ˆæƒŠé™©ã€‚èµ›åå‘ç°åšæ³•å¹¶ä¸ä¼˜ç§€ï¼Œä½†æ˜¯ä¸éœ€è¦å¹³è¡¡æ ‘ã€‚\n3161. ç‰©å—æ”¾ç½®æŸ¥è¯¢ é¢˜ç›®å¤§æ„ï¼š\næœ‰ä¸€æ¡æ— é™é•¿çš„æ•°è½´ï¼ŒåŸç‚¹åœ¨ 0 å¤„ï¼Œæ²¿ç€ x è½´æ­£æ–¹å‘æ— é™å»¶ä¼¸ã€‚ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„ queries åŒ…å«ä¸¤ç§æ“ä½œï¼š\næ“ä½œç±»å‹ 1ï¼šåœ¨è·ç¦»åŸç‚¹ x å¤„å»ºä¸€ä¸ªéšœç¢ç‰©ã€‚ æ“ä½œç±»å‹ 2ï¼šåˆ¤æ–­åœ¨æ•°è½´èŒƒå›´ [0, x] å†…æ˜¯å¦å¯ä»¥æ”¾ç½®ä¸€ä¸ªé•¿åº¦ä¸º sz çš„ç‰©å—ï¼Œè¯¥ç‰©å—éœ€è¦å®Œå…¨æ”¾ç½®åœ¨èŒƒå›´ [0, x] å†…ã€‚å¦‚æœç‰©å—ä¸ä»»ä½•éšœç¢ç‰©æœ‰é‡åˆï¼Œåˆ™è¯¥ç‰©å—ä¸èƒ½è¢«æ”¾ç½®ï¼Œä½†ç‰©å—å¯ä»¥ä¸éšœç¢ç‰©åˆšå¥½æ¥è§¦ã€‚ å¯¹äºæ“ä½œç±»å‹ 2 çš„æŸ¥è¯¢ï¼Œè‹¥å¯ä»¥æ”¾ç½®ç‰©å—ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚\nå®ç°æ€è·¯ï¼š\nçº¿æ®µæ ‘çš„æ„å»ºå’Œç»´æŠ¤ï¼š\nä½¿ç”¨ä¸€ä¸ªæ•°ç»„ tr æ¥è¡¨ç¤ºçº¿æ®µæ ‘ï¼Œåˆå§‹åŒ–ä¸ºå…¨é›¶ã€‚æ•°ç»„çš„é•¿åº¦å¯ä»¥é€šè¿‡æŸ¥è¯¢ä¸­çš„æœ€å¤§èŒƒå›´ç¡®å®šï¼Œå³ m = max(q[1] for q in queries)ã€‚ å®šä¹‰ pushup å‡½æ•°ç”¨äºæ›´æ–°çº¿æ®µæ ‘ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ¯å½“ä¿®æ”¹çº¿æ®µæ ‘ä¸­æŸä¸ªèŠ‚ç‚¹çš„å€¼æ—¶è°ƒç”¨ã€‚ å®šä¹‰ modify å‡½æ•°ç”¨äºä¿®æ”¹çº¿æ®µæ ‘ä¸­çš„å€¼ï¼Œå°†æŸä¸ªä½ç½®çš„å€¼æ›´æ–°ä¸ºæ–°å€¼ï¼Œå¹¶æ ¹æ®éœ€è¦é€’å½’æ›´æ–°çˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚ å®šä¹‰ query å‡½æ•°ç”¨äºæŸ¥è¯¢çº¿æ®µæ ‘ä¸­æŸä¸ªåŒºé—´å†…çš„æœ€å¤§å€¼ã€‚ Sorted List çš„ç»´æŠ¤ï¼š\nä½¿ç”¨ SortedList ç»“æ„æ¥ç»´æŠ¤éšœç¢ç‰©çš„ä½ç½®ä¿¡æ¯ï¼ŒSortedSet æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆæ•°æ®ç»“æ„ã€‚ åœ¨æ“ä½œç±»å‹ 1 ä¸­ï¼Œå³æ·»åŠ éšœç¢ç‰©æ—¶ï¼Œä½¿ç”¨ bisect_left æ‰¾åˆ°åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œå¹¶åœ¨ç›¸åº”çš„ä½ç½®æ’å…¥æ–°çš„éšœç¢ç‰©ä½ç½®ï¼Œå¹¶æ›´æ–°çº¿æ®µæ ‘çš„ä¿¡æ¯ã€‚ æŸ¥è¯¢æ“ä½œç±»å‹ 2ï¼š\nå¯¹äºæ¯ä¸€ä¸ªæ“ä½œç±»å‹ 2 çš„æŸ¥è¯¢ï¼Œå…ˆæ‰¾åˆ°è¯¥ä½ç½®ä¹‹å‰æœ€è¿‘çš„éšœç¢ç‰©çš„ä½ç½® preï¼Œç„¶åé€šè¿‡çº¿æ®µæ ‘æŸ¥è¯¢è¯¥åŒºé—´å†…çš„æœ€å¤§å€¼ã€‚ å¦‚æœè¯¥å€¼å¤§äºç­‰äºæ‰€éœ€æ”¾ç½®ç‰©å—çš„å¤§å°ï¼Œåˆ™è¯´æ˜å¯ä»¥æ”¾ç½®ç‰©å—ï¼Œå¦åˆ™ä¸è¡Œã€‚ from sortedcontainers import SortedList class Solution: def getResults(self, queries: List[List[int]]) -\u0026gt; List[bool]: m = max(q[1] for q in queries) tr = [0]*(1\u0026lt;\u0026lt;m.bit_length() + 1) def pushup(u): tr[u] = max(tr[u\u0026lt;\u0026lt;1], tr[u\u0026lt;\u0026lt;1|1]) def modify(u, l, r, x, val): if l==r: tr[u] = val else: mid = l+r\u0026gt;\u0026gt;1 if x\u0026lt;=mid: modify(u\u0026lt;\u0026lt;1, l, mid, x, val) else: modify(u\u0026lt;\u0026lt;1|1, mid+1, r, x, val) pushup(u) def query(u, l, r, ql, qr): if ql\u0026lt;=l and r\u0026lt;=qr: return tr[u] mid = l+r\u0026gt;\u0026gt;1 res = 0 if ql\u0026lt;=mid: res = query(u\u0026lt;\u0026lt;1, l, mid, ql, qr) if qr\u0026gt;mid: res = max(res, query(u\u0026lt;\u0026lt;1|1, mid+1, r, ql, qr)) return res sl = SortedList([0, m]) res = [] for q in queries: x = q[1] i = sl.bisect_left(x) pre = sl[i-1] if q[0]==1: nxt = sl[i] sl.add(x) modify(1, 0, m, x, x-pre) modify(1, 0, m, nxt, nxt-x) else: sz = q[2] ans = max(x-pre, query(1, 0, m, 0, pre)) res.append(ans \u0026gt;= sz) return res æ¯”èµ›æ—¶çš„åšæ³•ï¼Œæœ¬æ¥æ˜¯C++ï¼Œè½¬æˆäº†python\nclass Node: def __init__(self): self.l = 0 self.r = 0 self.d = 0 self.ld = 0 self.rd = 0 self.low = -1 class Solution: def getResults(self, queries): def build(u, l, r): tr[u].l = l tr[u].r = r tr[u].d = r - l + 1 tr[u].ld = r - l + 1 tr[u].rd = r - l + 1 tr[u].low = -1 if l != r: mid = (l + r) \u0026gt;\u0026gt; 1 build(u \u0026lt;\u0026lt; 1, l, mid) build(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r) def pushup(u): tr[u].ld = tr[u \u0026lt;\u0026lt; 1].ld if tr[u \u0026lt;\u0026lt; 1].ld == tr[u \u0026lt;\u0026lt; 1].r - tr[u \u0026lt;\u0026lt; 1].l + 1: tr[u].ld += tr[u \u0026lt;\u0026lt; 1 | 1].ld tr[u].rd = tr[u \u0026lt;\u0026lt; 1 | 1].rd if tr[u \u0026lt;\u0026lt; 1 | 1].rd == tr[u \u0026lt;\u0026lt; 1 | 1].r - tr[u \u0026lt;\u0026lt; 1 | 1].l + 1: tr[u].rd += tr[u \u0026lt;\u0026lt; 1].rd tr[u].d = max(max(tr[u \u0026lt;\u0026lt; 1].d, tr[u \u0026lt;\u0026lt; 1 | 1].d), tr[u \u0026lt;\u0026lt; 1].rd + tr[u \u0026lt;\u0026lt; 1 | 1].ld) def pushdown(u): if tr[u].low == -1: return tr[u \u0026lt;\u0026lt; 1].low = tr[u \u0026lt;\u0026lt; 1 | 1].low = tr[u].low if tr[u].low: tr[u \u0026lt;\u0026lt; 1].d = tr[u \u0026lt;\u0026lt; 1].ld = tr[u \u0026lt;\u0026lt; 1].rd = 0 tr[u \u0026lt;\u0026lt; 1 | 1].d = tr[u \u0026lt;\u0026lt; 1 | 1].ld = tr[u \u0026lt;\u0026lt; 1 | 1].rd = 0 else: tr[u \u0026lt;\u0026lt; 1].d = tr[u \u0026lt;\u0026lt; 1].ld = tr[u \u0026lt;\u0026lt; 1].rd = tr[u \u0026lt;\u0026lt; 1].r - tr[u \u0026lt;\u0026lt; 1].l + 1 tr[u \u0026lt;\u0026lt; 1 | 1].d = tr[u \u0026lt;\u0026lt; 1 | 1].ld = tr[u \u0026lt;\u0026lt; 1 | 1].rd = tr[u \u0026lt;\u0026lt; 1 | 1].r - tr[u \u0026lt;\u0026lt; 1 | 1].l + 1 tr[u].low = -1 def query(u, ql, qr): if tr[u].l \u0026gt; qr or tr[u].r \u0026lt; ql: return 0 if tr[u].l \u0026gt;= ql and tr[u].r \u0026lt;= qr: return tr[u].d pushdown(u) mid = (tr[u].l + tr[u].r) \u0026gt;\u0026gt; 1 res = 0 if ql \u0026lt;= mid: res = max(res, query(u \u0026lt;\u0026lt; 1, ql, qr)) if qr \u0026gt; mid: res = max(res, query(u \u0026lt;\u0026lt; 1 | 1, ql, qr)) # Cross left and right subintervals handling if ql \u0026lt;= mid and qr \u0026gt; mid: left_suffix = min(tr[u \u0026lt;\u0026lt; 1].rd, mid - ql + 1) right_prefix = min(tr[u \u0026lt;\u0026lt; 1 | 1].ld, qr - mid) res = max(res, left_suffix + right_prefix) return res def modify(u, l, r, d): if tr[u].l \u0026gt;= l and tr[u].r \u0026lt;= r: if d: tr[u].d = tr[u].ld = tr[u].rd = 0 tr[u].low = 1 else: tr[u].d = tr[u].ld = tr[u].rd = tr[u].r - tr[u].l + 1 tr[u].low = 0 return pushdown(u) mid = (tr[u].l + tr[u].r) \u0026gt;\u0026gt; 1 if l \u0026lt;= mid: modify(u \u0026lt;\u0026lt; 1, l, r, d) if r \u0026gt; mid: modify(u \u0026lt;\u0026lt; 1 | 1, l, r, d) pushup(u) n = max(q[1] for q in queries) tr = [Node() for _ in range(1\u0026lt;\u0026lt;n.bit_length() + 1)] build(1, 0, n) res = [] modify(1, 0, 0, 1) mp = {} for q in queries: if q[0] == 1: x = q[1] modify(1, x, x, 1) mp[x] = 1 else: x = q[1] sz = q[2] if x \u0026lt; sz: res.append(False) continue if mp.get(x) != 1: modify(1, x, x, 1) ans = query(1, 0, x) if mp.get(x) != 1: modify(1, x, x, 0) res.append(ans \u0026gt;= sz-1) return res ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%8F%8C%E5%91%A8%E8%B5%9B131240525/","summary":"åŒå‘¨èµ›131(240525) AKçš„ç¬¬äºŒåœºğŸ˜ï¼Œ ç¬¬å››é¢˜æ˜¯ç”¨C++ æ‰¾ç½‘ä¸Šæ¨¡æ¿ï¼Œå¥—ç”¨æŸ¥æ‰¾æœ€é•¿çš„è¿0ä¸²è¿‡çš„ï¼Œ æœ€åä¸¤åˆ†é’Ÿæ‰è¿‡ï¼Œå¾ˆæƒŠé™©ã€‚èµ›åå‘ç°åšæ³•å¹¶ä¸ä¼˜","title":"LeetCodeåŒå‘¨èµ›131(240525)"},{"content":"å‘¨èµ›399(240526) è¿™åœºæ‰åˆ†äº†ï¼Œç¬¬å››é¢˜æ²¡æ€è·¯ï¼Œè€Œä¸”ç½šæ—¶å¤ªå¤šäº†ğŸ˜¥\nç¬¬ä¸‰é¢˜3164. ä¼˜è´¨æ•°å¯¹çš„æ€»æ•° II é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„nums1å’Œnums2ï¼Œä»¥åŠä¸€ä¸ªæ­£æ•´æ•°kã€‚å¦‚æœnums1[i]å¯ä»¥è¢«nums2[j]*kæ•´é™¤ï¼Œåˆ™ç§°æ•°å¯¹(i, j)ä¸ºä¼˜è´¨æ•°å¯¹ã€‚è¦æ±‚è®¡ç®—ä¼˜è´¨æ•°å¯¹çš„æ€»æ•°ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œä½¿ç”¨Counterç»Ÿè®¡nums1ä¸­å¯ä»¥è¢«kæ•´é™¤çš„æ•°é™¤ä»¥kçš„ç»“æœï¼Œå¾—åˆ°c1ã€‚ ç„¶åï¼Œæ‰¾åˆ°c1ä¸­çš„æœ€å¤§å€¼mxï¼Œå¦‚æœc1ä¸ºç©ºï¼Œåˆ™mxä¸º0ã€‚ ä½¿ç”¨Counterç»Ÿè®¡nums2ä¸­å„ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå¾—åˆ°c2ã€‚ åˆå§‹åŒ–ç»“æœresä¸º0ã€‚ éå†c2ä¸­çš„æ¯ä¸ªæ•°nmå’Œå…¶å‡ºç°çš„æ¬¡æ•°cï¼Œå¯¹äºæ¯ä¸ªæ•°nmï¼Œä»nmå¼€å§‹é€’å¢åˆ°mxï¼Œæ­¥é•¿ä¸ºnmï¼Œè®¡ç®—c * c1[j]å¹¶ç´¯åŠ åˆ°resä¸­ã€‚ æœ€ç»ˆè¿”å›resä½œä¸ºä¼˜è´¨æ•°å¯¹çš„æ€»æ•°ã€‚ class Solution: def numberOfPairs(self, nums1: List[int], nums2: List[int], k: int) -\u0026gt; int: c1 = Counter(nm//k for nm in nums1 if nm%k==0) mx = max(nm for nm, _ in c1.items()) if c1 else 0 c2 = Counter(nums2) res = 0 for nm, c in c2.items(): for j in range(nm, mx+1, nm): res += c * c1[j] return res ç¬¬å››é¢˜3165. ä¸åŒ…å«ç›¸é‚»å…ƒç´ çš„å­åºåˆ—çš„æœ€å¤§å’Œ é¢˜ç›®å¤§æ„ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªäºŒç»´æ•°ç»„ queriesï¼Œå…¶ä¸­ queries[i] = [posi, xi] è¡¨ç¤ºå¯¹äºæ¯ä¸ªæŸ¥è¯¢ iï¼Œé¦–å…ˆå°† nums[posi] è®¾ç½®ä¸º xiï¼Œç„¶åè®¡ç®—æŸ¥è¯¢ i çš„ç­”æ¡ˆã€‚ç­”æ¡ˆä¸º nums ä¸­ä¸åŒ…å«ç›¸é‚»å…ƒç´ çš„å­åºåˆ—çš„æœ€å¤§å’Œã€‚æœ€ç»ˆè¿”å›æ‰€æœ‰æŸ¥è¯¢çš„ç­”æ¡ˆä¹‹å’Œã€‚\nå®ç°æ€è·¯ æ„å»ºçº¿æ®µæ ‘ï¼šä½¿ç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´çš„æœ€å¤§å’Œã€‚ çº¿æ®µæ ‘èŠ‚ç‚¹ tr[u] å­˜å‚¨äº†å››ä¸ªå€¼ï¼Œåˆ†åˆ«è¡¨ç¤ºï¼š ä¸è·¨è¶ŠåŒºé—´çš„æœ€å¤§å’Œï¼ˆæ— ç›¸é‚»å…ƒç´ ï¼‰ã€‚ åŒºé—´å·¦ç«¯ç‚¹ä¸ºèµ·ç‚¹çš„æœ€å¤§å’Œï¼ˆæ— ç›¸é‚»å…ƒç´ ï¼‰ã€‚ åŒºé—´å³ç«¯ç‚¹ä¸ºèµ·ç‚¹çš„æœ€å¤§å’Œï¼ˆæ— ç›¸é‚»å…ƒç´ ï¼‰ã€‚ åŒºé—´çš„æœ€å¤§å’Œã€‚ å®šä¹‰ pushup å‡½æ•°æ›´æ–°èŠ‚ç‚¹å€¼ï¼Œå®šä¹‰ build å‡½æ•°æ„å»ºçº¿æ®µæ ‘ã€‚ æ›´æ–°æ“ä½œï¼šæ›´æ–°çº¿æ®µæ ‘ä¸­çš„èŠ‚ç‚¹å€¼ã€‚ å®šä¹‰ update å‡½æ•°æ›´æ–°çº¿æ®µæ ‘ä¸­çš„èŠ‚ç‚¹å€¼ã€‚ éå†æŸ¥è¯¢ï¼šå¯¹æ¯ä¸ªæŸ¥è¯¢ï¼Œæ›´æ–° nums ä¸­å¯¹åº”ä½ç½®çš„å€¼ï¼Œå¹¶è®¡ç®—å½“å‰çš„æœ€å¤§å’Œã€‚ æœ€ç»ˆè¿”å›æ‰€æœ‰æŸ¥è¯¢çš„ç­”æ¡ˆä¹‹å’Œï¼Œè®°å¾—å¯¹ç»“æœå–æ¨¡ã€‚ class Solution: def maximumSumSubsequence(self, nums: List[int], queries: List[List[int]]) -\u0026gt; int: def pushup(u): l, r = tr[u\u0026lt;\u0026lt;1], tr[u\u0026lt;\u0026lt;1|1] tr[u][0] = max(l[1]+r[0], l[0]+r[2]) tr[u][1] = max(l[0]+r[3], l[1]+r[1]) tr[u][2] = max(l[2]+r[2], l[3]+r[0]) tr[u][3] = max(l[2]+r[3], l[3]+r[1]) def build(u, l, r): if l==r: tr[u][3] = max(nums[l], 0) else: mid = l+r\u0026gt;\u0026gt;1 build(u\u0026lt;\u0026lt;1, l, mid) build(u\u0026lt;\u0026lt;1|1, mid+1, r) pushup(u) def update(u, l, r, x, val): if l==r: tr[u][3] = max(0, val) return mid = l+r\u0026gt;\u0026gt;1 if x\u0026lt;=mid: update(u\u0026lt;\u0026lt;1, l, mid, x, val) else: update(u\u0026lt;\u0026lt;1|1, mid+1, r, x, val) pushup(u) n = len(nums) tr = [[0]*4 for _ in range(1\u0026lt;\u0026lt;n.bit_length() + 1)] mod = int(1e9) + 7 res = 0 build(1, 0, n-1) for pos, x in queries: update(1, 0, n-1, pos, x) res = (res + tr[1][3])%mod return res ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B399240526/","summary":"å‘¨èµ›399(240526) è¿™åœºæ‰åˆ†äº†ï¼Œç¬¬å››é¢˜æ²¡æ€è·¯ï¼Œè€Œä¸”ç½šæ—¶å¤ªå¤šäº†ğŸ˜¥ ç¬¬ä¸‰é¢˜3164. ä¼˜è´¨æ•°å¯¹çš„æ€»æ•° II é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„nums1å’Œn","title":"LeetCodeå‘¨èµ›399(240526)"},{"content":"å‘¨èµ›250519 ç»ˆäºç»ˆäºAKäº†ä¸€åœºğŸ˜†\nç¬¬å››é¢˜100298. åˆ°è¾¾ç¬¬ K çº§å°é˜¶çš„æ–¹æ¡ˆæ•° é¢˜ç›®å¤§æ„\nç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° kï¼Œè¡¨ç¤ºç›®æ ‡å°é˜¶çš„ç¼–å·ã€‚è™è€å¸ˆä»å°é˜¶ 1 å¼€å§‹ï¼Œé€šè¿‡ä¸€ç³»åˆ—æ“ä½œåˆ°è¾¾å°é˜¶ kã€‚æ“ä½œåˆ†ä¸ºä¸¤ç§ï¼š\nå‘ä¸‹èµ°ä¸€çº§åˆ° i - 1ï¼Œä½†è¯¥æ“ä½œä¸èƒ½è¿ç»­ä½¿ç”¨ï¼Œå¦‚æœåœ¨å°é˜¶ 0 ä¹Ÿä¸èƒ½ä½¿ç”¨ã€‚ å‘ä¸Šèµ°åˆ°å°é˜¶ i + 2^jump å¤„ï¼Œç„¶å jump å˜ä¸º jump + 1ã€‚ ç›®æ ‡æ˜¯è®¡ç®—è™è€å¸ˆåˆ°è¾¾å°é˜¶ k çš„æ€»æ–¹æ¡ˆæ•°ã€‚\nå®ç°æ€è·¯\nå®šä¹‰é€’å½’å‡½æ•°ï¼šå®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° dfs(p, j, f)ï¼Œå…¶ä¸­ p è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„å°é˜¶ï¼Œj è¡¨ç¤ºå½“å‰ jump çš„æ¬¡æ•°ï¼Œf è¡¨ç¤ºä¸Šä¸€æ¬¡æ“ä½œæ˜¯å¦æ˜¯å‘ä¸‹èµ°ä¸€çº§çš„æ ‡å¿—ã€‚ é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š å½“ p == k æ—¶ï¼Œè¡¨ç¤ºå·²ç»åˆ°è¾¾ç›®æ ‡å°é˜¶ï¼Œè¿”å› 1 è¡¨ç¤ºæ‰¾åˆ°ä¸€ç§æ–¹æ¡ˆã€‚ å½“ p \u0026lt; 0 æ—¶ï¼Œè¡¨ç¤ºè¶…å‡ºèŒƒå›´ï¼Œè¿”å› 0ã€‚ å½“ p - 1 \u0026gt; k æˆ–è€… p - 1 == k ä¸” f == 1 æ—¶ï¼Œè¡¨ç¤ºå‘ä¸‹èµ°è¶…è¿‡ç›®æ ‡æˆ–åœ¨ç›®æ ‡æ—¶æ— æ³•å‘ä¸‹èµ°ï¼Œè¿”å› 0ã€‚ é€’å½’è®¡ç®—ï¼š upï¼šè®¡ç®—å‘ä¸Šèµ°åˆ° p + 2^j çš„æ–¹æ¡ˆæ•°ï¼Œå¹¶å°† j åŠ  1ï¼Œè¡¨ç¤ºä½¿ç”¨äº†ä¸€æ¬¡å‘ä¸Šè·³è·ƒã€‚ downï¼šè®¡ç®—å‘ä¸‹èµ°åˆ° p - 1 çš„æ–¹æ¡ˆæ•°ï¼Œå½“ p \u0026gt; 0 ä¸” f == 0 æ—¶æ‰å¯ä»¥å‘ä¸‹èµ°ã€‚ è¿”å› up + down + more çš„å’Œï¼Œå…¶ä¸­ more è¡¨ç¤ºå½“å‰æ­£å¥½åœ¨ç›®æ ‡å°é˜¶çš„æƒ…å†µã€‚ è®°å¿†åŒ–æœç´¢ï¼šä½¿ç”¨ @cache ä¿®é¥°é€’å½’å‡½æ•°ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚ class Solution: def waysToReachStair(self, k: int) -\u0026gt; int: @cache def dfs(p, j, f): # flag 1: ä¸Šä¸€æ¬¡æ˜¯ä¸‹ç§»ï¼Œ 0ï¼šä¸Šä¸€æ¬¡ä¸æ˜¯ more = 0 if p == k: more = 1 if p \u0026lt; 0: return 0 if p-1\u0026gt;k or (p-1==k and f==1): return 0 up = dfs(p + (1 \u0026lt;\u0026lt; j), j + 1, 0) if p \u0026gt; 0 and f==0: down = dfs(p - 1, j, 1) else: down = 0 return up + down + more return dfs(1, 0, 0) ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B250519/","summary":"å‘¨èµ›250519 ç»ˆäºç»ˆäºAKäº†ä¸€åœºğŸ˜† ç¬¬å››é¢˜100298. åˆ°è¾¾ç¬¬ K çº§å°é˜¶çš„æ–¹æ¡ˆæ•° é¢˜ç›®å¤§æ„ ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° kï¼Œè¡¨ç¤ºç›®æ ‡å°é˜¶çš„ç¼–å·ã€‚è™è€å¸ˆä»å°é˜¶ 1","title":"LeetCodeå‘¨èµ›398(240519)"},{"content":"å‘¨èµ›20240505 ç¬¬å››é¢˜ 100288. ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°å¼€é”€ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸¤ä¸ªæ•´æ•° cost1 å’Œ cost2ï¼Œå¯ä»¥æ‰§è¡Œä¸¤ç§æ“ä½œæ¥ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼š1. é€‰æ‹©æŸä¸ªå…ƒç´ å¢åŠ 1ï¼Œå¼€é”€ä¸ºcost1ï¼›2. é€‰æ‹©ä¸¤ä¸ªä¸åŒçš„å…ƒç´ åŒæ—¶å¢åŠ 1ï¼Œå¼€é”€ä¸ºcost2ã€‚ç›®æ ‡æ˜¯ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼Œè¿”å›éœ€è¦çš„æœ€å°å¼€é”€ä¹‹å’Œã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆè®¡ç®—æ•°ç»„ä¸­æœ€å¤§å€¼mxå’Œæœ€å°å€¼mnï¼Œç„¶åè®¡ç®—åŸºç¡€å¼€é”€baseï¼Œå³å°†æœ€å¤§å€¼å˜ä¸ºæœ€å°å€¼æ‰€éœ€çš„å¼€é”€ã€‚ç„¶åæ ¹æ®ä¸¤ç§æ“ä½œçš„å¼€é”€æ¯”è¾ƒï¼Œè‹¥cost1*2 \u0026lt;= cost2ï¼Œåˆ™åªéœ€è€ƒè™‘å°†æœ€å¤§å€¼å˜ä¸ºæœ€å°å€¼çš„å¼€é”€ï¼Œç›´æ¥è¿”å›å³å¯ã€‚è‹¥cost1*2 \u0026gt; cost2ï¼Œåˆ™éœ€è¦è€ƒè™‘ä¸¤ç§æ“ä½œçš„æ¯”è¾ƒï¼Œé€šè¿‡äºŒåˆ†æœç´¢æ‰¾åˆ°ä½¿å¾—æ€»å¼€é”€æœ€å°çš„æƒ…å†µã€‚å…·ä½“å®ç°ä¸­ï¼Œå®šä¹‰äº†å‡½æ•°f(x)ï¼Œè¡¨ç¤ºå°†æœ€å¤§å€¼å˜ä¸ºxæ—¶çš„æ€»å¼€é”€ï¼Œç„¶ååœ¨mxçš„èŒƒå›´å†…è¿›è¡ŒäºŒåˆ†æœç´¢æ‰¾åˆ°æœ€å°æ€»å¼€é”€ã€‚\nclass Solution: def minCostToEqualizeArray(self, nums: List[int], c1: int, c2: int) -\u0026gt; int: mod = int(1e9) + 7 mx = max(nums); mn = min(nums) n = len(nums) base = mx*n - sum(nums) if c1*2 \u0026lt;= c2: return base * c1 % mod def f(x): d = x - mn s = base + (x-mx) * n if d \u0026lt;= s-d: return s//2 * c2 + s%2*c1 return (s-d) * c2 + (d-(s-d)) * c1 ans = inf if mx\u0026amp;1: ans = f(mx) mx += 1 base += n k0 = bisect_left( range(mx), True, mx//2, key = lambda m: f(m*2) \u0026lt; f((m+1)*2) ) k1 = bisect_left( range(mx), True, mx//2, key = lambda m: f(m*2+1) \u0026lt; f((m+1)*2 + 1) ) ans = min(ans, f(k0*2), f(k1*2 + 1)) return ans%mod ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B20240505/","summary":"å‘¨èµ›20240505 ç¬¬å››é¢˜ 100288. ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°å¼€é”€ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸¤ä¸ªæ•´æ•° cost1 å’Œ cost2ï¼Œå¯ä»¥æ‰§è¡Œä¸¤ç§æ“ä½œæ¥ä½¿æ•°ç»„ä¸­æ‰€","title":"LeetCodeå‘¨èµ›396(240505)"},{"content":"LeetCodeæ¯æ—¥ä¸€é¢˜(2405) 1235. è§„åˆ’å…¼èŒå·¥ä½œ é¢˜ç›®å¤§æ„ï¼šç»™å®šnä»½å…¼èŒå·¥ä½œï¼Œæ¯ä»½å·¥ä½œéƒ½æœ‰å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’ŒæŠ¥é…¬ã€‚ä»»åŠ¡æ˜¯é€‰æ‹©ä¸€äº›å·¥ä½œï¼Œä½¿å¾—åœ¨ä¸é‡å çš„æƒ…å†µä¸‹èƒ½å¤Ÿè·å¾—æœ€å¤§æŠ¥é…¬ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆå¯¹å·¥ä½œæŒ‰ç…§ç»“æŸæ—¶é—´è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£æœ€å¤§æŠ¥é…¬ã€‚åœ¨åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªæ•°ç»„fï¼Œå…¶ä¸­f[i]è¡¨ç¤ºåœ¨è€ƒè™‘å‰iä¸ªå·¥ä½œæ—¶å¯ä»¥è·å¾—çš„æœ€å¤§æŠ¥é…¬ã€‚éå†æ¯ä¸ªå·¥ä½œï¼Œå¯¹äºç¬¬iä¸ªå·¥ä½œï¼Œæ‰¾åˆ°åœ¨å…¶å¼€å§‹æ—¶é—´ä¹‹å‰ä¸”ç»“æŸæ—¶é—´æœ€æ¥è¿‘çš„å·¥ä½œjï¼Œç„¶åæ›´æ–°f[i]ä¸ºf[j] + ç¬¬iä¸ªå·¥ä½œçš„æŠ¥é…¬ã€‚æœ€ç»ˆè¿”å›f[n]å³ä¸ºæ‰€æ±‚çš„æœ€å¤§æŠ¥é…¬ã€‚\nclass Solution: def jobScheduling(self, startTime: List[int], endTime: List[int], profit: List[int]) -\u0026gt; int: # å…µè´µç¥é€Ÿï¼Œç°åœ¨èƒ½é¢†å…ˆä¸€ç§’ï¼Œä»¥åå°±èƒ½æŒ‰ç…§å¤åˆ©ä¸€ç›´é¢†å…ˆ n = len(startTime) job = [(0, 0, 0)] + sorted(zip(endTime, startTime, profit)) f = [0]*(n+1) for i, (_, st, p) in enumerate(job[1:], start = 1): # l, r = 0, i-1 # while l\u0026lt;r: # mid = (l+r+1)\u0026gt;\u0026gt;1 # if job[mid][0] \u0026gt; st: # r = mid-1 # else: # l = mid # f[i] = max(f[i-1], f[l] + p) l = bisect_left(job, (st+1, ), hi = i, lo = 0) # å†…ç½®åº“åªèƒ½æŸ¥æ‰¾ ä¸¥æ ¼ \u0026gt; \u0026lt; çš„å€¼ # æ— æ³•æ‰¾åˆ° \u0026gt;= \u0026lt;=çš„å€¼ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ‰¾åˆ°æœ€å¤§çš„ \u0026lt;ç›®æ ‡å€¼çš„ i, i-1å³ä¸º\u0026lt;=ç›®æ ‡å€¼çš„ä¸‹æ ‡ f[i] = max(f[i-1], f[l-1] + p) return f[n] 741. æ‘˜æ¨±æ¡ƒ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç½‘æ ¼ï¼Œå…¶ä¸­åŒ…å«ç©ºæ ¼ã€æ¨±æ¡ƒå’Œè†æ£˜ï¼Œè¦æ±‚ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œç„¶åè¿”å›å·¦ä¸Šè§’ï¼ŒæŒ‰ç…§è§„å®šçš„èµ°æ³•ï¼Œæœ€å¤šèƒ½æ‘˜åˆ°çš„æ¨±æ¡ƒæ•°é‡ã€‚\nè®°å¿†åŒ–æœç´¢ å®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°dfs(t, j, l)ï¼Œè¡¨ç¤ºåœ¨æ—¶åˆ»tï¼Œç¬¬ä¸€ä¸ªäººä½äº(j, t-j)ï¼Œç¬¬äºŒä¸ªäººä½äº(l, t-l)æ—¶ï¼Œèƒ½å¤Ÿå¾—åˆ°çš„æœ€å¤§æ¨±æ¡ƒæ•°é‡ã€‚é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å…¶ä¸­ä¸€ä¸ªäººèµ°åˆ°äº†è¾¹ç•Œä¹‹å¤–æˆ–è€…ç¢°åˆ°äº†è†æ£˜æ—¶ï¼Œè¿”å›è´Ÿæ— ç©·ã€‚ç„¶åé€’å½’åœ°è®¡ç®—å››ç§å¯èƒ½çš„ç§»åŠ¨æ–¹å‘ï¼šå‘ä¸‹èµ°ã€å‘å³èµ°ã€å‘ä¸‹å’Œå‘å³èµ°ã€å‘å·¦èµ°ï¼ŒåŒæ—¶æ›´æ–°æ¨±æ¡ƒæ•°é‡ã€‚æœ€åè¿”å›ç»è¿‡è·¯å¾„èƒ½å¤Ÿæ‘˜åˆ°çš„æœ€å¤šæ¨±æ¡ƒæ•°é‡ã€‚\nclass Solution: def cherryPickup(self, g: List[List[int]]) -\u0026gt; int: @cache def dfs(t, j, l): if j\u0026lt;0 or l\u0026lt;0 or t-j\u0026lt;0 or t-l\u0026lt;0 or g[t-j][j]==-1 or g[t-l][l]==-1: return -inf if t==0: return g[0][0] return max(dfs(t-1, j, l), dfs(t-1, j-1, l), dfs(t-1, j, l-1), dfs(t-1, j-1, l-1)) \\ + g[t-j][j] + (g[t-l][l] if j!=l else 0) n = len(g) return max(0, dfs(2*n-2, n-1, n-1)) é€’æ¨ å®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚å®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„ fï¼Œå…¶ä¸­ f[t][i][j] è¡¨ç¤ºåœ¨ t æ­¥ä¸­ï¼Œç¬¬ä¸€ä¸ªäººä½äº (i-1, t-i)ã€ç¬¬äºŒä¸ªäººä½äº (j-1, t-j) æ—¶æ‰€èƒ½æ‘˜åˆ°çš„æœ€å¤§æ¨±æ¡ƒæ•°ã€‚ åˆå§‹æ¡ä»¶ä¸º f[0][1][1] = grid[0][0]ï¼Œè¡¨ç¤ºå¼€å§‹æ—¶ç¬¬ä¸€ä¸ªäººå’Œç¬¬äºŒä¸ªäººéƒ½åœ¨å·¦ä¸Šè§’ï¼Œç¬¬ä¸€ä¸ªæ ¼å­ä¸Šçš„æ¨±æ¡ƒæ•°ã€‚ ç„¶åè¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼Œå¯¹äºæ¯ä¸€æ­¥ tï¼Œéå†ä¸¤ä¸ªäººå¯èƒ½çš„ä½ç½® (i, t-i)ï¼Œ(j, t-j)ï¼š å¦‚æœè¯¥ä½ç½®ä¸æ˜¯è†æ£˜ï¼Œåˆ™è®¡ç®—èƒ½ä»ä¸Šä¸€æ­¥åˆ°è¾¾å½“å‰ä½ç½®çš„æœ€å¤§æ¨±æ¡ƒæ•°ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼šf[t][i][j] = max(f[t-1][i][j], f[t-1][i-1][j], f[t-1][i][j-1], f[t-1][i-1][j-1]) + å½“å‰æ ¼å­ä¸Šçš„æ¨±æ¡ƒæ•°ã€‚ æœ€åè¿”å› f[2*n-2][n][n]ï¼Œè¡¨ç¤ºåœ¨è¿”å›è¿‡ç¨‹ä¸­æœ€å¤šèƒ½æ‘˜åˆ°çš„æ¨±æ¡ƒæ•°ã€‚ class Solution: def cherryPickup(self, grid: List[List[int]]) -\u0026gt; int: n = len(grid) f = [[[-inf]*(n+1) for _ in range(n+1)] for _ in range(2*n-1)] f[0][1][1] = grid[0][0] for t in range(1, 2*n-1): for j in range(max(t-n+1, 0), min(n, t+1)): if grid[t-j][j]==-1: continue for k in range(j, min(n, t+1)): if grid[t-k][k]==-1: continue f[t][j+1][k+1] = max(f[t-1][j+1][k+1], f[t-1][j][k+1], f[t-1][j+1][k], f[t-1][j][k]) \\ + grid[t-j][j] + (grid[t-k][k] if j!=k else 0) return max(0, f[2*n-2][n][n]) 463. æ‘˜æ¨±æ¡ƒ II é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªçŸ©é˜µè¡¨ç¤ºæ¨±æ¡ƒåœ°ï¼Œä¸¤ä¸ªæœºå™¨äººåˆ†åˆ«ä»å·¦ä¸Šè§’å’Œå³ä¸Šè§’å‡ºå‘ï¼Œæ¯ä¸ªæœºå™¨äººåªèƒ½å‘ä¸‹ä¸€è¡Œçš„å·¦ä¸‹ã€ä¸‹æ–¹å’Œå³ä¸‹æ–¹ç§»åŠ¨ï¼Œå½“æœºå™¨äººåˆ°è¾¾ä¸€ä¸ªæ ¼å­æ—¶ï¼Œä¼šæ‘˜å–è¯¥æ ¼å­å†…æ‰€æœ‰çš„æ¨±æ¡ƒå¹¶å°†å…¶ç½®ç©ºã€‚ä¸¤ä¸ªæœºå™¨äººä¸èƒ½åŒæ—¶æ‘˜å–åŒä¸€ä¸ªæ ¼å­çš„æ¨±æ¡ƒï¼Œæ±‚ä¸¤ä¸ªæœºå™¨äººèƒ½å¤Ÿæ‘˜å–çš„æœ€å¤§æ¨±æ¡ƒæ€»æ•°ã€‚\nè®°å¿†åŒ–æœç´¢ å®ç°æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° dfs(i, j, k) è¡¨ç¤ºæœºå™¨äºº1ä½äºç¬¬iè¡Œç¬¬jåˆ—ï¼Œæœºå™¨äºº2ä½äºç¬¬iè¡Œç¬¬kåˆ—æ—¶ï¼Œèƒ½å¤Ÿæ‘˜å–çš„æœ€å¤§æ¨±æ¡ƒæ€»æ•°ã€‚é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸ªæœºå™¨äººï¼Œéƒ½æœ‰ä¸‰ç§ç§»åŠ¨æ–¹å¼ï¼Œå³å‘ä¸‹ä¸€è¡Œçš„å·¦ä¸‹ã€ä¸‹æ–¹å’Œå³ä¸‹æ–¹ç§»åŠ¨ã€‚é€’å½’ç»ˆæ­¢æ¡ä»¶ä¸ºæœºå™¨äººåˆ°è¾¾æœ€åä¸€è¡Œã€‚ä½¿ç”¨ç¼“å­˜è£…é¥°å™¨ @cache å¯ä»¥é¿å…é‡å¤è®¡ç®—ã€‚æœ€åï¼Œè¿”å›dfs(0, 0, m-1)ï¼Œå…¶ä¸­mä¸ºçŸ©é˜µçš„åˆ—æ•°ã€‚\nclass Solution: def cherryPickup(self, grid: List[List[int]]) -\u0026gt; int: n, m = len(grid), len(grid[0]) @cache def dfs(i, j, k): if i==n or j\u0026lt;0 or j\u0026gt;=m or k\u0026lt;0 or k\u0026gt;=m: return 0 return max(dfs(i+1, nj, nk) for nj in range(j-1, j+2) for nk in range(k-1, k+2)) \\ + grid[i][j] + (grid[i][k] if j!=k else 0) return dfs(0, 0, m-1) é€’æ¨ å®ç°æ€è·¯ï¼šä½¿ç”¨åŠ¨æ€è§„åˆ’è¿›è¡Œè§£å†³ã€‚å®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„ fï¼Œå…¶ä¸­ f[i][j+1][k+1] è¡¨ç¤ºæœºå™¨äºº1ä½äºç¬¬iè¡Œç¬¬jåˆ—ï¼Œæœºå™¨äºº2ä½äºç¬¬iè¡Œç¬¬kåˆ—æ—¶ï¼Œèƒ½å¤Ÿæ‘˜å–çš„æœ€å¤§æ¨±æ¡ƒæ€»æ•°ã€‚é€šè¿‡ä¸‰é‡å¾ªç¯ï¼Œä¾æ¬¡éå†æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—ï¼Œæ›´æ–° f[i][j+1][k+1] çš„å€¼ï¼Œå…¶ä¸­ i è¡¨ç¤ºå½“å‰è¡Œï¼Œj è¡¨ç¤ºæœºå™¨äºº1çš„åˆ—æ•°ï¼Œk è¡¨ç¤ºæœºå™¨äºº2çš„åˆ—æ•°ã€‚åœ¨æ›´æ–° f[i][j+1][k+1] çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡éå†æœºå™¨äºº1å’Œæœºå™¨äºº2çš„ä½ç½®ï¼Œè®¡ç®—èƒ½å¤Ÿæ‘˜å–çš„æœ€å¤§æ¨±æ¡ƒæ€»æ•°ã€‚æœ€åè¿”å› f[0][1][m]ï¼Œå…¶ä¸­ m ä¸ºçŸ©é˜µçš„åˆ—æ•°ã€‚\nclass Solution: def cherryPickup(self, grid: List[List[int]]) -\u0026gt; int: n, m = len(grid), len(grid[0]) f = [[[0]*(m+2) for _ in range(m+2)] for _ in range(n+1)] for i in range(n-1, -1, -1): for j in range(min(i+1, m)): for k in range(max(j+1, m-1-i), m): t = 0 for nj in range(j, j+3): for nk in range(k, k+3): t = max(t, f[i+1][nj][nk]) f[i][j+1][k+1] = t + grid[i][j] + grid[i][k] return f[0][1][m] ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98202405/","summary":"LeetCodeæ¯æ—¥ä¸€é¢˜(2405) 1235. è§„åˆ’å…¼èŒå·¥ä½œ é¢˜ç›®å¤§æ„ï¼šç»™å®šnä»½å…¼èŒå·¥ä½œï¼Œæ¯ä»½å·¥ä½œéƒ½æœ‰å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’ŒæŠ¥é…¬ã€‚ä»»åŠ¡æ˜¯é€‰æ‹©ä¸€äº›å·¥ä½œï¼Œä½¿å¾—","title":"LeetCodeæ¯æ—¥ä¸€é¢˜(202405)"},{"content":"åŒå‘¨èµ›20230427 ç¬¬ä¸‰/å››é¢˜3130. æ‰¾å‡ºæ‰€æœ‰ç¨³å®šçš„äºŒè¿›åˆ¶æ•°ç»„ II é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸‰ä¸ªæ­£æ•´æ•° zeroã€one å’Œ limitï¼Œå®šä¹‰ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ arrï¼Œè¦æ±‚æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼šæ•°ç»„ä¸­ 0 å‡ºç°çš„æ¬¡æ•°ä¸º zeroï¼Œ1 å‡ºç°çš„æ¬¡æ•°ä¸º oneï¼Œå¹¶ä¸”æ•°ç»„ä¸­æ¯ä¸ªé•¿åº¦è¶…è¿‡ limit çš„å­æ•°ç»„éƒ½åŒæ—¶åŒ…å« 0 å’Œ 1ã€‚æ±‚ç¨³å®šäºŒè¿›åˆ¶æ•°ç»„çš„æ€»æ•°ç›®ã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’å‡½æ•° dfs(i, j, k) æ¥è¡¨ç¤ºä»¥ i ä¸ª 0 å’Œ j ä¸ª 1 å¼€å¤´ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªå…ƒç´ ä¸º k çš„ç¨³å®šäºŒè¿›åˆ¶æ•°ç»„çš„ä¸ªæ•°ã€‚å…¶ä¸­ï¼Œk å–å€¼ä¸º 0 æˆ– 1ï¼Œè¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ä¸º 0 æˆ– 1ã€‚é€’å½’çš„è¾¹ç•Œæ¡ä»¶æ˜¯å½“ i æˆ– j ä¸º 0 æ—¶ï¼Œè¿”å› 1 æˆ– 0ï¼Œè¡¨ç¤ºå½“å‰æƒ…å†µä¸‹æœ‰ 1 ä¸ªæˆ– 0 ä¸ªç¨³å®šæ•°ç»„ã€‚åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å½“å‰å…ƒç´ æ·»åŠ ä¸º 0 æˆ– 1 æ—¶çš„æƒ…å†µï¼Œå¹¶ä¸”æ ¹æ® limit æ¥æ§åˆ¶å­æ•°ç»„çš„é•¿åº¦ï¼Œé¿å…ä¸ç¨³å®šçš„æƒ…å†µã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€’å½’è®¡ç®—å¾—åˆ°æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ç¨³å®šäºŒè¿›åˆ¶æ•°ç»„çš„ä¸ªæ•°ï¼Œå¹¶å–æ¨¡è¿”å›ã€‚\nclass Solution: def numberOfStableArrays(self, zero: int, one: int, limit: int) -\u0026gt; int: mod = int(1e9)+7 @cache def dfs(i, j, k): if i==0: return 1 if k==1 and j\u0026lt;=limit else 0 if j==0: return 1 if k==0 and i\u0026lt;=limit else 0 if k==0: return ( dfs(i-1, j, 0) + dfs(i-1, j, 1) - (dfs(i-limit-1, j, 1) if i\u0026gt;limit else 0) ) %mod else: return ( dfs(i, j-1, 0) + dfs(i, j-1, 1) - (dfs(i, j-limit-1, 0) if j\u0026gt;limit else 0) ) %mod ans = (dfs(zero, one, 1) + dfs(zero, one, 0))%mod dfs.cache_clear() # é˜²æ­¢çˆ†å†…å­˜ return ans ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%8F%8C%E5%91%A8%E8%B5%9B20230427/","summary":"åŒå‘¨èµ›20230427 ç¬¬ä¸‰/å››é¢˜3130. æ‰¾å‡ºæ‰€æœ‰ç¨³å®šçš„äºŒè¿›åˆ¶æ•°ç»„ II é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸‰ä¸ªæ­£æ•´æ•° zeroã€one å’Œ limitï¼Œå®šä¹‰ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„","title":"LeetCodeåŒå‘¨èµ›129(240427)"},{"content":"å‘¨èµ›20230428 ç¬¬å››é¢˜134. æ‰¾å‡ºå”¯ä¸€æ€§æ•°ç»„çš„ä¸­ä½æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„numsï¼Œå”¯ä¸€æ€§æ•°ç»„æ˜¯ä¸€ä¸ªæŒ‰å…ƒç´ ä»å°åˆ°å¤§æ’åºçš„æ•°ç»„ï¼ŒåŒ…å«äº†numsçš„æ‰€æœ‰éç©ºå­æ•°ç»„ä¸­ä¸åŒå…ƒç´ çš„ä¸ªæ•°ã€‚è¦æ±‚è¿”å›numså”¯ä¸€æ€§æ•°ç»„çš„ä¸­ä½æ•°ï¼Œå³æœ‰åºå”¯ä¸€æ€§æ•°ç»„çš„ä¸­é—´å…ƒç´ ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®å”¯ä¸€æ€§æ•°ç»„çš„ç”Ÿæˆæ–¹å¼ï¼Œå³é€šè¿‡éå†æ‰€æœ‰éç©ºå­æ•°ç»„ï¼Œè®¡ç®—å…¶ä¸­ä¸åŒå…ƒç´ çš„ä¸ªæ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ç¡®å®šå”¯ä¸€æ€§æ•°ç»„çš„ä¸­ä½æ•°ã€‚åœ¨äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ä¸­ä½æ•°æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œå³å”¯ä¸€æ€§æ•°ç»„ä¸­ä¸åŒå…ƒç´ çš„ä¸ªæ•°å¤§äºç­‰äºä¸­ä½æ•°ã€‚å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œæˆ‘ä»¬æ›´æ–°å³è¾¹ç•Œï¼Œå¦åˆ™æ›´æ–°å·¦è¾¹ç•Œï¼Œç›´åˆ°å·¦å³è¾¹ç•Œç›¸é‡ï¼Œå³æ‰¾åˆ°äº†å”¯ä¸€æ€§æ•°ç»„çš„ä¸­ä½æ•°ã€‚\nclass Solution: def medianOfUniquenessArray(self, nums: List[int]) -\u0026gt; int: n = len(nums) k = (n * (n + 1) // 2 + 1) // 2 def check(mid): j, cnt = 0, 0 fre = Counter() for i, num in enumerate(nums): fre[num] += 1 while len(fre) \u0026gt; mid: fre[nums[j]] -= 1 if fre[nums[j]] == 0: del fre[nums[j]] j += 1 cnt += i - j + 1 return cnt \u0026gt;= k l, r = 1, len(set(nums)) while l \u0026lt; r: mid = l + r \u0026gt;\u0026gt; 1 if check(mid): r = mid else: l = mid + 1 return l ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B240428/","summary":"å‘¨èµ›20230428 ç¬¬å››é¢˜134. æ‰¾å‡ºå”¯ä¸€æ€§æ•°ç»„çš„ä¸­ä½æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„numsï¼Œå”¯ä¸€æ€§æ•°ç»„æ˜¯ä¸€ä¸ªæŒ‰å…ƒç´ ä»å°åˆ°å¤§æ’åºçš„æ•°ç»„ï¼ŒåŒ…å«äº†","title":"LeetCodeå‘¨èµ›395(240428)"},{"content":"Java Webå¼€å‘(3) Maven Mavenæ˜¯ä¸€æ¬¾ç®¡ç†å’Œæ„å»ºjavaé¡¹ç›®çš„å·¥å…·\nä¾èµ–ç®¡ç† ç»Ÿä¸€çš„é¡¹ç›®ç»“æ„ é¡¹ç›®æ„å»º \u0026lt;maven.compiler.source\u0026gt;11\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;11\u0026lt;/maven.compiler.target\u0026gt; MVNåæ ‡ Mavenä¸­çš„åæ ‡æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡è¯¥åæ ‡å¯ä»¥å”¯ä¸€å®šä½èµ„æºä½ç½® ä½¿ç”¨åæ ‡æ¥å®šä¹‰é¡¹ç›®æˆ–å¼•å…¥é¡¹ç›®ä¸­æ‰€éœ€è¦çš„ä¾èµ– Mavençš„åæ ‡ä¸»è¦ç»„æˆ\ngroupid:å®šä¹‰å½“å‰Mavené¡¹ç›®éš¶å±ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼‰ artifactIdï¼šå®šä¹‰å½“å‰Mavené¡¹ç›®åç§°ï¼ˆé€šå¸¸æ˜¯æ¨¡å—åç§°ï¼Œä¾‹å¦‚ order-service, goods-serviceï¼‰ versionï¼šå®šä¹‰å½“å‰é¡¹ç›®ç‰ˆæœ¬å· å¯¼å…¥mavenå·¥ç¨‹ï¼š\nMavenä¸­é¡¹ç›®ä¾èµ–é…ç½® åœ¨\u0026lt;dependencies\u0026gt;ä¸­æ·»åŠ \n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å¦‚æœæ‰€å¼•å…¥çš„ä¾èµ–ï¼Œåœ¨æœ¬åœ°ä»“åº“ä¸å­˜åœ¨ï¼Œå°†ä¼šè¿æ¥è¿œç¨‹ä»“åº“/ä¸­å¤®ä»“åº“ï¼Œç„¶åä¸‹è½½ä¾èµ– å¦‚æœä¸çŸ¥é“ä¾èµ–çš„åæ ‡ä¿¡æ¯ï¼Œåˆ°https://mvnrepository.com/ä¸­æœç´¢ã€‚ Mavenä¾èµ–ç®¡ç† ä¾èµ–å…·æœ‰ä¼ é€’æ€§ ç›´æ¥ä¾èµ–ï¼šåœ¨å½“å‰é¡¹ç›®ä¸­é€šè¿‡ä¾èµ–é…ç½®å»ºç«‹çš„ä¾èµ–å…³ç³» é—´æ¥ä¾èµ–ï¼šè¢«ä¾èµ–çš„èµ„æºå¦‚æœä¾èµ–å…¶ä»–èµ„æºï¼Œå½“å‰é¡¹ç›®é—´æ¥ä¾èµ–å…¶ä»–èµ„æº æ’é™¤ä¾èµ– \u0026lt;!-- æ’é™¤ä¾èµ–--\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; ä¾èµ–èŒƒå›´ ä¾èµ–çš„jaråŒ…ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡\u0026lt;scope\u0026gt;...\u0026lt;/scope\u0026gt;è®¾ç½®å…¶ä½œç”¨èŒƒå›´\nä½œç”¨èŒƒå›´ï¼š ä¸»ç¨‹åºèŒƒå›´æœ‰æ•ˆã€‚ï¼ˆmainæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰ æµ‹è¯•ç¨‹åºèŒƒå›´æœ‰æ•ˆã€‚ï¼ˆtestæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰ æ˜¯å¦å‚ä¸æ‰“åŒ…è¿è¡Œã€‚ï¼ˆpackageæŒ‡ä»¤èŒƒå›´å†…ï¼‰ scopeå€¼ æä¾›åº“ ç¼–è¯‘æ—¶ è¿è¡Œæ—¶ èŒƒä¾‹ compile Y Y Y log4j test - Y - junit provided Y Y - servlet-api runtime - Y Y jdbcé©±åŠ¨ Mavenç”Ÿå‘½å‘¨æœŸ æ¯å¥—ç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸€äº›é˜¶æ®µï¼ˆphaseï¼‰ï¼Œé˜¶æ®µæ˜¯æœ‰é¡ºåºçš„ï¼Œåé¢çš„é˜¶æ®µä¾èµ–äºå‰é¢çš„é˜¶æ®µ\nclean : ç§»é™¤ä¸Šä¸€æ¬¡æ„å»ºç”Ÿæˆçš„æ–‡ä»¶ compile : ç¼–è¯‘é¡¹ç›®æºä»£ç  test : ä½¿ç”¨åˆé€‚çš„å•å…ƒæµ‹è¯•æ¡†æ¶è¿è¡Œæµ‹è¯•ï¼ˆjunitï¼‰ package ï¼š å°†ç¼–è¯‘åçš„æ–‡ä»¶æ‰“åŒ…ï¼Œå¦‚ï¼šjar, warç­‰ install ï¼š å®‰è£…é¡¹ç›®åˆ°æœ¬åœ°ä»“åº“ åŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå½“è¿è¡Œåé¢çš„é˜¶æ®µæ—¶ï¼Œå‰é¢çš„é˜¶æ®µéƒ½ä¼šè¿è¡Œã€‚\nSpringBootå¼€å‘ åˆ›å»ºSpringWebå·¥ç¨‹\npackage com.showguan; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; @RestController public class HelloController { @RequestMapping(\u0026#34;/hello\u0026#34;) public String hello() { System.out.println(\u0026#34;hello world\u0026#34;); return \u0026#34;hello world!\u0026#34;; } } HTTPåè®® Hyper Text Transfer Protocol, è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œè§„å®šäº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“çš„è§„åˆ™ ç‰¹ç‚¹ï¼š\nåŸºäºTCPåè®®ï¼šé¢å‘è¿æ¥ï¼Œå®‰å…¨ åŸºäºè¯·æ±‚-å“åº”æ¨¡å‹çš„ï¼šä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº” HTTPåè®®æ˜¯æ— çŠ¶æ€çš„åè®®ï¼šå¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚æ¯æ¬¡è¯·æ±‚-å“åº”éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ ç¼ºç‚¹ï¼šå¤šæ¬¡è¯·æ±‚é—´ä¸èƒ½å…±äº«æ•°æ® ä¼˜ç‚¹ï¼šé€Ÿåº¦å¿« HTTPè¯·æ±‚åè®® è¯·æ±‚è¡Œï¼ˆè¯·æ±‚æ–¹å¼ï¼Œèµ„æºè·¯å¾„, åè®®ï¼‰ GET /hello HTTP/1.1\rPOST /hello HTTP/1.1 è¯·æ±‚å¤´ï¼šç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ ¼å¼ ï¼š key:value åç§° å€¼ Host è¯·å¡«å†™æ‚¨çš„ç½‘ç«™åŸŸå User-Agent ç”¨æˆ·ä»£ç†ï¼Œæ ‡è¯†å‘å‡ºè¯·æ±‚çš„æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿï¼Œä¾‹å¦‚Mozilla/5.0 (Windows NT\u0026hellip;) like Gecko Accept å¯æ¥å—çš„å“åº”å†…å®¹ç±»å‹ï¼Œä¾‹å¦‚text/*, image/*ç­‰ Accept-Language å¯æ¥å—çš„å“åº”å†…å®¹è¯­è¨€ï¼Œä¾‹å¦‚zh-CN,zh;q=0.8 Accept-Encoding å¯æ¥å—çš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼Œä¾‹å¦‚gzip, deflateç­‰ Content-Type è¯·æ±‚ä½“çš„åª’ä½“ç±»å‹ Content-Length è¯·æ±‚ä½“çš„é•¿åº¦ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰ è¯·æ±‚ä½“ï¼šPOSTè¯·æ±‚ï¼Œå­˜æ”¾è¯·æ±‚å‚æ•° è¯·æ±‚æ–¹å¼-GETï¼šè¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼Œæ²¡æœ‰è¯·æ±‚ä½“ è¯·æ±‚æ–¹å¼-POSTï¼šè¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ï¼ŒPOSTè¯·æ±‚å¤§å°æ˜¯æ²¡æœ‰é™åˆ¶çš„ HTTPå“åº”åè®® å“åº”æ ¼å¼ å“åº”è¡Œï¼šå“åº”æ•°æ®ç¬¬ä¸€è¡Œï¼ˆåè®®ï¼ŒçŠ¶æ€ç ï¼Œæè¿°ï¼‰ çŠ¶æ€ç åˆ†ç±» è¯´æ˜ 1xx å“åº”ä¸­ \u0026mdash; ä¸´æ—¶çŠ¶æ€ç ã€‚è¡¨ç¤ºè¯·æ±‚å·²ç»æ¥å—ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚æˆ–è€…å¦‚æœå·²ç»å®Œæˆåˆ™å¿½ç•¥ 2xx æˆåŠŸ \u0026mdash; è¡¨ç¤ºè¯·æ±‚å·²ç»è¢«æˆåŠŸæ¥æ”¶ï¼Œå¤„ç†å·²å®Œæˆ 3xx é‡å®šå‘ \u0026mdash; é‡å®šå‘åˆ°å…¶å®ƒåœ°æ–¹ï¼Œè®©å®¢æˆ·ç«¯å†å‘èµ·ä¸€ä¸ªè¯·æ±‚ä»¥å®Œæˆæ•´ä¸ªå¤„ç† 4xx å®¢æˆ·ç«¯é”™è¯¯ \u0026mdash; å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨å®¢æˆ·ç«¯ï¼Œå¦‚ï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºï¼Œå®¢æˆ·ç«¯æœªè¢«æˆæƒï¼Œç¦æ­¢è®¿é—®ç­‰ 5xx æœåŠ¡å™¨ç«¯é”™è¯¯ \u0026mdash; å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨æœåŠ¡ç«¯ï¼Œå¦‚ï¼šæœåŠ¡ç«¯æŠ›å‡ºå¼‚å¸¸ï¼Œè·¯ç”±å‡ºé”™ï¼ŒHTTPç‰ˆæœ¬ä¸æ”¯æŒç­‰ ä¸€ã€çŠ¶æ€ç å¤§ç±» çŠ¶æ€ç åˆ†ç±» è¯´æ˜ 1xx å“åº”ä¸­â€”â€”ä¸´æ—¶çŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚å·²ç»æ¥å—ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚æˆ–è€…å¦‚æœå®ƒå·²ç»å®Œæˆåˆ™å¿½ç•¥å®ƒ 2xx æˆåŠŸâ€”â€”è¡¨ç¤ºè¯·æ±‚å·²ç»è¢«æˆåŠŸæ¥æ”¶ï¼Œå¤„ç†å·²å®Œæˆ 3xx é‡å®šå‘â€”â€”é‡å®šå‘åˆ°å…¶å®ƒåœ°æ–¹ï¼šå®ƒè®©å®¢æˆ·ç«¯å†å‘èµ·ä¸€ä¸ªè¯·æ±‚ä»¥å®Œæˆæ•´ä¸ªå¤„ç†ã€‚ 4xx å®¢æˆ·ç«¯é”™è¯¯â€”â€”å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨å®¢æˆ·ç«¯ï¼Œå¦‚ï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºï¼Œå®¢æˆ·ç«¯æœªè¢«æˆæƒï¼Œç¦æ­¢è®¿é—®ç­‰ 5xx æœåŠ¡å™¨ç«¯é”™è¯¯â€”â€”å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨æœåŠ¡ç«¯ï¼Œå¦‚ï¼šæœåŠ¡ç«¯æŠ›å‡ºå¼‚å¸¸ï¼Œè·¯ç”±å‡ºé”™ï¼ŒHTTPç‰ˆæœ¬ä¸æ”¯æŒç­‰ äºŒã€å¸¸è§çš„å“åº”çŠ¶æ€ç  çŠ¶æ€ç  è‹±æ–‡æè¿° è§£é‡Š ==200== OK å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸï¼Œå³å¤„ç†æˆåŠŸï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€æƒ³çœ‹åˆ°çš„çŠ¶æ€ç  302 Found æŒ‡ç¤ºæ‰€è¯·æ±‚çš„èµ„æºå·²ç§»åŠ¨åˆ°ç”±Locationå“åº”å¤´ç»™å®šçš„ URLï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡æ–°è®¿é—®åˆ°è¿™ä¸ªé¡µé¢ 304 Not Modified å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œä½ è¯·æ±‚çš„èµ„æºè‡³ä¸Šæ¬¡å–å¾—åï¼ŒæœåŠ¡ç«¯å¹¶æœªæ›´æ”¹ï¼Œä½ ç›´æ¥ç”¨ä½ æœ¬åœ°ç¼“å­˜å§ã€‚éšå¼é‡å®šå‘ 400 Bad Request å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£ 403 Forbidden æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ï¼Œæ¯”å¦‚ï¼šæ²¡æœ‰æƒé™è®¿é—®ç›¸å…³èµ„æº ==404== Not Found è¯·æ±‚èµ„æºä¸å­˜åœ¨ï¼Œä¸€èˆ¬æ˜¯URLè¾“å…¥æœ‰è¯¯ï¼Œæˆ–è€…ç½‘ç«™èµ„æºè¢«åˆ é™¤äº† 405 Method Not Allowed è¯·æ±‚æ–¹å¼æœ‰è¯¯ï¼Œæ¯”å¦‚åº”è¯¥ç”¨GETè¯·æ±‚æ–¹å¼çš„èµ„æºï¼Œç”¨äº†POST 428 Precondition Required æœåŠ¡å™¨è¦æ±‚æœ‰æ¡ä»¶çš„è¯·æ±‚ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯è¦æƒ³è®¿é—®è¯¥èµ„æºï¼Œå¿…é¡»æºå¸¦ç‰¹å®šçš„è¯·æ±‚å¤´ 429 Too Many Requests æŒ‡ç¤ºç”¨æˆ·åœ¨ç»™å®šæ—¶é—´å†…å‘é€äº†å¤ªå¤šè¯·æ±‚ï¼ˆâ€œé™é€Ÿâ€ï¼‰ï¼Œé…åˆ Retry-After(å¤šé•¿æ—¶é—´åå¯ä»¥è¯·æ±‚)å“åº”å¤´ä¸€èµ·ä½¿ç”¨ 431 Request Header Fields Too Large è¯·æ±‚å¤´å¤ªå¤§ï¼ŒæœåŠ¡å™¨ä¸æ„¿æ„å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºå®ƒçš„å¤´éƒ¨å­—æ®µå¤ªå¤§ã€‚è¯·æ±‚å¯ä»¥åœ¨å‡å°‘è¯·æ±‚å¤´åŸŸçš„å¤§å°åé‡æ–°æäº¤ã€‚ ==500== Internal Server Error æœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ã€‚æœåŠ¡å™¨å‡ºå¼‚å¸¸äº†ï¼Œèµ¶ç´§çœ‹æ—¥å¿—å»å§ 503 Service Unavailable æœåŠ¡å™¨å°šæœªå‡†å¤‡å¥½å¤„ç†è¯·æ±‚ï¼ŒæœåŠ¡å™¨åˆšåˆšå¯åŠ¨ï¼Œè¿˜æœªåˆå§‹åŒ–å¥½ çŠ¶æ€ç å¤§å…¨ï¼šhttps://cloud.tencent.com/developer/chapter/13553\nå“åº”å¤´ï¼šç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ ¼å¼ key:value å“åº”ä½“ï¼šæœ€åä¸€éƒ¨åˆ†ï¼Œå­˜æ”¾å“åº”æ•°æ® WebæœåŠ¡å™¨ WebæœåŠ¡å™¨æ˜¯ä¸€ä¸ªè½¯ä»¶ç¨‹åºï¼Œå¯¹HTTPåè®®çš„æ“ä½œè¿›è¡Œå°è£…ï¼Œä½¿å¾—ç¨‹åºå‘˜ä¸å¿…ç›´æ¥å¯¹åè®®è¿›è¡Œæ“ä½œï¼Œè®©Webå¼€å‘æ›´åŠ ä¾¿æ·ã€‚ä¸»è¦åŠŸèƒ½æ˜¯â€œæä¾›ç½‘ä¸Šä¿¡æ¯æµè§ˆæœåŠ¡â€ã€‚\nTomCat Apacheè½¯ä»¶åŸºé‡‘ä¼šä¸€ä¸ªæ ¸å¿ƒå°æœ¨ï¼Œæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„è½»é‡çº§WebæœåŠ¡å™¨ï¼Œæ”¯æŒServlet/JSPå°‘é‡JavaEEè§„èŒƒ TomCatä¹Ÿè¢«ç§°ä¸ºWebå®¹å™¨ï¼ŒServletå®¹å™¨ã€‚Servletç¨‹åºéœ€è¦ä¾èµ–äºTomCatæ‰èƒ½è¿è¡Œ å¯åŠ¨æ–¹å¼ï¼šbin/startup.bat\nä¿®æ”¹TomCatç«¯å£å·\nconf/server.xml\nLocalhosté»˜è®¤ç«¯å£å·å°±æ˜¯80\nç”¨tomcatéƒ¨ç½²ï¼Œå°†htmlæ–‡ä»¶å¤åˆ¶åˆ°webappsæ–‡ä»¶å¤¹ä¸­\nèµ·æ­¥ä¾èµ–ï¼š\nåŸºäºSpringBootå¼€å‘çš„webåº”ç”¨ç¨‹åºï¼Œå†…ç½®äº†tomcatæœåŠ¡å™¨ï¼Œå½“å¯åŠ¨ç±»è¿è¡Œæ—¶ï¼Œä¼šè‡ªåŠ¨å¯åŠ¨å†…åµŒçš„tomcatæœåŠ¡å™¨ è¯·æ±‚ å‰åç«¯åˆ†ç¦»å¼€å‘\nPostMan\nå®ä½“å‚æ•° å®ä½“å¯¹è±¡å‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼Œ å³å¯ç›´æ¥é€šè¿‡POJOæ¥å—\næ•°ç»„é›†åˆå‚æ•° æ•°ç»„å‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚æ•°ç»„åç§°ç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªï¼Œå®šä¹‰æ•°ç»„ç±»å‹å½¢å‚å³å¯æ¥å—å‚æ•° è·¯å¾„å‚æ•° é€šè¿‡è¯·æ±‚URLç›´æ¥ä¼ é€’å‚æ•°ï¼Œä½¿ç”¨{...}æ¥æ ‡è¯†è¯¥è·¯å¾„å‚æ•°ï¼Œä½¿ç”¨@PathVariableè·å–è·¯å¾„å‚æ•° å“åº” ResponseBody\nç±»å‹ï¼šæ–¹æ³•æ³¨è§£ï¼Œç±»æ³¨è§£ ä½ç½®ï¼šControlleræ–¹æ³•ä¸Š/ç±»ä¸Š ä½œç”¨ï¼šå°†æ–¹æ³•è¿”å›å€¼ç›´æ¥å“åº”ï¼Œå¦‚æœè¿”å›å€¼ç±»å‹æ—¶ å®ä½“ç±»å‹/é›†åˆï¼Œå°†ä¼šè½¬æ¢ä¸ºJSONæ ¼å¼å“åº” è¯´æ˜ï¼š@RestController = @Controller + @ResponseBody ç»Ÿä¸€å“åº”ç»“æœ Result(code, msg, data) public class Result { private Integer code ;//1 æˆåŠŸ , 0 å¤±è´¥ private String msg; //æç¤ºä¿¡æ¯ private Object data; //æ•°æ® data } åˆ†å±‚è§£è€¦ ä¸‰å±‚æ¶æ„\ncontroller:æ§åˆ¶å±‚ï¼Œæ¥å—å‰ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå¹¶å“åº”æ•°æ® service:ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ dao:æ•°æ®è®¿é—®å±‚ï¼ˆData Access Objectï¼‰ï¼ˆæŒä¹…å±‚ï¼‰ï¼Œè´Ÿè´£æ•°æ®è®¿é—®æ“ä½œï¼ŒåŒ…æ‹¬æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚ å†…èšï¼šè½¯ä»¶ä¸­å„ä¸ªåŠŸèƒ½æ¨¡å—å†…éƒ¨çš„åŠŸèƒ½è”ç³»\nè€¦åˆï¼šè¡¡é‡è½¯ä»¶ä¸­å„ä¸ªå±‚/æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€å…³è”çš„ç¨‹åº¦\nè½¯ä»¶è®¾è®¡åŸåˆ™ï¼šé«˜å†…èšä½è€¦åˆ\næ§åˆ¶åè½¬ï¼šInversion Of Controlï¼ˆIOCï¼‰ã€‚å¯¹è±¡çš„åˆ›å»ºæ§åˆ¶æƒç”±è½¦å…‰ç»ªè‡ªèº«è½¬ç§»åˆ°å¤–éƒ¨(å®¹å™¨)ï¼Œ è¿™ç§æ€æƒ³ç§°ä¸ºæ§åˆ¶åè½¬ã€‚\nä¾èµ–æ³¨å…¥ï¼šDependency Injection, ç®€ç§°DIã€‚ å®¹å™¨ä¸ºåº”ç”¨ç¨‹åºæä¾›è¿è¡Œæ—¶ï¼Œæ‰€ä»¥æ¥çš„ç»„å‘˜ï¼Œç§°ä¹‹ä¸ºä¾èµ–æ³¨å…¥ã€‚\nBeanå¯¹è±¡ï¼šIOCå®¹å™¨ä¸­åˆ›å»ºã€ç®¡ç†çš„å¯¹è±¡ï¼Œç§°ä¹‹ä¸ºbeanã€‚\nç”¨@Componentæ ‡è¯†å®¹å™¨\nIOCæ§åˆ¶åè½¬ é™¤äº†@Componentä¹‹å¤–è¿˜æœ‰@Service, @Repositoryï¼Œ @Controller\næ³¨æ„äº‹é¡¹ï¼š\nå£°æ˜beançš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡valueå±æ€§æŒ‡å®šbeançš„åå­—ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ ä½¿ç”¨ä»¥ä¸Šå››ä¸ªæ³¨è§£éƒ½å¯ä»¥å£°æ˜beanï¼Œ ä½†æ˜¯åœ¨springbootç»§æ‰¿webå¼€å‘ä¸­ï¼Œå£°æ˜æ§åˆ¶å™¨beanåªèƒ½ç”¨@Controller Beanç»„ä»¶æ‰«æï¼š\nå£°æ˜beanè‹¥è¦æƒ³ç”Ÿæ•ˆï¼Œéœ€è¦è¢«ç»„ä»¶æ‰«ææ³¨è§£@ComponentScanæ‰«æ @ComponentScanæ³¨è§£è™½ç„¶æ²¡æœ‰æ˜¾å¼é…ç½®ï¼Œä½†æ˜¯å®é™…ä¸Šå·²ç»åŒ…å«åœ¨äº†å¯åŠ¨ç±»å£°æ˜æ³¨è§£@SpringBootApplicationä¸­ï¼Œé»˜è®¤æ‰«æçš„èŒƒå›´æ—¶å¯åŠ¨ç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ… Beanæ³¨å…¥ @Autowiredæ³¨è§£ï¼Œé»˜è®¤æ—¶æŒ‰ç…§ç±»å‹è¿›è¡Œï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„beanï¼Œ å°†ä¼šæŠ¥å‡ºå¦‚ä¸‹é”™è¯¯ï¼š\nå¦‚æœåŒç±»å‹çš„beanå­˜åœ¨å¤šä¸ªï¼š\n@Primary @Autowired + @Qualifier(\u0026quot;beançš„åç§°\u0026quot;) @Resource(name = \u0026quot;beançš„åç§°\u0026quot;) é¢è¯•é¢˜\n@Resourceå’Œ@Autowiredçš„åŒºåˆ«ï¼š @Autowiredæ˜¯springæ¡†æ¶æä¾›çš„æ³¨è§£ï¼Œè€Œ@Resourceæ˜¯JDKæä¾›çš„æ³¨è§£ã€‚ @Autowiredé»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥ï¼Œè€Œ@Resourceé»˜è®¤æ˜¯æŒ‰ç…§åç§°æ³¨å…¥çš„ã€‚ ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%913/","summary":"Java Webå¼€å‘(3) Maven Mavenæ˜¯ä¸€æ¬¾ç®¡ç†å’Œæ„å»ºjavaé¡¹ç›®çš„å·¥å…· ä¾èµ–ç®¡ç† ç»Ÿä¸€çš„é¡¹ç›®ç»“æ„ é¡¹ç›®æ„å»º \u0026lt;maven.compiler.source\u0026gt;11\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;11\u0026lt;/maven.compiler.target\u0026gt; MVNåæ ‡ Mavenä¸­çš„åæ ‡æ˜¯èµ„æºçš„å”¯ä¸€æ ‡","title":"Java Webå¼€å‘(3)"},{"content":"Java Webå¼€å‘(4) æ•°æ®åº“ æ•°æ®åº“ï¼šDataBase(DB) ï¼Œ æ˜¯å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ DBMSï¼Œ SQL MySqlç™»å½•ï¼Œé¦–å…ˆåœ¨æœåŠ¡ä¸­å¯åŠ¨mysql\nmysql -uroot -p\u0026#34;password\u0026#34; æˆ–è€…\nmysql -uroot -p ä¹‹åè¾“å…¥å¯†ç \nè¿æ¥è¿œç¨‹æ•°æ®åº“\nmysql -h192.168.88.130 -P3306 -utopeet -p\u0026#34;password\u0026#34; æŸ¥çœ‹å½“å‰çš„æ•°æ®åº“\nselect database(); å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰ï¼šå»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šï¼Œç”±å¤šå¼ ç›¸äº’è¿æ¥çš„äºŒç»´è¡¨ç»„æˆçš„æ•°æ®åº“\nSQLï¼šä¸€é—¨æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†\nSQLè¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾ SQLè¯­å¥å¯ä»¥ä½¿ç”¨ç©ºæ ¼/ç¼©è¿›æ¥å¢å¼ºè¯­å¥çš„å¯è¯»æ€§ MySQLæ•°æ®åº“çš„SQLè¯­å¥ä¸åŒºåˆ†å¤§å°å†™ æ³¨é‡Šï¼š å•è¡Œæ³¨é‡Šï¼š \u0026ndash; æ³¨é‡Šå†…å®¹ æˆ–è€… #æ³¨é‡Šå†…å®¹ï¼ˆMySQLç‰¹æœ‰ï¼‰ å¤šè¡Œæ³¨é‡Šï¼š/* æ³¨é‡Šå†…å®¹ */ create database db02; DDLï¼Œ DMLï¼Œ DQLï¼Œ DCL\ncreate database if not exists db02; drop database if exists db03; show databases; select database(); show schemas; DDL åˆ›å»ºè¡¨ çº¦æŸï¼š\néç©ºçº¦æŸ not null å”¯ä¸€çº¦æŸ unique ä¸»é”®çº¦æŸ primary key ï¼ˆauto_incrementè‡ªå¢ï¼‰ é»˜è®¤çº¦æŸ default å¤–é”®çº¦æŸ foreign key (è‡³å°‘æœ‰ä¸¤å¼ è¡¨) æ•°æ®ç±»å‹ ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ç±»å‹ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œæ—¥æœŸæ—¶é—´ç±»å‹\næ•°å€¼ç±»å‹ï¼š\nç±»å‹ å¤§å° æœ‰ç¬¦å·èŒƒå›´ æ— ç¬¦å·èŒƒå›´ æè¿° tinyint 1 ï¼ˆ-128ï¼Œ 127ï¼‰ ï¼ˆ0ï¼Œ 255ï¼‰ å°æ•´æ•°å€¼ smallint 2 ï¼ˆ-32768, 32767) ï¼ˆ0, 65535) å¤§æ•´æ•°å€¼ mediumint 3 ï¼ˆ-8388608ï¼Œ 8388607ï¼‰ ï¼ˆ0ï¼Œ 16777215ï¼‰ å¤§æ•´æ•°å€¼ int 4 ï¼ˆ-2147483647ï¼Œ 2147483648ï¼‰ ï¼ˆ0ï¼Œ 4294967295ï¼‰ å¤§æ•´æ•°å€¼ bigint 8 ï¼ˆ-2^63, 2^63-1) ï¼ˆ0ï¼Œ 2^64-1) æå¤§æ•´æ•°å€¼ float 4 å•ç²¾åº¦æµ®ç‚¹å€¼ float(5, 2)è¡¨ç¤ºæ•´ä¸ªæ•°å­—é•¿åº¦ä¸º5ï¼Œ å°æ•°ä½æ•°ä¸º2 double 8 åŒç²¾åº¦æµ®ç‚¹å€¼ decimal å°æ•°å€¼ï¼ˆç²¾åº¦æ›´é«˜ï¼‰ é‡‘é¢è®¡ç®— æŸ¥è¯¢å½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨ï¼š\nshow tables; æŸ¥è¯¢è¡¨ç»“æ„ï¼š\ndesc è¡¨å æŸ¥è¯¢å»ºè¡¨è¯­å¥ï¼š\nshow create table è¡¨å -- å‘˜å·¥ç®¡ç†(å¸¦çº¦æŸ) create table tb_emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; alter table tb_emp add qq varchar(11) comment \u0026#39;QQ\u0026#39;; alter table tb_emp modify qq varchar(13) comment \u0026#39;QQ\u0026#39;; alter table tb_emp change qq qq_num varchar(13) comment \u0026#39;QQ\u0026#39;; alter table tb_emp drop column qq_num; rename table tb_emp to emp; drop table if exists tb_emp; DML Data Manipulation Language(æ•°æ®æ“ä½œè¯­è¨€)ï¼Œ ç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è®°å½•è¿›è¡Œå¢ï¼Œåˆ ï¼Œæ”¹æ“ä½œã€‚\ninsert into tb_emp(username,name,gender,create_time,update_time) values (\u0026#39;Kennem\u0026#39;, \u0026#39;å¼ æ— å¿Œ\u0026#39;, \u0026#39;1\u0026#39;,now(),now()); # æ’å…¥çš„å†…å®¹åŒ…å«æ‰€æœ‰å­—æ®µï¼ˆå¯ä»¥çœç•¥æ‰€æœ‰å­—æ®µï¼‰ insert into tb_emp(id, username, password, name, gender, image, job, entrydate, create_time, update_time) values (null, \u0026#39;zhiruo\u0026#39;, \u0026#39;123\u0026#39;, \u0026#39;kdkd\u0026#39;, 2, \u0026#39;1.jpg\u0026#39;, 1, \u0026#39;2021-01-20\u0026#39;,now(), now()); # æ’å…¥å¤šç»„æ•°æ® insert into tb_emp(username, password, name, gender, image, job, entrydate, create_time, update_time) values (\u0026#39;Oliver\u0026#39;, \u0026#39;123\u0026#39;, \u0026#39;kdkd\u0026#39;, 2, \u0026#39;1.jpg\u0026#39;, 1, \u0026#39;2021-01-20\u0026#39;,now(), now()),(\u0026#39;Linux\u0026#39;, \u0026#39;123\u0026#39;, \u0026#39;kdkd\u0026#39;, 2, \u0026#39;1.jpg\u0026#39;, 1, \u0026#39;2021-01-20\u0026#39;,now(), now()); # æ›´æ–°æ•°æ® update tb_emp set name = \u0026#39;å¼ ä¸‰\u0026#39;, update_time = now() where id = 1; # æ›´æ–°æ‰€æœ‰æ•°æ®çš„æ­¤å­—æ®µ update tb_emp set entrydate = \u0026#39;2010-01-01\u0026#39;, update_time = now(); # æ›´æ–°æ‰€æœ‰è¡Œ # åˆ é™¤id=1çš„æ•°æ® delete from emp where id=1; # åˆ é™¤æ‰€æœ‰æ•°æ® delete from emp; # deleteä¸èƒ½åˆ é™¤æŸä¸€å­—æ®µçš„å€¼ï¼Œå¯ä»¥ç”¨updateå°†è¿™ä¸€å­—æ®µè®¾ç½®ä¸ºNULL DQL Data Query Languageï¼ˆæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰ï¼Œ ç”¨æ¥æŸ¥è¯¢æ•°æ®åº“è¡¨ä¸­çš„è®°å½• å…³é”®å­—ï¼šSELECT select from where group by having order by limit èšåˆå‡½æ•°ï¼š\ncount max min avg sum select name, entrydate from tb_emp; select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp; select * from tb_emp; select name as å§“å, entrydate as å…¥èŒæ—¥æœŸ from tb_emp; select name as \u0026#39;å§“ å\u0026#39;, entrydate as å…¥èŒæ—¥æœŸ from tb_emp; select distinct job from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­çš„nameå’Œentrydateå­—æ®µ select name, entrydate from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­çš„æ‰€æœ‰å­—æ®µï¼Œå¹¶ä¸”æ˜¾å¼åˆ—å‡ºå®ƒä»¬ select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­çš„æ‰€æœ‰å­—æ®µï¼ˆä¸ç›´è§‚ï¼Œæ€§èƒ½è¾ƒä½ï¼‰ select * from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­çš„nameå’Œentrydateå­—æ®µï¼Œå¹¶å°†å®ƒä»¬é‡å‘½åä¸ºâ€œå§“åâ€å’Œâ€œå…¥èŒæ—¥æœŸâ€ select name as å§“å, entrydate as å…¥èŒæ—¥æœŸ from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­çš„nameå’Œentrydateå­—æ®µï¼Œå¹¶å°†å®ƒä»¬é‡å‘½åä¸ºâ€œå§“ åâ€å’Œâ€œå…¥èŒæ—¥æœŸâ€ select name \u0026#39;å§“ å\u0026#39;, entrydate å…¥èŒæ—¥æœŸ from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­ä¸åŒçš„jobå­—æ®µå€¼ select distinct job from tb_emp; -- ä»tb_empè¡¨ä¸­é€‰æ‹©nameä¸ºâ€œæ¨é€â€çš„è®°å½• select * from tb_emp where name = \u0026#39;æ¨é€\u0026#39;; -- ä»tb_empè¡¨ä¸­é€‰æ‹©idå°äºç­‰äº5çš„è®°å½• select * from tb_emp where id \u0026lt;= 5; -- ä»tb_empè¡¨ä¸­é€‰æ‹©jobå­—æ®µä¸ºnullçš„è®°å½• select * from tb_emp where job is null; -- ä»tb_empè¡¨ä¸­é€‰æ‹©jobå­—æ®µä¸ä¸ºnullçš„è®°å½• select * from tb_emp where job is not null; -- ä»tb_empè¡¨ä¸­é€‰æ‹©passwordå­—æ®µä¸ç­‰äºâ€œ123456â€çš„è®°å½• select * from tb_emp where password != \u0026#39;123456\u0026#39;; -- ä»tb_empè¡¨ä¸­é€‰æ‹©passwordå­—æ®µä¸ç­‰äºâ€œ123456â€çš„è®°å½•ï¼ˆå¦ä¸€ç§å†™æ³•ï¼‰ select * from tb_emp where password \u0026lt;\u0026gt; \u0026#39;123456\u0026#39;; -- ä»tb_empè¡¨ä¸­é€‰æ‹©entrydateåœ¨2000-01-01åˆ°2010-01-01ä¹‹é—´çš„è®°å½• select * from tb_emp where entrydate \u0026gt;= \u0026#39;2000-01-01\u0026#39; and entrydate \u0026lt;= \u0026#39;2010-01-01\u0026#39;; -- ä»tb_empè¡¨ä¸­é€‰æ‹©entrydateåœ¨2000-01-01åˆ°2010-01-01ä¹‹é—´çš„è®°å½•ï¼ˆä½¿ç”¨betweenï¼‰ select * from tb_emp where entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2010-01-01\u0026#39;; -- é‡å¤çš„è¯­å¥ï¼Œé€‰æ‹©entrydateåœ¨2000-01-01åˆ°2010-01-01ä¹‹é—´çš„è®°å½•ï¼ˆä½¿ç”¨betweenï¼‰ select * from tb_emp where entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2010-01-01\u0026#39;; -- é‡å¤çš„è¯­å¥ï¼Œé€‰æ‹©entrydateåœ¨2000-01-01åˆ°2010-01-01ä¹‹é—´çš„è®°å½• select * from tb_emp where entrydate \u0026gt;= \u0026#39;2000-01-01\u0026#39; and entrydate \u0026lt;= \u0026#39;2010-01-01\u0026#39;; -- ä»tb_empè¡¨ä¸­é€‰æ‹©entrydateåœ¨2000-01-01åˆ°2010-01-01ä¹‹é—´ï¼Œä¸”genderä¸º2çš„è®°å½• select * from tb_emp where entrydate \u0026gt;= \u0026#39;2000-01-01\u0026#39; and entrydate \u0026lt;= \u0026#39;2010-01-01\u0026#39; and gender = 2; -- ä»tb_empè¡¨ä¸­é€‰æ‹©jobä¸º2ã€3æˆ–4çš„è®°å½• select * from tb_emp where job = 2 or job = 3 or job = 4; -- ä»tb_empè¡¨ä¸­é€‰æ‹©jobåœ¨2, 3, 4ä¸­çš„è®°å½•ï¼ˆä½¿ç”¨inï¼‰ select * from tb_emp where job in (2, 3, 4); -- ä½¿ç”¨é€šé…ç¬¦_è¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼Œé€‰æ‹©nameå­—æ®µé•¿åº¦ä¸º2çš„è®°å½• select * from tb_emp where name like \u0026#39;__\u0026#39;; -- ä½¿ç”¨é€šé…ç¬¦_è¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼Œé€‰æ‹©nameå­—æ®µé•¿åº¦ä¸º3çš„è®°å½• select * from tb_emp where name like \u0026#39;___\u0026#39;; -- ä½¿ç”¨é€šé…ç¬¦%è¡¨ç¤ºä»»æ„ä¸ªå­—ç¬¦ï¼Œé€‰æ‹©nameä»¥â€œå¼ â€å¼€å¤´çš„è®°å½• select * from tb_emp where name like \u0026#39;å¼ %\u0026#39;; -- è®¡æ•°idå­—æ®µçš„éç©ºå€¼ select count(id) from tb_emp; -- è®¡æ•°è¡¨ä¸­çš„è®°å½•æ•°ï¼Œå¸¸é‡\u0026#39;A\u0026#39;å¯¹è®¡æ•°æ²¡æœ‰å½±å“ select count(\u0026#39;A\u0026#39;) from tb_emp; -- æ¨èçš„è®¡æ•°è¡¨ä¸­è®°å½•æ•°çš„å†™æ³• select count(*) from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­entrydateçš„æœ€å°å€¼ select min(entrydate) from tb_emp; -- é€‰æ‹©tb_empè¡¨ä¸­entry -- é€‰æ‹©tb_empè¡¨ä¸­entrydateçš„æœ€å¤§å€¼ select max(entrydate) from tb_emp; -- è®¡ç®—tb_empè¡¨ä¸­idå­—æ®µçš„å¹³å‡å€¼ select avg(id) from tb_emp; -- è®¡ç®—tb_empè¡¨ä¸­idå­—æ®µçš„æ€»å’Œ select sum(id) from tb_emp; -- æŒ‰genderå­—æ®µåˆ†ç»„ï¼Œå¹¶è®¡æ•°æ¯ä¸ªæ€§åˆ«çš„è®°å½•æ•° select gender, count(*) from tb_emp group by gender; -- æŒ‰jobå­—æ®µåˆ†ç»„ï¼Œå¹¶é€‰æ‹©entrydateå°äºç­‰äº2015-01-01çš„è®°å½• -- åªåŒ…æ‹¬è®°å½•æ•°å¤§äºç­‰äº2çš„ç»„ select job, count(*) from tb_emp where entrydate \u0026lt;= \u0026#39;2015-01-01\u0026#39; group by job having count(*) \u0026gt;= 2; -- ä»tb_empè¡¨ä¸­é€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œå¹¶æŒ‰entrydateå­—æ®µå‡åºæ’åº select * from tb_emp order by entrydate; -- ä»tb_empè¡¨ä¸­é€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œå¹¶æŒ‰entrydateå­—æ®µé™åºæ’åº select * from tb_emp order by entrydate DESC; -- ä»tb_empè¡¨ä¸­é€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œå…ˆæŒ‰entrydateå­—æ®µå‡åºæ’åºï¼Œ -- å¯¹äºç›¸åŒentrydateçš„è®°å½•ï¼Œå†æŒ‰update_timeå­—æ®µé™åºæ’åº select * from tb_emp order by entrydate, update_time DESC; -- ä»tb_empè¡¨ä¸­é€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œåˆ†é¡µæ˜¾ç¤º -- ç¬¬äºŒé¡µçš„è®°å½•ï¼Œæ¯é¡µæ˜¾ç¤º5æ¡è®°å½• -- èµ·å§‹ç´¢å¼•ä¸º5ï¼Œå³ä»ç¬¬6æ¡è®°å½•å¼€å§‹ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰ select * from tb_emp limit 5, 5; -- ä»tb_empè¡¨ä¸­é€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œåˆ†é¡µæ˜¾ç¤º -- ç¬¬ä¸‰é¡µçš„è®°å½•ï¼Œæ¯é¡µæ˜¾ç¤º5æ¡è®°å½• -- èµ·å§‹ç´¢å¼•ä¸º10ï¼Œå³ä»ç¬¬11æ¡è®°å½•å¼€å§‹ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰ select * from tb_emp limit 10, 5; é¢è¯•é¢˜ DQL-åˆ†ç»„æŸ¥è¯¢ï¼Œ whereä¸havingåŒºåˆ«\næ‰§è¡Œæ—¶æœºä¸åŒï¼šwhereæ˜¯åˆ†ç»„ä¹‹å‰è¿›è¡Œè¿‡æ»¤ï¼Œä¸æ»¡è¶³whereæ¡ä»¶ï¼Œä¸å‚ä¸åˆ†ç»„ï¼Œè€Œhavingæ˜¯åˆ†ç»„ä¹‹åå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ åˆ¤æ–­æ¡ä»¶ä¸åŒï¼šwhereä¸èƒ½å¯¹èšåˆå‡½æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè€Œhavingå¯ä»¥ æ³¨æ„äº‹é¡¹ï¼š\nåˆ†ç»„ä¹‹åï¼ŒæŸ¥è¯¢çš„å­—æ®µä¸€èˆ¬ä¸ºèšåˆå‡½æ•°å’Œåˆ†ç»„å­—æ®µï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µæ²¡æœ‰æ„ä¹‰ æ‰§è¡Œé¡ºåºï¼š where \u0026gt; èšåˆå‡½æ•° \u0026gt; having æ¡ˆä¾‹ -- ä»tb_empè¡¨ä¸­é€‰æ‹©æŒ‡å®šå­—æ®µï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š -- nameåŒ…å«â€œå¼ â€ï¼Œgenderä¸º1ï¼Œentrydateåœ¨2000-01-01åˆ°2015-12-31ä¹‹é—´ -- ç»“æœæŒ‰update_timeé™åºæ’åºï¼Œå¹¶åˆ†é¡µæ˜¾ç¤º -- æ˜¾ç¤ºç¬¬2é¡µçš„è®°å½•ï¼Œæ¯é¡µ10æ¡è®°å½•ï¼Œå³ä»ç¬¬11æ¡åˆ°ç¬¬20æ¡è®°å½• select tb_emp.id, tb_emp.username, tb_emp.password, tb_emp.name, tb_emp.gender, tb_emp.image, tb_emp.job, tb_emp.entrydate, tb_emp.create_time, tb_emp.update_time from tb_emp where name like \u0026#39;%å¼ %\u0026#39; and gender = 1 and entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2015-12-31\u0026#39; order by update_time DESC limit 10, 10; -- ä½¿ç”¨IFå‡½æ•°ï¼Œæ ¹æ®genderå­—æ®µçš„å€¼åˆ¤æ–­æ€§åˆ«ï¼Œå¹¶è®¡æ•°æ¯ä¸ªæ€§åˆ«çš„è®°å½•æ•° -- ä½¿ç”¨IFå‡½æ•°ï¼šå¦‚æœgenderä¸º1ï¼Œåˆ™æ˜¾ç¤ºâ€œç”·æ€§å‘˜å·¥â€ï¼›å¦åˆ™æ˜¾ç¤ºâ€œå¥³æ€§å‘˜å·¥â€ select if(gender = 1, \u0026#39;ç”·æ€§å‘˜å·¥\u0026#39;, \u0026#39;å¥³æ€§å‘˜å·¥\u0026#39;) æ€§åˆ«, count(*) äººæ•° from tb_emp group by gender; -- ä½¿ç”¨CASEè¯­å¥ï¼Œæ ¹æ®jobå­—æ®µçš„å€¼ç¡®å®šèŒä½åç§°ï¼Œå¹¶è®¡æ•°æ¯ä¸ªèŒä½çš„è®°å½•æ•° -- ä½¿ç”¨CASEè¯­å¥ï¼šå½“jobä¸º1æ—¶ï¼Œæ˜¾ç¤ºâ€œç­ä¸»ä»»â€ï¼›å½“jobä¸º2æ—¶ï¼Œæ˜¾ç¤ºâ€œè®²å¸ˆâ€ï¼› -- å½“jobä¸º3æ—¶ï¼Œæ˜¾ç¤ºâ€œå­¦å·¥ä¸»ç®¡â€ï¼›å½“jobä¸º4æ—¶ï¼Œæ˜¾ç¤ºâ€œæ•™ç ”ä¸»ç®¡â€ï¼›å¦åˆ™æ˜¾ç¤ºâ€œæœªåˆ†é…èŒä½â€ select (case job when 1 then \u0026#39;ç­ä¸»ä»»\u0026#39; when 2 then \u0026#39;è®²å¸ˆ\u0026#39; when 3 then \u0026#39;å­¦å·¥ä¸»ç®¡\u0026#39; when 4 then \u0026#39;æ•™ç ”ä¸»ç®¡\u0026#39; else \u0026#39;æœªåˆ†é…èŒä½\u0026#39; end) èŒä½, count(*) äººæ•° from tb_emp group by job; å¤šè¡¨è®¾è®¡ é¡¹ç›®å¼€å‘ä¸­ï¼Œåœ¨è¿›è¡Œæ•°æ®è¡¨ç»“æ„è®¾è®¡æ—¶ï¼Œä¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠä¸šåŠ¡æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œåˆ†æå¹¶è®¾è®¡è¡¨ç»“æ„ï¼Œç”±äºä¸šåŠ¡ä¹‹é—´ç›¸äº’å…³è”ï¼Œæ‰€ä»¥å„ä¸ªè¡¨ç»“æ„ä¹‹é—´ä¹Ÿå­˜åœ¨ç€å„ç§è”ç³»\nä¸€å¯¹å¤š(å¤šå¯¹ä¸€) å¤šå¯¹å¤š ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š éƒ¨é—¨å’Œå‘˜å·¥ ç‰©ç†å¤–é”®\næ¦‚å¿µï¼šä½¿ç”¨foreign keyå®šä¹‰å¤–é”®å…³è”å¦å¤–ä¸€å¼ è¡¨ã€‚ ç¼ºç‚¹ï¼š å½±å“å¢ï¼Œåˆ ï¼Œæ”¹çš„æ•ˆç‡ï¼ˆéœ€è¦æ£€æŸ¥å¤–é”®å…³ç³»ï¼‰ ä»…ç”¨äºå•èŠ‚ç‚¹æ•°æ®åº“ï¼Œä¸é€‚ç”¨ä¸åˆ†å¸ƒå¼ï¼Œé›†ç¾¤åœºæ™¯ å®¹æ˜“å¼•å‘æ•°æ®åº“çš„æ­»é”é—®é¢˜ï¼Œæ¶ˆè€—æ€§èƒ½ alter table tb_emp add constraint tb_emp___fk_dept_id foreign key (dept_id) references tb_dept (id); é€»è¾‘å¤–é”®\næ¦‚å¿µï¼šåœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œè§£å†³å¤–é”®å…³è” é€šè¿‡é€»è¾‘å¤–é”®ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³ä¸Šè¿°é—®é¢˜ ä¸€å¯¹ä¸€ æ¡ˆä¾‹ï¼šç”¨æˆ·ä¸èº«ä»½è¯ä¿¡æ¯çš„å…³ç³»\nå…³ç³»ï¼šä¸€å¯¹ä¸€å…³ç³»ï¼Œå¤šç”¨äºå•è¡¨æ‹†åˆ†ï¼Œå°†ä¸€å¼ è¡¨çš„åŸºç¡€å­—æ®µæ”¾åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œå…¶ä»–å­—æ®µæ”¾åœ¨å¦ä¸€å¼ è¡¨ä¸­ï¼Œä»¥æå‡æ“ä½œæ•ˆç‡\nå®ç°ï¼šåœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦å¤–ä¸€æ–¹ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€çš„ï¼ˆUNIQUEï¼‰\n-- åˆ›å»ºç”¨æˆ·ä¿¡æ¯è¡¨ tb_user create table tb_user ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, -- è‡ªå¢ä¸»é”®ID name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, -- ç”¨æˆ·å§“å gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, 1 ç”· 2 å¥³\u0026#39;, -- æ€§åˆ«ï¼Œ1è¡¨ç¤ºç”·ï¼Œ2è¡¨ç¤ºå¥³ phone char(11) comment \u0026#39;æ‰‹æœºå·\u0026#39;, -- æ‰‹æœºå· degree varchar(10) comment \u0026#39;å­¦å†\u0026#39; -- å­¦å† ) comment \u0026#39;ç”¨æˆ·ä¿¡æ¯è¡¨\u0026#39;; -- è¡¨æ³¨é‡Š -- æ’å…¥ç”¨æˆ·ä¿¡æ¯è¡¨ tb_user çš„æ•°æ® insert into tb_user values (1, \u0026#39;ç™½çœ‰é¹°ç‹\u0026#39;, 1, \u0026#39;18812340001\u0026#39;, \u0026#39;åˆä¸­\u0026#39;), (2, \u0026#39;é’ç¿¼è ç‹\u0026#39;, 1, \u0026#39;18812340002\u0026#39;, \u0026#39;å¤§ä¸“\u0026#39;), (3, \u0026#39;é‡‘æ¯›ç‹®ç‹\u0026#39;, 1, \u0026#39;18812340003\u0026#39;, \u0026#39;åˆä¸­\u0026#39;), (4, \u0026#39;ç´«è¡«é¾™ç‹\u0026#39;, 2, \u0026#39;18812340004\u0026#39;, \u0026#39;ç¡•å£«\u0026#39;); -- åˆ›å»ºç”¨æˆ·è¯¦ç»†ä¿¡æ¯è¡¨ tb_user_card create table tb_user_card ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, -- è‡ªå¢ä¸»é”®ID nationality varchar(10) not null comment \u0026#39;æ°‘æ—\u0026#39;, -- æ°‘æ— birthday date not null comment \u0026#39;ç”Ÿæ—¥\u0026#39;, -- ç”Ÿæ—¥ idcard char(18) not null comment \u0026#39;èº«ä»½è¯å·\u0026#39;, -- èº«ä»½è¯å· issued varchar(20) not null comment \u0026#39;ç­¾å‘æœºå…³\u0026#39;, -- ç­¾å‘æœºå…³ expire_begin date not null comment \u0026#39;æœ‰æ•ˆæœŸé™-å¼€å§‹\u0026#39;, -- æœ‰æ•ˆæœŸé™å¼€å§‹æ—¥æœŸ expire_end date comment \u0026#39;æœ‰æ•ˆæœŸé™-ç»“æŸ\u0026#39;, -- æœ‰æ•ˆæœŸé™ç»“æŸæ—¥æœŸ user_id int unsigned not null unique comment \u0026#39;ç”¨æˆ·ID\u0026#39;, -- ç”¨æˆ·IDï¼Œå”¯ä¸€ä¸”éç©º constraint fk_user_id foreign key (user_id) references tb_user (id) -- å¤–é”®çº¦æŸï¼Œå¼•ç”¨ tb_user è¡¨çš„ id å­—æ®µ ) comment \u0026#39;ç”¨æˆ·ä¿¡æ¯è¡¨\u0026#39;; -- è¡¨æ³¨é‡Š -- æ’å…¥ç”¨æˆ·è¯¦ç»†ä¿¡æ¯è¡¨ tb_user_card çš„æ•°æ® insert into tb_user_card values (1, \u0026#39;æ±‰\u0026#39;, \u0026#39;1960-11-06\u0026#39;, \u0026#39;100000100000100001\u0026#39;, \u0026#39;æœé˜³åŒºå…¬å®‰å±€\u0026#39;, \u0026#39;2000-06-10\u0026#39;, null, 1), (2, \u0026#39;æ±‰\u0026#39;, \u0026#39;1971-11-06\u0026#39;, \u0026#39;100000100000100002\u0026#39;, \u0026#39;é™å®‰åŒºå…¬å®‰å±€\u0026#39;, \u0026#39;2005-06-10\u0026#39;, \u0026#39;2025-06-10\u0026#39;, 2), (3, \u0026#39;æ±‰\u0026#39;, \u0026#39;1963-11-06\u0026#39;, \u0026#39;100000100000100003\u0026#39;, \u0026#39;æ˜Œå¹³åŒºå…¬å®‰å±€\u0026#39;, \u0026#39;2006-06-10\u0026#39;, null, 3), (4, \u0026#39;å›\u0026#39;, \u0026#39;1980-11-06\u0026#39;, \u0026#39;100000100000100004\u0026#39;, \u0026#39;æµ·æ·€åŒºå…¬å®‰å±€\u0026#39;, \u0026#39;2008-06-10\u0026#39;, \u0026#39;2028-06-10\u0026#39;, 4); å¤šå¯¹å¤š æ¡ˆä¾‹ï¼šå­¦ç”Ÿä¸è¯¾ç¨‹çš„å…³ç³»\nå…³ç³»ï¼šä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯ä»¥ä¾›å¤šä¸ªå­¦ç”Ÿé€‰æ‹©\nä½¿ç”¨ä¸­é—´è¡¨æ¥å¯¹åº”å¤šå¯¹å¤šçš„å…³ç³»\n-- åˆ›å»ºå­¦ç”Ÿè¡¨ tb_student create table tb_student ( id int auto_increment primary key comment \u0026#39;ä¸»é”®ID\u0026#39;, -- è‡ªå¢ä¸»é”®ID name varchar(10) comment \u0026#39;å§“å\u0026#39;, -- å­¦ç”Ÿå§“å no varchar(10) comment \u0026#39;å­¦å·\u0026#39; -- å­¦ç”Ÿå­¦å· ) comment \u0026#39;å­¦ç”Ÿè¡¨\u0026#39;; -- è¡¨æ³¨é‡Š -- æ’å…¥å­¦ç”Ÿè¡¨ tb_student çš„æ•°æ® insert into tb_student (name, no) values (\u0026#39;é»›ç»®ä¸\u0026#39;, \u0026#39;2000100101\u0026#39;), (\u0026#39;è°¢é€Š\u0026#39;, \u0026#39;2000100102\u0026#39;), (\u0026#39;æ®·å¤©æ­£\u0026#39;, \u0026#39;2000100103\u0026#39;), (\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;, \u0026#39;2000100104\u0026#39;); -- åˆ›å»ºè¯¾ç¨‹è¡¨ tb_course create table tb_course ( id int auto_increment primary key comment \u0026#39;ä¸»é”®ID\u0026#39;, -- è‡ªå¢ä¸»é”®ID name varchar(10) comment \u0026#39;è¯¾ç¨‹åç§°\u0026#39; -- è¯¾ç¨‹åç§° ) comment \u0026#39;è¯¾ç¨‹è¡¨\u0026#39;; -- è¡¨æ³¨é‡Š -- æ’å…¥è¯¾ç¨‹è¡¨ tb_course çš„æ•°æ® insert into tb_course (name) values (\u0026#39;Java\u0026#39;), (\u0026#39;PHP\u0026#39;), (\u0026#39;MySQL\u0026#39;), (\u0026#39;Hadoop\u0026#39;); -- åˆ›å»ºå­¦ç”Ÿè¯¾ç¨‹ä¸­é—´è¡¨ tb_student_courseï¼Œç”¨äºè¡¨ç¤ºå­¦ç”Ÿå’Œè¯¾ç¨‹çš„å¤šå¯¹å¤šå…³ç³» create table tb_student_course ( id int auto_increment comment \u0026#39;ä¸»é”®\u0026#39; primary key, -- è‡ªå¢ä¸»é”®ID student_id int not null comment \u0026#39;å­¦ç”ŸID\u0026#39;, -- å­¦ç”ŸIDï¼Œéç©º course_id int not null comment \u0026#39;è¯¾ç¨‹ID\u0026#39;, -- è¯¾ç¨‹IDï¼Œéç©º constraint fk_courseid foreign key (course_id) references tb_course (id), -- å¤–é”®çº¦æŸï¼Œå¼•ç”¨ tb_course è¡¨çš„ id å­—æ®µ constraint fk_studentid foreign key (student_id) references tb_student (id) -- å¤–é”®çº¦æŸï¼Œå¼•ç”¨ tb_student è¡¨çš„ id å­—æ®µ ) comment \u0026#39;å­¦ç”Ÿè¯¾ç¨‹ä¸­é—´è¡¨\u0026#39;; -- è¡¨æ³¨é‡Š -- æ’å…¥å­¦ç”Ÿè¯¾ç¨‹ä¸­é—´è¡¨ tb_student_course çš„æ•°æ®ï¼Œè¡¨ç¤ºå­¦ç”Ÿé€‰æ‹©çš„è¯¾ç¨‹ insert into tb_student_course (student_id, course_id) values (1, 1), -- å­¦ç”Ÿ ID 1 é€‰æ‹©äº†è¯¾ç¨‹ ID 1 (Java) (1, 2), -- å­¦ç”Ÿ ID 1 é€‰æ‹©äº†è¯¾ç¨‹ ID 2 (PHP) (1, 3), -- å­¦ç”Ÿ ID 1 é€‰æ‹©äº†è¯¾ç¨‹ ID 3 (MySQL) (2, 2), -- å­¦ç”Ÿ ID 2 é€‰æ‹©äº†è¯¾ç¨‹ ID 2 (PHP) (2, 3), -- å­¦ç”Ÿ ID 2 é€‰æ‹©äº†è¯¾ç¨‹ ID 3 (MySQL) (3, 4); -- å­¦ç”Ÿ ID 3 é€‰æ‹©äº†è¯¾ç¨‹ ID 4 (Hadoop) æ¡ˆä¾‹ å‚è€ƒé¡µé¢åŸå‹åŠéœ€æ±‚ï¼Œè®¾è®¡åˆç†çš„è¡¨ç»“æ„\né˜…è¯»é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ï¼Œåˆ†æå„ä¸ªæ¨¡å—æ¶‰åŠåˆ°çš„è¡¨ç»“æ„ï¼ŒåŠè¡¨ç»“æ„ä¹‹é—´çš„å…³ç³» æ ¹æ®é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ï¼Œåˆ†æå„ä¸ªè¡¨ç»“æ„ä¸­å…·ä½“çš„å­—æ®µåŠçº¦æŸ æ€»ç»“ ä¸€å¯¹å¤š\nåœ¨å¤šçš„ä¸€æ–¹æ·»åŠ å¤–é”®ï¼Œå…³è”å¦å¤–ä¸€æ–¹çš„ä¸»é”®\nä¸€å¯¹ä¸€\nä»»æ„ä¸€æ–¹ï¼Œæ·»åŠ å¤–é”®ï¼Œå…³è”å¦å¤–ä¸€æ–¹çš„ä¸»é”®\nå¤šå¯¹å¤š\né€šè¿‡ä¸­é—´è¡¨æ¥ç»´æŠ¤ï¼Œä¸­é—´è¡¨çš„ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”å¦å¤–ä¸¤ä¸ªè¡¨çš„ä¸»é”®\nå¤šè¡¨æŸ¥è¯¢ ä»å¤šå¼ è¡¨ä¸­æŸ¥è¯¢æ•°æ®\nåˆ†ç±»\nè¿æ¥æŸ¥è¯¢ å†…è¿æ¥ï¼šç›¸å½“äºæŸ¥è¯¢Aï¼Œ Bäº¤é›†éƒ¨åˆ†æ•°æ® -- è¿™æ˜¯ä¸€ä¸ªç¬›å¡å°”ç§¯æŸ¥è¯¢ï¼Œè¿”å›tb_empå’Œtb_deptè¡¨çš„æ‰€æœ‰ç»„åˆã€‚ select * from tb_emp, -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ tb_dept; -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ -- è¿™æ˜¯ä¸€ä¸ªå†…è¿æ¥æŸ¥è¯¢ï¼Œè¿”å›tb_empå’Œtb_deptè¡¨ä¸­æ»¡è¶³è¿æ¥æ¡ä»¶çš„æ‰€æœ‰è®°å½•ã€‚ select * from tb_emp, -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ tb_dept -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ where tb_emp.dept_id = tb_dept.id; -- è¿æ¥æ¡ä»¶ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- è¿™æ˜¯ä¸€ä¸ªå†…è¿æ¥æŸ¥è¯¢ï¼Œåªè¿”å›å‘˜å·¥çš„å§“åå’Œæ‰€å±éƒ¨é—¨çš„åç§°ã€‚ select tb_emp.name, -- tb_emp è¡¨ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ tb_dept.name -- tb_dept è¡¨ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp, -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ tb_dept -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ where tb_emp.dept_id = tb_dept.id; -- è¿æ¥æ¡ä»¶ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨INNER JOINå…³é”®å­—çš„å†…è¿æ¥æŸ¥è¯¢ï¼Œè¿”å›å‘˜å·¥çš„å§“åå’Œæ‰€å±éƒ¨é—¨çš„åç§°ã€‚ select tb_emp.name, -- tb_emp è¡¨ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ tb_dept.name -- tb_dept è¡¨ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ inner join tb_dept -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ï¼Œä½¿ç”¨INNER JOINå…³é”®å­—è¿›è¡Œè¿æ¥ on tb_emp.dept_id = tb_dept.id; -- è¿æ¥æ¡ä»¶ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨JOINå…³é”®å­—çš„å†…è¿æ¥æŸ¥è¯¢ï¼Œè¿”å›å‘˜å·¥çš„å§“åå’Œæ‰€å±éƒ¨é—¨çš„åç§°ã€‚ select tb_emp.name, -- tb_emp è¡¨ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ tb_dept.name -- tb_dept è¡¨ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ join tb_dept -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ï¼Œä½¿ç”¨JOINå…³é”®å­—è¿›è¡Œè¿æ¥ on tb_emp.dept_id = tb_dept.id; -- è¿æ¥æ¡ä»¶ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨è¡¨åˆ«åçš„å†…è¿æ¥æŸ¥è¯¢ï¼Œè¿”å›å‘˜å·¥çš„å§“åå’Œæ‰€å±éƒ¨é—¨çš„åç§°ã€‚ select e.name, -- e è¡¨ï¼ˆtb_emp è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ p.name -- p è¡¨ï¼ˆtb_dept è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp e, -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º e tb_dept p -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º p where e.dept_id = p.id; -- è¿æ¥æ¡ä»¶ï¼še è¡¨ï¼ˆtb_emp è¡¨ï¼‰çš„ dept_id ç­‰äº p è¡¨ï¼ˆtb_dept è¡¨ï¼‰çš„ id å¤–è¿æ¥ï¼š å·¦å¤–è¿æ¥ï¼šæŸ¥è¯¢å·¦è¡¨æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬ä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ® å³å¤–è¿æ¥ï¼šæŸ¥è¯¢å³è¡¨æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬ä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ®ï¼‰ -- å·¦è¿æ¥ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥åŠå…¶æ‰€å±éƒ¨é—¨çš„åç§°ï¼ŒåŒ…å«æ²¡æœ‰éƒ¨é—¨çš„å‘˜å·¥ select e.name, -- e è¡¨ï¼ˆtb_emp è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ p.name -- p è¡¨ï¼ˆtb_dept è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp e -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º e left join tb_dept p on e.dept_id = p.id; -- å·¦è¿æ¥ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- å³è¿æ¥ï¼šæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨åŠå…¶å‘˜å·¥çš„å§“åï¼ŒåŒ…å«æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ select e.name, -- e è¡¨ï¼ˆtb_emp è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ p.name -- p è¡¨ï¼ˆtb_dept è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_emp e -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º e right join tb_dept p on e.dept_id = p.id; -- å³è¿æ¥ï¼štb_empè¡¨ä¸­çš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id -- å·¦è¿æ¥ï¼šæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨åŠå…¶å‘˜å·¥çš„å§“åï¼ŒåŒ…å«æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ï¼ˆå’Œä¸Šé¢çš„å³è¿æ¥æŸ¥è¯¢ç»“æœç›¸åŒï¼‰ select e.name, -- e è¡¨ï¼ˆtb_emp è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆå‘˜å·¥å§“åï¼‰ p.name -- p è¡¨ï¼ˆtb_dept è¡¨çš„åˆ«åï¼‰ä¸­çš„ name åˆ—ï¼ˆéƒ¨é—¨åç§°ï¼‰ from tb_dept p -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º p left join tb_emp e on p.id = e.dept_id; -- å·¦è¿æ¥ï¼štb_deptè¡¨ä¸­çš„idç­‰äºtb_empè¡¨ä¸­çš„dept_id å­æŸ¥è¯¢ -- å­æŸ¥è¯¢ï¼šæŸ¥è¯¢idç­‰äºæ•™ç ”éƒ¨çš„éƒ¨é—¨idçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where id = (select id from tb_dept where tb_dept.name = \u0026#39;æ•™ç ”éƒ¨\u0026#39;); -- å­æŸ¥è¯¢ï¼šä»tb_deptè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;æ•™ç ”éƒ¨\u0026#39;çš„éƒ¨é—¨id -- æ ‡é‡å­æŸ¥è¯¢ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸæ™šäºæ–¹ä¸œç™½çš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where entrydate \u0026gt; (select tb_emp.entrydate from tb_emp where name = \u0026#39;æ–¹ä¸œç™½\u0026#39;); -- å­æŸ¥è¯¢ï¼šä»tb_empè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;æ–¹ä¸œç™½\u0026#39;çš„å‘˜å·¥å…¥èŒæ—¥æœŸ -- åˆ—å­æŸ¥è¯¢ï¼šæŸ¥è¯¢éƒ¨é—¨ä¸ºæ•™ç ”éƒ¨æˆ–å’¨è¯¢éƒ¨çš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where dept_id in (select id from tb_dept where name in (\u0026#39;æ•™ç ”éƒ¨\u0026#39;, \u0026#39;å’¨è¯¢éƒ¨\u0026#39;)); -- å­æŸ¥è¯¢ï¼šä»tb_deptè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;æ•™ç ”éƒ¨\u0026#39;æˆ–\u0026#39;å’¨è¯¢éƒ¨\u0026#39;çš„éƒ¨é—¨id -- è¡Œå­æŸ¥è¯¢ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸå’ŒèŒä½å‡ä¸éŸ¦ä¸€ç¬‘ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where entrydate = (select entrydate from tb_emp where name = \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;) -- å­æŸ¥è¯¢ï¼šä»tb_empè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;çš„å‘˜å·¥å…¥èŒæ—¥æœŸ and job = (select job from tb_emp where name = \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;); -- å­æŸ¥è¯¢ï¼šä»tb_empè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;çš„å‘˜å·¥èŒä½ -- è¡Œå­æŸ¥è¯¢çš„å¦ä¸€ç§å†™æ³•ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸå’ŒèŒä½å‡ä¸éŸ¦ä¸€ç¬‘ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where (entrydate, job) = (select entrydate, job from tb_emp where name = \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;); -- å­æŸ¥è¯¢ï¼šä»tb_empè¡¨ä¸­é€‰æ‹©åç§°ä¸º\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;çš„å‘˜å·¥å…¥èŒæ—¥æœŸå’ŒèŒä½ -- è¡¨å­æŸ¥è¯¢ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸåœ¨2006-01-01ä¹‹åçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp -- tb_emp è¡¨ï¼ˆå‘˜å·¥è¡¨ï¼‰ where entrydate \u0026gt; \u0026#39;2006-01-01\u0026#39;; -- æ¡ä»¶ï¼šå…¥èŒæ—¥æœŸåœ¨2006-01-01ä¹‹å -- è¡¨å­æŸ¥è¯¢çš„å¦ä¸€ç§å†™æ³•ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸåœ¨2006-01-01ä¹‹åçš„å‘˜å·¥åŠå…¶æ‰€å±éƒ¨é—¨ä¿¡æ¯ select * from (select * from tb_emp where entrydate \u0026gt; \u0026#39;2006-01-01\u0026#39;) e, -- å­æŸ¥è¯¢ï¼šä»tb_empè¡¨ä¸­é€‰æ‹©å…¥èŒæ—¥æœŸåœ¨2006-01-01ä¹‹åçš„å‘˜å·¥ï¼Œå¹¶èµ·åˆ«åä¸º e tb_dept p -- tb_dept è¡¨ï¼ˆéƒ¨é—¨è¡¨ï¼‰ï¼Œèµ·åˆ«åä¸º p where e.dept_id = p.id; -- è¿æ¥æ¡ä»¶ï¼šå­æŸ¥è¯¢ç»“æœçš„dept_idç­‰äºtb_deptè¡¨ä¸­çš„id æ¡ˆä¾‹ å¯¹èœå“(dish)ï¼Œ å¥—é¤(setmeal)ï¼Œç±»åˆ«(category)ï¼Œèœå“å’Œå¥—é¤(setmeal_dish)å¯¹åº”å…³ç³»è¡¨è¿›è¡Œå¤šè¡¨æŸ¥è¯¢\n-- æŸ¥è¯¢ä»·æ ¼ä½äº10å…ƒçš„èœå“çš„åç§°å’Œä»·æ ¼ SELECT d.name, d.price FROM dish d WHERE d.price \u0026lt; 10; -- æŸ¥è¯¢ä»·æ ¼ä½äº10å…ƒçš„èœå“çš„åç§°ã€ä»·æ ¼ä»¥åŠæ‰€å±åˆ†ç±»çš„åç§° SELECT d.name, d.price, c.name FROM dish d, category c WHERE d.category_id = c.id -- ä½¿ç”¨category_idè¿æ¥èœå“å’Œåˆ†ç±» AND d.price \u0026lt; 10; -- è¿‡æ»¤ä»·æ ¼ä½äº10å…ƒçš„èœå“ -- æŸ¥è¯¢ä»·æ ¼åœ¨10åˆ°50å…ƒä¹‹é—´ä¸”çŠ¶æ€ä¸º1çš„èœå“çš„åç§°ã€ä»·æ ¼ä»¥åŠæ‰€å±åˆ†ç±»çš„åç§° SELECT d.name, d.price, c.name FROM dish d LEFT JOIN category c ON d.category_id = c.id -- å·¦è¿æ¥ï¼ŒåŒ…å«æ‰€æœ‰èœå“ï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰åˆ†ç±» WHERE d.price BETWEEN 10 AND 50 -- è¿‡æ»¤ä»·æ ¼åœ¨10åˆ°50å…ƒä¹‹é—´çš„èœå“ AND d.status = 1; -- è¿‡æ»¤çŠ¶æ€ä¸º1çš„èœå“ -- æŸ¥è¯¢æ‰€æœ‰æœ‰èœå“çš„åˆ†ç±»çš„åç§°ï¼ŒæŒ‰åˆ†ç±»åç§°åˆ†ç»„ SELECT c.name FROM dish d, category c WHERE d.category_id = c.id -- ä½¿ç”¨category_idè¿æ¥èœå“å’Œåˆ†ç±» GROUP BY c.name; -- æŒ‰åˆ†ç±»åç§°åˆ†ç»„ï¼Œè·å–å”¯ä¸€çš„åˆ†ç±»åç§° -- æŸ¥è¯¢æœ‰3ä¸ªæˆ–æ›´å¤šèœå“çš„åˆ†ç±»çš„åç§°åŠå…¶èœå“æ•°é‡ SELECT c.name, COUNT(*) FROM dish d, category c WHERE d.category_id = c.id -- ä½¿ç”¨category_idè¿æ¥èœå“å’Œåˆ†ç±» GROUP BY c.name -- æŒ‰åˆ†ç±»åç§°åˆ†ç»„ï¼Œè®¡ç®—æ¯ä¸ªåˆ†ç±»çš„èœå“æ•°é‡ HAVING COUNT(*) \u0026gt;= 3; -- ä»…åŒ…å«èœå“æ•°é‡å¤§äºæˆ–ç­‰äº3çš„åˆ†ç±» -- æŸ¥è¯¢æ¯ä¸ªåˆ†ç±»çš„åç§°åŠå…¶èœå“çš„æœ€é«˜ä»·æ ¼ SELECT c.name, MAX(d.price) FROM dish d, category c WHERE d.category_id = c.id -- ä½¿ç”¨category_idè¿æ¥èœå“å’Œåˆ†ç±» GROUP BY c.name; -- æŒ‰åˆ†ç±»åç§°åˆ†ç»„ï¼Œè·å–æ¯ä¸ªåˆ†ç±»çš„æœ€é«˜ä»·æ ¼ -- æŸ¥è¯¢åä¸º\u0026#39;å•†åŠ¡å¥—é¤A\u0026#39;çš„å¥—é¤åŠå…¶èœå“çš„åç§°ã€ä»·æ ¼å’Œä»½æ•° SELECT s.name, s.price, d.name, d.price, sd.copies FROM setmeal s, setmeal_dish sd, dish d WHERE s.id = sd.setmeal_id -- ä½¿ç”¨setmeal_idè¿æ¥å¥—é¤å’Œå¥—é¤èœå“ AND sd.dish_id = d.id -- ä½¿ç”¨dish_idè¿æ¥å¥—é¤èœå“å’Œèœå“ AND s.name = \u0026#39;å•†åŠ¡å¥—é¤A\u0026#39;; -- è¿‡æ»¤å‡ºåç§°ä¸º\u0026#39;å•†åŠ¡å¥—é¤A\u0026#39;çš„å¥—é¤ -- æŸ¥è¯¢ä»·æ ¼ä½äºæ‰€æœ‰èœå“å¹³å‡ä»·æ ¼çš„èœå“çš„æ‰€æœ‰åˆ— SELECT * FROM dish WHERE price \u0026lt; (SELECT AVG(d.price) FROM dish d); -- å­æŸ¥è¯¢è·å–æ‰€æœ‰èœå“çš„å¹³å‡ä»·æ ¼ äº‹ç‰© äº‹ç‰©æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œ äº‹ç‰©ä¼šæŠŠæ‰€æœ‰çš„æ“ä½œä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œ è¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚\nstart transaction; delete from tb_dept where id = 2; delete from tb_emp where dept_id = 2; commit; -- å¦‚æœåœ¨äº‹åŠ¡ä¸­çš„è¯­å¥å‡ºç°äº†é—®é¢˜ï¼Œ åˆ™ä¸èƒ½ç›´æ¥æäº¤ï¼Œéœ€è¦å›æ»šä¿è¯æ‰€æœ‰è¯­å¥éƒ½æ²¡æœ‰é—®é¢˜ rollback; å››å¤§ç‰¹æ€§ ACID\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°å•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹ç‰©å®Œæˆåï¼Œ å¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šæ•°æ®åº“ç³»ç»Ÿæä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œä¿è¯äº‹ç‰©åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹ç‰©ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„ æ•°æ®åº“ä¼˜åŒ– ç´¢å¼•ï¼ˆindexï¼‰ï¼šæ˜¯å¸®åŠ©æ•°æ®åº“é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„\nç´¢å¼•ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼š\næé«˜æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ï¼Œé™ä½æ•°æ®åº“çš„IOæˆæœ¬ é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œé™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œé™ä½CPUæ¶ˆè€— ç¼ºç‚¹ï¼š\nç´¢å¼•ä¼šå ç”¨å­˜å‚¨ç©ºé—´ ç´¢å¼•å¤§å¤§æé«˜äº†æŸ¥è¯¢æ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†insert, update, deleteçš„æ•ˆç‡ ç´¢å¼•çš„æ•°æ®ç»“æ„ MySQLæ•°æ®åº“æ”¯æŒçš„ç´¢å¼•ç»“æ„æœ‰å¾ˆå¤šï¼Œ å¦‚ï¼šHashç´¢å¼•ï¼Œ B+Treeç´¢å¼•ï¼Œ Full-Testç´¢å¼•ç­‰ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡æ˜ï¼Œéƒ½æ˜¯æŒ‡é»˜è®¤çš„B+Treeç»“æ„ç»„ç»‡çš„ç´¢å¼•ã€‚\né¡µæ˜¯æ•°æ®åº“å­˜å‚¨çš„æœ€å°å•ä½ï¼Œä¸€ä¸ªé¡µä¸º16KB\nB+Tree(å¤šè·¯å¹³è¡¡æœç´¢æ ‘) æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨å¤šä¸ªKeyï¼Œ æ‰€æœ‰çš„Keyéƒ½ä¼šåœ¨å¶å­èŠ‚ç‚¹ä¸­å‡ºç°\næ¯ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªkeyï¼ˆæœ‰nä¸ªkeyï¼Œ å°±æœ‰nä¸ªæŒ‡é’ˆï¼‰ã€‚ æ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹å†…ï¼Œéå¶å­èŠ‚ç‚¹ä»…ç”¨äºç´¢å¼•æ•°æ®ã€‚ å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€é¢—åŒå‘é“¾è¡¨ï¼Œä¾¿äºæ•°æ®çš„æ’åºåŠåŒºé—´èŒƒå›´æŸ¥è¯¢ã€‚ ç´¢å¼•åˆ›å»ºçš„SQL -- åœ¨tb_empè¡¨çš„nameåˆ—ä¸Šåˆ›å»ºç´¢å¼•idx_tb_emp_name CREATE INDEX idx_tb_emp_name ON tb_emp(name); -- æ˜¾ç¤ºtb_empè¡¨ä¸­çš„æ‰€æœ‰ç´¢å¼• SHOW INDEX FROM tb_emp; -- åˆ é™¤tb_empè¡¨ä¸Šçš„ç´¢å¼•idx_tb_emp_name DROP INDEX idx_tb_emp_name ON tb_emp; ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%914/","summary":"Java Webå¼€å‘(4) æ•°æ®åº“ æ•°æ®åº“ï¼šDataBase(DB) ï¼Œ æ˜¯å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ DBMSï¼Œ SQL MySqlç™»å½•ï¼Œé¦–å…ˆåœ¨æœåŠ¡ä¸­å¯åŠ¨mysql mysql -uroot -p\u0026#34;password\u0026#34;","title":"Java Webå¼€å‘(4)"},{"content":"Java Webå¼€å‘(1) ä»€ä¹ˆæ˜¯Webï¼Ÿ Webï¼šå…¨çƒå¹¿åŸŸç½‘ï¼Œä¹Ÿæˆä¸ºä¸‡ç»´ç½‘ï¼ˆWorld Wide Web)ï¼Œèƒ½å¤Ÿé€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç½‘ç«™ CRM OA ERP\nä¸è°‹å…¨å±€è€…ä¸è¶³ä»¥è°‹ä¸€åŸŸ\nå‰åç«¯åˆ†ç¦»å¼€å‘\næ··åˆå¼€å‘\nWebæ ‡å‡†ä¹Ÿæˆä¸ºç½‘é¡µæ ‡å‡†ï¼Œæœ‰ä¸€ç³»åˆ—çš„æ ‡å‡†ç»„æˆï¼Œå¤§éƒ¨åˆ†ç”±W3Cï¼ˆä¸‡ç»´ç½‘è”ç›Ÿï¼‰è´Ÿè´£åˆ¶å®š\nä¸‰ä¸ªéƒ¨åˆ† HTMLï¼šè´Ÿè´£ç½‘é¡µçš„ç»“æœï¼ˆé¡µé¢å…ƒç´ å’Œå†…å®¹ï¼‰ CSSï¼šè´Ÿè´£ç½‘é¡µçš„è¡¨ç°ï¼ˆé¡µé¢å…ƒç´ çš„å¤–è§‚ï¼Œä½ç½®ç­‰é¡µé¢æ ·å¼ï¼Œå¦‚ï¼šé¢œè‰²ï¼Œå¤§å°ç­‰ï¼‰ JavaScriptï¼šè´Ÿè´£ç½‘é¡µçš„è¡Œä¸ºï¼ˆäº¤äº’æ•ˆæœï¼‰ ä»€ä¹ˆæ˜¯HTMLï¼ŒCSSï¼Ÿ HTMLï¼ˆHyperTextMarkupLanguage):è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚ è¶…æ–‡æœ¬ï¼šè¶…è¶Šäº†æ–‡æœ¬çš„é™åˆ¶ï¼Œæ¯”æ™®é€šæ–‡æœ¬æ›´å¼ºå¤§ã€‚ æ ‡è®°è¯­è¨€ï¼šç”±æ ‡ç­¾æ„æˆçš„è¯­è¨€ HTMLæ ‡ç­¾éƒ½æ˜¯é¢„å®šä¹‰å·çš„ã€‚ä¾‹å¦‚ï¼šä½¿ç”¨\u0026lt;a\u0026gt;å±•ç¤ºè¶…é“¾æ¥ï¼Œä½¿ç”¨\u0026lt;img\u0026gt;å±•ç¤ºå›¾ç‰‡ï¼Œ\u0026lt;video\u0026gt;å±•ç¤ºè§†é¢‘ã€‚ HTMLä»£ç ç›´æ¥åœ¨æµè§ˆå™¨ä¸­å…è®¸ï¼ŒHTMLæ ‡ç­¾ç”±æµè§ˆå™¨è§£æã€‚ æ ‡ç­¾ä¸åŒºåˆ†å¤§å°ï¼Œå•åŒå¼•å·éƒ½å¯ä»¥ï¼Œè¯­æ³•ç»“æ„æ¯”è¾ƒæ¾æ•£\nCSS CSSï¼ˆCascading Style Sheetï¼‰ï¼šå±‚å æ ·å¼è¡¨ï¼Œç”¨äºæ§åˆ¶é¡µé¢çš„æ ·å¼ï¼ˆè¡¨ç°ï¼‰ CSSå¼•å…¥æ–¹å¼ï¼š è¡Œå†…æ ·å¼ï¼šå†™åœ¨æ ‡ç­¾çš„styleå±æ€§ä¸­ï¼ˆä¸æ¨èï¼‰ å†…åµŒæ ·å¼ï¼šå†™åœ¨styleæ ‡ç­¾ä¸­ï¼ˆå¯ä»¥å†™åœ¨é¡µé¢ä»»ä½•ä½ç½®ï¼Œä½†é€šå¸¸çº¦å®šå†™åœ¨headæ ‡ç­¾ä¸­ï¼‰ å¤–è”æ ·å¼ï¼Œå†™åœ¨ä¸€ä¸ªå•ç‹¬çš„.cssæ–‡ä»¶ä¸­ï¼ˆéœ€è¦é€šè¿‡linkæ ‡ç­¾åœ¨ç½‘é¡µä¸­å¼•å…¥ï¼‰ é¢œè‰²æ ‡è¯†æ³•ï¼š å…³é”®å­—ï¼šé¢„å®šä¹‰çš„é¢œè‰²åï¼ˆred, green, blue) rgbè¡¨ç¤ºæ³•ï¼šçº¢ç»¿è“ä¸‰åŸè‰²ï¼Œæ¯é¡¹å–å€¼èŒƒå›´ï¼š0~255 åå…­è¿›åˆ¶è¡¨ç¤ºæ³•ï¼š#å¼€å¤´ï¼Œå°†æ•°å­—è½¬æ¢æˆåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œ#000000ï¼Œ #ff0000, #ccccccï¼Œ ç®€å†™ä¸º#000ï¼Œ #ccc \u0026lt;span\u0026gt;æ ‡ç­¾\nå¤§é‡ä½¿ç”¨æ²¡æœ‰è¯­ä¹‰çš„å¸ƒå±€æ ‡ç­¾ ç‰¹ç‚¹ï¼šä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ªï¼ˆç»„åˆè¡Œå†…å…ƒç´ ï¼‰ï¼Œå®½åº¦å’Œé«˜åº¦é»˜è®¤ç”±å†…å®¹æ’‘å¼€ CSSé€‰æ‹©å™¨ å…ƒç´ é€‰æ‹©å™¨ï¼šæ ‡ç­¾å{\u0026hellip;} idé€‰æ‹©å™¨ï¼š#idå±æ€§å€¼{\u0026hellip;} ç±»é€‰æ‹©å™¨ï¼š.classå±æ€§å€¼{\u0026hellip;} ä¼˜å…ˆçº§ï¼šidé€‰æ‹©å™¨ \u0026gt; ç±»é€‰æ‹©å™¨ \u0026gt; å…ƒç´ é€‰æ‹©å™¨ CSSå±æ€§ colorï¼Œ font-size(å•ä½px) è¶…é“¾æ¥\næ ‡ç­¾ï¼š\u0026lt;a\u0026gt; å±æ€§ï¼šhrefï¼šåˆ¶å®šèµ„æºè®¿é—®url target:æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€èµ„æºé“¾æ¥ _selfï¼šé»˜è®¤å€¼ï¼Œåœ¨å½“å‰é¡µé¢æ‰“å¼€ _blankï¼šåœ¨ç©ºç™½é¡µé¢æ‰“å¼€ CSSå±æ€§\ntext-decoration:è§„å®šæ·»åŠ åˆ°æ–‡æœ¬çš„ä¿®é¥°ï¼Œnoneè¡¨ç¤ºå®šä¹‰æ ‡å‡†çš„æ–‡æœ¬ colorï¼šå®šä¹‰æ–‡æœ¬çš„é¢œè‰² éŸ³é¢‘ï¼Œè§†é¢‘æ ‡ç­¾\n\u0026lt;audio\u0026gt; \u0026lt;video\u0026gt; æ¢è¡Œï¼Œæ®µè½æ ‡ç­¾\n\u0026lt;br\u0026gt;, \u0026lt;p\u0026gt; æ–‡æœ¬åŠ ç²—æ ‡ç­¾\n\u0026lt;b\u0026gt;, \u0026lt;strong\u0026gt; CSSæ ·å¼ line-height: è®¾ç½®è¡Œé«˜\ntext-indent: å®šä¹‰ç¬¬ä¸€ä¸ªè¡Œå†…å®¹çš„ç¼©è¿›\ntext-align:è§„å®šå…ƒç´ ä¸­çš„æ–‡æœ¬çš„æ°´å¹³å¯¹é½æ–¹å¼\nhtmlä¸­çš„ç©ºæ ¼å ä½ç¬¦ \u0026amp;nbsp;\né¡µé¢å¸ƒå±€ ç›’å­ï¼šé¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰ï¼Œéƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªç›’å­ï¼Œ ç”±ç›’å­å°†é¡µé¢ä¸­çš„å…ƒç´ åŒ…å«åœ¨ä¸€ä¸ªçŸ©å½¢åŒºåŸŸå†…ï¼Œé€šè¿‡ç›’å­çš„è§†è§’æ›´æ–¹ä¾¿çš„è¿›è¡Œé¡µé¢å¸ƒå±€\nç›’å­æ¨¡å‹ç»„æˆï¼šå†…å®¹åŒºåŸŸï¼ˆcontentï¼‰ï¼Œ å†…è¾¹è·åŒºåŸŸï¼ˆpaddingï¼‰ï¼Œè¾¹æ¡†åŒºåŸŸï¼ˆborderï¼‰ï¼Œå¤–è¾¹è·åŒºåŸŸ(margin)\nå¸ƒå±€æ ‡ç­¾ï¼šå®é™…å¼€å‘ç½‘é¡µä¸­ï¼Œä¼šå¤§é‡é¢‘ç¹çš„ä½¿ç”¨divå’Œspanè¿™ä¸¤ä¸ªæ²¡æœ‰è¯­ä¹‰çš„å¸ƒå±€æ ‡ç­¾\næ ‡ç­¾ï¼š\u0026lt;div\u0026gt;``\u0026lt;span\u0026gt;\nç‰¹ç‚¹ï¼š\ndivæ ‡ç­¾ï¼š ä¸€è¡Œåªæ˜¾ç¤ºä¸€ä¸ªï¼ˆç‹¬å ä¸€è¡Œï¼‰ å®½åº¦é»˜è®¤æ˜¯çˆ¶å…ƒç´ çš„å®½åº¦ï¼Œé«˜åº¦é»˜è®¤ç”±å†…å®¹æ’‘å¼€ å¯ä»¥è®¾ç½®å®½é«˜ï¼ˆwidth, height) spanæ ‡ç­¾ ä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª å®½åº¦å’Œé«˜åº¦é»˜è®¤ç”±å†…å®¹æ’‘å¼€ ä¸å¯è®¾ç½®å®½é«˜ï¼ˆwidth, height) æ³¨æ„ï¼šå¦‚æœåªéœ€è¦è®¾ç½®æŸä¸€ä¸ªæ–¹ä½çš„è¾¹æ¡†ï¼Œå†…è¾¹è·ï¼Œå¤–è¾¹è·ï¼Œå¯ä»¥åœ¨å±æ€§åç±³å¨œåŠ ä¸Š-ä½ç½®ï¼Œ ä¾‹å¦‚ï¼špadding-top, padding-left, padding-rightã€‚\nè¡¨æ ¼æ ‡ç­¾ åœºæ™¯ï¼šåœ¨ç½‘é¡µä¸­ä»¥è¡¨æ ¼ï¼ˆè¡Œã€åˆ—ï¼‰å½¢å¼æ•´é½å±•ç¤ºæ•°æ® æ ‡ç­¾ \u0026lt;table\u0026gt; å®šä¹‰è¡¨æ ¼æ•´ä½“ï¼Œå¯ä»¥åŒ…è£¹å¤šä¸ª\u0026lt;tr\u0026gt; border:è§„å®šè¡¨æ ¼è¾¹æ¡†çš„å®½åº¦ widthï¼šè§„å®šè¡¨æ ¼çš„å®½åº¦ cellspacingï¼šè§„å®šå•å…ƒä¹‹é—´çš„ç©ºé—´ \u0026lt;tr\u0026gt;è¡¨æ ¼çš„è¡Œï¼Œå¯ä»¥åŒ…è£¹å¤šä¸ª\u0026lt;td\u0026gt; \u0026lt;td\u0026gt;è¡¨æ ¼å•å…ƒæ ¼ï¼ˆæ™®é€šï¼‰ï¼Œ å¯ä»¥åŒ…è£¹å†…å®¹ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;HTML-è¡¨æ ¼\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; /* æ ·å¼ç¾åŒ– */ td { text-align: center; /* è®©å•å…ƒæ ¼å†…å®¹å±…ä¸­å±•ç¤º */ } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table border=\u0026#34;1px\u0026#34; cellspacing=\u0026#34;0\u0026#34; width=\u0026#34;600px\u0026#34;\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;!-- è¡¨å¤´ --\u0026gt; \u0026lt;th\u0026gt;åºå·\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å“ç‰ŒLogo\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å“ç‰Œåç§°\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;ä¼ä¸šåç§°\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;!-- ç¬¬ä¸€è¡Œæ•°æ® --\u0026gt; \u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;img src=\u0026#34;img/huawei.jpg\u0026#34; width=\u0026#34;100px\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;!-- æ’å…¥å›¾ç‰‡ --\u0026gt; \u0026lt;td\u0026gt;åä¸º\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;!-- ç¬¬äºŒè¡Œæ•°æ® --\u0026gt; \u0026lt;td\u0026gt;2\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;img src=\u0026#34;img/alibaba.jpg\u0026#34; width=\u0026#34;100px\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;!-- æ’å…¥å›¾ç‰‡ --\u0026gt; \u0026lt;td\u0026gt;é˜¿é‡Œ\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;é˜¿é‡Œå·´å·´é›†å›¢æ§è‚¡æœ‰é™å…¬å¸\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¡¨å•æ ‡ç­¾ åœºæ™¯ï¼šåœ¨ç½‘é¡µä¸­ä¸»è¦è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½ï¼Œå¦‚ æ³¨å†Œï¼Œç™»å½•ç­‰æ•°æ®é‡‡é›†ã€‚\næ ‡ç­¾ï¼š\u0026lt;form\u0026gt;\nè¡¨å•é¡¹ï¼šä¸åŒç±»å‹çš„inputå…ƒç´ ï¼Œä¸‹ä¿©åˆ—è¡¨ï¼Œæ–‡æœ¬åŸŸç­‰\n\u0026lt;input\u0026gt;: å®šä¹‰è¡¨å•é¡¹ï¼Œé€šè¿‡typeå±æ€§æ§åˆ¶è¾“å…¥å½¢å¼\n\u0026lt;select\u0026gt;ï¼šå®šä¹‰ä¸‹æ‹‰åˆ—è¡¨\n\u0026lt;textarea\u0026gt;ï¼šå®šä¹‰æ–‡æœ¬åŸŸ\nå±æ€§ï¼š\nactionï¼šè§„å®šå½“æäº¤è¡¨å•æ—¶å‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ï¼ŒURL\nmethodï¼šè§„å®šç”¨äºå‘é€è¡¨å•æ•°æ®çš„æ–¹å¼ã€‚\nGETè¡¨å•æ•°æ®æ‹¼æ¥åœ¨urlåé¢ï¼Œ å¤§å°æœ‰é™åˆ¶ POSTè¡¨å•æ•°æ®åœ¨è¯·æ±‚ä½“ä¸­æºå¸¦ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ è¡¨å•å¿…é¡»ç”±nameå±æ€§\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;HTML-è¡¨å•\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;!-- formè¡¨å•å±æ€§: action: è¡¨å•æäº¤çš„URLï¼Œæ•°æ®å°†ä¼šè¢«æäº¤åˆ°æŒ‡å®šçš„URLåœ°å€ã€‚å¦‚æœæœªæŒ‡å®šï¼Œå°†é»˜è®¤æäº¤åˆ°å½“å‰é¡µé¢ã€‚ method: è¡¨å•çš„æäº¤æ–¹å¼ã€‚ get: å°†è¡¨å•æ•°æ®é™„åŠ åœ¨URLåé¢ï¼Œä¾‹å¦‚ï¼š?username=Tom\u0026amp;age=12ã€‚ç”±äºURLé•¿åº¦æœ‰é™åˆ¶ï¼Œé€‚åˆä¼ é€’å°‘é‡æ•°æ®ã€‚é»˜è®¤å€¼ã€‚ post: å°†è¡¨å•æ•°æ®åŒ…å«åœ¨æ¶ˆæ¯ä½“ï¼ˆè¯·æ±‚ä½“ï¼‰ä¸­ä¼ é€’ï¼Œæ²¡æœ‰å‚æ•°å¤§å°é™åˆ¶ï¼Œé€‚åˆä¼ é€’å¤§é‡æ•°æ®ã€‚ --\u0026gt; \u0026lt;form action=\u0026#34;\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;!-- è¾“å…¥æ¡† --\u0026gt; ç”¨æˆ·å: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt; å¹´é¾„: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;age\u0026#34;\u0026gt; æ€§åˆ«: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;sex\u0026#34;\u0026gt; \u0026lt;!-- æäº¤æŒ‰é’® --\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¡¨å•é¡¹ \u0026lt;input\u0026gt; ï¼šè¡¨å•é¡¹ï¼šé€šè¿‡typeå±æ€§æ§åˆ¶è¾“å…¥å½¢å¼ã€‚ \u0026lt;select\u0026gt;ï¼šå®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ï¼Œ\u0026lt;option\u0026gt;å®šä¹‰åˆ—è¡¨é¡¹ \u0026lt;textarea\u0026gt;ï¼šæ–‡æœ¬åŸŸ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;æ ‡é¢˜\u0026lt;/title\u0026gt; \u0026lt;!-- å†…åµŒæ ·å¼ --\u0026gt; \u0026lt;style\u0026gt; /* CSSæ ·å¼ */ h1 { color: #4d4f53; /* è®¾ç½®æ ‡é¢˜é¢œè‰² */ } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;!-- é¡µé¢å†…å®¹ --\u0026gt; \u0026lt;h1\u0026gt;æ ‡é¢˜\u0026lt;/h1\u0026gt; \u0026lt;!-- æ ‡é¢˜ --\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;!-- æ°´å¹³åˆ†å‰²çº¿ --\u0026gt; \u0026lt;span id=\u0026#34;time\u0026#34;\u0026gt;2024å¹´04æœˆ24æ—¥ 16:32\u0026lt;/span\u0026gt; \u0026lt;!-- æ—¶é—´ --\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;!-- æ°´å¹³åˆ†å‰²çº¿ --\u0026gt; \u0026lt;!-- è§†é¢‘å’ŒéŸ³é¢‘æ’­æ”¾å™¨ --\u0026gt; \u0026lt;video src=\u0026#34;video\\1.mp4\u0026#34; controls width=\u0026#34;950px\u0026#34;\u0026gt;\u0026lt;/video\u0026gt; \u0026lt;audio src=\u0026#34;audio\\1.mp3\u0026#34; controls\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;!-- æ–‡ç« å†…å®¹ --\u0026gt; \u0026lt;p\u0026gt; æ ‡é¢˜ \u0026lt;!-- æ›´å¤šå†…å®¹çœç•¥... --\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;!-- å›¾ç‰‡ --\u0026gt; \u0026lt;img src=\u0026#34;https://n.sinaimg.cn/sinakd20240424s/66/w554h312/20240424/6365-b8bea506131b4261f579f58304a45baa.png\u0026#34;\u0026gt; \u0026lt;!-- æ›´å¤šå†…å®¹çœç•¥... --\u0026gt; \u0026lt;!-- è´£ä»»ç¼–è¾‘ --\u0026gt; \u0026lt;p id=\u0026#34;plast\u0026#34;\u0026gt; è´£ä»»ç¼–è¾‘ï¼šxxx \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; JavaScript JSæ˜¯ä¸€é—¨è·¨å¹³å°ï¼Œé¢å‘å¯¹è±¡çš„è„šæœ¬è¯­è¨€ã€‚ç”¨æ¥æ§åˆ¶ç½‘é¡µè¡Œä¸ºçš„ï¼Œå®ƒèƒ½ä½¿ç½‘é¡µå¯ä»¥äº¤äº’ JavaScriptå¼•å…¥æ–¹å¼ å†…éƒ¨è„šæœ¬ï¼šå°†JSä»£ç å®šä¹‰åœ¨HTMlé¡µé¢ä¸­\nJavaScriptä»£ç å¿…é¡»ä½äº\u0026lt;script\u0026gt;``\u0026lt;/script\u0026gt;æ ‡ç­¾ä¹‹é—´ åœ¨HTMLæ–‡æ¡£ä¸­ï¼Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹ï¼Œæ”¾ç½®ä»»æ„æ•°é‡çš„\u0026lt;script\u0026gt; ä¸€èˆ¬ä¼šæŠŠè„šæœ¬ç½®äº\u0026lt;body\u0026gt;å…ƒç´ çš„åº•éƒ¨ï¼Œå¯æ”¹å–„æ˜¾ç¤ºé€Ÿåº¦ å¤–éƒ¨è„šæœ¬ï¼šå°†JSä»£ç å®šä¹‰åœ¨å¤–éƒ¨JSæ–‡ä»¶ä¸­ï¼Œç„¶åå¼•å…¥åˆ°HTMLé¡µé¢ä¸­\nå¤–éƒ¨JSæ–‡ä»¶ä¸­ï¼ŒåªåŒ…å«JSä»£ç ï¼Œä¸åŒ…å«\u0026lt;script\u0026gt;æ ‡ç­¾ \u0026lt;script\u0026gt;æ ‡ç­¾ä¸èƒ½è‡ªé—­å’Œ ä¹¦å†™è¯­æ³•ï¼š åŒºåˆ†å¤§å°å†™ æ¯è¡Œç»“å°¾çš„åˆ†å·å¯æœ‰å¯æ—  æ³¨é‡Š å•è¡Œæ³¨é‡Šï¼š//æ³¨é‡Šå†…å®¹ å¤šè¡Œæ³¨é‡Šï¼š/* æ³¨é‡Šå†…å®¹ */ å¤§æ‹¬å·è¡¨ç¤ºä»£ç å— JSè¾“å‡º \u0026lt;script\u0026gt; // alert(\u0026#34;H\u0026#34;) // /* æ³¨é‡Š*/ // window.alert(\u0026#34;hello js\u0026#34;) document.write(\u0026#34;hi\u0026#34;) console.log(\u0026#34;hello\u0026#34;) \u0026lt;/script\u0026gt; å˜é‡ JSä¸­ä½¿ç”¨varå…³é”®å­—æ¥å£°æ˜å˜é‡ JSæ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œå˜é‡å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å€¼ å˜é‡åéœ€è¦éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š ç»„æˆå­—ç¬¦å¯ä»¥æ˜¯ä»»ä½•å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿(_)æˆ–è€…ç¾å…ƒç¬¦å·($) æ•°å­—ä¸èƒ½å¼€å¤´ å»ºè®®ä½¿ç”¨é©¼å³°å‘½å åŸå§‹æ•°æ®ç±»å‹ï¼š\nnumberï¼šæ•°å­—ï¼ˆæ•´æ•°ï¼Œå°æ•°NaN) string : å­—ç¬¦ä¸²ï¼Œ å•åŒå¼•å·çš†å¯ booleanï¼šå¸ƒå°”ï¼Œ true, false null : å¯¹è±¡ä¸ºç©º undefinedï¼šä¸ºåˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤å€¼æ—¶undefined \u0026lt;script\u0026gt; // æ³¨é‡Šç¤ºä¾‹ // æ³¨é‡Šå¯ä»¥åœ¨ä»£ç ä¸­åŠ å…¥è¯´æ˜æ€§æ–‡å­—ï¼Œä¸ä¼šè¢«æ‰§è¡Œ // å¼¹å‡ºå¯¹è¯æ¡†ï¼Œæ˜¾ç¤º\u0026#34;hello js\u0026#34; window.alert(\u0026#34;hello js\u0026#34;); // åœ¨æ–‡æ¡£ä¸­å†™å…¥\u0026#34;hi\u0026#34; document.write(\u0026#34;hi\u0026#34;); // åœ¨æ§åˆ¶å°è¾“å‡º\u0026#34;hello\u0026#34; console.log(\u0026#34;hello\u0026#34;); \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // å˜é‡å£°æ˜å’Œèµ‹å€¼ var a = 10; a = \u0026#34;zs\u0026#34;; // å˜é‡ç±»å‹å¯ä»¥åŠ¨æ€æ”¹å˜ alert(a); // å¼¹å‡º\u0026#34;zs\u0026#34; // ä½¿ç”¨letå£°æ˜çš„å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸ { let x = 1; alert(x); // å¼¹å‡º\u0026#34;1\u0026#34; } // ä½¿ç”¨constå£°æ˜å¸¸é‡ï¼Œå¸¸é‡å€¼ä¸å¯ä¿®æ”¹ const pi = 3.14; pi = 3.15; // ä¼šæŠ¥é”™ï¼Œå¸¸é‡å€¼ä¸å¯ä¿®æ”¹ alert(pi); // å¼¹å‡º\u0026#34;3.14\u0026#34; \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // typeofæ“ä½œç¬¦ç”¨äºæ£€æµ‹å˜é‡æˆ–è¡¨è¾¾å¼çš„æ•°æ®ç±»å‹ alert(typeof 3); // å¼¹å‡º\u0026#34;number\u0026#34; alert(typeof 3.14); // å¼¹å‡º\u0026#34;number\u0026#34; alert(typeof \u0026#34;A\u0026#34;); // å¼¹å‡º\u0026#34;string\u0026#34; alert(typeof true); // å¼¹å‡º\u0026#34;boolean\u0026#34; alert(typeof null); // å¼¹å‡º\u0026#34;object\u0026#34;ï¼Œnullè¢«è¯¯åˆ¤ä¸ºobject var a; alert(typeof a); // å¼¹å‡º\u0026#34;undefined\u0026#34; \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // é€»è¾‘è¿ç®—ç¬¦ \u0026amp;\u0026amp; å’Œ || çš„ä½¿ç”¨ if (0 \u0026amp;\u0026amp; NaN \u0026amp;\u0026amp; 1) { alert(\u0026#34;ok1\u0026#34;); // ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºNaNä¸ºå‡ } if (0 || NaN || 1) { alert(\u0026#34;ok2\u0026#34;); // æ‰§è¡Œï¼Œå› ä¸ºé™¤äº†0å’ŒNaNå¤–ï¼Œå…¶ä»–éƒ½ä¸ºçœŸ } // ç©ºå­—ç¬¦ä¸²å’Œç©ºæ ¼å­—ç¬¦ä¸²ä¸ºçœŸï¼Œnullå’Œundefinedä¸ºå‡ if (\u0026#34;\u0026#34;) { alert(\u0026#34;å­—ç¬¦ä¸²ä¸ºçœŸ\u0026#34;); } if (\u0026#34; \u0026#34;) { alert(\u0026#34;å­—ç¬¦ä¸²ä¸ºçœŸ\u0026#34;); } if (null) { alert(\u0026#34;nullä¸ºçœŸ\u0026#34;); } if (undefined) { alert(\u0026#34;undefinedä¸ºçœŸ\u0026#34;); } \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ // function add(a, b) { // return a + b; // } var add = function (a, b) { return a + b; } var res = add(1, 2, 5, 6); // å¤šä½™çš„å‚æ•°ä¼šè¢«å¿½ç•¥ alert(res); // å¼¹å‡º\u0026#34;3\u0026#34;ï¼Œå› ä¸ºåªè®¡ç®—äº†å‰ä¸¤ä¸ªå‚æ•°çš„å’Œ \u0026lt;/script\u0026gt; JSå¯¹è±¡ Array \u0026lt;script\u0026gt; // åˆ›å»ºæ•°ç»„çš„ä¸¤ç§æ–¹å¼ï¼šä½¿ç”¨Arrayæ„é€ å‡½æ•°å’Œç›´æ¥ä½¿ç”¨æ•°ç»„å­—é¢é‡ // var arr = new Array(1, 2, 3, 4); // console.log(arr); // è¾“å‡ºæ•°ç»„[1, 2, 3, 4] // console.log(arr[1]); // è¾“å‡ºæ•°ç»„ç´¢å¼•ä¸º1çš„å…ƒç´ å€¼ï¼Œå³2 // ä½¿ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºæ•°ç»„ï¼Œå¹¶æ·»åŠ å…ƒç´  var arr = [1, 2, 3, 4]; arr[10] = 10; // æ·»åŠ å…ƒç´ åˆ°ç´¢å¼•ä¸º10çš„ä½ç½® // console.log(arr[10]); // è¾“å‡ºæ•°ç»„ç´¢å¼•ä¸º10çš„å…ƒç´ å€¼ï¼Œå³10 // console.log(arr[9]); // è¾“å‡ºæ•°ç»„ç´¢å¼•ä¸º9çš„å…ƒç´ å€¼ï¼Œç”±äºæœªå®šä¹‰ï¼Œé»˜è®¤ä¸ºundefined arr[9] = \u0026#34;A\u0026#34;; // ä¿®æ”¹ç´¢å¼•ä¸º9çš„å…ƒç´ å€¼ä¸º\u0026#34;A\u0026#34; arr[8] = \u0026#34;a;dlsfjakldjf\u0026#34;; // ä¿®æ”¹ç´¢å¼•ä¸º8çš„å…ƒç´ å€¼ // console.log(arr[8]); // è¾“å‡ºæ•°ç»„ç´¢å¼•ä¸º8çš„å…ƒç´ å€¼ // console.log(arr[9]); // è¾“å‡ºæ•°ç»„ç´¢å¼•ä¸º9çš„å…ƒç´ å€¼ // éå†æ•°ç»„çš„æ–¹å¼ï¼šforå¾ªç¯ã€forEachæ–¹æ³• // for (let i = 0; i \u0026lt; arr.length; i++) { // console.log(arr[i]); // ä½¿ç”¨forå¾ªç¯éå†æ•°ç»„å…ƒç´ å¹¶è¾“å‡º // } // arr.forEach(function (e) { // console.log(e); // ä½¿ç”¨forEachæ–¹æ³•éå†æ•°ç»„å…ƒç´ å¹¶è¾“å‡º // }); // arr.forEach(e =\u0026gt; { // console.log(e); // ä½¿ç”¨ç®­å¤´å‡½æ•°å’ŒforEachæ–¹æ³•éå†æ•°ç»„å…ƒç´ å¹¶è¾“å‡º // }); // å‘æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼špushæ–¹æ³• arr.push(7, 8, 9); arr.forEach(e =\u0026gt; { console.log(e); // è¾“å‡ºæ·»åŠ åçš„æ•°ç»„å…ƒç´  }); console.log(\u0026#34;-----------\u0026#34;); // ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼šspliceæ–¹æ³• arr.splice(1, 3); // ä»ç´¢å¼•ä¸º1çš„ä½ç½®å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´  arr.forEach(e =\u0026gt; { console.log(e); // è¾“å‡ºåˆ é™¤åçš„æ•°ç»„å…ƒç´  }); \u0026lt;/script\u0026gt; String // åˆ›å»ºä¸€ä¸ª String å¯¹è±¡å¹¶èµ‹å€¼ä¸º \u0026#34;abc\u0026#34; var str1 = new String(\u0026#34;abc\u0026#34;); // ç›´æ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡å¹¶èµ‹å€¼ä¸º \u0026#34; abccba \u0026#34; var str2 = \u0026#34; abccba \u0026#34;; // æ‰“å°å­—ç¬¦ä¸² str1 å’Œ str2 console.log(str1); console.log(str2); // è¾“å‡º str1 çš„é•¿åº¦ï¼Œå³å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ä¸ªæ•° console.log(str1.length); // è¿”å› str1 ä¸­ç´¢å¼•ä¸º 1 çš„å­—ç¬¦ï¼Œç´¢å¼•ä» 0 å¼€å§‹ console.log(str1.charAt(1)); // è¿”å›æŒ‡å®šå­—ç¬¦åœ¨ str1 ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å› -1 console.log(str1.indexOf(\u0026#34;c\u0026#34;)); // å»é™¤å­—ç¬¦ä¸² str2 å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡ s var s = str2.trim(); console.log(s); // è¿”å› str1 ä¸­ç´¢å¼•ä» 0 åˆ° 4ï¼ˆä¸åŒ…æ‹¬ 4ï¼‰çš„å­å­—ç¬¦ä¸² console.log(str1.substring(0, 4)); JSON Java Script Object Notation, JavaScriptå¯¹è±¡æ ‡è®°æ³• JSONæ˜¯é€šè¿‡JavaScriptå¯¹è±¡æ ‡è®°æ³•ä¹¦å†™çš„æ–‡æœ¬ ç”±äºå…¶è¯­æ³•ç®€å•ï¼Œå±‚æ¬¡ç»“æ„é²œæ˜ï¼Œç°åœ¨å¤šç”¨äºæ•°æ®è½½ä½“ï¼Œåœ¨ç½‘ç»œä¸­è¿›è¡Œæ•°æ®ä¼ è¾“ // åˆ›å»ºä¸€ä¸ªåä¸º user çš„å¯¹è±¡ï¼ŒåŒ…å« nameã€ageã€gender å’Œ intro æ–¹æ³• var user = { name: \u0026#34;Tom\u0026#34;, age: 10, gender: \u0026#34;male\u0026#34;, intro: function () { alert(\u0026#34;I am \u0026#34; + this.name + \u0026#34; and I am \u0026#34; + this.age + \u0026#34; years old.\u0026#34;); } // å¦ä¸€ç§å®šä¹‰æ–¹æ³•çš„æ–¹å¼ // intro() { // alert(\u0026#34;I am \u0026#34; + this.name + \u0026#34; and I am \u0026#34; + this.age + \u0026#34; years old.\u0026#34;); // } } // å¼¹å‡º user å¯¹è±¡çš„ name å±æ€§å€¼ alert(user.name); // è°ƒç”¨ user å¯¹è±¡çš„ intro æ–¹æ³•ï¼Œå¼¹å‡ºä¸€æ®µä»‹ç»ä¿¡æ¯ user.intro(); // åˆ›å»ºä¸€ä¸ª JSON å­—ç¬¦ä¸² var jsonstr = \u0026#39;{\u0026#34;name\u0026#34;:\u0026#34;Tom\u0026#34;, \u0026#34;age\u0026#34;:10, \u0026#34;addr\u0026#34;:[\u0026#34;é’å²›\u0026#34;, \u0026#34;å—äº¬\u0026#34;]}\u0026#39;; // ä½¿ç”¨ JSON.parse() æ–¹æ³•è§£æ JSON å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º JavaScript å¯¹è±¡ var obj = JSON.parse(jsonstr); // å¼¹å‡ºè§£æåå¯¹è±¡çš„ name å±æ€§å€¼ alert(obj.name); // ä½¿ç”¨ JSON.stringify() æ–¹æ³•å°† JavaScript å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶å¼¹å‡º alert(JSON.stringify(obj)); BOM æ¦‚å¿µï¼šBrowser Object Modelï¼Œ æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œ å…è®¸JavaScriptä¸æµè§ˆå™¨å¯¹è¯ï¼ŒJavaScriptå°†æµè§ˆå™¨çš„å„ä¸ªç»„æˆéƒ¨åˆ†å°è£…æˆå¯¹è±¡ã€‚ Window æµè§ˆå™¨çª—å£å¯¹è±¡ è·å–ï¼šç›´æ¥ä½¿ç”¨windowï¼Œå…¶ä¸­window.å¯ä»¥æˆç•¥ Location åœ°å€æ å¯¹è±¡ è·å–ï¼šä½¿ç”¨window.locationï¼Œ å…¶ä¸­window.å¯ä»¥çœç•¥ // å¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤º \u0026#34;Hello BOMWINDOWS\u0026#34; window.alert(\u0026#34;Hello BOMWINDOWS\u0026#34;); // å¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤º \u0026#34;Hello BOM\u0026#34; alert(\u0026#34;Hello BOM\u0026#34;); // å¼¹å‡ºä¸€ä¸ªç¡®è®¤æ¡†ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„é€‰æ‹©è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œtrue è¡¨ç¤ºç¡®è®¤ï¼Œfalse è¡¨ç¤ºå–æ¶ˆ var flag = confirm(\u0026#34;ä½ ç¡®è®¤åˆ é™¤å—ï¼Ÿ\u0026#34;); alert(flag); // è®¾ç½®ä¸€ä¸ªé—´éš”å®šæ—¶å™¨ï¼Œæ¯éš” 2000 æ¯«ç§’ï¼ˆ2 ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡åŒ¿åå‡½æ•°ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ‰§è¡Œæ¬¡æ•° var i = 0; setInterval(function () { i += 1; console.log(\u0026#34;å®šæ—¶å™¨æ‰§è¡Œäº†:\u0026#34; + i + \u0026#34;æ¬¡\u0026#34;); }, 2000); // è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨ 2000 æ¯«ç§’åå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤º \u0026#34;Hello\u0026#34; setTimeout(function () { alert(\u0026#34;Hello\u0026#34;); }, 2000); // å¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤ºå½“å‰é¡µé¢çš„ URL alert(location.href); // é‡å®šå‘å½“å‰é¡µé¢åˆ°æŒ‡å®š URL location.href = \u0026#34;https://www.itcast.cn\u0026#34;; DOM Decument Object Model, æ–‡æ¡£å¯¹è±¡æ¨¡å‹ å°†æ ‡è®°è¯­è¨€çš„å„ä¸ªéƒ¨åˆ†å°è£…ä¸ºå¯¹åº”çš„å¯¹è±¡ // è·å– id ä¸º \u0026#39;h1\u0026#39; çš„å…ƒç´  var img = document.getElementById(\u0026#39;h1\u0026#39;); alert(img); // è·å–æ‰€æœ‰æ ‡ç­¾åä¸º \u0026#39;div\u0026#39; çš„å…ƒç´ å¹¶å¼¹å‡º var divs = document.getElementsByTagName(\u0026#39;div\u0026#39;); for (let i = 0; i \u0026lt; divs.length; i++) { alert(divs[i]); } // è·å–æ‰€æœ‰ name å±æ€§ä¸º \u0026#39;hobby\u0026#39; çš„å…ƒç´ å¹¶å¼¹å‡º var ins = document.getElementsByName(\u0026#34;hobby\u0026#34;); for (let i = 0; i \u0026lt; ins.length; i++) { alert(ins[i]); } // è·å–æ‰€æœ‰ç±»åä¸º \u0026#39;cls\u0026#39; çš„å…ƒç´ å¹¶å¼¹å‡º var divs = document.getElementsByClassName(\u0026#39;cls\u0026#39;); for (let i = 0; i \u0026lt; divs.length; i++) { alert(divs[i]); } // é‡æ–°è·å–ç±»åä¸º \u0026#39;cls\u0026#39; çš„å…ƒç´ é›†åˆï¼Œå¹¶å–ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™ div1ï¼Œå¹¶å¼¹å‡º var divs = document.getElementsByClassName(\u0026#39;cls\u0026#39;); var div1 = divs[0]; alert(div1); // ä¿®æ”¹ div1 çš„ innerHTML å±æ€§ä¸º \u0026#34;666666\u0026#34; div1.innerHTML = \u0026#34;666666\u0026#34;; // è·å– id ä¸º \u0026#39;h1\u0026#39; çš„å…ƒç´ å¹¶ä¿®æ”¹å…¶ src å±æ€§ä¸º \u0026#34;img/on.gif\u0026#34; var img = document.getElementById(\u0026#39;h1\u0026#39;); img.src = \u0026#34;img/on.gif\u0026#34;; // ç»™æ‰€æœ‰æ ‡ç­¾åä¸º \u0026#39;div\u0026#39; çš„å…ƒç´ è¿½åŠ å†…å®¹ \u0026#34;\u0026lt;font color=\u0026#39;red\u0026#39;\u0026gt;Very Good\u0026lt;/font\u0026gt;\u0026#34; var divs = document.getElementsByTagName(\u0026#39;div\u0026#39;); for (let i = 0; i \u0026lt; divs.length; i++) { const element = divs[i]; element.innerHTML += \u0026#34;\u0026lt;font color=\u0026#39;red\u0026#39;\u0026gt;Very Good\u0026lt;/font\u0026gt;\u0026#34;; } // è·å–æ‰€æœ‰ name å±æ€§ä¸º \u0026#39;hobby\u0026#39; çš„å…ƒç´ ï¼Œå¹¶è®¾ç½®å®ƒä»¬çš„ checked å±æ€§ä¸º true var ins = document.getElementsByName(\u0026#34;hobby\u0026#34;); for (let i = 0; i \u0026lt; ins.length; i++) { const check = ins[i]; check.checked = true; } å°æ¡ˆä¾‹ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;JS-äº‹ä»¶-äº‹ä»¶ç»‘å®š\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; /* æ ·å¼ç¾åŒ– */ body { font-family: Arial, sans-serif; text-align: center; } #light { width: 100px; } .button { padding: 8px 16px; margin: 5px; font-size: 16px; cursor: pointer; } .checkbox-label { margin-right: 10px; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;!-- å›¾ç‰‡æ ‡ç­¾ï¼Œç”¨äºæ˜¾ç¤ºç¯çš„çŠ¶æ€ --\u0026gt; \u0026lt;img id=\u0026#34;light\u0026#34; src=\u0026#34;img/off.gif\u0026#34; alt=\u0026#34;ç¯\u0026#34;\u0026gt; \u0026lt;br\u0026gt; \u0026lt;!-- ä¸¤ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«ç”¨äºç‚¹äº®å’Œç†„ç­ç¯ --\u0026gt; \u0026lt;button class=\u0026#34;button\u0026#34; id=\u0026#34;btnOn\u0026#34; onclick=\u0026#34;on()\u0026#34;\u0026gt;ç‚¹äº®\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;button\u0026#34; id=\u0026#34;btnOff\u0026#34; onclick=\u0026#34;off()\u0026#34;\u0026gt;ç†„ç­\u0026lt;/button\u0026gt; \u0026lt;!-- æ–‡å­—æ ‡ç­¾ --\u0026gt; \u0026lt;div class=\u0026#34;cls\u0026#34;\u0026gt;é»‘é©¬\u0026lt;/div\u0026gt; \u0026lt;br\u0026gt; \u0026lt;br\u0026gt; \u0026lt;!-- è¾“å…¥æ¡†ï¼Œè¾“å…¥å†…å®¹è½¬æ¢ä¸ºå¤§å†™æˆ–å°å†™ --\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;name\u0026#34; value=\u0026#34;itcast\u0026#34; onfocus=\u0026#34;lower()\u0026#34; onblur=\u0026#34;upper()\u0026#34;\u0026gt; \u0026lt;br\u0026gt; \u0026lt;!-- å¤šä¸ªå¤é€‰æ¡†ï¼Œç”¨äºé€‰æ‹©çˆ±å¥½ --\u0026gt; \u0026lt;label class=\u0026#34;checkbox-label\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt; ç”µå½±\u0026lt;/label\u0026gt; \u0026lt;label class=\u0026#34;checkbox-label\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt; æ—…æ¸¸\u0026lt;/label\u0026gt; \u0026lt;label class=\u0026#34;checkbox-label\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt; æ¸¸æˆ\u0026lt;/label\u0026gt; \u0026lt;br\u0026gt; \u0026lt;!-- å…¨é€‰å’Œåé€‰æŒ‰é’® --\u0026gt; \u0026lt;button class=\u0026#34;button\u0026#34; id=\u0026#34;btnCheckAll\u0026#34; onclick=\u0026#34;checkAll()\u0026#34;\u0026gt;å…¨é€‰\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;button\u0026#34; id=\u0026#34;btnReverse\u0026#34; onclick=\u0026#34;reverse()\u0026#34;\u0026gt;åé€‰\u0026lt;/button\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; // ç‚¹äº®ç¯å‡½æ•° function on() { var img = document.getElementById(\u0026#34;light\u0026#34;); img.src = \u0026#34;img/on.gif\u0026#34;; } // ç†„ç­ç¯å‡½æ•° function off() { var img = document.getElementById(\u0026#34;light\u0026#34;); img.src = \u0026#34;img/off.gif\u0026#34;; } // å°†è¾“å…¥å†…å®¹è½¬æ¢ä¸ºå¤§å†™ function upper() { var input = document.getElementById(\u0026#34;name\u0026#34;); input.value = input.value.toUpperCase(); } // å°†è¾“å…¥å†…å®¹è½¬æ¢ä¸ºå°å†™ function lower() { var input = document.getElementById(\u0026#34;name\u0026#34;); input.value = input.value.toLowerCase(); } // å…¨é€‰å¤é€‰æ¡†å‡½æ•° function checkAll() { var hobbys = document.getElementsByName(\u0026#34;hobby\u0026#34;); for (let i = 0; i \u0026lt; hobbys.length; i++) { const element = hobbys[i]; element.checked = true; } } // åé€‰å¤é€‰æ¡†å‡½æ•° function reverse() { var hobbys = document.getElementsByName(\u0026#34;hobby\u0026#34;); for (let i = 0; i \u0026lt; hobbys.length; i++) { const element = hobbys[i]; element.checked = !element.checked; // åˆ‡æ¢é€‰ä¸­çŠ¶æ€ } } \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%911/","summary":"Java Webå¼€å‘(1) ä»€ä¹ˆæ˜¯Webï¼Ÿ Webï¼šå…¨çƒå¹¿åŸŸç½‘ï¼Œä¹Ÿæˆä¸ºä¸‡ç»´ç½‘ï¼ˆWorld Wide Web)ï¼Œèƒ½å¤Ÿé€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç½‘ç«™ CRM OA ERP ä¸è°‹å…¨å±€è€…ä¸è¶³ä»¥è°‹ä¸€åŸŸ","title":"Java Webå¼€å‘(1)"},{"content":"Java Webå¼€å‘(2) Vue Vueæ˜¯ä¸€å¥—å‰ç«¯æ¡†æ¶ï¼Œå…é™¤åŸç”Ÿçš„JavaScriptä¸­çš„DOMæ“ä½œï¼Œç®€åŒ–ä¹¦å†™ã€‚ åŸºäºMVVMï¼ˆModel-View-View-Modelï¼‰æ€æƒ³ï¼Œå®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼Œå°†ç¼–ç¨‹çš„å…³æ³¨ç‚¹æ”¾åœ¨æ•°æ®ä¸Šã€‚ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Vue\u0026lt;/title\u0026gt; \u0026lt;!-- å¼•å…¥Vue.jsåº“ --\u0026gt; \u0026lt;script src=\u0026#34;../js/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- è¾“å…¥æ¡†ï¼Œä½¿ç”¨v-modelæŒ‡ä»¤å®ç°åŒå‘æ•°æ®ç»‘å®š --\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;message\u0026#34;\u0026gt; \u0026lt;!-- ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼æ˜¾ç¤ºmessageå˜é‡çš„å€¼ --\u0026gt; {{ message }} \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; // åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ new Vue({ // å°†Vueå®ä¾‹æŒ‚è½½åˆ°idä¸º\u0026#34;app\u0026#34;çš„å…ƒç´ ä¸Š el: \u0026#34;#app\u0026#34;, // å®šä¹‰æ•°æ®å¯¹è±¡ data: { message: \u0026#34;Hello Vue\u0026#34; // åˆå§‹å€¼ä¸º\u0026#34;Hello Vue\u0026#34; } }) \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; Vueå¸¸ç”¨æŒ‡ä»¤ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Vue\u0026lt;/title\u0026gt; \u0026lt;!-- å¼•å…¥ Vue.js æ–‡ä»¶ --\u0026gt; \u0026lt;script src=\u0026#34;../js/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;!-- Vue å®ä¾‹æŒ‚è½½çš„æ ¹èŠ‚ç‚¹ --\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table border=\u0026#34;1\u0026#34; cellspacing=\u0026#34;0\u0026#34; width=\u0026#34;60%\u0026#34;\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;ç¼–å·\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å§“å\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å¹´é¾„\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;æ€§åˆ«\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;æˆç»©\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;ç­‰çº§\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-for å¾ªç¯æ¸²æŸ“åˆ—è¡¨ --\u0026gt; \u0026lt;tr align=\u0026#34;center\u0026#34; v-for=\u0026#34;(user, index) in users\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{index + 1}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{user.name}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{user.age}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-if æ¡ä»¶æ¸²æŸ“ --\u0026gt; \u0026lt;span v-if=\u0026#34;user.gender == 1\u0026#34;\u0026gt;ç”·\u0026lt;/span\u0026gt; \u0026lt;span v-if=\u0026#34;user.gender == 2\u0026#34;\u0026gt;å¥³\u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{user.score}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-ifã€v-else-ifã€v-else å®ç°å¤šæ¡ä»¶æ¸²æŸ“ --\u0026gt; \u0026lt;span v-if=\u0026#34;user.score \u0026gt;= 60 \u0026amp;\u0026amp; user.score \u0026lt; 85\u0026#34;\u0026gt;ä¼˜ç§€\u0026lt;/span\u0026gt; \u0026lt;span v-else-if=\u0026#34;user.score \u0026gt;= 85\u0026#34;\u0026gt;åŠæ ¼\u0026lt;/span\u0026gt; \u0026lt;span style=\u0026#34;color:red\u0026#34; v-else\u0026gt;ä¸åŠæ ¼\u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; // åˆ›å»º Vue å®ä¾‹ new Vue({ el: \u0026#34;#app\u0026#34;, // æŒ‡å®šå®ä¾‹æŒ‚è½½çš„æ ¹èŠ‚ç‚¹ data: { // ç”¨äºå­˜å‚¨æ•°æ®çš„å¯¹è±¡ users: [{ name: \u0026#34;Tom\u0026#34;, age: 20, gender: 1, score: 30 }, { name: \u0026#34;Rose\u0026#34;, age: 18, gender: 2, score: 99 }, { name: \u0026#34;Jerry\u0026#34;, age: 16, gender: 1, score: 98 }, { name: \u0026#34;Kennem\u0026#34;, age: 21, gender: 1, score: 100 }] }, }) \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; Vueç”Ÿå‘½å‘¨æœŸ new new Vue({ el: \u0026#34;#app\u0026#34;, //æ¥ç®¡åŒºåŸŸ data: { }, methods: { }, mounted() { alert(\u0026#34;æŒ‚è½½å®Œæˆ!\u0026#34;); }, }) Ajax Asynchronous JavaScript And XML, å¼‚æ­¥çš„JavaScriptå’ŒXML ä½œç”¨ï¼š æ•°æ®äº¤æ¢ï¼šé€šè¿‡Ajaxå¯ä»¥ç»™æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶è·å–æœåŠ¡å™¨å“åº”çš„æ•°æ®ã€‚ å¼‚æ­¥äº¤äº’ï¼šå¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ï¼Œå¦‚ï¼šæœç´¢è”æƒ³ï¼Œç”¨æˆ·åæ˜¯å¦å¯ç”¨çš„æ ¡éªŒç­‰ã€‚ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;åŸç”ŸAjax\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;è·å–æ•°æ®\u0026#34; onclick=\u0026#34;getData()\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;div1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; function getData() { // åˆ›å»ºXMLHttpRequestå¯¹è±¡ var xmlHttpRequest = new XMLHttpRequest(); // å‘é€å¼‚æ­¥è¯·æ±‚ xmlHttpRequest.open(\u0026#39;GET\u0026#39;, \u0026#39;https://xxx/json_demo.json\u0026#39;); xmlHttpRequest.send(); // å‘é€è¯·æ±‚ // è·å–æœåŠ¡å“åº”æ•°æ® xmlHttpRequest.onreadystatechange = function () { if (xmlHttpRequest.readyState == 4 \u0026amp;\u0026amp; xmlHttpRequest.status == 200) { document.getElementById(\u0026#39;div1\u0026#39;).innerHTML = xmlHttpRequest.responseText; } } } \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; Axios Axioså¯¹åŸç”Ÿçš„Ajaxè¿›è¡Œäº†å°è£…ï¼Œç®€åŒ–ä¹¦å†™ï¼Œå¿«é€Ÿå¼€å‘ã€‚ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Ajax-Axios-æ¡ˆä¾‹\u0026lt;/title\u0026gt; \u0026lt;!-- å¼•å…¥axiosåº“ --\u0026gt; \u0026lt;script src=\u0026#34;js/axios-0.18.0.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- å¼•å…¥Vue.js --\u0026gt; \u0026lt;script src=\u0026#34;js/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®å±•ç¤ºè¡¨æ ¼ --\u0026gt; \u0026lt;table border=\u0026#34;1\u0026#34; cellspacing=\u0026#34;0\u0026#34; width=\u0026#34;60%\u0026#34;\u0026gt; \u0026lt;!-- è¡¨å¤´ --\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;ç¼–å·\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å§“å\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å›¾åƒ\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;æ€§åˆ«\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;èŒä½\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å…¥èŒæ—¥æœŸ\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;æœ€åæ“ä½œæ—¶é—´\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;!-- æ•°æ®è¡Œï¼Œä½¿ç”¨Vue.jsçš„v-foræŒ‡ä»¤å¾ªç¯æ¸²æŸ“ --\u0026gt; \u0026lt;tr align=\u0026#34;center\u0026#34; v-for=\u0026#34;(emp,index) in emps\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{index + 1}}\u0026lt;/td\u0026gt; \u0026lt;!-- æ˜¾ç¤ºç¼–å· --\u0026gt; \u0026lt;td\u0026gt;{{emp.name}}\u0026lt;/td\u0026gt; \u0026lt;!-- æ˜¾ç¤ºå§“å --\u0026gt; \u0026lt;td\u0026gt; \u0026lt;img :src=\u0026#34;emp.image\u0026#34; width=\u0026#34;70px\u0026#34; height=\u0026#34;50px\u0026#34;\u0026gt; \u0026lt;!-- æ˜¾ç¤ºå›¾åƒ --\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;span v-if=\u0026#34;emp.gender == 1\u0026#34;\u0026gt;ç”·\u0026lt;/span\u0026gt; \u0026lt;!-- æ ¹æ®æ€§åˆ«æ˜¾ç¤ºç”·æˆ–å¥³ --\u0026gt; \u0026lt;span v-if=\u0026#34;emp.gender == 2\u0026#34;\u0026gt;å¥³\u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{emp.job}}\u0026lt;/td\u0026gt; \u0026lt;!-- æ˜¾ç¤ºèŒä½ --\u0026gt; \u0026lt;td\u0026gt;{{emp.entrydate}}\u0026lt;/td\u0026gt; \u0026lt;!-- æ˜¾ç¤ºå…¥èŒæ—¥æœŸ --\u0026gt; \u0026lt;td\u0026gt;{{emp.updatetime}}\u0026lt;/td\u0026gt; \u0026lt;!-- æ˜¾ç¤ºæœ€åæ“ä½œæ—¶é—´ --\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { emps: [] // å­˜å‚¨å‘˜å·¥æ•°æ®çš„æ•°ç»„ }, mounted () { // åœ¨Vueå®ä¾‹mountedç”Ÿå‘½å‘¨æœŸé’©å­ä¸­å‘é€å¼‚æ­¥è¯·æ±‚åŠ è½½æ•°æ® axios.get(\u0026#34;http://yapi.smart-xwork.cn/mock/169327/emp/list\u0026#34;).then(result =\u0026gt; { // å¼‚æ­¥è¯·æ±‚æˆåŠŸåå°†æ•°æ®èµ‹å€¼ç»™empsæ•°ç»„ this.emps = result.data.data; }) } }); \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; æ¥å£ç®¡ç†å¹³å° Yapi apifox\nä½œä¸ºæµ‹è¯•æ¥å£\nVueå¼€å‘ Vueå®‰è£… npm -g install vue/cli vue é¡¹ç›®åˆ›å»º vue create project-name Vueçš„ç»„ä»¶æ–‡ä»¶ä»¥.vueç»“å°¾ï¼Œ æ¯ä¸ªç»„ä»¶ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ\u0026lt;template\u0026gt;, \u0026lt;script\u0026gt;, \u0026lt;style\u0026gt;ã€‚ Element UI npm install element-ui@2.15.3 import ElementUI from \u0026#39;element-ui\u0026#39;; import \u0026#39;element-ui/lib/theme-chalk/index.css\u0026#39;; Vue.use(ElementUI); Vueè·¯ç”± å‰ç«¯è·¯ç”±ï¼šURLä¸­çš„hash(#)ä¸ç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚ https://mock.apifox.cn/m1/3128855-0-default/emp/list Nginx å¤„ç†è¢«å ç”¨çš„ç«¯å£å·ï¼š\nnetstat -ano | findStr 80 å°†æµ‹è¯•å¥½çš„å‰ç«¯ç½‘é¡µå¤åˆ¶åˆ°htmlé™æ€èµ„æºä¸­\nç„¶åç›´æ¥å¯åŠ¨nginxå³å¯ã€‚\nè®¿é—®ï¼š\nhttp://localhost:80 å‘˜å·¥ç®¡ç†é¡¹ç›® main.js // å¼•å…¥Vueæ¡†æ¶ import Vue from \u0026#39;vue\u0026#39; // å¼•å…¥ElementUIç»„ä»¶åº“ import ElementUI from \u0026#39;element-ui\u0026#39;; // å¼•å…¥Vue Routerï¼Œç”¨äºç®¡ç†é¡µé¢è·¯ç”± import router from \u0026#39;./router\u0026#39; // å¼•å…¥ElementUIçš„æ ·å¼æ–‡ä»¶ import \u0026#39;element-ui/lib/theme-chalk/index.css\u0026#39;; // å¼•å…¥æ ¹ç»„ä»¶App.vue import App from \u0026#39;./App.vue\u0026#39; // åœ¨Vueä¸­ä½¿ç”¨ElementUI Vue.use(ElementUI); // å…³é—­ç”Ÿäº§æ¨¡å¼ä¸‹çš„æç¤º Vue.config.productionTip = false // åˆ›å»ºVueå®ä¾‹ new Vue({ // æ³¨å…¥è·¯ç”± router, // æ¸²æŸ“æ ¹ç»„ä»¶ render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;) app.vue \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- \u0026lt;emp-view\u0026gt; \u0026lt;/emp-view\u0026gt; --\u0026gt; \u0026lt;!-- è¿™æ˜¯ Vue Router çš„è§†å›¾æ¸²æŸ“å‡ºå£ï¼Œç”¨äºå±•ç¤ºå½“å‰åŒ¹é…çš„è§†å›¾ç»„ä»¶ --\u0026gt; \u0026lt;router-view\u0026gt; \u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¯¼å…¥ç»„ä»¶ // import EmpView from \u0026#39;./views/tlias/EmpView.vue\u0026#39; export default { // æ³¨å†Œç»„ä»¶ components: { /*EmpView*/ }, data() { // ç»„ä»¶çš„æ•°æ®å±æ€§ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ return { message: \u0026#34;\u0026#34; } }, methods: { // ç»„ä»¶çš„æ–¹æ³•ï¼Œç”¨äºå®šä¹‰å„ç§åŠŸèƒ½ }, } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; /* ç»„ä»¶çš„æ ·å¼ */ #app { font-family: Consolas, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px; } \u0026lt;/style\u0026gt; EmpView.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- Element UI å¸ƒå±€å®¹å™¨ --\u0026gt; \u0026lt;el-container style=\u0026#34;height: 700px; border: 2px solid #eee\u0026#34;\u0026gt; \u0026lt;!-- å¤´éƒ¨åŒºåŸŸ --\u0026gt; \u0026lt;el-header style=\u0026#34;font-size: 48px; background-color: rgb(238, 241, 246); text-align: left;\u0026#34;\u0026gt;Tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿ\u0026lt;/el-header\u0026gt; \u0026lt;el-container\u0026gt; \u0026lt;!-- ä¾§è¾¹æ åŒºåŸŸ --\u0026gt; \u0026lt;el-aside width=\u0026#34;230px\u0026#34; style=\u0026#34; border: 2px solid #eee\u0026#34;\u0026gt; \u0026lt;!-- ä¾§è¾¹æ å¯¼èˆªèœå• --\u0026gt; \u0026lt;el-menu :default-openeds=\u0026#34;[\u0026#39;1\u0026#39;, \u0026#39;3\u0026#39;]\u0026#34;\u0026gt; \u0026lt;el-submenu index=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;template slot=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;el-icon-message\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;ç³»ç»Ÿä¿¡æ¯ç®¡ç†\u0026lt;/template\u0026gt; \u0026lt;el-menu-item-group\u0026gt; \u0026lt;!-- å¯¼èˆªé“¾æ¥ --\u0026gt; \u0026lt;el-menu-item index=\u0026#34;1-1\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/dept\u0026#34;\u0026gt;éƒ¨é—¨ç®¡ç†\u0026lt;/router-link\u0026gt; \u0026lt;/el-menu-item\u0026gt; \u0026lt;el-menu-item index=\u0026#34;1-2\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/emp\u0026#34;\u0026gt;å‘˜å·¥ç®¡ç†\u0026lt;/router-link\u0026gt; \u0026lt;/el-menu-item\u0026gt; \u0026lt;/el-menu-item-group\u0026gt; \u0026lt;/el-submenu\u0026gt; \u0026lt;/el-menu\u0026gt; \u0026lt;/el-aside\u0026gt; \u0026lt;!-- ä¸»ä½“åŒºåŸŸ --\u0026gt; \u0026lt;el-main\u0026gt; \u0026lt;!-- æŸ¥è¯¢è¡¨å• --\u0026gt; \u0026lt;el-form :inline=\u0026#34;true\u0026#34; :model=\u0026#34;searchForm\u0026#34; class=\u0026#34;demo-form-inline\u0026#34;\u0026gt; \u0026lt;el-form-item label=\u0026#34;å§“å\u0026#34;\u0026gt; \u0026lt;el-input v-model=\u0026#34;searchForm.name\u0026#34; placeholder=\u0026#34;è¾“å…¥å§“å\u0026#34;\u0026gt;\u0026lt;/el-input\u0026gt; \u0026lt;/el-form-item\u0026gt; \u0026lt;el-form-item label=\u0026#34;æ€§åˆ«\u0026#34;\u0026gt; \u0026lt;el-select v-model=\u0026#34;searchForm.gender\u0026#34; placeholder=\u0026#34;è¾“å…¥æ€§åˆ«\u0026#34;\u0026gt; \u0026lt;el-option label=\u0026#34;ç”·\u0026#34; value=\u0026#34;1\u0026#34;\u0026gt;\u0026lt;/el-option\u0026gt; \u0026lt;el-option label=\u0026#34;å¥³\u0026#34; value=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;/el-option\u0026gt; \u0026lt;/el-select\u0026gt; \u0026lt;/el-form-item\u0026gt; \u0026lt;el-form-item label=\u0026#34;å…¥èŒæ—¶é—´\u0026#34;\u0026gt; \u0026lt;el-date-picker v-model=\u0026#34;searchForm.entrydate\u0026#34; type=\u0026#34;daterange\u0026#34; range-separator=\u0026#34;è‡³\u0026#34; start-placeholder=\u0026#34;å¼€å§‹æ—¥æœŸ\u0026#34; end-placeholder=\u0026#34;ç»“æŸæ—¥æœŸ\u0026#34;\u0026gt; \u0026lt;/el-date-picker\u0026gt; \u0026lt;/el-form-item\u0026gt; \u0026lt;el-form-item\u0026gt; \u0026lt;el-button type=\u0026#34;primary\u0026#34; @click=\u0026#34;onSubmit\u0026#34;\u0026gt;æŸ¥è¯¢\u0026lt;/el-button\u0026gt; \u0026lt;/el-form-item\u0026gt; \u0026lt;/el-form\u0026gt; \u0026lt;!-- è¡¨æ ¼ --\u0026gt; \u0026lt;el-table :data=\u0026#34;tableData\u0026#34; border\u0026gt; \u0026lt;el-table-column prop=\u0026#34;name\u0026#34; label=\u0026#34;å§“å\u0026#34; width=\u0026#34;180\u0026#34;\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;image\u0026#34; label=\u0026#34;å›¾åƒ\u0026#34; width=\u0026#34;180\u0026#34;\u0026gt; \u0026lt;!-- ä½œç”¨åŸŸæ’æ§½ --\u0026gt; \u0026lt;template slot-scope=\u0026#34;scope\u0026#34;\u0026gt; \u0026lt;img :src=\u0026#34;scope.row.image\u0026#34; width=\u0026#34;100px\u0026#34; height=\u0026#34;70px\u0026#34;\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;gender\u0026#34; label=\u0026#34;æ€§åˆ«\u0026#34; width=\u0026#34;140\u0026#34;\u0026gt; \u0026lt;!-- ä½œç”¨åŸŸæ’æ§½ --\u0026gt; \u0026lt;template slot-scope=\u0026#34;scope\u0026#34;\u0026gt; {{ scope.row.gender == 1 ? \u0026#34;ç”·\u0026#34; : \u0026#34;å¥³\u0026#34; }} \u0026lt;/template\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;job\u0026#34; label=\u0026#34;èŒä½\u0026#34; width=\u0026#34;140\u0026#34;\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;entrydate\u0026#34; label=\u0026#34;å…¥èŒæ—¥æœŸ\u0026#34; width=\u0026#34;180\u0026#34;\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;updatetime\u0026#34; label=\u0026#34;æœ€åæ“ä½œæ—¶é—´\u0026#34; width=\u0026#34;230\u0026#34;\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column label=\u0026#34;æ“ä½œ\u0026#34;\u0026gt; \u0026lt;el-button type=\u0026#34;primary\u0026#34; size=\u0026#34;mini\u0026#34;\u0026gt;ç¼–è¾‘\u0026lt;/el-button\u0026gt; \u0026lt;el-button type=\u0026#34;danger\u0026#34; size=\u0026#34;mini\u0026#34;\u0026gt;åˆ é™¤\u0026lt;/el-button\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;/el-table\u0026gt; \u0026lt;!-- åˆ†é¡µæ¡ --\u0026gt; \u0026lt;el-pagination background layout=\u0026#34;sizes, prev, pager, next, jumper, total\u0026#34; @size-change=\u0026#34;handleSizeChange\u0026#34; @current-change=\u0026#34;handleCurrentChange\u0026#34; :total=\u0026#34;1000\u0026#34;\u0026gt;\u0026lt;/el-pagination\u0026gt; \u0026lt;/el-main\u0026gt; \u0026lt;/el-container\u0026gt; \u0026lt;/el-container\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import axios from \u0026#39;axios\u0026#39;; export default { data() { return { // è¡¨æ ¼æ•°æ® tableData: [], // æŸ¥è¯¢è¡¨å•æ•°æ® searchForm: { name: \u0026#34;\u0026#34;, gender: \u0026#34;\u0026#34; }, // å…¥èŒæ—¥æœŸèŒƒå›´ entrydate: [] } }, methods: { // æŸ¥è¯¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶ onsubmit() { alert(\u0026#34;æŸ¥è¯¢æ•°æ®ï¼\u0026#34;); }, // åˆ†é¡µå½“å‰é¡µæ”¹å˜äº‹ä»¶ handleCurrentChange() { alert(\u0026#34;CurrentChange\u0026#34;); }, // åˆ†é¡µæ¯é¡µæ¡æ•°æ”¹å˜äº‹ä»¶ handleSizeChange() { alert(\u0026#34;SizeChange\u0026#34;); } }, mounted() { // ç»„ä»¶åˆå§‹åŒ–æ—¶ä»æ¥å£è·å–æ•°æ® axios.get(\u0026#34;https://mock.apifox.cn/m1/3128855-0-default/emp/list\u0026#34;).then((result) =\u0026gt; { this.tableData = result.data.data; }); }, } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt;\u0026lt;/style\u0026gt; DeptView.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- Element UI å¸ƒå±€å®¹å™¨ --\u0026gt; \u0026lt;el-container style=\u0026#34;height: 700px; border: 1px solid #eee\u0026#34;\u0026gt; \u0026lt;!-- å¤´éƒ¨åŒºåŸŸ --\u0026gt; \u0026lt;el-header style=\u0026#34;font-size:40px; background-color: rgb(238, 241, 246)\u0026#34;\u0026gt;tlias æ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿ\u0026lt;/el-header\u0026gt; \u0026lt;el-container\u0026gt; \u0026lt;!-- ä¾§è¾¹æ åŒºåŸŸ --\u0026gt; \u0026lt;el-aside width=\u0026#34;230px\u0026#34; style=\u0026#34;border: 1px solid #eee\u0026#34;\u0026gt; \u0026lt;!-- ä¾§è¾¹æ å¯¼èˆªèœå• --\u0026gt; \u0026lt;el-menu :default-openeds=\u0026#34;[\u0026#39;1\u0026#39;, \u0026#39;3\u0026#39;]\u0026#34;\u0026gt; \u0026lt;el-submenu index=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;template slot=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;el-icon-message\u0026#34;\u0026gt;\u0026lt;/i\u0026gt;ç³»ç»Ÿä¿¡æ¯ç®¡ç†\u0026lt;/template\u0026gt; \u0026lt;!-- å¯¼èˆªé“¾æ¥ --\u0026gt; \u0026lt;el-menu-item index=\u0026#34;1-1\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/dept\u0026#34;\u0026gt;éƒ¨é—¨ç®¡ç†\u0026lt;/router-link\u0026gt; \u0026lt;/el-menu-item\u0026gt; \u0026lt;el-menu-item index=\u0026#34;1-2\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/emp\u0026#34;\u0026gt;å‘˜å·¥ç®¡ç†\u0026lt;/router-link\u0026gt; \u0026lt;/el-menu-item\u0026gt; \u0026lt;/el-submenu\u0026gt; \u0026lt;/el-menu\u0026gt; \u0026lt;/el-aside\u0026gt; \u0026lt;!-- ä¸»ä½“åŒºåŸŸ --\u0026gt; \u0026lt;el-main\u0026gt; \u0026lt;!-- è¡¨æ ¼ --\u0026gt; \u0026lt;el-table :data=\u0026#34;tableData\u0026#34; border\u0026gt; \u0026lt;el-table-column prop=\u0026#34;name\u0026#34; label=\u0026#34;åç§°\u0026#34; width=\u0026#34;250\u0026#34;\u0026gt;\u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column prop=\u0026#34;updatetime\u0026#34; label=\u0026#34;æœ€åæ“ä½œæ—¶é—´\u0026#34; width=\u0026#34;250\u0026#34;\u0026gt;\u0026lt;/el-table-column\u0026gt; \u0026lt;el-table-column label=\u0026#34;æ“ä½œ\u0026#34;\u0026gt; \u0026lt;el-button type=\u0026#34;primary\u0026#34; size=\u0026#34;mini\u0026#34;\u0026gt;ç¼–è¾‘\u0026lt;/el-button\u0026gt; \u0026lt;el-button type=\u0026#34;danger\u0026#34; size=\u0026#34;mini\u0026#34;\u0026gt;åˆ é™¤\u0026lt;/el-button\u0026gt; \u0026lt;/el-table-column\u0026gt; \u0026lt;/el-table\u0026gt; \u0026lt;/el-main\u0026gt; \u0026lt;/el-container\u0026gt; \u0026lt;/el-container\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { // è¡¨æ ¼æ•°æ® tableData: [{ id: 1, name: \u0026#34;å­¦å·¥éƒ¨\u0026#34;, updatetime: \u0026#34;2010-01-01 12:00:00\u0026#34; }, { id: 2, name: \u0026#34;æ•™ç ”éƒ¨\u0026#34;, updatetime: \u0026#34;2010-01-01 12:00:00\u0026#34; }, { id: 3, name: \u0026#34;å°±ä¸šéƒ¨\u0026#34;, updatetime: \u0026#34;2010-01-01 12:00:00\u0026#34; }, { id: 4, name: \u0026#34;äººäº‹éƒ¨\u0026#34;, updatetime: \u0026#34;2010-01-01 12:00:00\u0026#34; }, { id: 5, name: \u0026#34;è¡Œæ”¿éƒ¨\u0026#34;, updatetime: \u0026#34;2010-01-01 12:00:00\u0026#34; }] } }, methods: { // å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰ç»„ä»¶çš„æ–¹æ³• } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt;\u0026lt;/style\u0026gt; index.js import Vue from \u0026#39;vue\u0026#39; // å¯¼å…¥ Vue Router import VueRouter from \u0026#39;vue-router\u0026#39; // ä½¿ç”¨ Vue Router æ’ä»¶ Vue.use(VueRouter) // å®šä¹‰è·¯ç”±è§„åˆ™ const routes = [{ // è·¯ç”±è·¯å¾„ä¸º /emp path: \u0026#39;/emp\u0026#39;, // è·¯ç”±åç§°ä¸º emp name: \u0026#39;emp\u0026#39;, // ä½¿ç”¨åŠ¨æ€å¯¼å…¥å»¶è¿ŸåŠ è½½ç»„ä»¶ component: () =\u0026gt; import(\u0026#39;../views/tlias/EmpView.vue\u0026#39;) }, { // è·¯ç”±è·¯å¾„ä¸º /dept path: \u0026#39;/dept\u0026#39;, // è·¯ç”±åç§°ä¸º dept name: \u0026#39;dept\u0026#39;, // ä½¿ç”¨åŠ¨æ€å¯¼å…¥å»¶è¿ŸåŠ è½½ç»„ä»¶ component: () =\u0026gt; import(\u0026#39;../views/tlias/DeptView.vue\u0026#39;) }, { // è·¯ç”±è·¯å¾„ä¸º / path: \u0026#39;/\u0026#39;, // é‡å®šå‘åˆ° /dept redirect: \u0026#39;/dept\u0026#39; //é»˜è®¤è®¿é—®dept } ] // åˆ›å»ºè·¯ç”±å®ä¾‹ const router = new VueRouter({ routes }) // å¯¼å‡ºè·¯ç”±å®ä¾‹ export default router ","permalink":"https://kennems.github.io/zh/posts/tech/java-web%E5%BC%80%E5%8F%912/","summary":"Java Webå¼€å‘(2) Vue Vueæ˜¯ä¸€å¥—å‰ç«¯æ¡†æ¶ï¼Œå…é™¤åŸç”Ÿçš„JavaScriptä¸­çš„DOMæ“ä½œï¼Œç®€åŒ–ä¹¦å†™ã€‚ åŸºäºMVVMï¼ˆModel-View-Vie","title":"Java Webå¼€å‘(2)"},{"content":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(5) ç½‘ç»œç¼–ç¨‹ å¯ä»¥è®©è®¾å¤‡ä¸­çš„ç¨‹åºä¸ç½‘ç»œä¸Šå…¶ä»–è®¾å¤‡ä¸­çš„ç¨‹åºè¿›è¡Œæ•°æ®äº¤äº’ï¼ˆå®ç°ç½‘ç»œé€šä¿¡ï¼‰ åŸºæœ¬çš„é€šä¿¡æ¶æ„\nåŸºæœ¬çš„é€šä¿¡æ¶æ„æœ‰2ä¸­å½¢å¼ï¼šCSæ¶æ„ï¼ˆClientå®¢æˆ·ç«¯/ServeræœåŠ¡ç«¯ï¼‰ã€BSæ¶æ„ï¼ˆBrowseræµè§ˆå™¨/ServeræœåŠ¡å™¨ï¼‰ æ— è®ºæ˜¯CSæ¶æ„ï¼Œè¿˜æ˜¯BSæ¶æ„çš„è½¯ä»¶éƒ½å¿…é¡»è¦ä¾èµ–ç½‘ç»œç¼–ç¨‹\nç½‘ç»œé€šä¿¡ä¸‰è¦ç´ ï¼š IPï¼ˆInternet Protocolï¼‰ï¼š è®¾å¤‡åœ¨ç½‘ç»œä¸­çš„åœ°å€ï¼Œæ˜¯å”¯ä¸€çš„æ ‡è¯†ï¼Œ å…¨ç§° â€œäº’è”ç½‘åè®®åœ°å€â€ï¼Œ æ˜¯åˆ†é…ç»™ä¸Šç½‘è®¾å¤‡çš„å”¯ä¸€æ ‡å¿—ã€‚\nä¸¤ç§å½¢å¼ï¼šIPv4(32bit), IPv6(128bit) IPv6åˆ†æˆ8æ®µè¡¨ç¤ºï¼Œæ¯æ®µæ¯å››ä½ç¼–ç æˆä¸€ä¸ªåå…­è¿›åˆ¶ä½æ ‡è¯†ï¼Œæ•°ä¹‹é—´ç”¨å†’å·(:)åˆ†å¼€ã€‚ å…¬ç½‘IPï¼Œ å†…ç½‘IP\nå…¬ç½‘IPï¼šæ˜¯å¯ä»¥è¿æ¥äº’è”ç½‘çš„IPåœ°å€ï¼› å†…ç½‘IPï¼šä¹Ÿå«å±€åŸŸç½‘IPï¼Œ åªèƒ½ç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨ 192.168. å¼€å¤´çš„å°±æ˜¯å¸¸è§çš„å±€åŸŸç½‘åœ°å€ï¼ŒèŒƒå›´å³ä¸º192.168.0.0--192.168.255.255ï¼Œä¸“é—¨ä½ç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨ 127.0.0.1 ã€localhost : ä»£è¡¨æœ¬æœºIPï¼Œåªä¼šå¯»æ‰¾å½“å‰æ‰€åœ¨çš„ä¸»æœº ç«¯å£ï¼š åº”ç”¨ç¨‹åºåœ¨è®¾å¤‡ä¸­å”¯ä¸€çš„æ ‡è¯†\næ ‡è®°æ­£åœ¨è®¡ç®—æœºè®¾å¤‡ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºçš„ï¼Œè¢«è§„å®šä¸ºä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶ï¼ŒèŒƒå›´æ˜¯0~65535 åˆ†ç±»ï¼š å‘¨çŸ¥ç«¯å£ï¼š0~1023ï¼š è¢«é¢„å…ˆå®šä¹‰çš„çŸ¥ååº”ç”¨å ç”¨ï¼ˆå¦‚ï¼šHTTPå ç”¨80ï¼Œ FTPå ç”¨21ï¼‰ æ³¨å†Œç«¯å£ï¼š1024~49151ï¼Œåˆ†é…ç»™ç”¨æˆ·è¿›ç¨‹æˆ–æŸäº›åº”ç”¨ç¨‹åº åŠ¨æ€ç«¯å£ï¼š49152åˆ°65535ï¼Œä¹‹æ‰€ä»¥è¢«ç§°ä¸ºåŠ¨æ€ç«¯å£ï¼Œæ˜¯å› ä¸ºå®ƒä¸€èˆ¬ä¸å›ºå®šåˆ†é…æŸç§è¿›ç¨‹ï¼Œè€Œæ˜¯åŠ¨æ€åˆ†é… åè®®ï¼š è¿æ¥å’Œæ•°æ®åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„è§„åˆ™\nInetAddress ä»£è¡¨IPåœ°å€ public static void main(String[] args) throws Exception { // è·å–æœ¬åœ°ä¸»æœºçš„ InetAddress InetAddress ip1 = InetAddress.getLocalHost(); System.out.println(ip1.getHostName()); // è¾“å‡ºæœ¬åœ°ä¸»æœºçš„ä¸»æœºå System.out.println(ip1.getHostAddress()); // è¾“å‡ºæœ¬åœ°ä¸»æœºçš„ IP åœ°å€ // æ ¹æ®åŸŸåè·å– InetAddress InetAddress ip2 = InetAddress.getByName(\u0026#34;www.baidu.com\u0026#34;); System.out.println(ip2.getHostName()); // è¾“å‡ºç™¾åº¦ä¸»æœºçš„ä¸»æœºå System.out.println(ip2.getHostAddress()); // è¾“å‡ºç™¾åº¦ä¸»æœºçš„ IP åœ°å€ // æ£€æŸ¥ä¸»æœºæ˜¯å¦å¯è¾¾ï¼ˆpingï¼‰ System.out.println(ip2.isReachable(6000)); // è¾“å‡ºç™¾åº¦ä¸»æœºæ˜¯å¦å¯è¾¾ } å¼€æ”¾å¼ç½‘ç»œäº’è”æ ‡å‡†ï¼šOSIç½‘ç»œå‚è€ƒæ¨¡å‹\nOSIç½‘ç»œå‚è€ƒæ¨¡å‹ï¼šå…¨çƒç½‘ç»œäº’è”æ ‡å‡† ä¼ è¾“å±‚ UDPï¼ˆUser Datagram Protocolï¼‰ï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼›TCPï¼ˆTransmission Control Protocolï¼‰ï¼šä¼ è¾“æ§åˆ¶åè®® UDPåè®® ç‰¹ç‚¹ï¼šæ— è¿æ¥ï¼Œä¸å¯é é€šä¿¡ ä¸äº‹å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®æŒ‰ç…§åŒ…å‘ï¼Œä¸€åŒ…æ•°æ®åŒ…å«ï¼šè‡ªå·±çš„IPï¼Œç¨‹åºç«¯å£ï¼Œç›®çš„åœ°IPï¼Œç¨‹åºç«¯å£å’Œæ•°æ®ï¼ˆé™åˆ¶åœ¨64KBå†…ï¼‰ç­‰, å‘å‡ºå»å°±ä¸ç®¡äº†ã€‚ å‘é€æ–¹ä¸ç®¡å¯¹æ–¹æ˜¯å¦åœ¨çº¿ï¼Œæ•°æ®åœ¨ä¸­é—´ä¸¢å¤±ä¹Ÿä¸ç®¡ï¼Œå¦‚æœæ¥å—æ–¹æ”¶åˆ°æ•°æ®ä¹Ÿä¸è¿”å›ç¡®è®¤ï¼Œæ‰€ä»¥ä¸å¯é çš„ UDPé€šä¿¡ package com.showguan.InternetDemo; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.InetAddress; import java.net.SocketException; import java.util.Scanner; public class Client { public static void main(String[] args) throws Exception { DatagramSocket socket = new DatagramSocket(); // åˆ›å»ºå®¢æˆ·ç«¯ DatagramSocket å®ä¾‹ Scanner sc = new Scanner(System.in); // åˆ›å»º Scanner å¯¹è±¡ç”¨äºè¾“å…¥æ¶ˆæ¯ while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥ä½ éœ€è¦å‘é€çš„æ¶ˆæ¯(exité€€å‡º)\u0026#34;); String msg = sc.nextLine(); // è¯»å–ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯ if (msg.equals(\u0026#34;exit\u0026#34;)) { // å¦‚æœè¾“å…¥ exitï¼Œåˆ™é€€å‡ºå¾ªç¯ System.out.println(\u0026#34;é€€å‡ºæˆåŠŸ\u0026#34;); socket.close(); // å…³é—­å®¢æˆ·ç«¯ Socket break; } byte[] bytes = msg.getBytes(); // å°†æ¶ˆæ¯è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ DatagramPacket packet = new DatagramPacket(bytes, bytes.length , InetAddress.getLocalHost(), 6666); // åˆ›å»ºè¦å‘é€çš„ DatagramPacket socket.send(packet); // å‘é€æ•°æ®æŠ¥æ–‡åˆ°æœåŠ¡å™¨ } } } package com.showguan.InternetDemo; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.SocketException; public class Server { public static void main(String[] args) throws Exception { DatagramSocket socket = new DatagramSocket(6666); // åˆ›å»ºæœåŠ¡å™¨ç«¯ DatagramSocket å®ä¾‹ï¼Œç›‘å¬ç«¯å£ 6666 while (true) { byte[] buffer = new byte[1024*64]; // åˆ›å»ºå­—èŠ‚æ•°ç»„ç”¨äºå­˜å‚¨æ¥æ”¶çš„æ•°æ® DatagramPacket packet = new DatagramPacket(buffer, buffer.length); // åˆ›å»º DatagramPacket ç”¨äºæ¥æ”¶æ•°æ® socket.receive(packet); // æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„æ•°æ®æŠ¥æ–‡ System.out.println(packet.getAddress()); // æ‰“å°å®¢æˆ·ç«¯çš„ IP åœ°å€ System.out.println(packet.getPort()); // æ‰“å°å®¢æˆ·ç«¯çš„ç«¯å£å· int len = packet.getLength(); // è·å–æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ String s = new String(buffer, 0, len); // å°†æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸² System.out.println(s); // æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯ System.out.println(\u0026#34;--------------------\u0026#34;); } } } TCPåè®® ç‰¹ç‚¹ï¼šé¢å‘è¿æ¥ï¼Œå¯é é€šä¿¡ TCPçš„æœ€ç»ˆç›®çš„ï¼šè¦ä¿è¯åœ¨ä¸å¯é çš„ä¿¡é“ä¸Šå®ç°å¯é çš„ä¼ è¾“ TCPä¸»è¦æœ‰ä¸‰ä¸ªæ­¥éª¤å®ç°å¯é ä¼ è¾“ï¼šä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œä¼ è¾“æ•°æ®è¿›è¡Œç¡®è®¤ï¼Œå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ å¯é è¿æ¥ï¼šç¡®å®šé€šä¿¡åŒæ–¹ï¼Œæ”¶å‘æ¶ˆæ¯éƒ½æ˜¯æ­£å¸¸æ— é—®é¢˜çš„ï¼ˆå…¨åŒå·¥ï¼‰\nä¸‰æ¬¡æ¡æ‰‹æ‰èƒ½ç¡®å®šå½¼æ­¤æ”¶å‘æ¶ˆæ¯éƒ½æ˜¯æ²¡é—®é¢˜çš„ã€‚\nä¼ è¾“æ•°æ®ä¼šè¿›è¡Œç¡®è®¤ï¼Œä»¥ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§\nTCPé€šä¿¡-æ”¯æŒä¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶é€šä¿¡ package com.showguan.CaseDemo; import java.io.DataOutputStream; import java.io.OutputStream; import java.net.Socket; import java.util.Scanner; public class Client { public static void main(String[] args) throws Exception { Socket socket = new Socket(\u0026#34;127.0.0.1\u0026#34;, 8888); // åˆ›å»ºå®¢æˆ·ç«¯ Socket å¹¶è¿æ¥æœåŠ¡å™¨ OutputStream os = socket.getOutputStream(); // è·å– Socket çš„è¾“å‡ºæµ DataOutputStream dos = new DataOutputStream(os); // åŒ…è£…è¾“å‡ºæµä¸º DataOutputStream Scanner sc = new Scanner(System.in); new ClientReaderThread(socket).start(); // å¯åŠ¨å®¢æˆ·ç«¯è¯»çº¿ç¨‹ï¼Œç”¨äºæ¥æ”¶æœåŠ¡ç«¯æ¶ˆæ¯ while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥ä½ éœ€è¦å‘é€çš„æ¶ˆæ¯\u0026#34;); String msg = sc.nextLine(); // è¯»å–ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯ if(msg.equals(\u0026#34;exit\u0026#34;)){ // å¦‚æœè¾“å…¥ exitï¼Œåˆ™é€€å‡ºå¾ªç¯ socket.close(); // å…³é—­å®¢æˆ·ç«¯ Socket System.out.println(\u0026#34;æˆåŠŸé€€å‡ºé€šä¿¡\u0026#34;); dos.close(); // å…³é—­è¾“å‡ºæµ break; } dos.writeUTF(msg); // å‘æœåŠ¡å™¨å‘é€æ¶ˆæ¯ dos.flush(); // åˆ·æ–°è¾“å‡ºæµï¼Œç¡®ä¿æ¶ˆæ¯å‘é€ } } } package com.showguan.CaseDemo; import java.io.DataInputStream; import java.io.InputStream; import java.net.Socket; public class ClientReaderThread extends Thread { private Socket socket; public ClientReaderThread(Socket socket) { this.socket = socket; // åˆå§‹åŒ– Socket } @Override public void run() { try { InputStream is = socket.getInputStream(); // è·å–è¾“å…¥æµ DataInputStream dis = new DataInputStream(is); // åŒ…è£…è¾“å…¥æµä¸º DataInputStream while (true) { try { String msg = dis.readUTF(); // è¯»å–æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯ System.out.println(msg); // æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯ } catch (Exception e) { System.out.println(\u0026#34;æ‚¨æˆåŠŸä¸‹çº¿äº†ï¼\u0026#34;); // æ‰“å°å®¢æˆ·ç«¯ä¸‹çº¿ä¿¡æ¯ socket.close(); // å…³é—­ Socket è¿æ¥ dis.close(); // å…³é—­è¾“å…¥æµ break; // é€€å‡ºå¾ªç¯ } } } catch (Exception e) { e.printStackTrace(); } } } package com.showguan.CaseDemo; import java.io.*; import java.net.ServerSocket; import java.net.Socket; import java.util.ArrayList; import java.util.List; public class Server { public static List\u0026lt;Socket\u0026gt; onLineSockets = new ArrayList\u0026lt;\u0026gt;(); // å­˜å‚¨åœ¨çº¿çš„å®¢æˆ·ç«¯ Socket public static void main(String[] args) throws Exception { System.out.println(\u0026#34;æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸï¼\u0026#34;); ServerSocket serverSocket = new ServerSocket(8888); // åˆ›å»ºæœåŠ¡å™¨ç«¯ ServerSocketï¼Œç›‘å¬ç«¯å£ 8888 while (true) { Socket socket = serverSocket.accept(); // ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ onLineSockets.add(socket); // æ·»åŠ å®¢æˆ·ç«¯ Socket åˆ°åœ¨çº¿åˆ—è¡¨ System.out.println(\u0026#34;æœ‰äººä¸Šçº¿äº†ï¼\u0026#34; + socket.getRemoteSocketAddress()); // æ‰“å°å®¢æˆ·ç«¯åœ°å€ä¿¡æ¯ ServerReaderThread serverReaderThread = new ServerReaderThread(socket); // åˆ›å»ºæœåŠ¡å™¨ç«¯è¯»çº¿ç¨‹ serverReaderThread.start(); // å¯åŠ¨æœåŠ¡å™¨ç«¯è¯»çº¿ç¨‹å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯ } } } package com.showguan.CaseDemo; import java.io.*; import java.net.Socket; public class ServerReaderThread extends Thread { private Socket socket; public ServerReaderThread(Socket socket) { this.socket = socket; // åˆå§‹åŒ– Socket } @Override public void run() { try { InputStream is = socket.getInputStream(); // è·å–è¾“å…¥æµ DataInputStream dis = new DataInputStream(is); // åŒ…è£…è¾“å…¥æµä¸º DataInputStream while (true) { String msg = null; try { msg = dis.readUTF(); // è¯»å–å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ System.out.println(msg); // æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯ sendMsgToAll(msg); // å°†æ¶ˆæ¯å‘é€ç»™æ‰€æœ‰åœ¨çº¿å®¢æˆ·ç«¯ } catch (Exception e) { System.out.println(\u0026#34;ç”¨æˆ·ï¼š \u0026#34; + socket.getRemoteSocketAddress() + \u0026#34;ä¸‹çº¿äº†\u0026#34;); // æ‰“å°å®¢æˆ·ç«¯ä¸‹çº¿ä¿¡æ¯ Server.onLineSockets.remove(socket); // ä»åœ¨çº¿åˆ—è¡¨ä¸­ç§»é™¤å®¢æˆ·ç«¯ Socket socket.close(); // å…³é—­ Socket è¿æ¥ dis.close(); // å…³é—­è¾“å…¥æµ break; // é€€å‡ºå¾ªç¯ } } } catch (Exception e) { e.printStackTrace(); } } // å°†æ¶ˆæ¯å‘é€ç»™æ‰€æœ‰åœ¨çº¿å®¢æˆ·ç«¯ private void sendMsgToAll(String msg) throws Exception { for (Socket onLineSocket : Server.onLineSockets) { // éå†åœ¨çº¿å®¢æˆ·ç«¯åˆ—è¡¨ if(onLineSocket.equals(socket)){ // æ’é™¤å½“å‰å®¢æˆ·ç«¯ continue; } OutputStream os = onLineSocket.getOutputStream(); // è·å–å®¢æˆ·ç«¯çš„è¾“å‡ºæµ DataOutputStream dos = new DataOutputStream(os); // åŒ…è£…è¾“å‡ºæµä¸º DataOutputStream dos.writeUTF(msg); // å‘é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ dos.flush(); // åˆ·æ–°è¾“å‡ºæµ } } } BS æ¶æ„ import java.io.*; import java.net.*; import java.util.concurrent.*; /** * ä¸€ä¸ªç®€å•çš„åŸºäºSocketçš„HTTPæœåŠ¡å™¨ç¤ºä¾‹ */ public class SimpleHttpServer { public static void main(String[] args) throws Exception { // æ˜¾ç¤ºæœåŠ¡ç«¯å¯åŠ¨æˆåŠŸä¿¡æ¯ System.out.println(\u0026#34;æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸï¼\u0026#34;); // åˆ›å»ºServerSocketå¹¶ç›‘å¬æŒ‡å®šç«¯å£ ServerSocket serverSocket = new ServerSocket(8081); // åˆ›å»ºçº¿ç¨‹æ± ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ ThreadPoolExecutor pool = new ThreadPoolExecutor( 12 * 2, // æ ¸å¿ƒçº¿ç¨‹æ•° 12 * 2, // æœ€å¤§çº¿ç¨‹æ•° 0, // çº¿ç¨‹ç©ºé—²è¶…æ—¶æ—¶é—´ TimeUnit.SECONDS, // æ—¶é—´å•ä½ new ArrayBlockingQueue\u0026lt;\u0026gt;(8), // ä»»åŠ¡é˜Ÿåˆ— Executors.defaultThreadFactory(), // çº¿ç¨‹å·¥å‚ new ThreadPoolExecutor.AbortPolicy()); // æ‹’ç»ç­–ç•¥ // æœåŠ¡ç«¯å¾ªç¯ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ while (true) { Socket socket = serverSocket.accept(); // ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ System.out.println(\u0026#34;æœ‰äººè®¿é—®ç½‘é¡µï¼\u0026#34; + socket.getRemoteSocketAddress()); // æ˜¾ç¤ºå®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ pool.execute(new ServerReaderThread(socket)); // å°†è¿æ¥äº¤ç»™çº¿ç¨‹æ± å¤„ç† } } } /** * æœåŠ¡å™¨è¯»å–çº¿ç¨‹ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ */ class ServerReaderThread extends Thread { private Socket socket; // ä¸å®¢æˆ·ç«¯é€šä¿¡çš„Socketå¯¹è±¡ /** * æ„é€ æ–¹æ³•ï¼Œåˆå§‹åŒ–Socketå¯¹è±¡ * @param socket ä¸å®¢æˆ·ç«¯é€šä¿¡çš„Socketå¯¹è±¡ */ public ServerReaderThread(Socket socket) { this.socket = socket; } /** * çº¿ç¨‹è¿è¡Œæ–¹æ³•ï¼Œå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ */ @Override public void run() { try { OutputStream os = socket.getOutputStream(); // è·å–è¾“å‡ºæµ PrintStream ps = new PrintStream(os); // ä½¿ç”¨PrintStreamåŒ…è£…è¾“å‡ºæµï¼Œæ–¹ä¾¿å†™å…¥å“åº”æ•°æ® // HTTPå“åº”å¤´éƒ¨ä¿¡æ¯ ps.println(\u0026#34;HTTP/1.1 200 OK\u0026#34;); // å“åº”çŠ¶æ€ç åŠçŠ¶æ€ä¿¡æ¯ ps.println(\u0026#34;Content-Type:text/html;charset=UTF-8\u0026#34;); // å†…å®¹ç±»å‹åŠç¼–ç  ps.println(); // ç©ºè¡Œï¼Œè¡¨ç¤ºå¤´éƒ¨ä¿¡æ¯ç»“æŸ // HTTPå“åº”ä½“ï¼Œè¿”å›ä¸€ä¸ªç®€å•çš„HTMLé¡µé¢ ps.println(\u0026#34;\u0026lt;div style=\u0026#39;color:red;font-size:120px;text-align:center\u0026#39;\u0026gt;Kennem\u0026lt;div\u0026gt;\u0026#34;); // çº¢è‰²æ–‡æœ¬ ps.println(\u0026#34;\u0026lt;html\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;head\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;title\u0026gt;Welcome\u0026lt;/title\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;/head\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;body\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;h1 style=\u0026#39;color:red;text-align:center;\u0026#39;\u0026gt;Welcome to my server!\u0026lt;/h1\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;p style=\u0026#39;text-align:center;\u0026#39;\u0026gt;Here are some interesting links:\u0026lt;/p\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;ul\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;li\u0026gt;\u0026lt;a href=\u0026#39;https://www.example.com\u0026#39;\u0026gt;Example Website\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;li\u0026gt;\u0026lt;a href=\u0026#39;https://www.example2.com\u0026#39;\u0026gt;Another Example Website\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;/ul\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;p style=\u0026#39;text-align:center;\u0026#39;\u0026gt;And here\u0026#39;s an image:\u0026lt;/p\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;div style=\u0026#39;text-align:center;\u0026#39;\u0026gt;\u0026lt;img src=\u0026#39;https://th.bing.com/th/id/OIG3.ryWiFmseYX.jWcO7pmoz?pid=ImgGn\u0026#39; alt=\u0026#39;Example Image\u0026#39;\u0026gt;\u0026lt;/div\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;/body\u0026gt;\u0026#34;); ps.println(\u0026#34;\u0026lt;/html\u0026gt;\u0026#34;); ps.close(); // å…³é—­è¾“å‡ºæµ } catch (Exception e) { e.printStackTrace(); // è¾“å‡ºå¼‚å¸¸ä¿¡æ¯ } } } å•å…ƒæµ‹è¯• å°±æ˜¯é’ˆå¯¹æœ€å°çš„åŠŸèƒ½å•å…ƒï¼ˆæ–¹æ³•ï¼‰ï¼Œç¼–å†™æµ‹è¯•ä»£ç å¯¹å…¶è¿›è¡Œæ­£ç¡®æ€§æµ‹è¯•ã€‚ Junitå•å…ƒæµ‹è¯•æ¡†æ¶\nå¯ä»¥ç”¨æ¥å¯¹æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œæ˜¯ç¬¬ä¸‰æ–¹å…¬å¸å¼€æºå‡ºæ¥çš„ ä¼˜ç‚¹\nå¯ä»¥çµæ´»çš„ç¼–å†™æµ‹è¯•ä»£ç ï¼Œå¯ä»¥é’ˆå¯¹æŸä¸ªæ–¹æ³•æ‰§è¡Œæµ‹è¯•ï¼Œä¹Ÿæ”¯æŒä¸€é”®å®Œæˆå¯¹å…¨éƒ¨æ–¹æ³•çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¸”å„è‡ªç‹¬ç«‹ ä¸éœ€è¦ç¨‹åºå‘˜å»åˆ†ææµ‹è¯•çš„ç»“æœï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š /** * StringUtilTest ç±»æ˜¯ç”¨äºæµ‹è¯• StringUtil ç±»ä¸­å„ä¸ªæ–¹æ³•çš„æµ‹è¯•ç±»ã€‚ * ä¸»è¦æµ‹è¯•äº† StringUtil ç±»ä¸­ printNumber() å’Œ getMaxIndex() æ–¹æ³•çš„åŠŸèƒ½å’Œæ­£ç¡®æ€§ã€‚ * * æµ‹è¯•æ–¹æ³•è¯´æ˜ï¼š * - testprintNumber(): æµ‹è¯• printNumber() æ–¹æ³•ï¼ŒéªŒè¯å…¶å¯¹è¾“å…¥å­—ç¬¦ä¸²çš„å¤„ç†æ˜¯å¦æ­£ç¡®ã€‚ * - testGetMaxIndex(): æµ‹è¯• getMaxIndex() æ–¹æ³•ï¼ŒéªŒè¯å…¶è¿”å›å­—ç¬¦ä¸²ä¸­æœ€å¤§å­—æ¯çš„ç´¢å¼•æ˜¯å¦æ­£ç¡®ã€‚ * * æµ‹è¯•ç”Ÿå‘½å‘¨æœŸæ³¨è§£è¯´æ˜ï¼š * - @BeforeClass: åœ¨è¯¥æµ‹è¯•ç±»çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œç”¨äºåˆå§‹åŒ–é™æ€èµ„æºæˆ–æ‰§è¡Œä¸€æ¬¡æ€§è®¾ç½®ã€‚ * - test11(): æµ‹è¯• BeforeClass ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”¨äºæ‰“å° BeforeClass æ‰§è¡Œä¿¡æ¯ã€‚ * * - @Before: åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œç”¨äºå‡†å¤‡æµ‹è¯•ç¯å¢ƒæˆ–æ‰§è¡ŒæŸäº›é¢„å¤„ç†æ“ä½œã€‚ * - test1(): æµ‹è¯• Before ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”¨äºæ‰“å° Before æ‰§è¡Œä¿¡æ¯ã€‚ * * - @Test: è¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ã€‚ * - testprintNumber(): æµ‹è¯• printNumber() æ–¹æ³•ï¼ŒéªŒè¯å…¶åŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€‚ * - testGetMaxIndex(): æµ‹è¯• getMaxIndex() æ–¹æ³•ï¼ŒéªŒè¯å…¶åŠŸèƒ½å’Œè¿”å›å€¼æ˜¯å¦æ­£ç¡®ã€‚ * * - @After: åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œç”¨äºæ¸…ç†æµ‹è¯•ç¯å¢ƒæˆ–æ‰§è¡ŒæŸäº›æ”¶å°¾æ“ä½œã€‚ * - test2(): æµ‹è¯• After ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”¨äºæ‰“å° After æ‰§è¡Œä¿¡æ¯ã€‚ * * - @AfterClass: åœ¨è¯¥æµ‹è¯•ç±»çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œç”¨äºæ‰§è¡Œæ¸…ç†æ“ä½œæˆ–é‡Šæ”¾èµ„æºã€‚ * - test22(): æµ‹è¯• AfterClass ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”¨äºæ‰“å° AfterClass æ‰§è¡Œä¿¡æ¯ã€‚ * * å…¶ä»–è¯´æ˜ï¼š * - ä½¿ç”¨æ–­è¨€æœºåˆ¶éªŒè¯ getMaxIndex() æ–¹æ³•çš„æ­£ç¡®æ€§ã€‚ * - åœ¨ testGetMaxIndex() æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ Assert.assertEquals() æ–­è¨€æ–¹æ³•ï¼Œå¯¹æ¯”é¢„æœŸè¿”å›å€¼å’Œå®é™…è¿”å›å€¼æ˜¯å¦ç›¸ç­‰ã€‚ */ public class StringUtilTest { /** * åœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„é™æ€æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–é™æ€èµ„æºæˆ–æ‰§è¡Œä¸€æ¬¡æ€§è®¾ç½®ã€‚ */ @BeforeClass public static void test11() { System.out.println(\u0026#34;---test11 beforeClass æ‰§è¡Œäº†---\u0026#34;); } /** * åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„æ–¹æ³•ï¼Œç”¨äºå‡†å¤‡æµ‹è¯•ç¯å¢ƒæˆ–æ‰§è¡ŒæŸäº›é¢„å¤„ç†æ“ä½œã€‚ */ @Before public void test1() { System.out.println(\u0026#34;---test1 before æ‰§è¡Œäº†---\u0026#34;); } /** * æµ‹è¯• printNumber() æ–¹æ³•ï¼ŒéªŒè¯å…¶å¯¹è¾“å…¥å­—ç¬¦ä¸²çš„å¤„ç†æ˜¯å¦æ­£ç¡®ã€‚ */ @Test public void testprintNumber() { StringUtil.printNumber(\u0026#34;abcdefg\u0026#34;); StringUtil.printNumber(null); } /** * æµ‹è¯• getMaxIndex() æ–¹æ³•ï¼ŒéªŒè¯å…¶è¿”å›å­—ç¬¦ä¸²ä¸­æœ€å¤§å­—æ¯çš„ç´¢å¼•æ˜¯å¦æ­£ç¡®ã€‚ */ @Test public void testGetMaxIndex() { int idx1 = StringUtil.getMaxIndex(\u0026#34;abcdefg\u0026#34;); System.out.println(idx1); int idx2 = StringUtil.getMaxIndex(null); System.out.println(idx2); // æ–­è¨€æœºåˆ¶ Assert.assertEquals(\u0026#34;æ–¹æ³•å†…éƒ¨æœ‰bug\u0026#34;, 6, idx1); } /** * åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œçš„æ–¹æ³•ï¼Œç”¨äºæ¸…ç†æµ‹è¯•ç¯å¢ƒæˆ–æ‰§è¡ŒæŸäº›æ”¶å°¾æ“ä½œã€‚ */ @After public void test2() { System.out.println(\u0026#34;---test2 after æ‰§è¡Œäº†---\u0026#34;); } /** * åœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œçš„é™æ€æ–¹æ³•ï¼Œç”¨äºæ‰§è¡Œæ¸…ç†æ“ä½œæˆ–é‡Šæ”¾èµ„æºã€‚ */ @AfterClass public static void test22() { System.out.println(\u0026#34;---test22 afterClass æ‰§è¡Œäº†---\u0026#34;); } } åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œçš„æ–¹æ³•ï¼šå¸¸ç”¨äºï¼šåˆå§‹åŒ–èµ„æº åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œå®Œåå†æ‰§è¡Œçš„æ–¹æ³•ï¼Œå¸¸ç”¨äºï¼šé‡Šæ”¾èµ„æº åœ¨Junit 5.xxxxç‰ˆæœ¬\n@Before-\u0026gt;@BeforeEach @After-\u0026gt;@AfterEach @BeforeClass-\u0026gt;@BeforeAll @AfterClass-\u0026gt;@AfterAll åå°„(Reflection) åå°„ï¼šåŠ è½½ç±»ï¼Œå¹¶å…è®¸ä»¥ç¼–ç¨‹çš„æ–¹å¼è§£å‰–ç±»ä¸­çš„å„ç§æˆåˆ†ï¼ˆæˆå‘˜å˜é‡ï¼Œæ–¹æ³•ï¼Œæ„é€ å™¨ç­‰ï¼‰ 1.åŠ è½½ç±» public class Test1Class { public static void main(String[] args) throws Exception { // 1. ç›´æ¥é€šè¿‡ç±»åè·å– Class å¯¹è±¡ Class c1 = String.class; System.out.println(c1.getName()); System.out.println(c1.getSimpleName()); // 2. é€šè¿‡ Class.forName() æ–¹æ³•æ ¹æ®ç±»çš„å…¨é™å®šåè·å– Class å¯¹è±¡ Class c2 = Class.forName(\u0026#34;com.showguan.reflect_demo.Student\u0026#34;); System.out.println(c1 == c2); // 3. é€šè¿‡å®ä¾‹å¯¹è±¡çš„ getClass() æ–¹æ³•è·å– Class å¯¹è±¡ Student s = new Student(); Class c3 = s.getClass(); System.out.println(c1 == c3); } } 2.è·å–æ„é€ å™¨ public class Test2Constructor { /** * è·å–ç±»çš„æ‰€æœ‰å…¬å…±æ„é€ æ–¹æ³•å¹¶è¾“å‡ºæ„é€ æ–¹æ³•çš„åç§°å’Œå‚æ•°ä¸ªæ•°ã€‚ */ @Test public void testGetConstructors(){ Class c = Cat.class; Constructor[] constructors = c.getConstructors(); for (Constructor constructor : constructors) { System.out.println(constructor.getName() + \u0026#34;---\u0026gt;\u0026#34; + constructor.getParameterCount()); } } /** * è·å–æŒ‡å®šæ„é€ æ–¹æ³•å¹¶é€šè¿‡ newInstance() æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚ * ä½¿ç”¨ setAccessible(true) æ–¹æ³•è§£é™¤ç§æœ‰æ„é€ æ–¹æ³•çš„è®¿é—®é™åˆ¶ã€‚ */ @Test public void testGetConstructor() throws Exception { Class c = Cat.class; // è·å–æ— å‚æ„é€ æ–¹æ³• Constructor constructor = c.getDeclaredConstructor(); System.out.println(constructor.getName() + \u0026#34; \u0026#34; + constructor.getParameterCount()); constructor.setAccessible(true); Cat cat = (Cat) constructor.newInstance(); System.out.println(cat); // è·å–å¸¦å‚æ•°çš„æ„é€ æ–¹æ³• Constructor constructor1 = c.getDeclaredConstructor(String.class, int.class); System.out.println(constructor1.getName() + \u0026#34; \u0026#34; + constructor1.getParameterCount()); constructor1.setAccessible(true); Cat cat1 = (Cat) constructor1.newInstance(\u0026#34;å¥¶ç‰›çŒ«\u0026#34;, 3); System.out.println(cat1); } } 3.è·å–æˆå‘˜å˜é‡ public class Test4Field { /** * è·å–ç±»çš„æ‰€æœ‰å­—æ®µä¿¡æ¯ï¼Œå¹¶æ¼”ç¤ºäº†å¦‚ä½•æ“ä½œç±»çš„å­—æ®µã€‚ */ @Test public void testGetFields() throws Exception { Class c = Cat.class; // è·å–ç±»çš„æ‰€æœ‰å­—æ®µä¿¡æ¯å¹¶è¾“å‡ºå­—æ®µåå’Œç±»å‹ Field[] fields = c.getDeclaredFields(); for (Field field : fields) { System.out.println(field.getName() + \u0026#34;---\u0026gt;\u0026#34; + field.getType()); } // å®šä½åˆ°ç‰¹å®šæˆå‘˜å˜é‡ Field fAge = c.getDeclaredField(\u0026#34;age\u0026#34;); System.out.println(fAge.getName() + \u0026#34;---\u0026gt;\u0026#34; + fAge.getType()); Field fName = c.getDeclaredField(\u0026#34;name\u0026#34;); System.out.println(fName.getName() + \u0026#34;---\u0026gt;\u0026#34; + fName.getType()); // åˆ›å»º Cat å¯¹è±¡ï¼Œå¹¶é€šè¿‡åå°„æ“ä½œå­—æ®µ Cat cat = new Cat(); fName.setAccessible(true); // è®¾ç½®ç§æœ‰å­—æ®µå¯è®¿é—® fName.set(cat, \u0026#34;å¥¶ç‰›çŒ«\u0026#34;); // è®¾ç½®å­—æ®µå€¼ String name = (String) fName.get(cat); // è·å–å­—æ®µå€¼ System.out.println(name); } } 4.è·å–ç±»æ–¹æ³• public class Test4Method { /** * è·å–ç±»çš„æ‰€æœ‰æ–¹æ³•ä¿¡æ¯ï¼Œå¹¶æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡åå°„è°ƒç”¨ç±»çš„æ–¹æ³•ã€‚ */ @Test public void testGetMethods() throws Exception { Class c = Cat.class; // è·å–ç±»çš„æ‰€æœ‰æ–¹æ³•ä¿¡æ¯å¹¶è¾“å‡ºæ–¹æ³•åã€å‚æ•°ä¸ªæ•°å’Œè¿”å›ç±»å‹ Method[] methods = c.getDeclaredMethods(); for (Method method : methods) { System.out.println(method.getName() + \u0026#34;---\u0026gt;\u0026#34; + method.getParameterCount() + \u0026#34;---\u0026gt;\u0026#34; + method.getReturnType()); } // è·å–ç‰¹å®šæ–¹æ³•ä¿¡æ¯å¹¶è¾“å‡º Method run = c.getDeclaredMethod(\u0026#34;run\u0026#34;); System.out.println(run.getName() + \u0026#34;---\u0026gt;\u0026#34; + run.getParameterCount() + \u0026#34;---\u0026gt;\u0026#34; + run.getReturnType()); Method eat = c.getDeclaredMethod(\u0026#34;eat\u0026#34;, String.class); System.out.println(eat.getName() + \u0026#34;---\u0026gt;\u0026#34; + eat.getParameterCount() + \u0026#34;---\u0026gt;\u0026#34; + eat.getReturnType()); // åˆ›å»º Cat å¯¹è±¡ï¼Œå¹¶é€šè¿‡åå°„è°ƒç”¨æ–¹æ³• Cat cat = new Cat(); run.setAccessible(true); // è®¾ç½®ç§æœ‰æ–¹æ³•å¯è®¿é—® Object invoke = run.invoke(cat); // è°ƒç”¨æ–¹æ³• System.out.println(invoke); eat.setAccessible(true); // è®¾ç½®ç§æœ‰æ–¹æ³•å¯è®¿é—® Object invoke1 = eat.invoke(cat, \u0026#34;é±¼é¥¼å¹²\u0026#34;); // è°ƒç”¨æ–¹æ³• System.out.println(invoke1); } } æ¡ˆä¾‹ public class ObjectFrame { /** * å°†å¯¹è±¡ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ã€‚ * * @param obj è¦ä¿å­˜ä¿¡æ¯çš„å¯¹è±¡ * @throws Exception å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ */ public static void saveObject(Object obj) throws Exception { // åˆ›å»º PrintStream å¯¹è±¡ï¼Œç”¨äºå†™å…¥æ–‡ä»¶ PrintStream ps = new PrintStream(new FileOutputStream(\u0026#34;junit-reflect-annotation-proxy-app\\\\src\\\\com\\\\showguan\\\\reflect_demo\\\\data.txt\u0026#34;, true)); Class c = obj.getClass(); String cName = c.getSimpleName(); ps.println(\u0026#34;--------------\u0026#34; + cName + \u0026#34;-----------------\u0026#34;); // è·å–å¯¹è±¡çš„æ‰€æœ‰å­—æ®µä¿¡æ¯ï¼Œå¹¶å†™å…¥æ–‡ä»¶ Field[] fields = c.getDeclaredFields(); for (Field field : fields) { String name = field.getName(); field.setAccessible(true); // è®¾ç½®å­—æ®µå¯è®¿é—® String value = field.get(obj) + \u0026#34;\u0026#34;; // è·å–å­—æ®µå€¼ ps.println(name + \u0026#34; \u0026#34; + value); } ps.close(); // å…³é—­æµ } } /** * Test5 ç±»æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯• ObjectFrame ç±»çš„ä¸»ç¨‹åºã€‚ * ä¸»è¦åˆ›å»ºäº†ä¸€ä¸ª Student å¯¹è±¡å’Œä¸€ä¸ª Teacher å¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬çš„ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚ */ package com.showguan.reflect_demo; public class Test5 { public static void main(String[] args) throws Exception{ // åˆ›å»º Student å¯¹è±¡å’Œ Teacher å¯¹è±¡ Student s1 = new Student(\u0026#34;Kennem\u0026#34;, \u0026#39;ç”·\u0026#39;, 21, 181.2, \u0026#34;lelele\u0026#34;); Teacher t1 = new Teacher(\u0026#34;tytytyt\u0026#34;, 21000); // å°†å¯¹è±¡ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ä¸­ ObjectFrame.saveObject(s1); ObjectFrame.saveObject(t1); } } æ³¨è§£ï¼ˆAnnotationï¼‰ å°±æ˜¯Javaä»£ç é‡Œçš„ç‰¹æ®Šæ ‡è®°ï¼Œæ¯”å¦‚@Override, @Testç­‰ï¼Œä½œç”¨æ˜¯ï¼šè®©å…¶ä»–ç¨‹åºæ ¹æ®æ³¨è§£ä¿¡æ¯æ¥å†³å®šæ€ä¹ˆæ‰§è¡Œè¯¥ç¨‹åº æ³¨æ„ï¼šæ³¨è§£å¯ä»¥ç”¨åœ¨ç±»ä¸Šï¼Œæ„é€ å™¨ä¸Šï¼Œæ–¹æ³•ä¸Šï¼Œæˆå‘˜å˜é‡ä¸Šï¼Œå‚æ•°ä¸Šï¼Œç­‰ä½ç½® è‡ªå®šä¹‰æ³¨è§£ /** * MyTest1 æ³¨è§£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œå…·æœ‰ä¸‰ä¸ªå±æ€§ï¼š * - aï¼šå­—ç¬¦ä¸²ç±»å‹å±æ€§ã€‚ * - bï¼šå¸ƒå°”ç±»å‹å±æ€§ï¼Œé»˜è®¤å€¼ä¸º trueã€‚ * - cï¼šå­—ç¬¦ä¸²æ•°ç»„ç±»å‹å±æ€§ã€‚ */ package com.showguan.annotation_demo; public @interface MyTest1 { String a(); boolean b() default true; String[] c(); } /** * MyTest2 æ³¨è§£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œå…·æœ‰ä¸¤ä¸ªå±æ€§ï¼š * - valueï¼šå­—ç¬¦ä¸²ç±»å‹å±æ€§ã€‚ * - ageï¼šæ•´æ•°ç±»å‹å±æ€§ï¼Œé»˜è®¤å€¼ä¸º 23ã€‚ * å¦‚æœæ³¨è§£ä¸­åªæœ‰ä¸€ä¸ª value å±æ€§ï¼Œä½¿ç”¨æ³¨è§£æ—¶ï¼Œvalue åç§°å¯ä»¥ä¸å†™ã€‚ */ package com.showguan.annotation_demo; public @interface MyTest2 { // ç‰¹æ®Šå±æ€§å // å¦‚æœæ³¨è§£ä¸­åªæœ‰ä¸€ä¸ªvalueå±æ€§ï¼Œä½¿ç”¨æ³¨è§£æ—¶ï¼Œvalueåç§°å¯ä»¥ä¸å†™ String value(); int age() default 23; } /** * AnnotationTest1 ç±»æ˜¯ä¸€ä¸ªæ¼”ç¤ºæ³¨è§£çš„ä½¿ç”¨çš„ç¤ºä¾‹ç¨‹åºã€‚ * ä½¿ç”¨äº† MyTest1 å’Œ MyTest2 ä¸¤ä¸ªè‡ªå®šä¹‰æ³¨è§£ã€‚ */ package com.showguan.annotation_demo; @MyTest1(a=\u0026#34;Kennem\u0026#34;, c={\u0026#34;HTML\u0026#34;, \u0026#34;CSS\u0026#34;}) public class AnnotationTest1 { /** * ä½¿ç”¨äº† MyTest1 æ³¨è§£ï¼Œå¹¶æŒ‡å®šäº†å„å±æ€§çš„å€¼ã€‚ */ @MyTest1(a=\u0026#34;tytyt\u0026#34;, b=false, c={\u0026#34;python\u0026#34;, \u0026#34;c++\u0026#34;}) public static void main(String[] args) { } /** * ä½¿ç”¨äº† MyTest2 æ³¨è§£ï¼Œå¹¶æŒ‡å®šäº† value å±æ€§çš„å€¼ã€‚ */ @MyTest2(\u0026#34;value\u0026#34;) public static void test1(){ } } å…ƒæ³¨è§£ ä¿®é¥°æ³¨è§£çš„æ³¨è§£ /** * MyTest3 æ³¨è§£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œç”¨äºæ ‡è®°ç±»ã€æ–¹æ³•å’Œå­—æ®µã€‚ * å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š * - @Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})ï¼šæŒ‡å®šè¯¥æ³¨è§£å¯ä»¥ç”¨äºç±»ã€æ–¹æ³•å’Œå­—æ®µä¸Šã€‚ * - @Retention(RetentionPolicy.RUNTIME)ï¼šå£°æ˜æ³¨è§£çš„ä¿ç•™å‘¨æœŸä¸ºè¿è¡Œæ—¶ï¼Œä½¿å¾—è¯¥æ³¨è§£åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è·å–åˆ°ã€‚ */ package com.showguan.annotation_demo; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; @Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD}) @Retention(RetentionPolicy.RUNTIME) public @interface MyTest3 { } /** * AnnotationTest2 ç±»æ˜¯ä¸€ä¸ªæ¼”ç¤ºæ³¨è§£çš„ä½¿ç”¨çš„ç¤ºä¾‹ç¨‹åºã€‚ * ä½¿ç”¨äº† MyTest3 æ³¨è§£ï¼Œå¹¶æ ‡è®°äº†ç±»ã€å­—æ®µå’Œæ–¹æ³•ã€‚ */ package com.showguan.annotation_demo; import org.junit.Test; @MyTest3 public class AnnotationTest2 { /** * ä½¿ç”¨äº† MyTest3 æ³¨è§£ï¼Œæ ‡è®°äº†å­—æ®µã€‚ */ @MyTest3 private int test; /** * ä½¿ç”¨äº† MyTest3 æ³¨è§£ï¼Œæ ‡è®°äº†æ–¹æ³•ã€‚ */ @MyTest3 @Test public void m() { } } æ³¨è§£çš„è§£æ\nå°±æ˜¯åˆ¤æ–­ç±»ä¸Šï¼Œæ–¹æ³•ä¸Šï¼Œæˆå‘˜å˜é‡ä¸Šæ˜¯å¦å­˜åœ¨æ³¨è§£ï¼Œå¹¶æŠŠæ³¨è§£é‡Œçš„å†…å®¹ç»™è§£æå‡ºæ¥ è§£ææ³¨è§£ package com.showguan.annotation_demo; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; // å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ MyTest4 @Target({ElementType.TYPE, ElementType.METHOD}) // å¯ä»¥æ ‡è®°åœ¨ç±»å’Œæ–¹æ³•ä¸Š @Retention(RetentionPolicy.RUNTIME) // æ³¨è§£ä¿¡æ¯åœ¨è¿è¡Œæ—¶ä¿ç•™ public @interface MyTest4 { String value(); // å£°æ˜ä¸€ä¸ªå±æ€§ valueï¼Œç±»å‹ä¸º String double aaa() default 100; // å£°æ˜ä¸€ä¸ªå±æ€§ aaaï¼Œç±»å‹ä¸º doubleï¼Œé»˜è®¤å€¼ä¸º 100 String[] bbb(); // å£°æ˜ä¸€ä¸ªå±æ€§ bbbï¼Œç±»å‹ä¸º String æ•°ç»„ } package com.showguan.annotation_demo; // ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ MyTest4 æ ‡è®°ç±»å’Œæ–¹æ³• @MyTest4(value = \u0026#34;Kennem\u0026#34;, aaa = 10.0, bbb = {\u0026#34;è‡³å°Šå®\u0026#34;, \u0026#34;tytt\u0026#34;}) public class Demo { // ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ MyTest4 æ ‡è®°æ–¹æ³• @MyTest4(value = \u0026#34;yl\u0026#34;, aaa = 199.2, bbb = {\u0026#34;best\u0026#34;, \u0026#34;ç‰›å¤«äºº\u0026#34;}) public void test1(){ } } package com.showguan.annotation_demo; import org.junit.Test; import java.lang.annotation.Annotation; import java.lang.reflect.Method; import java.util.Arrays; // æµ‹è¯•è§£æè‡ªå®šä¹‰æ³¨è§£ MyTest4 public class AnnotationTest3 { // è§£æç±»ä¸Šçš„è‡ªå®šä¹‰æ³¨è§£ @Test public void parseClass(){ Class c = Demo.class; if(c.isAnnotationPresent(MyTest4.class)){ MyTest4 myTest4 = (MyTest4) c.getDeclaredAnnotation(MyTest4.class); System.out.println(myTest4.value()); System.out.println(myTest4.aaa()); System.out.println(Arrays.toString(myTest4.bbb())); } } // è§£ææ–¹æ³•ä¸Šçš„è‡ªå®šä¹‰æ³¨è§£ @Test public void parseMethod() throws Exception{ Class c = Demo.class; Method m = c.getDeclaredMethod(\u0026#34;test1\u0026#34;); if(m.isAnnotationPresent(MyTest4.class)){ MyTest4 myTest4 = (MyTest4) m.getDeclaredAnnotation(MyTest4.class); System.out.println(myTest4.value()); System.out.println(myTest4.aaa()); System.out.println(Arrays.toString(myTest4.bbb())); } } } æ¨¡æ‹ŸJunitæ¡†æ¶ package com.showguan.annotation_demo; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; // å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ MyTestï¼Œç”¨äºæ ‡è®°æ–¹æ³• @Target(ElementType.METHOD) // å¯ä»¥æ ‡è®°åœ¨æ–¹æ³•ä¸Š @Retention(RetentionPolicy.RUNTIME) // æ³¨è§£ä¿¡æ¯åœ¨è¿è¡Œæ—¶ä¿ç•™ public @interface MyTest { } package com.showguan.annotation_demo; import org.junit.Test; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; // æµ‹è¯•è‡ªå®šä¹‰æ³¨è§£ MyTest public class AnnotationTest4 { // æ ‡è®°ä¸º MyTest çš„æ–¹æ³• @MyTest public void test1(){ System.out.println(\u0026#34;---test1---\u0026#34;); } // æ ‡è®°ä¸º MyTest çš„æ–¹æ³• @MyTest public void test2(){ System.out.println(\u0026#34;---test2---\u0026#34;); } // æ²¡æœ‰æ ‡è®°ä¸º MyTest çš„æ–¹æ³• public void test3(){ System.out.println(\u0026#34;---test3---\u0026#34;); } // æ²¡æœ‰æ ‡è®°ä¸º MyTest çš„æ–¹æ³• public void test4(){ System.out.println(\u0026#34;---test4---\u0026#34;); } // ä¸»æ–¹æ³•ç”¨äºè¿è¡Œæµ‹è¯•æ ‡è®°ä¸º MyTest çš„æ–¹æ³• public static void main(String[] args) throws Exception{ AnnotationTest4 a = new AnnotationTest4(); Class c = AnnotationTest4.class; Method[] methods = c.getDeclaredMethods(); for (Method method : methods) { if(method.isAnnotationPresent(MyTest.class)){ method.invoke(a); // è°ƒç”¨æ ‡è®°ä¸º MyTest çš„æ–¹æ³• } } } } åŠ¨æ€ä»£ç† Proxyç±» package com.showguan.proxy_demo; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; // ä»£ç†æ¨¡å¼ç¤ºä¾‹ public class ProxyUtil { // åˆ›å»ºä»£ç†å¯¹è±¡çš„æ–¹æ³• public static Star createProxy(BigStar bigStar) { // ä½¿ç”¨Javaçš„åŠ¨æ€ä»£ç†åˆ›å»ºä»£ç†å¯¹è±¡ Star starProxy = (Star) Proxy.newProxyInstance( ProxyUtil.class.getClassLoader(), // ä½¿ç”¨å½“å‰ç±»çš„ç±»åŠ è½½å™¨åŠ è½½ä»£ç†ç±» new Class[]{Star.class}, // æŒ‡å®šä»£ç†å¯¹è±¡å®ç°çš„æ¥å£ï¼Œè¿™é‡Œæ˜¯Staræ¥å£ new InvocationHandler() { // è®¾ç½®ä»£ç†å¯¹è±¡çš„è°ƒç”¨å¤„ç†å™¨ï¼Œå³InvocationHandler @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { /** * Object proxyï¼šä»£ç†å¯¹è±¡ï¼Œç”¨äºè°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•æˆ–æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ * Method methodï¼šè¡¨ç¤ºè¢«è°ƒç”¨çš„æ–¹æ³•ï¼Œå…è®¸è·å–æ–¹æ³•çš„ç›¸å…³ä¿¡æ¯æˆ–è°ƒç”¨è¯¥æ–¹æ³•ã€‚ * Object[] argsï¼šæ–¹æ³•çš„å‚æ•°æ•°ç»„ï¼ŒåŒ…å«äº†è¢«è°ƒç”¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œå…è®¸è·å–å’Œå¤„ç†å‚æ•°ã€‚ */ // å¯¹ä»£ç†å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œæ‹¦æˆªå’Œå¢å¼º if (method.getName().equals(\u0026#34;sing\u0026#34;)) { // å¦‚æœæ˜¯singæ–¹æ³• System.out.println(\u0026#34;å‡†å¤‡è¯ç­’ï¼Œæ”¶é’±20ä¸‡\u0026#34;); // å¢å¼ºå¤„ç†ï¼šå‡†å¤‡è¯ç­’ return method.invoke(bigStar, args); // è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³• } else if (method.getName().equals(\u0026#34;dance\u0026#34;)) { // å¦‚æœæ˜¯danceæ–¹æ³• System.out.println(\u0026#34;å‡†å¤‡åœºåœ°ï¼Œæ”¶é’±1000ä¸‡\u0026#34;); // å¢å¼ºå¤„ç†ï¼šå‡†å¤‡åœºåœ° return method.invoke(bigStar, args); // è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³• } return method.invoke(bigStar, args); // å¯¹äºå…¶ä»–æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³• } }); return starProxy; // è¿”å›åˆ›å»ºçš„ä»£ç†å¯¹è±¡ } } Staræ¥å£ package com.showguan.proxy_demo; // æ˜æ˜Ÿæ¥å£ï¼Œå®šä¹‰äº†å”±æ­Œå’Œè·³èˆçš„æ–¹æ³• public interface Star { String sing(String name); // å”±æ­Œæ–¹æ³•ï¼Œä¼ å…¥æ­Œæ›²åå­—ï¼Œè¿”å›æ„Ÿè°¢ä¿¡æ¯ void dance(); // è·³èˆæ–¹æ³• } BigStarç±» package com.showguan.proxy_demo; // å…·ä½“çš„æ˜æ˜Ÿç±»ï¼Œå®ç°äº†Staræ¥å£ public class BigStar implements Star { private String name; // æ˜æ˜Ÿçš„å§“å // æ„é€ æ–¹æ³•ï¼Œä¼ å…¥æ˜æ˜Ÿçš„å§“å public BigStar(String name) { this.name = name; } // è·å–æ˜æ˜Ÿå§“åçš„æ–¹æ³• public String getName() { return name; } // è®¾ç½®æ˜æ˜Ÿå§“åçš„æ–¹æ³• public void setName(String name) { this.name = name; } // å®ç°å”±æ­Œæ–¹æ³•ï¼Œä¼ å…¥æ­Œæ›²åå­—ï¼Œæ‰“å°å‡ºæ­Œæ‰‹åå­—å’Œæ­Œæ›²åå­—ï¼Œå¹¶è¿”å›æ„Ÿè°¢ä¿¡æ¯ @Override public String sing(String name) { System.out.println(this.name + \u0026#34;æ­£åœ¨å”±æ­Œ:\u0026#34; + name); return \u0026#34;æ„Ÿè°¢å¤§å®¶\u0026#34;; } // å®ç°è·³èˆæ–¹æ³•ï¼Œæ‰“å°å‡ºæ­Œæ‰‹åå­—å¹¶æç¤ºæ­£åœ¨è·³èˆ @Override public void dance() { System.out.println(this.name + \u0026#34;æ­£åœ¨ä¼˜ç¾çš„è·³èˆ\u0026#34;); } } Testç±» package com.showguan.proxy_demo; // æµ‹è¯•ç±» public class Test { public static void main(String[] args) { BigStar s = new BigStar(\u0026#34;ycy\u0026#34;); // åˆ›å»ºä¸€ä¸ªå…·ä½“çš„æ˜æ˜Ÿå¯¹è±¡ Star starProxy = ProxyUtil.createProxy(s); // ä½¿ç”¨ä»£ç†å·¥å…·ç±»åˆ›å»ºä»£ç†å¯¹è±¡ String rs = starProxy.sing(\u0026#34;å¡è·¯é‡Œ\u0026#34;); // è°ƒç”¨ä»£ç†å¯¹è±¡çš„å”±æ­Œæ–¹æ³• System.out.println(rs); // æ‰“å°å”±æ­Œæ–¹æ³•çš„è¿”å›å€¼ starProxy.dance(); // è°ƒç”¨ä»£ç†å¯¹è±¡çš„è·³èˆæ–¹æ³• } } ä½¿ç”¨æ¡ˆä¾‹ æ¥å£ package com.showguan.proxy_demo2; // ç”¨æˆ·æœåŠ¡æ¥å£ï¼Œå®šä¹‰äº†ç™»å½•ã€åˆ é™¤ç”¨æˆ·å’ŒæŸ¥è¯¢ç”¨æˆ·çš„æ–¹æ³• public interface UserService { void login(String loginName, String passWrod) throws Exception; // ç™»å½•æ–¹æ³•ï¼Œä¼ å…¥ç™»å½•åå’Œå¯†ç  void deleteUsers() throws Exception; // åˆ é™¤ç”¨æˆ·æ–¹æ³• String[] selectUsers() throws Exception; // æŸ¥è¯¢ç”¨æˆ·æ–¹æ³•ï¼Œè¿”å›ç”¨æˆ·æ•°ç»„ } æ¥å£å®ç° package com.showguan.proxy_demo2; // ç”¨æˆ·æœåŠ¡å®ç°ç±»ï¼Œå®ç°äº†UserServiceæ¥å£ public class UserServiceImpl implements UserService { // å®ç°ç™»å½•æ–¹æ³•ï¼ŒéªŒè¯ç”¨æˆ·åå¯†ç å¹¶è¾“å‡ºç™»å½•æˆåŠŸæˆ–å¤±è´¥ä¿¡æ¯ @Override public void login(String loginName, String passWrod) throws Exception { if (\u0026#34;admin\u0026#34;.equals(loginName) \u0026amp;\u0026amp; passWrod.equals(\u0026#34;123456\u0026#34;)) { System.out.println(\u0026#34;ç™»å½•æˆåŠŸï¼\u0026#34;); } else { System.out.println(\u0026#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼\u0026#34;); } Thread.sleep(1000); // æ¨¡æ‹Ÿç™»å½•æ“ä½œè€—æ—¶ } // å®ç°åˆ é™¤ç”¨æˆ·æ–¹æ³•ï¼Œè¾“å‡ºåˆ é™¤æˆåŠŸä¿¡æ¯ @Override public void deleteUsers() throws Exception { System.out.println(\u0026#34;æˆåŠŸåˆ é™¤äº†10000ä¸ªç”¨æˆ·\u0026#34;); Thread.sleep(1000); // æ¨¡æ‹Ÿåˆ é™¤æ“ä½œè€—æ—¶ } // å®ç°æŸ¥è¯¢ç”¨æˆ·æ–¹æ³•ï¼Œè¾“å‡ºæŸ¥è¯¢ç»“æœå¹¶è¿”å›ç”¨æˆ·æ•°ç»„ @Override public String[] selectUsers() throws Exception { System.out.println(\u0026#34;æŸ¥è¯¢å‡ºä¸‰ä¸ªç”¨æˆ·ï¼š\u0026#34;); String[] names = {\u0026#34;kenene\u0026#34;, \u0026#34;Kennem\u0026#34;, \u0026#34;kkk\u0026#34;}; Thread.sleep(1000); // æ¨¡æ‹ŸæŸ¥è¯¢æ“ä½œè€—æ—¶ return names; } } ä»£ç†å·¥å…·ç±» package com.showguan.proxy_demo2; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; // ä»£ç†å·¥å…·ç±»ï¼Œç”¨äºåˆ›å»ºä»£ç†å¯¹è±¡ public class ProxyUtil { // åˆ›å»ºä»£ç†å¯¹è±¡çš„æ–¹æ³• public static UserService createProxy(UserService userService) { UserService userServiceProxy = (UserService) Proxy.newProxyInstance( ProxyUtil.class.getClassLoader(), // ä½¿ç”¨å½“å‰ç±»çš„ç±»åŠ è½½å™¨åŠ è½½ä»£ç†ç±» new Class[]{UserService.class}, // æŒ‡å®šä»£ç†å¯¹è±¡å®ç°çš„æ¥å£ï¼Œè¿™é‡Œæ˜¯UserServiceæ¥å£ new InvocationHandler() { // è®¾ç½®ä»£ç†å¯¹è±¡çš„è°ƒç”¨å¤„ç†å™¨ï¼Œå³InvocationHandler @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { if (method.getName().equals(\u0026#34;login\u0026#34;) || method.getName().equals(\u0026#34;deleteUsers\u0026#34;) || method.getName().equals(\u0026#34;selectUsers\u0026#34;)) { // å¦‚æœæ˜¯ç™»å½•ã€åˆ é™¤ç”¨æˆ·æˆ–æŸ¥è¯¢ç”¨æˆ·æ–¹æ³• long startTime = System.currentTimeMillis(); // è®°å½•æ–¹æ³•è°ƒç”¨å¼€å§‹æ—¶é—´ Object rs = method.invoke(userService, args); // è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³• long endTime = System.currentTimeMillis(); // è®°å½•æ–¹æ³•è°ƒç”¨ç»“æŸæ—¶é—´ System.out.println(method.getName() + \u0026#34;æ–¹æ³•æ‰§è¡Œè€—æ—¶:\u0026#34; + (endTime - startTime) / (1000.0) + \u0026#34;s\u0026#34;); // è¾“å‡ºæ–¹æ³•æ‰§è¡Œè€—æ—¶ return rs; // è¿”å›æ–¹æ³•è°ƒç”¨ç»“æœ } else { // å¯¹äºå…¶ä»–æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³• Object rs = method.invoke(userService, args); return rs; } } }); return userServiceProxy; // è¿”å›åˆ›å»ºçš„ä»£ç†å¯¹è±¡ } } æµ‹è¯•ç±» package com.showguan.proxy_demo2; // æµ‹è¯•ç±» public class Test { public static void main(String[] args) throws Exception { UserService us = ProxyUtil.createProxy(new UserServiceImpl()); // ä½¿ç”¨ä»£ç†å·¥å…·ç±»åˆ›å»ºä»£ç†å¯¹è±¡ us.login(\u0026#34;admin\u0026#34;, \u0026#34;123456\u0026#34;); // è°ƒç”¨ä»£ç†å¯¹è±¡çš„ç™»å½•æ–¹æ³• System.out.println(\u0026#34;---------------\u0026#34;); us.deleteUsers(); // è°ƒç”¨ä»£ç†å¯¹è±¡çš„åˆ é™¤ç”¨æˆ·æ–¹æ³• System.out.println(\u0026#34;---------------\u0026#34;); us.selectUsers(); // è°ƒç”¨ä»£ç†å¯¹è±¡çš„æŸ¥è¯¢ç”¨æˆ·æ–¹æ³• System.out.println(\u0026#34;---------------\u0026#34;); } } ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B5/","summary":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(5) ç½‘ç»œç¼–ç¨‹ å¯ä»¥è®©è®¾å¤‡ä¸­çš„ç¨‹åºä¸ç½‘ç»œä¸Šå…¶ä»–è®¾å¤‡ä¸­çš„ç¨‹åºè¿›è¡Œæ•°æ®äº¤äº’ï¼ˆå®ç°ç½‘ç»œé€šä¿¡ï¼‰ åŸºæœ¬çš„é€šä¿¡æ¶æ„ åŸºæœ¬çš„é€šä¿¡æ¶","title":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(5)"},{"content":"åŠ›æ‰£å‘¨èµ›394(20240421) ç¬¬ä¸‰é¢˜100290. ä½¿çŸ©é˜µæ»¡è¶³æ¡ä»¶çš„æœ€å°‘æ“ä½œæ¬¡æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒç»´çŸ©å½¢ gridï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†ä»»æ„æ ¼å­çš„å€¼ä¿®æ”¹ä¸ºä»»æ„éè´Ÿæ•´æ•°ã€‚å®Œæˆæ‰€æœ‰æ“ä½œåï¼Œéœ€è¦ç¡®ä¿æ¯ä¸ªæ ¼å­ grid[i][j] çš„å€¼æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼šå¦‚æœä¸‹é¢ç›¸é‚»æ ¼å­å­˜åœ¨çš„è¯ï¼Œå®ƒä»¬çš„å€¼ç›¸ç­‰ï¼›å¦‚æœå³è¾¹ç›¸é‚»æ ¼å­å­˜åœ¨çš„è¯ï¼Œå®ƒä»¬çš„å€¼ä¸ç›¸ç­‰ã€‚è¿”å›éœ€è¦çš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚ è®°å¿†åŒ– å®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œç»Ÿè®¡æ¯ä¸€åˆ—ä¸­å„ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œå®šä¹‰å‡½æ•°dfs(i, pre)ï¼Œè¡¨ç¤ºå¤„ç†åˆ°ç¬¬iåˆ—æ—¶ï¼Œå‰ä¸€åˆ—çš„å€¼ä¸ºpreæ—¶çš„æœ€å¤§æ“ä½œæ¬¡æ•°ã€‚åœ¨dfsä¸­ï¼Œå¯¹äºå½“å‰åˆ—çš„æ¯ä¸ªæ•°å­—ï¼Œè€ƒè™‘æ˜¯å¦ä¿®æ”¹å½“å‰åˆ—çš„å€¼ï¼Œç„¶åé€’å½’å¤„ç†ä¸‹ä¸€åˆ—ã€‚åˆ©ç”¨ç¼“å­˜æ¥é¿å…é‡å¤è®¡ç®—ã€‚æœ€åè¿”å›æ€»çš„æ“ä½œæ¬¡æ•°ã€‚ class Solution: # å¦‚æœä½ æƒ³ä¸å‡ºæ¥ï¼Œ1ã€ä½ ä¸çŸ¥é“è¿™ä¸ªçŸ¥è¯†ç‚¹ 2ã€ ä½ çŸ¥é“è¿™ä¸ªçŸ¥è¯†ç‚¹ä½†æ˜¯æ–¹å‘é”™äº† def minimumOperations(self, g: List[List[int]]) -\u0026gt; int: n, m = len(g), len(g[0]) cnt = [[0]*10 for _ in range(m)] for row in g: for k, v in enumerate(row): cnt[k][v]+=1 @cache def dfs(i, pre): if i\u0026lt;0: return 0 res = 0 for v in range(10): if v!=pre: res = max(res, dfs(i-1, v) + cnt[i][v]) return res return m*n - dfs(m-1, -1) é€’æ¨ å®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œå¯¹æ¯ä¸€åˆ—è¿›è¡Œéå†ï¼Œå¹¶ç»Ÿè®¡æ¯åˆ—ä¸­æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åï¼Œé€šè¿‡åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ªå˜é‡f0å’Œf1åˆ†åˆ«è¡¨ç¤ºå½“å‰åˆ—å¤„ç†æ—¶ï¼Œå‰ä¸€åˆ—æœ€å¤§èƒ½ä¿ç•™çš„ä¸ªæ•°å’Œæ¬¡å¤§èƒ½å¤Ÿä¿ç•™çš„ä¸ªæ•°ã€‚æ¥ç€ï¼Œé€šè¿‡éå†æ¯åˆ—ä¸­çš„æ¯ä¸ªæ•°å­—ï¼Œè®¡ç®—å½“å‰åˆ—çš„æœ€å¤§æ“ä½œæ¬¡æ•°ï¼Œå¹¶æ›´æ–°f0å’Œf1ã€‚æœ€åè¿”å›æ€»çš„æ“ä½œæ¬¡æ•°ã€‚ class Solution: def minimumOperations(self, grid: List[List[int]]) -\u0026gt; int: n, m = len(grid), len(grid[0]) f0, f1, pre = 0, 0, -1 for col in zip(*grid): mx, mx2, x = f0, f1, -1 for v, c in Counter(col).items(): res = (f0 if v!=pre else f1) + c if res \u0026gt; mx: mx, mx2, x = res, mx, v elif res \u0026gt; mx2: mx2 = res f0, f1, pre = mx, mx2, x return m*n - f0 ç¬¬å››é¢˜100276. æœ€çŸ­è·¯å¾„ä¸­çš„è¾¹ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªåŒ…å«nä¸ªèŠ‚ç‚¹çš„æ— å‘å¸¦æƒå›¾ï¼ŒèŠ‚ç‚¹ç¼–å·ä»0åˆ°n-1ï¼Œæ€»å…±æœ‰mæ¡è¾¹ã€‚å¯¹äºèŠ‚ç‚¹0ä¸ºå‡ºå‘ç‚¹ï¼ŒèŠ‚ç‚¹n-1ä¸ºç»“æŸç‚¹çš„æ‰€æœ‰æœ€çŸ­è·¯ï¼Œéœ€è¦è¿”å›ä¸€ä¸ªé•¿åº¦ä¸ºmçš„å¸ƒå°”æ•°ç»„ï¼Œå¦‚æœedges[i]è‡³å°‘åœ¨å…¶ä¸­ä¸€æ¡æœ€çŸ­è·¯ä¸Šï¼Œåˆ™answer[i]ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆæ„å»ºå›¾çš„é‚»æ¥è¡¨è¡¨ç¤ºã€‚ç„¶åä½¿ç”¨Dijkstraç®—æ³•æ±‚è§£æœ€çŸ­è·¯å¾„ï¼Œå¹¶è®°å½•æœ€çŸ­è·¯å¾„çš„é•¿åº¦ã€‚æ¥ç€ï¼Œä»ç»“æŸç‚¹å¼€å§‹åå‘éå†æœ€çŸ­è·¯å¾„ï¼Œæ ‡è®°ç»è¿‡çš„è¾¹ã€‚æœ€åè¿”å›æ ‡è®°ç»“æœã€‚\nclass Solution: # å¤šåŠ¨è„‘å­ï¼ŒæŠŠå¤–ç•Œçš„å¹²æ‰°é™åˆ°æœ€ä½ï¼Œäººç”Ÿæ°¸è¿œå……æ»¡ç€å¹²æ‰° def findAnswer(self, n: int, edges: List[List[int]]) -\u0026gt; List[bool]: m = len(edges) g = defaultdict(list) INF = 0x3f3f3f3f dis, st = [INF]*(n+5), [False]*(n+5) for i, val in enumerate(edges): x, y, w = val g[x].append((y, w, i)) g[y].append((x, w, i)) def dijkstra(): dis[0]=0 h=[] heappush(h, (0, 0)) while h: dist, ver = heappop(h) if st[ver]: continue st[ver]=True for y, w, _ in g[ver]: if dis[y]\u0026gt;dis[ver]+w: dis[y]=dis[ver]+w heappush(h, (dis[y], y)) if dis[n-1]==INF: return -1 else: return dis[n-1] res = [False]*m dn = dijkstra() if dn==-1: return res q = deque() q.append(n-1) while q: f = q.popleft() for y, w, i in g[f]: if dis[y]+w == dis[f]: res[i]=True q.append(y) return res ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B39420240421/","summary":"åŠ›æ‰£å‘¨èµ›394(20240421) ç¬¬ä¸‰é¢˜100290. ä½¿çŸ©é˜µæ»¡è¶³æ¡ä»¶çš„æœ€å°‘æ“ä½œæ¬¡æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒç»´çŸ©å½¢ gridï¼Œæ¯æ¬¡æ“ä½œ","title":"LeetCodeå‘¨èµ›240421"},{"content":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(4) ç‰¹æ®Šæ–‡ä»¶ properties, xml\nä¸ºä»€ä¹ˆè¦ç”¨è¿™äº›ç‰¹æ®Šæ–‡ä»¶ï¼Ÿ\nå­˜å‚¨å¤šä¸ªç”¨æˆ·çš„ï¼šç”¨æˆ·åï¼Œ å¯†ç ï¼Œ å®¶ä¹¡ï¼Œ æ€§åˆ«\næ—¥å¿—æŠ€æœ¯\næŠŠç¨‹åºè¿è¡Œçš„ä¿¡æ¯ï¼Œè®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜å®šä½bugï¼Œ å¹¶äº†è§£ç¨‹åºçš„æ‰§è¡Œæƒ…å†µç­‰ã€‚\nProperties æ˜¯ä¸€ä¸ªMapé›†åˆï¼ˆé”®å€¼å¯¹é›†åˆï¼‰ï¼Œ ä½†æ˜¯ä¸€èˆ¬ä¸ä¼šå½“é›†åˆä½¿ç”¨ æ ¸å¿ƒä½œç”¨ï¼šPropertiesæ˜¯ç”¨æ¥ä»£è¡¨å±æ€§æ–‡ä»¶çš„ï¼Œé€šè¿‡Propertieså¯ä»¥è¯»å†™å±æ€§æ–‡ä»¶é‡Œé¢çš„å†…å®¹ public static void main(String[] args) throws IOException { // åˆ›å»ºä¸€ä¸ªPropertieså¯¹è±¡ Properties properties = new Properties(); // è¾“å‡ºåˆå§‹çš„Propertieså¯¹è±¡ï¼Œæ­¤æ—¶ä¸ºç©º System.out.println(properties); // ä»æ–‡ä»¶åŠ è½½Propertiesæ•°æ® properties.load(new FileReader(\u0026#34;file-io-app\\\\properties-xml-log-app\\\\src\\\\users.properties\u0026#34;)); // è¾“å‡ºåŠ è½½åçš„Propertieså¯¹è±¡ï¼ŒåŒ…å«ä»æ–‡ä»¶ä¸­è¯»å–çš„é”®å€¼å¯¹ System.out.println(properties); // æ ¹æ®æŒ‡å®šé”®å–å¾—å¯¹åº”çš„å€¼ System.out.println(properties.get(\u0026#34;ken\u0026#34;)); // è·å–Propertieså¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼Œå¹¶éå†è¾“å‡ºæ¯ä¸ªé”®å€¼å¯¹ Set\u0026lt;String\u0026gt; keys = properties.stringPropertyNames(); for (String key : keys) { String val = properties.getProperty(key); System.out.println(key + \u0026#34;----\u0026gt;\u0026#34; + val); } } XML æœ¬è´¨æ˜¯ä¸€ç§æ•°æ®çš„æ ¼å¼ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå’Œæ•°æ®å…³ç³» XMLç‰¹ç‚¹\nXMLä¸­çš„\u0026lt;æ ‡ç­¾å\u0026gt;ç§°ä¸ºä¸€ä¸ªæ ‡ç­¾æˆ–ä¸€ä¸ªå…ƒç´ ï¼Œä¸€èˆ¬æ˜¯æˆå¯¹å‡ºç°çš„ xmlè§£æ(dom4j) public static void main(String[] args) throws DocumentException { // åˆ›å»ºSAXReaderå¯¹è±¡ SAXReader saxReader = new SAXReader(); // ä½¿ç”¨SAXReaderè§£æXMLæ–‡ä»¶å¹¶ç”ŸæˆDocumentå¯¹è±¡ Document document = saxReader.read(\u0026#34;file-io-app\\\\properties-xml-log-app\\\\src\\\\helloworld.xml\u0026#34;); // è·å–XMLæ–‡æ¡£çš„æ ¹å…ƒç´ å¹¶è¾“å‡ºå…¶åç§° Element root = document.getRootElement(); System.out.println(root.getName()); // è·å–æ ¹å…ƒç´ ä¸‹åä¸º\u0026#34;user\u0026#34;çš„æ‰€æœ‰å­å…ƒç´ å¹¶è¾“å‡ºå®ƒä»¬çš„åç§° List\u0026lt;Element\u0026gt; elements = root.elements(\u0026#34;user\u0026#34;); for (Element element : elements) { System.out.println(element.getName()); } // è·å–åä¸º\u0026#34;people\u0026#34;çš„å…ƒç´ çš„æ–‡æœ¬å†…å®¹å¹¶è¾“å‡º Element people = root.element(\u0026#34;people\u0026#34;); System.out.println(people.getText()); // è·å–åä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ ä¸‹åä¸º\u0026#34;user\u0026#34;çš„å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹å¹¶è¾“å‡º Element user = root.element(\u0026#34;user\u0026#34;); System.out.println(user.elementText(\u0026#34;user\u0026#34;)); // è·å–åä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ çš„åä¸º\u0026#34;id\u0026#34;çš„å±æ€§å€¼å¹¶è¾“å‡º System.out.println(user.attributeValue(\u0026#34;id\u0026#34;)); // è·å–åä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ çš„åä¸º\u0026#34;id\u0026#34;çš„å±æ€§ï¼Œå¹¶è¾“å‡ºå±æ€§åå’Œå±æ€§å€¼ Attribute id = user.attribute(\u0026#34;id\u0026#34;); System.out.println(id.getName()); System.out.println(id.getValue()); // è·å–åä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶è¾“å‡ºå®ƒä»¬çš„åå’Œå€¼ List\u0026lt;Attribute\u0026gt; attributes = user.attributes(); for (Attribute attribute : attributes) { System.out.println(attribute.getName() + attribute.getValue()); } // è¾“å‡ºåä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ ä¸‹åä¸º\u0026#34;name\u0026#34;ã€\u0026#34;åœ°å€\u0026#34;å’Œ\u0026#34;password\u0026#34;çš„å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹ System.out.println(user.elementText(\u0026#34;name\u0026#34;)); System.out.println(user.elementText(\u0026#34;åœ°å€\u0026#34;)); System.out.println(user.elementText(\u0026#34;password\u0026#34;)); // è·å–åä¸º\u0026#34;user\u0026#34;çš„å…ƒç´ ä¸‹åä¸º\u0026#34;data\u0026#34;çš„å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶è¾“å‡ºåŒ…æ‹¬å‰åç©ºæ ¼çš„æ–‡æœ¬å’Œå»é™¤å‰åç©ºæ ¼çš„æ–‡æœ¬ Element data = user.element(\u0026#34;data\u0026#34;); System.out.println(data.getText()); System.out.println(data.getTextTrim()); //å»é™¤å‰åç©ºæ ¼ } å†™å…¥XMLæ–‡ä»¶ ä½¿ç”¨ç¨‹åºæŠŠæ•°æ®å†™å‡ºåˆ°xmlä¸­\nä¸å»ºè®®ä½¿ç”¨dom4jï¼Œ æ¨èç›´æ¥æŠŠç¨‹åºé‡Œçš„æ•°æ®æ‹¼æ¥æˆxmlæ ¼å¼\npublic static void main(String[] args) throws IOException { // åˆ›å»ºä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œç”¨äºæ„å»ºXMLå†…å®¹ StringBuilder sb = new StringBuilder(); // æ„å»ºXMLå¤´éƒ¨ä¿¡æ¯å’Œæ ¹å…ƒç´  sb.append(\u0026#34;\u0026lt;?xml version=\\\u0026#34;1.0\\\u0026#34; encoding=\\\u0026#34;utf-8\\\u0026#34; ?\u0026gt;\u0026#34;); sb.append(\u0026#34;\u0026lt;book\u0026gt;\\r\\n\u0026#34;); // æ·»åŠ ä¹¦åã€ä½œè€…å’Œä»·æ ¼ä¿¡æ¯ä½œä¸ºå­å…ƒç´  sb.append(\u0026#34;\u0026lt;name\u0026gt;\u0026#34;).append(\u0026#34;ä»å…¥é—¨åˆ°åˆ åº“\u0026#34;).append(\u0026#34;\u0026lt;/name\u0026gt;\\r\\n\u0026#34;); sb.append(\u0026#34;\u0026lt;author\u0026gt;\u0026#34;).append(\u0026#34;ai\u0026#34;).append(\u0026#34;\u0026lt;/author\u0026gt;\\r\\n\u0026#34;); sb.append(\u0026#34;\u0026lt;price\u0026gt;\u0026#34;).append(999.999).append(\u0026#34;\u0026lt;/price\u0026gt;\\r\\n\u0026#34;); // å…³é—­æ ¹å…ƒç´  sb.append(\u0026#34;\u0026lt;/book\u0026gt;\\r\\n\u0026#34;); try ( // ä½¿ç”¨try-with-resourcesè¯­æ³•åˆ›å»ºBufferedWriterå¯¹è±¡ï¼Œå°†å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­ BufferedWriter bw = new BufferedWriter(new FileWriter(\u0026#34;file-io-app\\\\properties-xml-log-app\\\\src\\\\test.xml\u0026#34;)); ){ bw.write(sb.toString()); // å°†StringBuilderå¯¹è±¡ä¸­çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­ } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } çº¦æŸXMLæ–‡ä»¶çš„ä¹¦å†™ å°±æ˜¯é™åˆ¶XMLæ–‡ä»¶åªèƒ½æŒ‰ç…§æŸç§æ ¼å¼è¿›è¡Œä¹¦å†™ çº¦æŸæ–‡æ¡£ï¼š\nä¸“é—¨ç”¨æ¥æ˜¾ç¤ºxmlä¹¦å†™æ ¼å¼çš„æ–‡æ¡£ï¼Œæ¯”å¦‚ï¼šé™åˆ¶æ ‡ç­¾ï¼Œå±æ€§è¯¥æ€ä¹ˆå†™ çº¦æŸæ–‡æ¡£çš„åˆ†ç±»\nDTDæ–‡æ¡£ Schemaæ–‡æ¡£ XMLæ–‡æ¡£ç»“æŸ-DTDçš„ä½¿ç”¨ éœ€æ±‚ï¼šåˆ©ç”¨DTDçº¦æŸæ–‡æ¡£ï¼Œçº¦æŸä¸€ä¸ªXMLæ–‡ä»¶çš„ç¼–å†™ã€‚\nDTD(çº¦æŸæ–‡æ¡£)\n\u0026lt;!ELEMENT ä¹¦æ¶ (ä¹¦+)\u0026gt; \u0026lt;!ELEMENT ä¹¦ (ä¹¦å,ä½œè€…,å”®ä»·)\u0026gt; \u0026lt;!ELEMENT ä¹¦å (#PCDATA)\u0026gt; \u0026lt;!ELEMENT ä½œè€… (#PCDATA)\u0026gt; \u0026lt;!ELEMENT å”®ä»· (#PCDATA)\u0026gt; XMLæ–‡æ¡£\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE ä¹¦æ¶ SYSTEM \u0026#34;data.dtd\u0026#34;\u0026gt; \u0026lt;ä¹¦æ¶\u0026gt; \u0026lt;ä¹¦\u0026gt; \u0026lt;ä¹¦å\u0026gt;ä»åˆ åº“åˆ°è·‘è·¯\u0026lt;/ä¹¦å\u0026gt; \u0026lt;ä½œè€…\u0026gt;Kenn\u0026lt;/ä½œè€…\u0026gt; \u0026lt;å”®ä»·\u0026gt;0.3\u0026lt;/å”®ä»·\u0026gt; \u0026lt;/ä¹¦\u0026gt; \u0026lt;/ä¹¦æ¶\u0026gt; XMLæ–‡æ¡£ç»“æŸ-schemaçš„ä½¿ç”¨ å¯ä»¥çº¦æŸXMLæ–‡ä»¶çš„ç¼–å†™ã€å’Œæ•°æ®ç±»å‹ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;schema xmlns=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; targetNamespace=\u0026#34;http://www.itcast.cn\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; \u0026gt; \u0026lt;!-- targetNamespace:ç”³æ˜çº¦æŸæ–‡æ¡£çš„åœ°å€ï¼ˆå‘½åç©ºé—´ï¼‰--\u0026gt; \u0026lt;element name=\u0026#39;ä¹¦æ¶\u0026#39;\u0026gt; \u0026lt;!-- å†™å­å…ƒç´  --\u0026gt; \u0026lt;complexType\u0026gt; \u0026lt;!-- maxOccurs=\u0026#39;unbounded\u0026#39;: ä¹¦æ¶ä¸‹çš„å­å…ƒç´ å¯ä»¥æœ‰ä»»æ„å¤šä¸ªï¼--\u0026gt; \u0026lt;sequence maxOccurs=\u0026#39;unbounded\u0026#39;\u0026gt; \u0026lt;element name=\u0026#39;ä¹¦\u0026#39;\u0026gt; \u0026lt;!-- å†™å­å…ƒç´  --\u0026gt; \u0026lt;complexType\u0026gt; \u0026lt;sequence\u0026gt; \u0026lt;element name=\u0026#39;ä¹¦å\u0026#39; type=\u0026#39;string\u0026#39;/\u0026gt; \u0026lt;element name=\u0026#39;ä½œè€…\u0026#39; type=\u0026#39;string\u0026#39;/\u0026gt; \u0026lt;element name=\u0026#39;å”®ä»·\u0026#39; type=\u0026#39;double\u0026#39;/\u0026gt; \u0026lt;/sequence\u0026gt; \u0026lt;/complexType\u0026gt; \u0026lt;/element\u0026gt; \u0026lt;/sequence\u0026gt; \u0026lt;/complexType\u0026gt; \u0026lt;/element\u0026gt; \u0026lt;/schema\u0026gt; XML\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;ä¹¦æ¶ xmlns=\u0026#34;http://www.itcast.cn\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.itcast.cn data.xsd\u0026#34;\u0026gt; \u0026lt;!-- xmlns=\u0026#34;http://www.itcast.cn\u0026#34; åŸºæœ¬ä½ç½® xsi:schemaLocation=\u0026#34;http://www.itcast.cn books02.xsd\u0026#34; å…·ä½“çš„ä½ç½® --\u0026gt; \u0026lt;ä¹¦\u0026gt; \u0026lt;ä¹¦å\u0026gt;ä»å…¥é—¨åˆ°åˆ é™¤\u0026lt;/ä¹¦å\u0026gt; \u0026lt;ä½œè€…\u0026gt;dlei\u0026lt;/ä½œè€…\u0026gt; \u0026lt;å”®ä»·\u0026gt;0.03\u0026lt;/å”®ä»·\u0026gt; \u0026lt;/ä¹¦\u0026gt; \u0026lt;ä¹¦\u0026gt; \u0026lt;ä¹¦å\u0026gt;ä»å…¥é—¨åˆ°åˆ é™¤\u0026lt;/ä¹¦å\u0026gt; \u0026lt;ä½œè€…\u0026gt;dlei\u0026lt;/ä½œè€…\u0026gt; \u0026lt;å”®ä»·\u0026gt;0.9\u0026lt;/å”®ä»·\u0026gt; \u0026lt;/ä¹¦\u0026gt; \u0026lt;/ä¹¦æ¶\u0026gt; Logbackå¿«é€Ÿå…¥é—¨ éœ€æ±‚ï¼š\nä½¿ç”¨Logbackæ—¥å¿—æ¡†æ¶ï¼Œè®°å½•ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯ å®ç°æ­¥éª¤\nå¯¼å…¥Logbackæ¡†æ¶åˆ°é¡¹ç›®ä¸­å»\nslf4j-apiï¼šæ—¥å¿—æ¥å£ logback-core logback-classic å°†Logbackæ¡†æ¶çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶logback.xmlç›´æ¥æ‹·è´åˆ°srcç›®å½•ä¸‹ï¼ˆå¿…é¡»æ˜¯srcä¸‹ï¼‰\nåˆ›å»ºLogbackæ¡†æ¶æä¾›çš„Loggerå¯¹è±¡ï¼Œç„¶åç”¨Loggerå¯¹è±¡è°ƒç”¨å…¶æä¾›çš„æ–¹æ³•å°±å¯è®°å½•ç³»ç»Ÿçš„æ—¥å¿—ä¿¡æ¯ã€‚\npublic static final Logger LOGGER = LoggerFactory.getLogger(\u0026#34;LogBackTest\u0026#34;); æ ¸å¿ƒé…ç½®æ–‡ä»¶logback.xml\nå¯¹Logbackæ—¥å¿—æ¡†æ¶è¿›è¡Œæ§åˆ¶ Logbackè®¾ç½®æ—¥å¿—çº§åˆ«\næ—¥å¿—çº§åˆ«æŒ‡çš„æ˜¯æ—¥å¿—ä¿¡æ¯çš„ç±»å‹ï¼Œæ—¥å¿—éƒ½ä¼šåˆ†çº§åˆ«ï¼Œå¸¸è§çš„æ—¥å¿—çº§åˆ«å¦‚ä¸‹ï¼ˆä¼˜å…ˆçº§ä¾æ¬¡å‡é«˜ï¼‰ æ—¥å¿—çº§åˆ« è¯´æ˜ trace è¿½è¸ªï¼ŒæŒ‡æ˜ç¨‹åºè¿è¡Œè½¨è¿¹ debug è°ƒè¯•ï¼Œå®é™…åº”ç”¨ä¸­ä¸€èˆ¬å°†å…¶ä½œä¸ºæœ€ä½çº§åˆ« info è¾“å‡ºé‡è¦çš„è¿è¡Œä¿¡æ¯ï¼Œæ•°æ®è¿æ¥ï¼Œç½‘ç»œè¿æ¥ï¼ŒIOæ“ä½œç­‰ç­‰ï¼Œä½¿ç”¨è¾ƒå¤š warn è­¦å‘Šä¿¡æ¯ï¼Œå¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜ï¼Œä½¿ç”¨è¾ƒå¤š error é”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨è¾ƒå¤š é…ç½®æ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼š\n\u0026lt;root level=\u0026#34;debug\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;FILE\u0026#34; /\u0026gt; \u0026lt;/root\u0026gt; åªæœ‰æ—¥å¿—çš„çº§åˆ«æ˜¯å¤§äºæˆ–ç­‰äºæ ¸å¿ƒé…ç½®æ–‡ä»¶é…å€¼çš„æ—¥å¿—çº§åˆ«ï¼Œæ‰ä¼šè¢«è®°å½•ï¼Œå¦åˆ™ä¸è®°å½•ã€‚ å¤šçº¿ç¨‹ çº¿ç¨‹ï¼ˆThreadï¼‰æ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œæµç¨‹ ç¨‹åºä¸­å¦‚æœåªæœ‰ä¸€æ¡æ‰§è¡Œæµç¨‹ï¼Œé‚£è¿™ä¸ªç¨‹åºå°±æ˜¯å•çº¿ç¨‹çš„ç¨‹åº å¤šçº¿ç¨‹\nå¤šçº¿ç¨‹æ˜¯æŒ‡ä»è½¯ç¡¬ä»¶ä¸Šå®ç°çš„å¤šæ¡æ‰§è¡Œæµç¨‹çš„æŠ€æœ¯ï¼ˆå¤šæ¡çº¿ç¨‹ç”±CPUè´Ÿè´£è°ƒåº¦æ‰§è¡Œï¼‰ æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±» public class MyThread extends Thread{ @Override public void run() { for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;å­çº¿ç¨‹MyThread\u0026#34; + i); } } } public static void main(String[] args) { MyThread t = new MyThread(); t.start(); for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;ä¸»çº¿ç¨‹mainè¾“å‡ºï¼š\u0026#34; + i); } } ä¼˜ç¼ºç‚¹ï¼š\nä¼˜ç‚¹ï¼šç¼–ç ç®€å• ç¼ºç‚¹ï¼šçº¿ç¨‹ç±»å·²ç»ç»§æ‰¿Thread, æ— æ³•ç»§æ‰¿å…¶ä»–ç±»ï¼Œä¸åˆ©äºåŠŸèƒ½çš„æ‰©å±• æ³¨æ„äº‹é¡¹ï¼š\nè°ƒç”¨çš„æ˜¯startè€Œä¸æ˜¯run ä¸è¦æŠŠä¸»çº¿ç¨‹ä»»åŠ¡æ”¾åœ¨å¯åŠ¨å­çº¿ç¨‹ä¹‹å‰ æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£ public class Demo2 { public static void main(String[] args) { MyRunnable target = new MyRunnable(); new Thread(target).start(); for (int i = 0; i \u0026lt; 1000; i++) { System.out.println(\u0026#34;===ä¸»çº¿ç¨‹è¾“å‡º\u0026#34; + i); } } } public class MyRunnable implements Runnable{ @Override public void run() { for (int i = 0; i \u0026lt; 1000; i++) { System.out.println(\u0026#34;å­çº¿ç¨‹è¾“å‡º===\u0026#34; + i); } } } å®šä¹‰ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ç±»MyRunnableå®ç°Runnableæ¥å£ï¼Œ é‡å†™run()æ–¹æ³• åˆ›å»ºMyRunnableä»»åŠ¡å¯¹è±¡ æŠŠMyRunnbaleä»»åŠ¡å¯¹è±¡äº¤ç»™Threadå¤„ç† ä¼˜ç¼ºç‚¹ï¼š\nä¼˜ç‚¹ï¼šå®ç°Runnableæ¥å£åï¼Œå¯ä»¥ç»§ç»­ç»§æ‰¿å…¶ä»–ç±»ï¼Œå®ç°å…¶ä»–æ¥å£ï¼Œæ‰©å±•æ€§å¼º ç¼ºç‚¹ï¼šéœ€è¦å¤šä¸€ä¸ªRunnableå¯¹è±¡ public static void main(String[] args) { // åˆ›å»ºå¹¶å¯åŠ¨ç¬¬ä¸€ä¸ªå­çº¿ç¨‹ Runnable target1 = new Runnable() { @Override public void run() { for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;å­çº¿ç¨‹è¾“å‡º:\u0026#34; + i); } } }; new Thread(target1).start(); // ä¸»çº¿ç¨‹æ‰§è¡Œ for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;ä¸»çº¿ç¨‹:\u0026#34; + i); } // åˆ›å»ºå¹¶å¯åŠ¨ç¬¬äºŒä¸ªå­çº¿ç¨‹ï¼Œä½¿ç”¨Lambdaè¡¨è¾¾å¼ new Thread(() -\u0026gt; { for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;å­çº¿ç¨‹2:\u0026#34; + i); } }).start(); // ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ for (int i = 0; i \u0026lt; 100; i++) { System.out.println(\u0026#34;ä¸»çº¿ç¨‹:\u0026#34; + i); } } æ–¹å¼ä¸‰ï¼šåˆ©ç”¨Callableæ¥å£ï¼ŒFutureTaskç±»æ¥å®ç° MyCallable\npackage com.showguan.ThreadDemo; import java.util.concurrent.Callable; public class MyCallable implements Callable\u0026lt;String\u0026gt; { private int n; public MyCallable() { } public MyCallable(int n) { this.n = n; } @Override public String call() throws Exception { int sum = 0; for (int i = 0; i \u0026lt; n; i++) { sum += i; } return \u0026#34;çº¿ç¨‹æ±‚å’Œç»“æœä¸º\u0026#34; + sum; } } package com.showguan.ThreadDemo; import java.util.concurrent.Callable; import java.util.concurrent.ExecutionException; import java.util.concurrent.FutureTask; public class Demo4 { public static void main(String[] args) throws ExecutionException, InterruptedException { Callable\u0026lt;String\u0026gt; call = new MyCallable(100); FutureTask\u0026lt;String\u0026gt; ft = new FutureTask\u0026lt;\u0026gt;(call); new Thread(ft).start(); Callable\u0026lt;String\u0026gt; call2 = new MyCallable(200); FutureTask\u0026lt;String\u0026gt; ft2 = new FutureTask\u0026lt;\u0026gt;(call2); new Thread(ft2).start(); String rs = ft.get(); System.out.println(rs); //çº¿ç¨‹æ±‚å’Œç»“æœä¸º4950 String rs2 = ft2.get(); System.out.println(rs2); //çº¿ç¨‹æ±‚å’Œç»“æœä¸º19900 } } ä¼˜ç‚¹ï¼š\nçº¿ç¨‹ä»»åŠ¡ç±»åªæ˜¯å®ç°æ¥å£ï¼Œå¯ä»¥ç»§ç»­ç»§æ‰¿ç±»å’Œå®ç°æ¥å£ï¼Œæ‰©å±•æ€§å¼ºï¼›å¯ä»¥åœ¨çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åå»è·å–çº¿ç¨‹æ‰§è¡Œçš„ç»“æœã€‚ çº¿ç¨‹å¸¸ç”¨æ–¹æ³• ä¸ºçº¿ç¨‹è®¾ç½®åç§° public class Main { public static void main(String[] args) { // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹ t1 Thread t1 = new MyThread(\u0026#34;çº¿ç¨‹ä¸€å·\u0026#34;); t1.start(); System.out.println(t1.getName()); // æ‰“å°çº¿ç¨‹ t1 çš„åç§° // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹ t2 Thread t2 = new MyThread(\u0026#34;çº¿ç¨‹äºŒå·\u0026#34;); t2.start(); System.out.println(t2.getName()); // æ‰“å°çº¿ç¨‹ t2 çš„åç§° // è·å–å½“å‰çº¿ç¨‹ï¼Œå¹¶å°†å…¶åç§°è®¾ç½®ä¸º \u0026#34;maxçº¿ç¨‹\u0026#34; Thread m = Thread.currentThread(); m.setName(\u0026#34;maxçº¿ç¨‹\u0026#34;); System.out.println(m.getName()); // æ‰“å°å½“å‰çº¿ç¨‹çš„åç§° // åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œä¸€ä¸ªç®€å•çš„ for å¾ªç¯ï¼Œæ‰“å°è¾“å‡ºå½“å‰çº¿ç¨‹çš„åç§°å’Œå¾ªç¯å˜é‡ i for (int i = 0; i \u0026lt; 100; i++) { System.out.println(m.getName() + \u0026#34;çº¿ç¨‹è¾“å‡º\u0026#34; + i); } } } // è‡ªå®šä¹‰çº¿ç¨‹ç±» MyThread package com.showguan.ThreadDemo; public class MyThread extends Thread { public MyThread() { } public MyThread(String name) { super(name); } @Override public void run() { for (int i = 0; i \u0026lt; 100; i++) { System.out.println(Thread.currentThread().getName() + \u0026#34;å¼€å§‹æ‰§è¡Œã€‚\u0026#34;); System.out.println(\u0026#34;å­çº¿ç¨‹MyThread\u0026#34; + i); } } } ä½¿ç”¨çº¿ç¨‹çš„ join() æ–¹æ³•æ¥å®ç°çº¿ç¨‹çš„é¡ºåºæ‰§è¡Œï¼Œåœ¨å¾ªç¯ä¸­ä½¿ç”¨ sleep() æ–¹æ³•æ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œ public static void main(String[] args) throws InterruptedException { // å¾ªç¯éå†æ•´æ•° 0 åˆ° 5 for (int i = 0; i \u0026lt;= 5; i++) { System.out.println(i); // æ‰“å°å½“å‰æ•´æ•°å€¼ // å¦‚æœå½“å‰æ•´æ•°å€¼ç­‰äº 3ï¼Œåˆ™è®©å½“å‰çº¿ç¨‹ä¼‘çœ  5 ç§’é’Ÿ if (i == 3) { Thread.sleep(5000); } } // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹ t1ï¼Œå¹¶åœ¨ä¸»çº¿ç¨‹ä¸­ç­‰å¾… t1 çº¿ç¨‹æ‰§è¡Œå®Œæˆ Thread t1 = new MyThread(\u0026#34;1å·çº¿ç¨‹\u0026#34;); t1.start(); t1.join(); // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹ t2ï¼Œå¹¶åœ¨ä¸»çº¿ç¨‹ä¸­ç­‰å¾… t2 çº¿ç¨‹æ‰§è¡Œå®Œæˆ Thread t2 = new MyThread(\u0026#34;2å·çº¿ç¨‹\u0026#34;); t2.start(); t2.join(); // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹ t3ï¼Œå¹¶åœ¨ä¸»çº¿ç¨‹ä¸­ç­‰å¾… t3 çº¿ç¨‹æ‰§è¡Œå®Œæˆ Thread t3 = new MyThread(\u0026#34;3å·çº¿ç¨‹\u0026#34;); t3.start(); t3.join(); } yield, interrupt, å®ˆæŠ¤çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼˜å…ˆçº§ç­‰\u0026hellip;\nçº¿ç¨‹å®‰å…¨ ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿ\nå¤šä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶æ“ä½œåŒä¸€ä¸ªå…±äº«èµ„æºçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸šåŠ¡å®‰å…¨é—®é¢˜ package com.showguan.ThreadSafeDemo; public class Account { private String cardId; private double money; public Account() { } public Account(String cardId, double money) { this.cardId = cardId; this.money = money; } public String getCardId() { return cardId; } public void setCardId(String cardId) { this.cardId = cardId; } public double getMoney() { return money; } public void setMoney(double money) { this.money = money; } // ä½¿ç”¨ synchronized å…³é”®å­—ç¡®ä¿çº¿ç¨‹å®‰å…¨ public synchronized void drawMoney(double money) { String name = Thread.currentThread().getName(); if(this.money\u0026gt;=money){ System.out.println(name + \u0026#34;æ¥å–é’±\u0026#34; + money + \u0026#34;æˆåŠŸï¼\u0026#34;); this.money -= money; System.out.println(name + \u0026#34;å–é’±ä¹‹åï¼Œä½™é¢å‰©ä½™: \u0026#34; + this.money); }else{ System.out.println(name + \u0026#34;æ¥å–é’±ï¼Œ ä½™é¢ä¸è¶³ï¼\u0026#34;); } } } package com.showguan.ThreadSafeDemo; public class DrawThread extends Thread{ private Account acc; public DrawThread(Account acc, String name) { super(name); this.acc = acc; } @Override public void run() { acc.drawMoney(10000.0); } } public class Demo1 { public static void main(String[] args) { Account acc = new Account(\u0026#34;ICBC-10101\u0026#34;, 10000); new DrawThread(acc, \u0026#34;å°çº¢\u0026#34;).start(); new DrawThread(acc, \u0026#34;å°æ˜\u0026#34;).start(); /**è¾“å‡ºç»“æœ * å°çº¢æ¥å–é’±10000.0æˆåŠŸï¼ * å°æ˜æ¥å–é’±ï¼Œ ä½™é¢ä¸è¶³ï¼ * å°çº¢å–é’±ä¹‹åï¼Œä½™é¢å‰©ä½™: 0.0 */ } } çº¿ç¨‹åŒæ­¥çš„å¸¸è§æ–¹æ¡ˆ åŠ é”ï¼šæ¯æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹åŠ é”ï¼ŒåŠ é”åæ‰èƒ½è¿›å…¥è®¿é—®ï¼Œè®¿é—®å®Œæ¯•åè‡ªåŠ¨è§£é”ï¼Œç„¶åå…¶ä»–çº¿ç¨‹æ‰èƒ½å†åŠ é”è¿›æ¥ (1) åŒæ­¥ä»£ç å— ä½œç”¨ï¼šæŠŠè®¿é—®å…±äº«èµ„æºçš„æ ¸å¿ƒä»£ç ç»™ä¸Šé”ï¼Œä¾æ¬¡ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚\nåŸç†ï¼šæ¯æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹åŠ é”åè¿›å…¥ï¼Œæ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨ç»“æœï¼Œå…¶ä»–çº¿ç¨‹æ‰å¯ä»¥è¿›æ¥æ‰§è¡Œã€‚\næ³¨æ„äº‹é¡¹ï¼š\nå¯¹äºå½“å‰åŒæ—¶æ‰§è¡Œçš„çº¿ç¨‹æ¥è¯´ï¼ŒåŒæ­¥é”å¿…é¡»åŒä¸€æŠŠï¼ˆåŒä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œå¦åˆ™ä¼šå‡ºbug é”å¯¹è±¡çš„ä½¿ç”¨è§„èŒƒï¼š\nå»ºè®®ä½¿ç”¨å…±äº«èµ„æºä½œä¸ºé”å¯¹è±¡ï¼Œå¯¹äºå®ä¾‹æ–¹æ³•å»ºè®®ä½¿ç”¨**this**ä½œä¸ºé”å¯¹è±¡ å¯¹äºé™æ€æ–¹æ³•å»ºè®®ä½¿ç”¨å­—èŠ‚ç ï¼ˆç±»å.classï¼‰å¯¹è±¡ä½œä¸ºé”å¯¹è±¡ public void drawMoney(double money) { String name = Thread.currentThread().getName(); synchronized (this) { if(this.money\u0026gt;=money){ System.out.println(name + \u0026#34;æ¥å–é’±\u0026#34; + money + \u0026#34;æˆåŠŸï¼\u0026#34;); this.money -= money; System.out.println(name + \u0026#34;å–é’±ä¹‹åï¼Œä½™é¢å‰©ä½™: \u0026#34; + this.money); }else{ System.out.println(name + \u0026#34;æ¥å–é’±ï¼Œ ä½™é¢ä¸è¶³ï¼\u0026#34;); } } } public static void test(){ synchronized(Account.class){ } } (2) åŒæ­¥æ–¹æ³• ä½¿ç”¨synchronizedä¿®é¥°æ–¹æ³•\npublic synchronized void drawMoney(double money) { String name = Thread.currentThread().getName(); if(this.money\u0026gt;=money){ System.out.println(name + \u0026#34;æ¥å–é’±\u0026#34; + money + \u0026#34;æˆåŠŸï¼\u0026#34;); this.money -= money; System.out.println(name + \u0026#34;å–é’±ä¹‹åï¼Œä½™é¢å‰©ä½™: \u0026#34; + this.money); }else{ System.out.println(name + \u0026#34;æ¥å–é’±ï¼Œ ä½™é¢ä¸è¶³ï¼\u0026#34;); } } åŒæ­¥æ–¹æ³•åº•å±‚åŸç†\nåŒæ­¥æ–¹æ³•å…¶å®åº•å±‚ä¹Ÿæ˜¯æœ‰éšå¼å¯¹è±¡çš„ï¼Œ åªæ˜¯é”çš„èŒƒå›´æ˜¯æ•´ä¸ªæ–¹æ³•ä»£ç  åŒæ ·ï¼Œå¦‚æœæ˜¯å®ä¾‹æ–¹æ³•ï¼šåŒæ­¥æ–¹æ³•é»˜è®¤ç”¨thisä½œä¸ºé”å¯¹è±¡ï¼›å¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼šåŒæ­¥æ–¹æ³•é»˜è®¤ç”¨ç±»å.classä½œä¸ºé”å¯¹è±¡ (3) Locké” private final Lock lk = new ReentrantLock(); public void drawMoney(double money) { String name = Thread.currentThread().getName(); try { lk.lock(); if(this.money\u0026gt;=money){ System.out.println(name + \u0026#34;æ¥å–é’±\u0026#34; + money + \u0026#34;æˆåŠŸï¼\u0026#34;); this.money -= money; System.out.println(name + \u0026#34;å–é’±ä¹‹åï¼Œä½™é¢å‰©ä½™: \u0026#34; + this.money); }else{ System.out.println(name + \u0026#34;æ¥å–é’±ï¼Œ ä½™é¢ä¸è¶³ï¼\u0026#34;); } } catch (Exception e) { e.printStackTrace(); } finally { lk.unlock(); } } çº¿ç¨‹é—´é€šä¿¡ /** * è¿™ä¸ªç¨‹åºæ¼”ç¤ºäº†ä½¿ç”¨ wait() å’Œ notify() æ–¹æ³•æ¥å®ç°å¤šçº¿ç¨‹é—´çš„æ¶ˆæ¯ä¼ é€’å’ŒåŒæ­¥ã€‚ * * ä¸»è¦çŸ¥è¯†ç‚¹ï¼š * 1. wait() æ–¹æ³•ï¼šä½¿å½“å‰çº¿ç¨‹ç­‰å¾…å¹¶é‡Šæ”¾æ‰€å é”ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ notify() æ–¹æ³•æˆ– notifyAll() æ–¹æ³•æ¥å”¤é†’å®ƒã€‚ * 2. notify() æ–¹æ³•ï¼šå”¤é†’æ­£åœ¨ç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ã€‚ * 3. notifyAll() æ–¹æ³•ï¼šå”¤é†’æ­£åœ¨ç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚ * 4. ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼šå¤šä¸ªç”Ÿäº§è€…çº¿ç¨‹å‘å…±äº«èµ„æºä¸­ç”Ÿäº§ç‰©å“ï¼Œå¤šä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ä»å…±äº«èµ„æºä¸­æ¶ˆè´¹ç‰©å“ã€‚ * 5. ä½¿ç”¨ synchronized å…³é”®å­—æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å…±äº«èµ„æºå¼•èµ·çš„æ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜ã€‚ * */ package com.showguan.ThreadMessageDemo; import java.util.ArrayList; import java.util.List; public class Desk { private List\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); /** * ç”Ÿäº§é£Ÿç‰©çš„æ–¹æ³• */ public synchronized void put() { try { String name = Thread.currentThread().getName(); // å¦‚æœæ¡Œå­ä¸Šæ²¡æœ‰é£Ÿç‰©ï¼Œåˆ™ç”Ÿäº§ä¸€ä¸ªé£Ÿç‰© if (list.size() == 0) { list.add(name + \u0026#34;åšçš„è‚‰åŒ…å­\u0026#34;); System.out.println(name + \u0026#34;åšäº†ä¸€ä¸ªè‚‰åŒ…å­\u0026#34;); Thread.sleep(2000); // æ¨¡æ‹Ÿåˆ¶ä½œæ—¶é—´ this.notifyAll(); // å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ this.wait(); // ç­‰å¾…è¢«å”¤é†’ } else { this.notifyAll(); // å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ this.wait(); // ç­‰å¾…è¢«å”¤é†’ } } catch (Exception e) { e.printStackTrace(); } } /** * æ¶ˆè´¹é£Ÿç‰©çš„æ–¹æ³• */ public synchronized void get() { try { String name = Thread.currentThread().getName(); // å¦‚æœæ¡Œå­ä¸Šæœ‰é£Ÿç‰©ï¼Œåˆ™æ¶ˆè´¹ä¸€ä¸ªé£Ÿç‰© if (list.size() == 1) { System.out.println(name + \u0026#34;åƒäº†\u0026#34; + list.get(0)); list.clear(); // æ¸…ç©ºæ¡Œå­ä¸Šçš„é£Ÿç‰© Thread.sleep(1000); // æ¨¡æ‹Ÿåƒçš„æ—¶é—´ this.notifyAll(); // å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ this.wait(); // ç­‰å¾…è¢«å”¤é†’ } else { this.notifyAll(); // å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ this.wait(); // ç­‰å¾…è¢«å”¤é†’ } } catch (Exception e) { e.printStackTrace(); } } } çº¿ç¨‹æ±  çº¿ç¨‹æ± å°±æ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çº¿ç¨‹çš„æŠ€æœ¯ ThreadPoolExecutoræ„é€ å™¨\npublic ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue\u0026lt;Runnable\u0026gt; workQueue) å‚æ•°ä¸€ï¼šcorePoolSizeï¼šæŒ‡å®šçº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ å‚æ•°äºŒï¼šmaximumPoolSizeï¼šæŒ‡å®šçº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°é‡ å‚æ•°ä¸‰ï¼škeepAliveTimeï¼šæŒ‡å®šä¸´æ—¶çº¿ç¨‹çš„å­˜æ´»æ—¶é—´ å‚æ•°å››ï¼šunit:æŒ‡å®šä¸´æ—¶çº¿ç¨‹å­˜æ´»çš„æ—¶é—´å•ä½ï¼ˆç§’ï¼Œåˆ†ï¼Œæ—¶ï¼Œå¤©ï¼‰ å‚æ•°äº”ï¼šworkQueueï¼šæŒ‡å®šçº¿ç¨‹æ± çš„ä»»åŠ¡é˜Ÿåˆ— å‚æ•°å…­ï¼šthreadFactoryï¼šæŒ‡å®šçº¿ç¨‹æ± çš„çº¿ç¨‹å·¥å‚ å‚æ•°ä¸ƒï¼šhandlerï¼šæŒ‡å®šçº¿ç¨‹æ± çš„ä»»åŠ¡æ‹’ç»ç­–ç•¥ï¼ˆçº¿ç¨‹éƒ½åœ¨å¿™ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†çš„æ—¶å€™ï¼Œæ–°ä»»åŠ¡æ¥äº†è¯¥æ€ä¹ˆå¤„ç†ï¼‰ æ³¨æ„äº‹é¡¹\nä¸´æ—¶çº¿ç¨‹ä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿ æ–°ä»»åŠ¡æäº¤æ—¶å‘ç°æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¿™ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œå¹¶ä¸”è¿˜å¯ä»¥åˆ›å»ºä¸´æ—¶çº¿ç¨‹ï¼Œæ­¤æ—¶æ‰ä¼šåˆ›å»ºä¸´æ—¶çº¿ç¨‹ ä»€ä¹ˆæ—¶å€™ä¼šå¼€å§‹æ‹’ç»æ–°ä»»åŠ¡ï¼Ÿ æ ¸å¿ƒçº¿ç¨‹å’Œä¸´æ—¶çº¿ç¨‹éƒ½åœ¨å¿™ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œæ–°çš„ä»»åŠ¡è¿‡æ¥çš„æ—¶å€™æ‰ä¼šå¼€å§‹æ‹’ç»æ–°ä»»åŠ¡ æ–°ä»»åŠ¡æ‹’ç»ç­–ç•¥ ç­–ç•¥ è§£é‡Š ThreadPoolExecutor.AbortPolicy å½“ä»»åŠ¡æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­è¢«æ‹’ç»æ—¶ï¼ŒæŠ›å‡ºRejectedExecutionExceptionå¼‚å¸¸ã€‚ï¼ˆé»˜è®¤ç­–ç•¥ï¼‰ ThreadPoolExecutor.DiscardPolicy ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œä¸æ¨è ThreadPoolExecutor.DiscardOldestPolicy æŠ›å¼ƒé˜Ÿåˆ—ä¸­ç­‰å¾…æœ€ä¹…çš„ä»»åŠ¡ï¼Œç„¶åæŠŠå½“å‰ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—ä¸­ ThreadPoolExecutor.CallerRunsPolicy ç”±ä¸»çº¿ç¨‹è´Ÿè´£è°ƒç”¨ä»»åŠ¡çš„run()æ–¹æ³•ä»è€Œç»•è¿‡çº¿ç¨‹æ± ç›´æ¥æ‰§è¡Œ ExecutorServiceçš„å¸¸ç”¨æ–¹æ³• æ–¹æ³•ã€æè¿° è¯´æ˜ execute(Runnable command) æ‰§è¡ŒRunnableä»»åŠ¡ submit(Callable\u0026lt;T\u0026gt; task) æ‰§è¡ŒCallableä»»åŠ¡ï¼Œè¿”å›æœªæ¥ä»»åŠ¡å¯¹è±¡ï¼Œç”¨äºè·å–çº¿ç¨‹è¿”å›çš„ç»“æœ shutdown() ç­‰å…¨éƒ¨ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œå†å…³é—­çº¿ç¨‹æ± ï¼ List\u0026lt;Runnable\u0026gt; shutdownNow() ç«‹åˆ»å…³é—­çº¿ç¨‹æ± ï¼Œåœæ­¢æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶è¿”å›é˜Ÿåˆ—ä¸­æœªæ‰§è¡Œçš„ä»»åŠ¡ æ‰§è¡ŒRunnableä»»åŠ¡ import java.util.concurrent.*; public class Main { public static void main(String[] args) { // åˆ›å»ºçº¿ç¨‹æ±  // ä½¿ç”¨ ThreadPoolExecutor æ„é€ æ–¹æ³•è‡ªå®šä¹‰çº¿ç¨‹æ±  ExecutorService pool = new ThreadPoolExecutor( 3, // æ ¸å¿ƒçº¿ç¨‹æ•° 5, // æœ€å¤§çº¿ç¨‹æ•° 8, // çº¿ç¨‹ç©ºé—²æ—¶é—´ TimeUnit.SECONDS, // æ—¶é—´å•ä½ new ArrayBlockingQueue\u0026lt;\u0026gt;(4), // å·¥ä½œé˜Ÿåˆ— Executors.defaultThreadFactory(), // çº¿ç¨‹å·¥å‚ï¼Œ ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹çš„å®ä¾‹ã€‚ new ThreadPoolExecutor.CallerRunsPolicy() // æ‹’ç»ç­–ç•¥ ); // åˆ›å»ºä»»åŠ¡ Runnable target = new MyRunnable(); // æäº¤ä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œ pool.execute(target); // ä½¿ç”¨æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // ä½¿ç”¨æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // ä½¿ç”¨æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // å¤ç”¨å‰é¢çš„æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // å¤ç”¨å‰é¢çš„æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // å¤ç”¨å‰é¢çš„æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // å¤ç”¨å‰é¢çš„æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // ä½¿ç”¨ä¸´æ—¶çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // ä½¿ç”¨ä¸´æ—¶çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ pool.execute(target); // æ‰§è¡Œä»»åŠ¡è¢«æ‹’ç»ï¼ˆæ‹’ç»ç­–ç•¥å†³å®šï¼‰ pool.execute(target); // æ‰§è¡Œä»»åŠ¡è¢«æ‹’ç»ï¼ˆæ‹’ç»ç­–ç•¥å†³å®šï¼‰ // å…³é—­çº¿ç¨‹æ±  // pool.shutdown(); // pool.shutdownNow(); } } // è‡ªå®šä¹‰ä»»åŠ¡ class MyRunnable implements Runnable { @Override public void run() { // ä»»åŠ¡é€»è¾‘ } } æ‰§è¡ŒCallableä»»åŠ¡ import java.util.concurrent.*; public class Main { public static void main(String[] args) throws ExecutionException, InterruptedException { // åˆ›å»ºçº¿ç¨‹æ±  ExecutorService pool = new ThreadPoolExecutor( 3, // æ ¸å¿ƒçº¿ç¨‹æ•° 5, // æœ€å¤§çº¿ç¨‹æ•° 8, // çº¿ç¨‹ç©ºé—²æ—¶é—´ TimeUnit.SECONDS, // æ—¶é—´å•ä½ new ArrayBlockingQueue\u0026lt;\u0026gt;(4), // å·¥ä½œé˜Ÿåˆ— Executors.defaultThreadFactory(), // çº¿ç¨‹å·¥å‚ new ThreadPoolExecutor.CallerRunsPolicy() // æ‹’ç»ç­–ç•¥ ); // æäº¤å¯è°ƒç”¨ä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œ Future\u0026lt;String\u0026gt; f1 = pool.submit(new MyCallable(100)); // æäº¤ä»»åŠ¡å¹¶è·å– Future å¯¹è±¡ Future\u0026lt;String\u0026gt; f2 = pool.submit(new MyCallable(200)); // æäº¤ä»»åŠ¡å¹¶è·å– Future å¯¹è±¡ Future\u0026lt;String\u0026gt; f3 = pool.submit(new MyCallable(300)); // æäº¤ä»»åŠ¡å¹¶è·å– Future å¯¹è±¡ Future\u0026lt;String\u0026gt; f4 = pool.submit(new MyCallable(400)); // æäº¤ä»»åŠ¡å¹¶è·å– Future å¯¹è±¡ // è·å–ä»»åŠ¡æ‰§è¡Œç»“æœå¹¶è¾“å‡º System.out.println(f1.get()); // é˜»å¡ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¹¶è·å–ç»“æœ System.out.println(f2.get()); // é˜»å¡ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¹¶è·å–ç»“æœ System.out.println(f3.get()); // é˜»å¡ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¹¶è·å–ç»“æœ System.out.println(f4.get()); // é˜»å¡ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¹¶è·å–ç»“æœ // å…³é—­çº¿ç¨‹æ±  pool.shutdown(); } } // è‡ªå®šä¹‰å¯è°ƒç”¨ä»»åŠ¡ class MyCallable implements Callable\u0026lt;String\u0026gt; { private int value; public MyCallable(int value) { this.value = value; } @Override public String call() throws Exception { // ä»»åŠ¡é€»è¾‘ return \u0026#34;Result: \u0026#34; + value; } } Executors æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± çš„å·¥å…·ç±»ï¼Œæä¾›é‡Œå¾ˆå¤šé™æ€æ–¹æ³•ç”¨äºè¿”å›ä¸åŒç‰¹ç‚¹çš„çº¿ç¨‹æ± å¯¹è±¡ Executorsä½¿ç”¨å¯èƒ½å­˜åœ¨çš„é™·è¿›\nå¤§å‹å¹¶å‘ç³»ç»Ÿç¯å¢ƒä¸­ä½¿ç”¨Executorså¦‚æœä¸æ³¨æ„å¯èƒ½ä¼šå‡ºç°ç³»ç»Ÿé£é™© ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ Executors å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ ThreadPoolExecutor çš„æ–¹å¼ï¼Œè¿™ æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚ è¯´æ˜ï¼šExecutors è¿”å›çš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š 1ï¼‰ FixedThreadPool å’Œ SingleThreadPoolï¼š å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOM(OutOfMemoryError)ã€‚ 2ï¼‰ CachedThreadPoolï¼š å…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸º Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚ å¹¶å‘ã€å¹¶è¡Œ è¿›ç¨‹\næ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼ˆè½¯ä»¶ï¼‰å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ çº¿ç¨‹æ˜¯å±äºè¿›ç¨‹çš„ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹ è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…¶å®æ˜¯å¹¶å‘å’Œå¹¶è¡Œæ‰§è¡Œçš„ å¹¶å‘çš„å«ä¹‰\nè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ˜¯ç”±CPUè´Ÿè´£è°ƒåº¦æ‰§è¡Œçš„ï¼Œä½†CPUèƒ½åŒæ—¶å¤„ç†çº¿ç¨‹çš„æ•°é‡æœ‰é™ï¼Œä¸ºäº†ä¿è¯å…¨éƒ¨çº¿ç¨‹éƒ½èƒ½å¾€å‰æ‰§è¡Œï¼Œ CPUä¼šè½®è¯¢ä¸ºç³»ç»Ÿçš„æ¯ä¸ªçº¿ç¨‹æœåŠ¡ï¼Œç”±äºCPUåˆ‡æ¢çš„é€Ÿåº¦å¾ˆå¿«ï¼Œç»™æˆ‘ä»¬çš„æ„Ÿè§‰è¿™äº›çº¿ç¨‹åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¹¶å‘ å¹¶è¡Œçš„ç†è§£\nåœ¨åŒä¸€ä¸ªæ—¶åˆ»ä¸Šï¼ŒåŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹åœ¨è¢«CPUè°ƒåº¦æ‰§è¡Œ çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ çº¿ç¨‹çš„6ç§çŠ¶æ€æ€»ç»“ çŠ¶æ€åç§° è¯´æ˜ NEW(æ–°å»º) çº¿ç¨‹åˆšè¢«åˆ›å»ºï¼Œä½†æ˜¯å¹¶æœªå¯åŠ¨ Runnable(å¯è¿è¡Œ) çº¿ç¨‹å·²ç»è°ƒç”¨äº†start()ï¼Œ ç­‰å¾…CPUè°ƒåº¦ Blocked(è¢«é˜»å¡) çº¿ç¨‹åœ¨æ‰§è¡Œçš„æ—¶å€™æœªç«äº‰åˆ°é”å¯¹è±¡ï¼Œåˆ™è¯¥çº¿ç¨‹è¿›å…¥BlockedçŠ¶æ€ Waiting(ç­‰å¾…) ä¸€ä¸ªçº¿ç¨‹è¿›å…¥WaitingçŠ¶æ€ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹éœ€è¦Notifyæˆ–è€…notifyAllæ‰èƒ½å¤Ÿå”¤é†’ã€‚ Timed Waiting (è®¡æ—¶ç­‰å¾…) åŒWaitingçŠ¶æ€ç±»ä¼¼ï¼Œæœ‰å‡ ä¸ªæ–¹æ³•ï¼ˆsleepï¼Œ waitï¼‰æœ‰è¶…æ—¶å‚æ•°ï¼Œè°ƒç”¨ä»–ä»¬å°†è¿›å…¥Timed WaitingçŠ¶æ€ Terminated (è¢«ç»ˆæ­¢) å› ä¸ºrunæ–¹æ³•æ­£å¸¸é€€å‡ºè€Œæ­»äº¡ï¼Œæˆ–è€…å› ä¸ºæ²¡æœ‰æ•è·çš„å¼‚å¸¸ç»ˆæ­¢äº†runæ–¹æ³•è€Œæ­»äº¡. æ‚²è§‚é”ã€ä¹è§‚é”åŸç† æ‚²è§‚é”ï¼šä¸€ä¸Šæ¥å°±åŠ é”ï¼Œæ²¡æœ‰å®‰å…¨æ„Ÿï¼Œæ¯æ¬¡åªèƒ½ä¸€ä¸ªçº¿ç¨‹è¿›å…¥è®¿é—®å®Œæ¯•åï¼Œå†è§£é”ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½è¾ƒå·® ä¹è§‚é”ï¼šä¸€å¼€å§‹ä¸ä¸Šé”ï¼Œè®¤ä¸ºæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå¤§å®¶ä¸€èµ·è·‘ï¼Œç­‰è¦å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ—¶å€™æ‰å¼€å§‹æ§åˆ¶ã€‚çº¿ç¨‹å®‰å…¨ï¼Œæ€§èƒ½è¾ƒå¥½ CASç®—æ³• package com.showguan.ExtendDemo; import java.util.concurrent.atomic.AtomicInteger; /** * è¿™ä¸ªç¨‹åºæ¼”ç¤ºäº†ä¹è§‚é”çš„ä½¿ç”¨ã€‚ * * ä¹è§‚é”æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶æœºåˆ¶ï¼Œå®ƒå‡è®¾å¯¹æ•°æ®çš„è¯»å–æ“ä½œä¸ä¼šé€ æˆæ•°æ®å†²çªï¼Œå› æ­¤ä¸éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ é”æ“ä½œã€‚ * ç›¸åï¼Œå®ƒåœ¨æ›´æ–°æ•°æ®æ—¶æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–çº¿ç¨‹å·²ç»ä¿®æ”¹äº†æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœæœ‰åˆ™è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæ¯”å¦‚é‡è¯•æˆ–è€…æ”¾å¼ƒæ›´æ–°ã€‚ * * åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†ä¸¤ç§å®ç°æ–¹å¼ï¼š * 1. ä½¿ç”¨ synchronized å…³é”®å­—å®ç°çš„æ‚²è§‚é”ï¼ˆMyRunnable ç±»ï¼‰ * 2. ä½¿ç”¨ AtomicInteger å®ç°çš„ä¹è§‚é”ï¼ˆMyRunnable2 ç±»ï¼‰ * * MyRunnable ç±»ä¸­ä½¿ç”¨äº† synchronized å…³é”®å­—æ¥ä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯¹ count å˜é‡çš„å®‰å…¨è®¿é—®ï¼Œå®ƒæ˜¯ä¸€ç§æ‚²è§‚é”çš„å®ç°æ–¹å¼ï¼Œ * æ¯ä¸ªçº¿ç¨‹åœ¨è®¿é—® count å˜é‡æ—¶éƒ½éœ€è¦è·å¾—å¯¹è±¡é”ï¼Œå› æ­¤åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œä¸´ç•ŒåŒºä»£ç ï¼Œå…¶ä»–çº¿ç¨‹éœ€è¦ç­‰å¾…é‡Šæ”¾é”æ‰èƒ½æ‰§è¡Œã€‚ * * MyRunnable2 ç±»ä¸­ä½¿ç”¨äº† AtomicInteger æ¥å®ç°ä¹è§‚é”ã€‚AtomicInteger æä¾›äº†ä¸€ç§åŸå­æ€§çš„æ›´æ–°æ“ä½œï¼Œä¿è¯äº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨è®¿é—®ã€‚ * åœ¨è¿™ç§å®ç°æ–¹å¼ä¸­ï¼Œçº¿ç¨‹ä¸éœ€è¦è·å–é”ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡åŸå­æ€§çš„æ“ä½œæ¥æ›´æ–° count å˜é‡ï¼Œå› æ­¤å¯ä»¥å®ç°æ›´é«˜çš„å¹¶å‘æ€§èƒ½ã€‚ * * åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„é”æœºåˆ¶å–å†³äºå…·ä½“çš„åœºæ™¯å’Œæ€§èƒ½éœ€æ±‚ã€‚å¦‚æœå¯¹æ•°æ®çš„æ›´æ–°æ“ä½œæ¯”è¾ƒé¢‘ç¹ï¼Œä¸”ç«äº‰ä¸æ˜¯å¾ˆæ¿€çƒˆï¼Œå¯ä»¥é€‰æ‹©ä¹è§‚é”æ¥æå‡æ€§èƒ½ï¼› * å¦‚æœç«äº‰æ¯”è¾ƒæ¿€çƒˆï¼Œæˆ–è€…å¯¹æ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜ï¼Œåˆ™å¯ä»¥é€‰æ‹©æ‚²è§‚é”æ¥ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ã€‚ */ public class Demo1 { public static void main(String[] args) { // Runnable target = new MyRunnable(); // for (int i = 1; i \u0026lt;= 100; i++) { // new Thread(target).start(); // } Runnable target = new MyRunnable2(); for (int i = 1; i \u0026lt;= 100; i++) { new Thread(target).start(); } } } package com.showguan.ExtendDemo; /** * å®ç°äº† Runnable æ¥å£çš„ç±»ï¼Œä½¿ç”¨ synchronized å…³é”®å­—å®ç°çš„æ‚²è§‚é”ã€‚ */ public class MyRunnable implements Runnable{ private int count; @Override public void run() { synchronized (this) { for (int i = 1; i \u0026lt;= 100; i++) { // System.out.println(this); System.out.println(Thread.currentThread().getName() + \u0026#34; Count: \u0026#34; + (++count)); } } } } package com.showguan.ExtendDemo; import java.util.concurrent.atomic.AtomicInteger; /** * å®ç°äº† Runnable æ¥å£çš„ç±»ï¼Œä½¿ç”¨ AtomicInteger å®ç°çš„ä¹è§‚é”ã€‚ */ public class MyRunnable2 implements Runnable{ private AtomicInteger count = new AtomicInteger(); @Override public void run() { for (int i = 1; i \u0026lt;= 100; i++) { // System.out.println(this); System.out.println(Thread.currentThread().getName() + \u0026#34; Count: \u0026#34; + (count.incrementAndGet())); } } } æ¡ˆä¾‹ package com.showguan.Test; import java.util.ArrayList; import java.util.List; import java.util.Random; public class Demo1 { public static void main(String[] args) throws InterruptedException { // åˆ›å»ºç¤¼ç‰©åˆ—è¡¨ List\u0026lt;String\u0026gt; gift = new ArrayList\u0026lt;\u0026gt;(); // å®šä¹‰ç¤¼ç‰©åç§°æ•°ç»„ String[] names = {\u0026#34;å£çº¢\u0026#34;, \u0026#34;çˆ±é©¬ä»•\u0026#34;, \u0026#34;iphone\u0026#34;, \u0026#34;æ‰‹è¡¨\u0026#34;, \u0026#34;mac\u0026#34;}; // éšæœºæ•°ç”Ÿæˆå™¨ Random r = new Random(); // å¾ªç¯æ·»åŠ ç¤¼ç‰©åˆ°åˆ—è¡¨ä¸­ for (int i = 1; i \u0026lt;= 1000; i++) { gift.add(names[r.nextInt(names.length)] + \u0026#34; \u0026#34; + (i+1)); // åœ¨ç¤¼ç‰©åˆ—è¡¨ä¸­æ·»åŠ éšæœºé€‰å–çš„ç¤¼ç‰© } System.out.println(gift); // æ‰“å°ç¤¼ç‰©åˆ—è¡¨ System.out.println(\u0026#34;-------------\u0026#34;); // åˆ›å»ºä¸¤ä¸ªå‘é€çº¿ç¨‹ï¼Œåˆ†åˆ«ä»£è¡¨å°çº¢å’Œå°æ˜ SendThread xh = new SendThread(gift, \u0026#34;å°çº¢\u0026#34;); xh.start(); SendThread xm = new SendThread(gift, \u0026#34;å°æ˜\u0026#34;); xm.start(); // ç­‰å¾…ä¸¤ä¸ªå‘é€çº¿ç¨‹ç»“æŸ xm.join(); xh.join(); // æ‰“å°ä¸¤ä¸ªå‘é€çº¿ç¨‹å‘é€çš„ç¤¼ç‰©æ•°é‡ System.out.println(\u0026#34;å°æ˜å‘å‡ºäº†ï¼š\u0026#34; + xm.getCount()); System.out.println(\u0026#34;å°çº¢å‘å‡ºäº†ï¼š\u0026#34; + xh.getCount()); } } package com.showguan.Test; import java.util.List; import java.util.Random; public class SendThread extends Thread { private List\u0026lt;String\u0026gt; gift; // ç¤¼ç‰©åˆ—è¡¨ private int count; // å‘é€çš„ç¤¼ç‰©æ•°é‡ // æ„é€ æ–¹æ³• public SendThread(List\u0026lt;String\u0026gt; gift, String name) { super(name); // è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹å this.gift = gift; // åˆå§‹åŒ–ç¤¼ç‰©åˆ—è¡¨ } @Override public void run() { Random r = new Random(); // éšæœºæ•°ç”Ÿæˆå™¨ String name = Thread.currentThread().getName(); // è·å–å½“å‰çº¿ç¨‹å while (true) { synchronized (gift){ // åŒæ­¥å—ï¼Œç¡®ä¿ç¤¼ç‰©åˆ—è¡¨çš„çº¿ç¨‹å®‰å…¨ if(gift.size()\u0026lt;10){ // å½“ç¤¼ç‰©åˆ—è¡¨æ•°é‡å°äº10æ—¶ï¼Œç»“æŸå¾ªç¯ break; } String rs = gift.remove(r.nextInt(gift.size())); // ä»ç¤¼ç‰©åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªç¤¼ç‰©ï¼Œå¹¶ç§»é™¤ System.out.println(name + \u0026#34; å‘å‡ºäº†ç¤¼å“ï¼š \u0026#34; + rs); // æ‰“å°å‘é€çš„ç¤¼ç‰©ä¿¡æ¯ count++; // è®°å½•å‘é€çš„ç¤¼ç‰©æ•°é‡ } } } // è·å–å‘é€çš„ç¤¼ç‰©æ•°é‡ public int getCount() { return count; } // è®¾ç½®å‘é€çš„ç¤¼ç‰©æ•°é‡ public void setCount(int count) { this.count = count; } } ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B4/","summary":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(4) ç‰¹æ®Šæ–‡ä»¶ properties, xml ä¸ºä»€ä¹ˆè¦ç”¨è¿™äº›ç‰¹æ®Šæ–‡ä»¶ï¼Ÿ å­˜å‚¨å¤šä¸ªç”¨æˆ·çš„ï¼šç”¨æˆ·åï¼Œ å¯†ç ï¼Œ å®¶ä¹¡ï¼Œ æ€§åˆ« æ—¥å¿—æŠ€æœ¯ æŠŠç¨‹åºè¿è¡Œçš„ä¿¡æ¯ï¼Œè®°","title":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(4)"},{"content":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(3) æ–‡ä»¶æ“ä½œ Fileå¯¹è±¡ å¸¸ç”¨æ–¹æ³• public static void main(String[] args) { // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–‡ä»¶test.txtçš„ç»å¯¹è·¯å¾„ File f1 = new File(\u0026#34;D:/JAVA/JavaSeProMax/file-io-app/src/com/showguan/FileDemo/test.txt\u0026#34;); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–‡ä»¶å¤¹JavaSeProMaxçš„ç»å¯¹è·¯å¾„ File f2 = new File(\u0026#34;D:/JAVA\u0026#34;); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºä¸å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„t.txt File f3 = new File(\u0026#34;D:/JAVA/t.txt\u0026#34;); // è¾“å‡ºæ–‡ä»¶f1çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ System.out.println(f1.length()); // è¾“å‡ºæ–‡ä»¶å¤¹f2çš„é•¿åº¦ï¼Œç”±äºf2è¡¨ç¤ºæ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯æ–‡ä»¶ï¼Œå› æ­¤è¿”å›å€¼æ²¡æœ‰æ„ä¹‰ System.out.println(f2.length()); // è¾“å‡ºæ–‡ä»¶f3çš„é•¿åº¦ï¼Œç”±äºæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œå› æ­¤è¿”å›0 System.out.println(f3.length()); // æ£€æŸ¥æ–‡ä»¶f3æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›falseï¼Œå› ä¸ºæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ System.out.println(f3.exists()); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºç›¸å¯¹è·¯å¾„ä¸‹çš„æ–‡ä»¶test.txt // ç›¸å¯¹è·¯å¾„é»˜è®¤ä»å½“å‰å·¥ç¨‹çš„æ ¹ç›®å½•å¼€å§‹å¯»æ‰¾ï¼Œå› æ­¤æ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ File f4 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\test.txt\u0026#34;); // æ£€æŸ¥æ–‡ä»¶f4æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›falseï¼Œå› ä¸ºæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ System.out.println(f4.exists()); // è¾“å‡ºæ–‡ä»¶f4çš„é•¿åº¦ï¼Œç”±äºæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œå› æ­¤è¿”å›0 System.out.println(f4.length()); } public static void main(String[] args) { // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºç›¸å¯¹è·¯å¾„ä¸‹çš„æ–‡ä»¶test.txt File f1 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\test.txt\u0026#34;); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–‡ä»¶å¤¹file-io-appçš„è·¯å¾„ File f2 = new File(\u0026#34;file-io-app\u0026#34;); // æ£€æŸ¥æ–‡ä»¶f1æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›trueï¼Œå› ä¸ºæ–‡ä»¶è·¯å¾„å­˜åœ¨ System.out.println(f1.exists()); // æ£€æŸ¥f1æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¿”å›true System.out.println(f1.isFile()); // æ£€æŸ¥f1æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿”å›false System.out.println(f1.isDirectory()); // æ£€æŸ¥f2æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿”å›true System.out.println(f2.isDirectory()); // è·å–æ–‡ä»¶f1çš„åç§°ï¼Œè¾“å‡ºtest.txt System.out.println(f1.getName()); // è·å–æ–‡ä»¶f1çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ System.out.println(f1.length()); // è·å–æ–‡ä»¶f1æœ€åä¿®æ”¹æ—¶é—´ long time = f1.lastModified(); // æ ¼å¼åŒ–æœ€åä¿®æ”¹æ—¶é—´å¹¶è¾“å‡º SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy/MM/dd HH:mm:ss\u0026#34;); System.out.println(sdf.format(time)); // è·å–æ–‡ä»¶f1çš„è·¯å¾„ï¼ˆåˆ›å»ºæ—¶ä½¿ç”¨çš„è·¯å¾„ï¼‰ï¼Œè¾“å‡ºç›¸å¯¹è·¯å¾„file-io-app\\src\\com\\showguan\\FileDemo\\test.txt System.out.println(f1.getPath()); // è·å–æ–‡ä»¶f1çš„ç»å¯¹è·¯å¾„ï¼Œè¾“å‡ºå®Œæ•´çš„ç»å¯¹è·¯å¾„ System.out.println(f1.getAbsolutePath()); } åˆ›å»ºæ–‡ä»¶ã€ç›®å½• import java.io.File; import java.io.IOException; public static void main(String[] args) throws IOException { // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–°æ–‡ä»¶test2.txtçš„è·¯å¾„ File f1 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\test2.txt\u0026#34;); // åˆ›å»ºæ–°æ–‡ä»¶test2.txtï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºå¹¶è¿”å›trueï¼Œå¦åˆ™è¿”å›false System.out.println(f1.createNewFile()); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–°æ–‡ä»¶å¤¹aaaçš„è·¯å¾„ File f2 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\aaa\u0026#34;); // åˆ›å»ºæ–°æ–‡ä»¶å¤¹aaaï¼Œå¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»ºå¹¶è¿”å›trueï¼Œå¦åˆ™è¿”å›false System.out.println(f2.mkdir()); // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–°æ–‡ä»¶å¤¹è·¯å¾„a\\b\\c File f3 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\a\\\\b\\\\c\u0026#34;); // åˆ›å»ºæ–°æ–‡ä»¶å¤¹è·¯å¾„a\\b\\cï¼Œå¦‚æœè·¯å¾„ä¸­çš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™é€’å½’åˆ›å»ºï¼Œåˆ›å»ºæˆåŠŸè¿”å›trueï¼Œå¦åˆ™è¿”å›false System.out.println(f3.mkdirs()); // åˆ é™¤æ–‡ä»¶test2.txtï¼Œåˆ é™¤æˆåŠŸè¿”å›trueï¼Œå¦åˆ™è¿”å›false System.out.println(f1.delete()); // åˆ é™¤æ–‡ä»¶å¤¹aï¼Œç”±äºæ–‡ä»¶å¤¹éç©ºï¼Œå› æ­¤åˆ é™¤å¤±è´¥è¿”å›false File f4 = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\FileDemo\\\\a\u0026#34;); System.out.println(f4.delete()); } public static void main(String[] args) { // éå†æ–¹æ³•ï¼Œåªèƒ½éå†ä¸€çº§æ–‡ä»¶ File f1 = new File(\u0026#34;D:\\\\JAVA\u0026#34;); // è·å–D:\\JAVAç›®å½•ä¸‹çš„æ‰€æœ‰ä¸€çº§æ–‡ä»¶å String[] names = f1.list(); // éå†æ‰“å°æ‰€æœ‰ä¸€çº§æ–‡ä»¶å for (String name : names) { System.out.println(name); } // è·å–D:\\JAVAç›®å½•ä¸‹çš„æ‰€æœ‰ä¸€çº§æ–‡ä»¶å¯¹è±¡ File f2 = new File(\u0026#34;D:\\\\JAVA\u0026#34;); // è·å–D:\\JAVAç›®å½•ä¸‹çš„æ‰€æœ‰ä¸€çº§æ–‡ä»¶å¯¹è±¡ File[] files = f2.listFiles(); // éå†æ‰“å°æ‰€æœ‰ä¸€çº§æ–‡ä»¶å¯¹è±¡çš„ç»å¯¹è·¯å¾„ for (File file : files) { System.out.println(file.getAbsoluteFile()); } // å°è¯•è·å–ä¸å­˜åœ¨çš„ç›®å½•çš„ä¸€çº§æ–‡ä»¶å¯¹è±¡ï¼Œè¿”å›null File f3 = new File(\u0026#34;D:\\\\JAVA1\u0026#34;); System.out.println(f3.listFiles()); // null // å°è¯•è·å–éæ–‡ä»¶å¤¹çš„ä¸€çº§æ–‡ä»¶å¯¹è±¡ï¼Œè¿”å›null File f4 = new File(\u0026#34;D:\\\\JAVA\\\\test1\u0026#34;); // å› ä¸ºf4ä»£è¡¨çš„è·¯å¾„ä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œå› æ­¤listFiles()è¿”å›null File[] files4 = f4.listFiles(); System.out.println(Arrays.toString(files4)); // null } é€’å½’æŸ¥æ‰¾ public static void main(String[] args) throws IOException { searchFile(new File(\u0026#34;D:\\\\æ–‡æ¡£\u0026#34;), \u0026#34;23æš‘æœŸé’è®­è¥ç¬”è®°\u0026#34;); // è°ƒç”¨æœç´¢æ–‡ä»¶çš„æ–¹æ³• } /** * é€’å½’æœç´¢æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¹¶æ‰“å°æ‰¾åˆ°çš„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¨‹åºæ‰“å¼€è¯¥æ–‡ä»¶ã€‚ * @param dir è¦æœç´¢çš„ç›®å½• * @param fileName è¦æœç´¢çš„æ–‡ä»¶å * @throws IOException å¦‚æœå‘ç”ŸI/Oé”™è¯¯ */ public static void searchFile(File dir, String fileName) throws IOException { // å¦‚æœç›®å½•ä¸ºç©ºã€ä¸å­˜åœ¨æˆ–è€…æ˜¯æ–‡ä»¶ï¼Œåˆ™ç›´æ¥è¿”å› if(dir==null || !dir.exists() || dir.isFile()){ return ; } // è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½• File[] files = dir.listFiles(); // å¦‚æœç›®å½•ä¸‹å­˜åœ¨æ–‡ä»¶ if(files!=null \u0026amp;\u0026amp; files.length\u0026gt;0){ // éå†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½• for (File file : files) { // å¦‚æœæ˜¯æ–‡ä»¶ if(file.isFile()){ // åˆ¤æ–­æ–‡ä»¶åæ˜¯å¦åŒ…å«æŒ‡å®šçš„æ–‡ä»¶å if(file.getName().contains(fileName)){ System.out.println(\u0026#34;æ‰¾åˆ°äº†ï¼\u0026#34; + file.getAbsoluteFile()); // æ‰“å°æ‰¾åˆ°çš„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ Runtime runtime = Runtime.getRuntime(); runtime.exec(file.getAbsolutePath()); // ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¨‹åºæ‰“å¼€è¯¥æ–‡ä»¶ return; // æ‰¾åˆ°æ–‡ä»¶åç›´æ¥è¿”å› } }else{ // å¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™é€’å½’è°ƒç”¨æœç´¢æ–‡ä»¶çš„æ–¹æ³• searchFile(file, fileName); } } } } é€’å½’åˆ é™¤ public static void main(String[] args) throws IOException { File file = new File(\u0026#34;D:\\\\JAVA\\\\test1\\\\test\u0026#34;); // è¦åˆ é™¤çš„ç›®å½•çš„è·¯å¾„ deleteDir(file); // è°ƒç”¨åˆ é™¤ç›®å½•çš„æ–¹æ³• } /** * é€’å½’åˆ é™¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚ * @param dir è¦åˆ é™¤çš„ç›®å½• */ public static void deleteDir(File dir){ // å¦‚æœç›®å½•ä¸ºç©ºæˆ–è€…ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å› if(dir==null || !dir.exists()){ return ; } // å¦‚æœæ˜¯æ–‡ä»¶ï¼Œåˆ™ç›´æ¥åˆ é™¤å¹¶è¿”å› if(dir.isFile()){ dir.delete(); return; } // è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½• File[] files = dir.listFiles(); // å¦‚æœç›®å½•ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å› if(files==null){ return; } // éå†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½• for (File file : files) { if(file.isFile()){ // å¦‚æœæ˜¯æ–‡ä»¶ï¼Œåˆ™ç›´æ¥åˆ é™¤ file.delete(); } deleteDir(file); // é€’å½’åˆ é™¤å­ç›®å½• } dir.delete(); // åˆ é™¤å½“å‰ç›®å½• } å­—ç¬¦é›† UTF-32\næ¯ä¸ªå­—ç¬¦å 4ä¸ªå­—èŠ‚ï¼Œå­˜å‚¨ç©ºé—´å¤ªå¤§ï¼Œæ²¡æœ‰æ™®åŠ UTF-8\næ˜¯Unicodeå­—ç¬¦é›†çš„ä¸€ç§ç¼–ç æ–¹æ¡ˆï¼Œé‡‡å–å¯å˜é•¿ç¼–ç æ–¹æ¡ˆï¼Œå…±åˆ†ä¸ºå››ä¸ªé•¿åº¦åŒºï¼šä¸€ä¸ªå­—èŠ‚ï¼Œä¸¤ä¸ªå­—èŠ‚ï¼Œä¸‰ä¸ªå­—èŠ‚ï¼Œå››ä¸ªå­—èŠ‚ è‹±æ–‡å­—ç¬¦ï¼Œæ•°å­—ç­‰åªå ä¸€ä¸ªå­—èŠ‚ï¼ˆå…¼å®¹æ ‡å‡†ASCIIç¼–ç ï¼‰ï¼Œæ±‰å­—å­—ç¬¦å ç”¨3ä¸ªå­—èŠ‚ã€‚ ASCIIå­—ç¬¦é›†ï¼šåªæœ‰è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·ç­‰ï¼Œå 1ä¸ªå­—èŠ‚ GBKå­—ç¬¦é›†ï¼šæ±‰å­—å 2ä¸¤ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡ï¼Œæ•°å­—å 1ä¸ªå­—èŠ‚ UTF-8å­—ç¬¦é›†ï¼šæ±‰å­—å 3ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡ï¼Œæ•°å­—å 1ä¸ªå­—èŠ‚ import java.io.UnsupportedEncodingException; import java.util.Arrays; public static void main(String[] args) throws UnsupportedEncodingException { String data = \u0026#34;aå•Ša\u0026#34;; // ä½¿ç”¨é»˜è®¤å­—ç¬¦é›†ï¼ˆé€šå¸¸æ˜¯UTF-8ï¼‰å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ byte[] bytes = data.getBytes(); System.out.println(Arrays.toString(bytes)); // ä½¿ç”¨æŒ‡å®šå­—ç¬¦é›†ï¼ˆä¾‹å¦‚GBKï¼‰å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ byte[] bytes1 = data.getBytes(\u0026#34;GBK\u0026#34;); System.out.println(Arrays.toString(bytes1)); // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨é»˜è®¤å­—ç¬¦é›†è¿›è¡Œè§£ç  String s = new String(bytes); System.out.println(s); // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨æŒ‡å®šå­—ç¬¦é›†è¿›è¡Œè§£ç  String s1 = new String(bytes1, \u0026#34;GBK\u0026#34;); System.out.println(s1); } IOæµ æŒ‰æµçš„æ–¹å‘åˆ†ä¸º\nè¾“å…¥æµ è¾“å‡ºæµ æŒ‰æµä¸­æ•°æ®çš„æœ€å°å•ä½ï¼Œåˆ†ä¸ºï¼š\nå­—èŠ‚æµ é€‚åˆæ“ä½œæ‰€æœ‰ç±»å‹çš„æ–‡ä»¶ æ¯”å¦‚ï¼šéŸ³é¢‘ï¼Œè§†é¢‘ï¼Œå›¾ç‰‡ï¼Œæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶ï¼Œè½¬ç§»ç­‰ å­—ç¬¦æµ é€‚åˆæ“ä½œçº¯æ–‡æœ¬æ–‡ä»¶ æ¯”å¦‚ï¼šè¯»å†™txt, javaæ–‡ä»¶ç­‰ FileInputStream(æ–‡ä»¶å­—èŠ‚è¾“å…¥æµ) ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œå¯ä»¥æŠŠç£ç›˜æ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼è¯»å…¥åˆ°å†…å­˜ä¸­å» public static void main(String[] args) throws IOException { // ç”¨å¤šæ€çš„å½¢å¼åˆ›å»ºæ–‡ä»¶è¾“å…¥æµ InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.txt\u0026#34;); int b; // è¯»å–æ–‡ä»¶å†…å®¹ï¼Œç›´åˆ°é‡åˆ°æ–‡ä»¶æœ«å°¾(-1) while((b = is.read()) != -1){ System.out.print((char) b); // å°†è¯»å–åˆ°çš„å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦å¹¶æ‰“å°åˆ°æ§åˆ¶å° } is.close(); // å…³é—­æ–‡ä»¶è¾“å…¥æµ } public static void main(String[] args) throws IOException { InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.txt\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµ byte[] buffer = new byte[3]; // åˆ›å»ºç¼“å†²åŒº int len1 = is.read(buffer); // ä»æ–‡ä»¶ä¸­è¯»å–å­—èŠ‚åˆ°ç¼“å†²åŒºä¸­ System.out.println(\u0026#34;å½“å‰è¯»å–çš„é•¿åº¦:\u0026#34; + len1); // æ‰“å°å½“å‰è¯»å–çš„é•¿åº¦ String s = new String(buffer); // å°†ç¼“å†²åŒºä¸­çš„å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ä¸² System.out.println(s); // æ‰“å°å­—ç¬¦ä¸² } æ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼šä¸€æ¬¡è¯»å®Œå…¨éƒ¨å­—èŠ‚\næ–¹å¼ä¸€ï¼šå®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸è¢«è¯»å–çš„æ–‡ä»¶å¤§å°ä¸€æ ·å¤§ï¼Œç„¶åä½¿ç”¨è¯¥å­—èŠ‚æ•°ç»„ï¼Œä¸€æ¬¡è¯»å®Œæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚ã€‚\næ–¹æ³•äºŒï¼šJavaå®˜æ–¹ä¸ºInputStreamæä¾›äº†readAllBytes()æ–¹æ³•ï¼Œ å¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚è¯»å–åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­è¿”å›ã€‚\npublic static void main(String[] args) throws IOException { // ä»æ–‡ä»¶è¯»å–æ•°æ®çš„ä¸¤ç§æ–¹æ³•ï¼šä½¿ç”¨ InputStream è¯»å–å’Œä½¿ç”¨ readAllBytes() æ–¹æ³•è¯»å– // æ–¹æ³•ä¸€ï¼šä½¿ç”¨ InputStream è¯»å–æ–‡ä»¶æ•°æ® InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.txt\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµ File f = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.txt\u0026#34;); // åˆ›å»ºæ–‡ä»¶å¯¹è±¡ long size = f.length(); // è·å–æ–‡ä»¶å¤§å° byte[] buffer = new byte[(int) size]; // åˆ›å»ºå­—èŠ‚æ•°ç»„ï¼Œç”¨äºå­˜å‚¨æ–‡ä»¶å†…å®¹ï¼Œé•¿åº¦ä¸ºæ–‡ä»¶å¤§å°ï¼ˆéœ€è¦å°† long ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸º int ç±»å‹ï¼‰ int len = is.read(buffer); // è¯»å–æ–‡ä»¶å†…å®¹åˆ°å­—èŠ‚æ•°ç»„ï¼Œè¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•° System.out.println(new String(buffer)); // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å°è¾“å‡º System.out.println(size); // æ‰“å°æ–‡ä»¶å¤§å° System.out.println(len); // æ‰“å°å®é™…è¯»å–çš„å­—èŠ‚æ•° // æ–¹æ³•äºŒï¼šä½¿ç”¨ readAllBytes() æ–¹æ³•è¯»å–æ–‡ä»¶æ•°æ® InputStream is1 = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.txt\u0026#34;); // åˆ›å»ºæ–°çš„æ–‡ä»¶è¾“å…¥æµ byte[] buffer1 = is1.readAllBytes(); // ä½¿ç”¨ readAllBytes() æ–¹æ³•è¯»å–æ–‡ä»¶å†…å®¹åˆ°å­—èŠ‚æ•°ç»„ System.out.println(new String(buffer1)); // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å°è¾“å‡º is.close(); // å…³é—­æ–‡ä»¶è¾“å…¥æµ } FileOutputStream(æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµ) ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼å†™å‡ºåˆ°æ–‡ä»¶ä¸­å» public static void main(String[] args) throws IOException { // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµï¼ŒæŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¹¶è®¾ç½®ä¸ºè¿½åŠ æ¨¡å¼ï¼ˆtrueï¼‰ FileOutputStream os = new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test2.txt\u0026#34;, true); os.write(97); // å‘æ–‡ä»¶ä¸­å†™å…¥ä¸€ä¸ªå­—èŠ‚ os.write(\u0026#39;a\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥ä¸€ä¸ªå­—ç¬¦ byte[] bytes = \u0026#34;ä»Šå¤©æ˜¯20240419\u0026#34;.getBytes(); // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ // å‘æ–‡ä»¶ä¸­å†™å…¥å­—èŠ‚æ•°ç»„çš„ä¸€éƒ¨åˆ†å†…å®¹ os.write(bytes, 0, 15); // ä»å­—èŠ‚æ•°ç»„çš„ç´¢å¼•0å¼€å§‹ï¼Œå†™å…¥é•¿åº¦ä¸º15çš„å­—èŠ‚æ•°æ® os.write(\u0026#34;\\r\\n\u0026#34;.getBytes()); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ os.close(); // å…³é—­æ–‡ä»¶è¾“å‡ºæµ } æ–‡ä»¶å¤åˆ¶ public class FileCopyDemo { /** * ç¨‹åºå…¥å£ç‚¹ï¼Œå¤åˆ¶ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ã€‚ * @param args å‘½ä»¤è¡Œå‚æ•° * @throws IOException å¦‚æœå‘ç”ŸI/Oé”™è¯¯ */ public static void main(String[] args) throws IOException { InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ByteStreamDemo\\\\test.jpg\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµï¼Œè¯»å–æºæ–‡ä»¶ OutputStream os = new FileOutputStream(\u0026#34;D:\\\\JAVA\\\\test1\\\\img2.jpg\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµï¼Œå†™å…¥ç›®æ ‡æ–‡ä»¶ byte[] buffer = new byte[1024]; // åˆ›å»ºç¼“å†²åŒº int len; // å®šä¹‰å˜é‡ç”¨äºä¿å­˜è¯»å–çš„å­—èŠ‚æ•° // å¾ªç¯è¯»å–æºæ–‡ä»¶å†…å®¹ï¼Œå¹¶å†™å…¥ç›®æ ‡æ–‡ä»¶ while((len = is.read(buffer)) != -1){ os.write(buffer, 0, len); // å°†ç¼“å†²åŒºä¸­çš„å­—èŠ‚å†™å…¥ç›®æ ‡æ–‡ä»¶ } os.close(); // å…³é—­æ–‡ä»¶è¾“å‡ºæµ is.close(); // å…³é—­æ–‡ä»¶è¾“å…¥æµ System.out.println(\u0026#34;å¤åˆ¶å®Œæˆï¼\u0026#34;); // æ‰“å°å¤åˆ¶å®Œæˆçš„æ¶ˆæ¯ } } é‡Šæ”¾èµ„æºçš„æ–¹å¼ try-catch-finally finallyä»£ç åŒºçš„ç‰¹ç‚¹ï¼šæ— è®ºtryä¸­çš„ç¨‹åºæ˜¯å¦æ­£å¸¸æ‰§è¡Œäº†ï¼Œ è¿˜æ˜¯å‡ºç°äº†å¼‚å¸¸ï¼Œæœ€åéƒ½ä¸€å®šä¼šæ‰§è¡ŒfinallyåŒºï¼Œ é™¤éJVMç»ˆæ­¢ ä½œç”¨ï¼šä¸€èˆ¬ç”¨äºåœ¨ç¨‹åºæ‰§è¡Œå®Œæˆåè¿›è¡Œèµ„æºçš„é‡Šæ”¾æ“ä½œ(ä¸“ä¸šçº§åšæ³•) public static void main(String[] args) { // å£°æ˜è¾“å…¥å’Œè¾“å‡ºæµå¯¹è±¡ä¸ºnullï¼Œä»¥ç¡®ä¿åœ¨tryå—ä¸­å¯ä»¥è®¿é—®è¿™äº›å¯¹è±¡ InputStream is = null; OutputStream os = null; try{ // æ•…æ„äº§ç”Ÿçš„å¼‚å¸¸ï¼Œç”¨äºæ¼”ç¤ºå¼‚å¸¸æ•æ‰ System.out.println(10/0); // åˆ›å»ºä¸€ä¸ªFileInputStreamæ¥è¯»å–æ–‡ä»¶ is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ResourceDemo\\\\test.txt\u0026#34;); // åˆ›å»ºä¸€ä¸ªFileOutputStreamæ¥å†™å…¥æ–‡ä»¶ os = new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ResourceDemo\\\\test1.txt\u0026#34;); System.out.println(10/0); // åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ç”¨äºæš‚å­˜ä»æ–‡ä»¶è¯»å–çš„æ•°æ® byte[] buffer = new byte[1024]; int len; // å¾ªç¯è¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œç›´åˆ°æ–‡ä»¶ç»“æŸ while((len=is.read(buffer))!=-1){ os.write(buffer, 0, len); } System.out.println(\u0026#34;å¤åˆ¶å®Œæˆï¼\u0026#34;); }catch (IOException e){ // æ•æ‰å¹¶å¤„ç†IOå¼‚å¸¸ e.printStackTrace(); }finally { // åœ¨finallyå—ä¸­é‡Šæ”¾èµ„æºï¼Œç¡®ä¿æ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œèµ„æºéƒ½è¢«é‡Šæ”¾ try { // å…³é—­è¾“å‡ºæµèµ„æº if(os!=null) os.close(); } catch (IOException e) { throw new RuntimeException(e); } try { // å…³é—­è¾“å…¥æµèµ„æº if(is!=null) is.close(); } catch (IOException e) { throw new RuntimeException(e); } } } try-with-resource public static void main(String[] args) { // ä½¿ç”¨try-with-resourcesè¯­æ³•ï¼Œè‡ªåŠ¨å…³é—­è¾“å…¥æµå’Œè¾“å‡ºæµ try ( InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ResourceDemo\\\\test.txt\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµï¼Œè¯»å–æºæ–‡ä»¶ OutputStream os = new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ResourceDemo\\\\test1.txt\u0026#34;); // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµï¼Œå†™å…¥ç›®æ ‡æ–‡ä»¶ ) { byte[] buffer = new byte[1024]; // åˆ›å»ºç¼“å†²åŒº int len; // å®šä¹‰å˜é‡ç”¨äºä¿å­˜è¯»å–çš„å­—èŠ‚æ•° // å¾ªç¯è¯»å–æºæ–‡ä»¶å†…å®¹ï¼Œå¹¶å†™å…¥ç›®æ ‡æ–‡ä»¶ while ((len = is.read(buffer)) != -1) { os.write(buffer, 0, len); // å°†ç¼“å†²åŒºä¸­çš„å­—èŠ‚å†™å…¥ç›®æ ‡æ–‡ä»¶ } System.out.println(\u0026#34;å¤åˆ¶å®Œæˆï¼\u0026#34;); // æ‰“å°å¤åˆ¶å®Œæˆçš„æ¶ˆæ¯ } catch (Exception e) { // æ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } æ³¨æ„ï¼š()é‡Œé¢åªèƒ½æ”¾ç½®èµ„æºå¯¹è±¡ï¼Œèµ„æºéƒ½ä¼šå®ç°AutoCloseableæ¥å£\nèµ„æºç”¨å®Œä¹‹åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨closeæ–¹æ³•ã€‚\nIOå­—ç¬¦æµ FileReader public static void main(String[] args) throws FileNotFoundException { // ä½¿ç”¨try-with-resourcesè¯­æ³•ï¼Œè‡ªåŠ¨å…³é—­å­—ç¬¦æµ try ( Reader fr = new FileReader(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ResourceDemo\\\\test.txt\u0026#34;); // åˆ›å»ºå­—ç¬¦è¾“å…¥æµï¼Œè¯»å–æ–‡ä»¶ ) { // int c; // while((c=fr.read())!=-1){ // System.out.println((char) c); // } char[] buffer = new char[3]; // åˆ›å»ºç¼“å†²åŒº int len; // å®šä¹‰å˜é‡ç”¨äºä¿å­˜è¯»å–çš„å­—ç¬¦æ•° // å¾ªç¯è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ§åˆ¶å° while((len=fr.read(buffer))!=-1){ System.out.print(new String(buffer, 0, len)); // å°†ç¼“å†²åŒºä¸­çš„å­—ç¬¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‰“å° } } catch (Exception e) { // æ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } FileWriter public static void main(String[] args) { // ä½¿ç”¨try-with-resourcesè¯­æ³•ï¼Œè‡ªåŠ¨å…³é—­å­—ç¬¦æµ try ( FileWriter fw = new FileWriter(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CharStreamDemo\\\\test.txt\u0026#34;, true); // åˆ›å»ºå­—ç¬¦è¾“å‡ºæµï¼Œå†™å…¥æ–‡ä»¶ ){ fw.write(\u0026#34;\\r\\n\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ fw.write(\u0026#39;a\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ fw.write(\u0026#34;\\r\\n\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ fw.write(98); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦å¯¹åº”çš„ASCIIç  fw.write(\u0026#39;è‹±\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ fw.write(\u0026#34;\\r\\n\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ fw.write(\u0026#34;\\r\\n\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ fw.write(\u0026#34;æˆ‘æ˜¯çš„è¯\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ä¸² fw.write(\u0026#34;\\r\\n\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥æ¢è¡Œç¬¦ fw.write(\u0026#34;fw.write\u0026#34;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ä¸² char[] buffer = {\u0026#39;é»‘\u0026#39;, \u0026#39;é©¬\u0026#39;, \u0026#39;a\u0026#39;}; // åˆ›å»ºå­—ç¬¦æ•°ç»„ fw.write(buffer); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦æ•°ç»„çš„å†…å®¹ fw.write(buffer, 0, 2); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†å†…å®¹ } catch (Exception e) { // æ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } flush() public static void main(String[] args) throws IOException { Writer fw = new FileWriter(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CharStreamDemo\\\\test1.txt\u0026#34;); // åˆ›å»ºå­—ç¬¦è¾“å‡ºæµï¼Œå†™å…¥æ–‡ä»¶ fw.write(\u0026#39;a\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ \u0026#39;a\u0026#39; fw.write(\u0026#39;b\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ \u0026#39;b\u0026#39; fw.write(\u0026#39;c\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ \u0026#39;c\u0026#39; fw.flush(); // æ‰‹åŠ¨åˆ·æ–°ç¼“å†²åŒºï¼Œå°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶ fw.write(\u0026#39;a\u0026#39;); // å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ \u0026#39;a\u0026#39; fw.close(); // å…³é—­å­—ç¬¦è¾“å‡ºæµï¼Œä¼šè‡ªåŠ¨åˆ·æ–° } ç¼“å†²æµ ç¼“å†²æµï¼šæé«˜æµè¯»å†™æ•°æ®çš„æ€§èƒ½\nå­—èŠ‚ç¼“å†²æµ åŸç†ï¼šå­—èŠ‚ç¼“å†²è¾“å…¥æµè‡ªå¸¦äº†8KBç¼“å†²æ± ï¼Œå­—èŠ‚ç¼“å†²è¾“å‡ºæµä¹Ÿè‡ªå¸¦äº†8KBç¼“å†²æ±  public static void main(String[] args) throws IOException { // ä½¿ç”¨ç¼“å†²æµè¿›è¡Œæ–‡ä»¶å¤åˆ¶æ“ä½œ File f = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test1.txt\u0026#34;); // åˆ›å»ºè¦å¤åˆ¶åˆ°çš„æ–°æ–‡ä»¶ f.createNewFile(); // å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ try ( // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµå’Œç¼“å†²è¾“å…¥æµï¼Œç”¨äºè¯»å–åŸå§‹æ–‡ä»¶å†…å®¹ InputStream is = new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test.txt\u0026#34;); InputStream bis = new BufferedInputStream(is, 8192 * 2); // ä½¿ç”¨ BufferedInputStream è¿›è¡Œç¼“å†² // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµå’Œç¼“å†²è¾“å‡ºæµï¼Œç”¨äºå†™å…¥å¤åˆ¶åçš„å†…å®¹åˆ°æ–°æ–‡ä»¶ OutputStream os = new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test1.txt\u0026#34;); OutputStream bos = new BufferedOutputStream(os, 8192 * 2); // ä½¿ç”¨ BufferedOutputStream è¿›è¡Œç¼“å†² ) { byte[] buffer = new byte[1024]; // åˆ›å»ºå­—èŠ‚æ•°ç»„ä½œä¸ºç¼“å†²åŒº int len; while ((len = bis.read(buffer)) != -1) { // å¾ªç¯è¯»å–åŸæ–‡ä»¶å†…å®¹åˆ°ç¼“å†²åŒº bos.write(buffer, 0, len); // å°†ç¼“å†²åŒºçš„å†…å®¹å†™å…¥åˆ°æ–°æ–‡ä»¶ä¸­ System.out.println(\u0026#34;å¤åˆ¶å®Œæˆ\u0026#34;); // è¾“å‡ºæç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºå¤åˆ¶å®Œæˆ } } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } å­—ç¬¦ç¼“å†²æµ è¾“å…¥æµ import java.io.*; public class Main { public static void main(String[] args) { // ä¸¤ç§æ–¹å¼è¯»å–æ–‡ä»¶å†…å®¹å¹¶é€è¡Œæ‰“å°ï¼š try ( Reader fr = new FileReader(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test.txt\u0026#34;); // åˆ›å»º FileReader å¯¹è±¡ä»¥æ‰“å¼€æ–‡ä»¶è¾“å…¥æµ BufferedReader br = new BufferedReader(fr); // åˆ›å»º BufferedReader å¯¹è±¡ï¼Œå¹¶å°† FileReader å¯¹è±¡ä¼ é€’ç»™å®ƒï¼Œç”¨äºç¼“å†²è¯»å–æ“ä½œ ) { // æ™®é€šæ–¹å¼ // char[] buffer = new char[3]; // int len; // while((len=br.read(buffer))!=-1){ // System.out.println(new String(buffer, 0, len)); // } // ä½¿ç”¨ readLine() æ–¹æ³•é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶å°†æ¯è¡Œå†…å®¹æ‰“å°è¾“å‡º String line; while ((line = br.readLine()) != null) { System.out.println(line); // æ‰“å°æ¯è¡Œå†…å®¹ } } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } } è¾“å‡ºæµ public static void main(String[] args) throws IOException { // ä»ä¸€ä¸ªæ–‡ä»¶è¯»å–æ•°æ®ï¼Œæ’åºåå†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ File f = new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test3.txt\u0026#34;); f.createNewFile(); // å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ try ( // åˆ›å»º BufferedReader è¯»å–åŸæ–‡ä»¶å†…å®¹ï¼Œåˆ›å»º BufferedWriter å†™å…¥åˆ°æ–°æ–‡ä»¶ BufferedReader br = new BufferedReader(new FileReader(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test2.txt\u0026#34;)); BufferedWriter bw = new BufferedWriter(new FileWriter(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test3.txt\u0026#34;)); ) { List\u0026lt;String\u0026gt; data = new ArrayList\u0026lt;\u0026gt;(); // åˆ›å»º List ç”¨äºå­˜å‚¨æ–‡ä»¶å†…å®¹ String line; while ((line = br.readLine()) != null) { // é€è¡Œè¯»å–åŸæ–‡ä»¶å†…å®¹å¹¶æ·»åŠ åˆ° List ä¸­ data.add(line); } Collections.sort(data); // å¯¹ List ä¸­çš„æ•°æ®è¿›è¡Œæ’åº for (String ln : data) { // éå†æ’åºåçš„æ•°æ® System.out.println(ln); // æ‰“å°æ¯è¡Œå†…å®¹ bw.write(ln); // å°†æ¯è¡Œå†…å®¹å†™å…¥åˆ°æ–°æ–‡ä»¶ bw.newLine(); // å†™å…¥æ¢è¡Œç¬¦ } } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } ä¸åŒæµä¹‹é—´çš„æ€§èƒ½å·®å¼‚ public class Main { public static final String SRC_FILE = \u0026#34;D:\\\\JAVA\\\\test1\\\\video.mp4\u0026#34;; public static final String DEST_FILE = \u0026#34;D:\\\\JAVA\\\\Test\\\\t\u0026#34;; public static void main(String[] args) { // try { // File f = new File(DEST_FILE + \u0026#34;\u0026#34;); // f.createNewFile(); // } catch (Exception e) { // e.printStackTrace(); // } // copy1(); copy2(); // copy3(); copy4(); } public static void copy1() { // ä½¿ç”¨ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚çš„æ–¹å¼å¤åˆ¶æ–‡ä»¶ long startTime = System.currentTimeMillis(); try ( InputStream is = new FileInputStream(SRC_FILE); OutputStream os = new FileOutputStream(DEST_FILE + \u0026#34;1.mp4\u0026#34;); ) { int b; while ((b = is.read()) != -1) { os.write(b); } } catch (Exception e) { e.printStackTrace(); } long endTime = System.currentTimeMillis(); System.out.println(\u0026#34;ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚æµçš„å½¢å¼è€—æ—¶:\u0026#34; + (endTime-startTime) + \u0026#34;ms\u0026#34;); } public static void copy2() { // ä½¿ç”¨å­—èŠ‚æ•°ç»„çš„æ–¹å¼å¤åˆ¶æ–‡ä»¶ long startTime = System.currentTimeMillis(); try ( InputStream is = new FileInputStream(SRC_FILE); OutputStream os = new FileOutputStream(DEST_FILE + \u0026#34;2.mp4\u0026#34;); ) { int len; byte[] buffer = new byte[1024]; while ((len = is.read(buffer)) != -1) { os.write(buffer, 0, len); } } catch (Exception e) { e.printStackTrace(); } long endTime = System.currentTimeMillis(); System.out.println(\u0026#34;1kbå­—èŠ‚æµçš„å½¢å¼è€—æ—¶:\u0026#34; + (endTime-startTime)+ \u0026#34;ms\u0026#34;); //1kbå­—èŠ‚æµçš„å½¢å¼è€—æ—¶:141 } public static void copy3() { // ä½¿ç”¨ç¼“å†²æµä¸€ä¸ªä¸€ä¸ªå­—èŠ‚çš„æ–¹å¼å¤åˆ¶æ–‡ä»¶ long startTime = System.currentTimeMillis(); try ( FileInputStream is = new FileInputStream(SRC_FILE); BufferedInputStream bis = new BufferedInputStream(is); FileOutputStream os = new FileOutputStream(DEST_FILE + \u0026#34;3.mp4\u0026#34;); BufferedOutputStream bos = new BufferedOutputStream(os); ) { int b; while ((b = bis.read()) != -1) { bos.write(b); } } catch (Exception e) { e.printStackTrace(); } long endTime = System.currentTimeMillis(); System.out.println(\u0026#34;ç¼“å†²æµä½¿ç”¨ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚å¤åˆ¶è€—æ—¶:\u0026#34; + (endTime-startTime)+ \u0026#34;ms\u0026#34;); } public static void copy4() { // ä½¿ç”¨ç¼“å†²æµå­—èŠ‚æ•°ç»„çš„æ–¹å¼å¤åˆ¶æ–‡ä»¶ long startTime = System.currentTimeMillis(); try ( FileInputStream is = new FileInputStream(SRC_FILE); BufferedInputStream bis = new BufferedInputStream(is); FileOutputStream os = new FileOutputStream(DEST_FILE + \u0026#34;4.mp4\u0026#34;); BufferedOutputStream bos = new BufferedOutputStream(os); ) { byte[] buffer = new byte[1024]; int len; while ((len = bis.read(buffer)) != -1) { bos.write(buffer, 0, len); } } catch (Exception e) { e.printStackTrace(); } long endTime = System.currentTimeMillis(); System.out.println(\u0026#34;ç¼“å†²æµä½¿ç”¨å­—èŠ‚æ•°ç»„å¤åˆ¶è€—æ—¶:\u0026#34; + (endTime-startTime) + \u0026#34;ms\u0026#34;); //ç¼“å†²æµä½¿ç”¨å­—èŠ‚æ•°ç»„å¤åˆ¶è€—æ—¶:45 } } è½¬æ¢æµ å­—ç¬¦è¾“å…¥è½¬æ¢æµ public static void main(String[] args) { try ( InputStream is = new FileInputStream((\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test2.txt\u0026#34;)); // åˆ›å»ºæ–‡ä»¶è¾“å…¥æµ Reader isr = new InputStreamReader(is, \u0026#34;GBK\u0026#34;); // åˆ›å»º InputStreamReader å¯¹è±¡ï¼ŒæŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK BufferedReader br = new BufferedReader(isr); // åˆ›å»º BufferedReader å¯¹è±¡ï¼Œç”¨äºç¼“å†²è¯»å–æ“ä½œ ) { // ä½¿ç”¨ BufferedReader é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ‰“å°è¾“å‡º String line; while ((line = br.readLine()) != null) { System.out.println(line); } } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } å­—ç¬¦è¾“å‡ºè½¬æ¢æµ public static void main(String[] args) { try( OutputStream os = new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\BufferedStream\\\\test6.txt\u0026#34;,true); // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµï¼ŒæŒ‡å®šè¿½åŠ æ¨¡å¼ä¸º true Writer osw = new OutputStreamWriter(os, \u0026#34;GBK\u0026#34;); // åˆ›å»º OutputStreamWriter å¯¹è±¡ï¼ŒæŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK BufferedWriter bw = new BufferedWriter(osw); // åˆ›å»º BufferedWriter å¯¹è±¡ï¼Œç”¨äºç¼“å†²å†™å…¥æ“ä½œ ){ bw.write(\u0026#34;ç¾å¥½\u0026#34;); // å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶ bw.write(\u0026#34;çœŸç¾å¥½\u0026#34;); // å†æ¬¡å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶ } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } PrintStream/PrintWriter(æ‰“å°æµ) ä½œç”¨ï¼šæ‰“å°æµå¯ä»¥å®ç°æ›´æ–¹ä¾¿ï¼Œ æ›´é«˜æ•ˆçš„æ‰“å°æ•°æ®å‡ºå»ï¼Œèƒ½å®ç°ç­”åº”ä»€ä¹ˆå‡ºå»å°±æ˜¯ä»€ä¹ˆ PrintStream public static void main(String[] args) { // ä½¿ç”¨ PrintStream å‘æ–‡ä»¶å†™å…¥å†…å®¹ï¼Œå¹¶æŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK try ( // åˆ›å»º PrintStream å¯¹è±¡ï¼ŒæŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK PrintStream ps = new PrintStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\PrintDemo\\\\test.txt\u0026#34;, Charset.forName(\u0026#34;GBK\u0026#34;)); ) { // ä½¿ç”¨ println æ–¹æ³•å†™å…¥å­—ç¬¦å’Œå­—ç¬¦ä¸² ps.println(\u0026#39;3\u0026#39;); ps.println(\u0026#39;a\u0026#39;); ps.println(\u0026#34;ä½ å¥½å•Š\u0026#34;); // ä½¿ç”¨ write æ–¹æ³•å†™å…¥å­—ç¬¦ ps.write(\u0026#39;z\u0026#39;); } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } PrintWriter public static void main(String[] args) { // ä½¿ç”¨ PrintWriter å‘æ–‡ä»¶å†™å…¥å†…å®¹ï¼Œå¹¶æŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK try ( // åˆ›å»º PrintWriter å¯¹è±¡ï¼ŒæŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK PrintWriter pw = new PrintWriter(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\PrintDemo\\\\test.txt\u0026#34;, \u0026#34;GBK\u0026#34;); // åˆ›å»º PrintWriter å¯¹è±¡ï¼Œé€šè¿‡ OutputStreamWriter åŒ…è£… FileOutputStreamï¼Œå¹¶æŒ‡å®šå­—ç¬¦ç¼–ç ä¸º GBK PrintWriter pw1 = new PrintWriter(new OutputStreamWriter(new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\PrintDemo\\\\test.txt\u0026#34;, true), \u0026#34;GBK\u0026#34;)); ) { // ä½¿ç”¨ println æ–¹æ³•å†™å…¥å­—ç¬¦å’Œå­—ç¬¦ä¸² pw.println(\u0026#39;3\u0026#39;); pw.println(\u0026#39;a\u0026#39;); pw.println(\u0026#34;ä½ å¥½å•Š\u0026#34;); // ä½¿ç”¨ write æ–¹æ³•å†™å…¥å­—ç¬¦å’Œå­—ç¬¦ä¸² pw.write(\u0026#39;z\u0026#39;); pw.write(\u0026#34;abcdefghijklim\u0026#34;); } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } å¯¹æ¯”ï¼š\næ‰“å°æ•°æ®çš„åŠŸèƒ½ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼šéƒ½æ˜¯ä½¿ç”¨æ–¹ä¾¿ï¼Œæ€§èƒ½é«˜æ•ˆï¼ˆæ ¸å¿ƒä¼˜åŠ¿ï¼‰ PrintStreamç»§æ‰¿è‡ªå­—èŠ‚è¾“å‡ºæµOutputStreamï¼Œ å› æ­¤æ”¯æŒå†™å­—èŠ‚æ•°æ®çš„æ–¹æ³• PrintWriterç»§æ‰¿è‡ªå­—ç¬¦è¾“å‡ºæµWriterï¼Œ å› æ­¤æ”¯æŒå†™å­—ç¬¦æ•°æ®å‡ºå» è¾“å‡ºé‡å®šå‘ public static void main(String[] args) { // å°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ System.out.println(\u0026#34;ä½ å¥½\u0026#34;); // åœ¨æ§åˆ¶å°æ‰“å°è¾“å‡º System.out.println(\u0026#34;å¿—åœ¨åƒé‡Œ\u0026#34;); // åœ¨æ§åˆ¶å°æ‰“å°è¾“å‡º try ( // åˆ›å»º PrintStream å¯¹è±¡ï¼Œå°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ PrintStream ps = new PrintStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\PrintDemo\\\\test.txt\u0026#34;); ) { System.setOut(ps); // å°†æ ‡å‡†è¾“å‡ºæµé‡å®šå‘åˆ° PrintStream å¯¹è±¡ System.out.println(\u0026#34;çƒˆå£«æš®å¹´\u0026#34;); // å°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ä¸­ } catch (FileNotFoundException e) { throw new RuntimeException(e); } } æ•°æ®æµ æ•°æ®è¾“å‡ºæµ public static void main(String[] args) { // ä½¿ç”¨ DataOutputStream å†™å…¥ä¸åŒç±»å‹çš„æ•°æ®åˆ°æ–‡ä»¶ try ( // åˆ›å»º DataOutputStream å¯¹è±¡ï¼Œç”¨äºå†™å…¥æ•°æ®åˆ°æ–‡ä»¶ DataOutputStream dos = new DataOutputStream(new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\DataStreamDemo\\\\test.txt\u0026#34;)); ){ // å†™å…¥ä¸åŒç±»å‹çš„æ•°æ®åˆ°æ–‡ä»¶ dos.write(91); // å†™å…¥ä¸€ä¸ªå­—èŠ‚ dos.writeInt(10); // å†™å…¥ä¸€ä¸ªæ•´æ•° dos.writeDouble(99.8); // å†™å…¥ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•° dos.writeBoolean(true); // å†™å…¥ä¸€ä¸ªå¸ƒå°”å€¼ dos.writeUTF(\u0026#34;999é»‘é©¬ç¨‹åºå‘˜\u0026#34;); // å†™å…¥ä¸€ä¸ª UTF-8 ç¼–ç çš„å­—ç¬¦ä¸² } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } æ•°æ®è¾“å…¥æµ public static void main(String[] args) { // ä½¿ç”¨ DataInputStream è¯»å–ä¸åŒç±»å‹çš„æ•°æ® try ( // åˆ›å»º DataInputStream å¯¹è±¡ï¼Œç”¨äºè¯»å–æ•°æ® DataInputStream dis = new DataInputStream(new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\DataStreamDemo\\\\test.txt\u0026#34;)); ) { // ä¾æ¬¡è¯»å–ä¸åŒç±»å‹çš„æ•°æ®å¹¶æ‰“å°è¾“å‡º int b = dis.read(); System.out.println(b); int i = dis.readInt(); System.out.println(i); double d = dis.readDouble(); System.out.println(d); boolean bool = dis.readBoolean(); System.out.println(bool); String rs = dis.readUTF(); System.out.println(rs); } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } åºåˆ—åŒ–æµ ObjectOutputStream/ObjectInputStreamå¯¹è±¡å­—èŠ‚è¾“å‡ºæµ\nå¯ä»¥æŠŠJavaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼šæŠŠjavaå¯¹è±¡å­˜å…¥åˆ°æ–‡ä»¶ä¸­å» åºåˆ—åŒ– //User public class User implements Serializable { private String loginName; private String userName; private int age; private transient String passWord; } public static void main(String[] args) { // ä½¿ç”¨ ObjectOutputStream å°†å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶ try ( // åˆ›å»º ObjectOutputStream å¯¹è±¡ï¼Œç”¨äºå°†å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶ ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ObjectStreamDemo\\\\test1.txt\u0026#34;)); ) { // åˆ›å»º User å¯¹è±¡å¹¶åˆå§‹åŒ– User u = new User(\u0026#34;admin\u0026#34;, \u0026#34;K\u0026#34;, 18, \u0026#34;1919\u0026#34;); // æ‰“å° User å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤º System.out.println(u.toString()); // å°† User å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶ oos.writeObject(u); System.out.println(\u0026#34;åºåˆ—åŒ–æˆåŠŸï¼\u0026#34;); // æ‰“å°åºåˆ—åŒ–æˆåŠŸæ¶ˆæ¯ } catch (IOException e) { throw new RuntimeException(e); // æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸å¹¶æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } ååºåˆ—åŒ– public static void main(String[] args) { // ä½¿ç”¨ ObjectInputStream ä»æ–‡ä»¶ååºåˆ—åŒ–å¯¹è±¡ try ( // åˆ›å»º ObjectInputStream å¯¹è±¡ï¼Œç”¨äºä»æ–‡ä»¶è¯»å–å¯¹è±¡å¹¶ååºåˆ—åŒ– ObjectInputStream ois = new ObjectInputStream(new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ObjectStreamDemo\\\\test1.txt\u0026#34;)); ){ // ä»æ–‡ä»¶ä¸­è¯»å–å¯¹è±¡å¹¶å¼ºåˆ¶è½¬æ¢ä¸º User ç±»å‹ User u = (User) ois.readObject(); // æ‰“å°ååºåˆ—åŒ–å¾—åˆ°çš„ User å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤º System.out.println(u.toString()); } catch (Exception e) { e.printStackTrace(); // æ‰“å°å¼‚å¸¸ä¿¡æ¯ } } å¦‚ä½•åºåˆ—åŒ–å¤šä¸ªå¯¹è±¡ï¼Ÿ\nç”¨ä¸€ä¸ªArrayListé›†åˆå­˜å‚¨å¤šä¸ªå¯¹è±¡ï¼Œ ç„¶åç›´æ¥å¯¹é›†åˆè¿›è¡Œåºåˆ—åŒ–å³å¯ï¼ˆArrayListé›†åˆå·²ç»å®ç°äº†åºåˆ—åŒ–æ¥å£ï¼‰\nåºåˆ—åŒ–ï¼š\npublic static void main(String[] args) { try ( ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ObjectStreamDemo\\\\test1.txt\u0026#34;)); ) { List\u0026lt;User\u0026gt; users = new ArrayList\u0026lt;\u0026gt;(); for (int i = 0; i \u0026lt; 100; i++) { User u = new User(\u0026#34;admin\u0026#34; + i, \u0026#34;K\u0026#34; + i, 18, \u0026#34;1919\u0026#34; + i); users.add(u); } // ä½¿ç”¨å¾ªç¯é€ä¸ªæ‰“å°æ¯ä¸ªç”¨æˆ·å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤º for (User user : users) { System.out.println(user.toString()); } oos.writeObject(users); System.out.println(\u0026#34;åºåˆ—åŒ–æˆåŠŸï¼\u0026#34;); } catch (IOException e) { throw new RuntimeException(e); } } ååºåˆ—åŒ–\npublic static void main(String[] args) { try ( ObjectInputStream ois = new ObjectInputStream(new FileInputStream(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\ObjectStreamDemo\\\\test1.txt\u0026#34;)); ){ List\u0026lt;User\u0026gt; users = (ArrayList\u0026lt;User\u0026gt;) ois.readObject(); users.forEach( user -\u0026gt; { System.out.print(user.getUserName() + \u0026#34; \u0026#34;); System.out.print(user.getLoginName() + \u0026#34; \u0026#34;); System.out.print(user.getAge() + \u0026#34; \u0026#34;); System.out.print(user.getPassWord() + \u0026#34; \u0026#34;); }); } catch (Exception e) { e.printStackTrace(); } } IOæ¡†æ¶ æ¡†æ¶\nè§£å†³æŸç±»é—®é¢˜ï¼Œç¼–å†™çš„ä¸€å¥—ç±»ã€æ¥å£ç­‰ï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªåŠæˆå“ï¼Œå¤§å¤šæ¡†æ¶éƒ½æ˜¯ç¬¬ä¸‰æ–¹ç ”å‘çš„ å¥½å¤„ï¼šåœ¨æ¡†æ¶çš„åŸºç¡€ä¸Šå¼€å‘ï¼Œå¯ä»¥å¾—åˆ°ä¼˜ç§€çš„è½¯ä»¶æ¶æ„ï¼Œå¹¶èƒ½æé«˜å¼€å‘æ•ˆç‡ IOæ¡†æ¶\nå°è£…äº†Javaæä¾›çš„å¯¹æ–‡ä»¶ã€æ•°æ®è¿›è¡Œæ“ä½œçš„ä»£ç ï¼Œå¯¹å¤–æä¾›äº†æ›´ç®€å•çš„æ–¹å¼æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œå¯¹æ•°æ®è¿›è¡Œè¯»å†™ã€‚ æ¡†æ¶çš„å¯¼å…¥ï¼š(Commons-IO)\nåœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ ï¼šlib å°†xxx.jaræ–‡ä»¶å¤åˆ¶åˆ°libæ–‡ä»¶å¤¹ åœ¨jaræ–‡ä»¶å¤¹ä¸Šç‚¹å‡»å³é”®ï¼Œé€‰æ‹©Add as Library åœ¨ç±»ä¸­å¯¼åŒ…ä½¿ç”¨ ä½¿ç”¨Commons-IO public static void main(String[] args) throws IOException { // å¤åˆ¶æ–‡ä»¶ FileUtils.copyFile(new File(\u0026#34;D:\\\\JAVA\\\\Test\\\\t3.mp4\u0026#34;), new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\VideoTest.mp4\u0026#34;)); // å¤åˆ¶ç›®å½•åŠå…¶å†…å®¹ FileUtils.copyDirectory(new File(\u0026#34;D:\\\\JAVA\\\\test1\u0026#34;), new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test\\\\t\u0026#34;)); // åˆ é™¤ç›®å½•åŠå…¶å†…å®¹ FileUtils.deleteDirectory(new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test\\\\t\u0026#34;)); // è¯»å–æ–‡ä»¶å†…å®¹ä¸ºå­—ç¬¦ä¸² String rs = FileUtils.readFileToString(new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test1.txt\u0026#34;)); System.out.println(rs); // å‘æ–‡ä»¶å†™å…¥å­—ç¬¦ä¸²æ•°æ®ï¼Œè¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ FileUtils.writeStringToFile(new File(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test.txt\u0026#34;), \u0026#34;data\u0026#34;, true); } Filesä¹Ÿèƒ½åšåˆ°åŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯åŠŸèƒ½ä¸å¤Ÿå¼ºå¤§ã€‚\npublic static void main(String[] args) throws IOException { // å¤åˆ¶æ–‡ä»¶ Files.copy(Path.of(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test.txt\u0026#34;), Path.of(\u0026#34;file-io-app\\\\src\\\\com\\\\showguan\\\\CommonsIODemo\\\\test2.txt\u0026#34;)); } ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B3/","summary":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(3) æ–‡ä»¶æ“ä½œ Fileå¯¹è±¡ å¸¸ç”¨æ–¹æ³• public static void main(String[] args) { // åˆ›å»ºFileå¯¹è±¡ï¼Œè¡¨ç¤ºæ–‡ä»¶test.txtçš„ç»å¯¹è·¯å¾„ File f1 = new File(\u0026#34;D:/JAVA/JavaSeProMax/file-io-app/src/com/showguan/FileDemo/test.txt\u0026#34;);","title":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(3)"},{"content":"LeetCodeç¬”è®° ç›®æ ‡ï¼š2500åˆ†\nHOT100 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å· é¢˜ç›®å¤§æ„ï¼š\nç»™ä½ ä¸€ä¸ªç”±è‹¥å¹²æ‹¬å·å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ï¼Œåˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆã€‚\nè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚\nå›æº¯ å®ç°æ€è·¯ï¼š\nç»Ÿè®¡æ— æ•ˆæ‹¬å·æ•°é‡ï¼š\né¦–å…ˆéå†å­—ç¬¦ä¸²sï¼Œç»Ÿè®¡å·¦æ‹¬å·å’Œå³æ‹¬å·çš„æ•°é‡lå’Œrï¼Œå…¶ä¸­lè¡¨ç¤ºæœªåŒ¹é…çš„å·¦æ‹¬å·æ•°é‡ï¼Œrè¡¨ç¤ºéœ€è¦åˆ é™¤çš„å³æ‹¬å·æ•°é‡ã€‚ å›æº¯ç®—æ³•ï¼š\nç¼–å†™å›æº¯ç®—æ³•æ¥å°è¯•åˆ é™¤ä¸åŒä½ç½®çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æœ‰æ•ˆã€‚ å›æº¯è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„ä»¥ä¸‹æƒ…å†µï¼š å·²ç»åŒ¹é…çš„æ‹¬å·æ•°é‡lnå’Œrnï¼Œä»¥åŠå½“å‰ä½ç½®iã€‚ éå†å­—ç¬¦ä¸²sçš„æ¯ä¸ªå­—ç¬¦ï¼Œå½“é‡åˆ°é‡å¤çš„å­—ç¬¦æ—¶è·³è¿‡ï¼Œä»¥é¿å…é‡å¤ç»“æœã€‚ å¦‚æœå½“å‰å­—ç¬¦ä¸ºå·¦æ‹¬å·å¹¶ä¸”lnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å·¦æ‹¬å·çš„æƒ…å†µï¼Œlnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚ å¦‚æœå½“å‰å­—ç¬¦ä¸ºå³æ‹¬å·å¹¶ä¸”rnä¸ä¸º0ï¼Œåˆ™é€’å½’è°ƒç”¨åˆ é™¤å½“å‰å³æ‹¬å·çš„æƒ…å†µï¼Œrnå‡ä¸€ï¼Œå¦åˆ™ç»§ç»­ã€‚ æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š\nç¼–å†™è¾…åŠ©å‡½æ•°checkæ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆï¼Œå³å·¦å³æ‹¬å·æ•°é‡æ˜¯å¦åŒ¹é…ã€‚ è¿”å›ç»“æœï¼š\nå°†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ç»“æœæ·»åŠ åˆ°ç»“æœåˆ—è¡¨retä¸­ï¼Œå¹¶è¿”å›ã€‚ class Solution: def removeInvalidParentheses(self, s: str) -\u0026gt; List[str]: l, r = 0, 0 ret = [] n = len(s) for c in s: if c==\u0026#39;(\u0026#39;: l+=1 elif c==\u0026#39;)\u0026#39;: if l==0: r+=1 else: l-=1 def check(st): cnt=0 for c in st: if c==\u0026#39;(\u0026#39;: cnt+=1 elif c==\u0026#39;)\u0026#39;: cnt-=1 if cnt\u0026lt;0: return False return (cnt==0) def backtrace(st, start, ln, rn): if ln==0 and rn==0 and check(st): ret.append(st[:]) return for i in range(start, len(st)): if i\u0026gt;start and st[i]==st[i-1]: continue if ln+rn\u0026gt;n-1-i+1: break if ln and st[i]==\u0026#39;(\u0026#39;: backtrace(st[:i]+st[i+1:], i, ln-1, rn) elif rn and st[i]==\u0026#39;)\u0026#39;: backtrace(st[:i]+st[i+1:], i, ln, rn-1) backtrace(s, 0, l, r) return ret å¹¿æœ è¿™ä¸ªå®ç°ä½¿ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„æ€è·¯æ¥è§£å†³é—®é¢˜ã€‚\nBFSæœç´¢ï¼š\nä½¿ç”¨ä¸€ä¸ªé›†åˆcuræ¥å­˜å‚¨å½“å‰å±‚çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œåˆå§‹æ—¶å°†è¾“å…¥çš„å­—ç¬¦ä¸²såŠ å…¥é›†åˆcurä¸­ã€‚ åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œéå†å½“å‰é›†åˆcurä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¦‚æœå…¶ä¸­æœ‰å­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retä¸­ã€‚ å¦‚æœç»“æœåˆ—è¡¨retä¸ä¸ºç©ºï¼Œåˆ™è·³å‡ºå¾ªç¯ï¼Œè¡¨ç¤ºå·²ç»æ‰¾åˆ°äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚ å¦‚æœç»“æœåˆ—è¡¨retä¸ºç©ºï¼Œåˆ™éœ€è¦ç»§ç»­è¿›è¡Œä¸‹ä¸€è½®æœç´¢ï¼Œå°†å½“å‰é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡åˆ é™¤ä¸€ä¸ªæ‹¬å·çš„æ–¹å¼ï¼Œç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€å±‚å­—ç¬¦ä¸²ï¼ŒåŠ å…¥åˆ°é›†åˆnxtä¸­ã€‚ æ›´æ–°å½“å‰é›†åˆcurä¸ºnxtï¼Œç»§ç»­ä¸‹ä¸€è½®æœç´¢ã€‚ æ£€æŸ¥å­—ç¬¦ä¸²æœ‰æ•ˆæ€§ï¼š\nå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°checkï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œé‡åˆ°å·¦æ‹¬å·æ—¶å¢åŠ è®¡æ•°å™¨cntï¼Œé‡åˆ°å³æ‹¬å·æ—¶å¦‚æœcntä¸º0åˆ™è¿”å›Falseï¼ˆè¡¨ç¤ºå³æ‹¬å·æ²¡æœ‰åŒ¹é…çš„å·¦æ‹¬å·ï¼‰ï¼Œå¦åˆ™å‡å°‘cntã€‚ æœ€ç»ˆåˆ¤æ–­cntæ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0è¡¨ç¤ºå­—ç¬¦ä¸²æœ‰æ•ˆã€‚ è¿”å›ç»“æœï¼š\nè¿”å›ç»“æœåˆ—è¡¨retï¼Œå…¶ä¸­å­˜å‚¨äº†æ‰€æœ‰æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚ class Solution: def removeInvalidParentheses(self, s: str) -\u0026gt; List[str]: ret = [] def check(st): cnt=0 for c in st: if c==\u0026#39;(\u0026#39;: cnt+=1 elif c==\u0026#39;)\u0026#39;: if cnt==0: return False cnt-=1 return cnt==0 cur = set([s]) while True: for st in cur: if check(st): ret.append(st) if len(ret): break nxt = set() for st in cur: for i in range(len(st)): if i\u0026gt;0 and st[i]==st[i-1]: continue if st[i]==\u0026#39;(\u0026#39; or st[i]==\u0026#39;)\u0026#39;: nxt.add(st[:i]+st[i+1:]) cur = nxt return ret 297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– ä¸æ­¢ç¬¬ä¸€æ¬¡é‡åˆ°äº†ã€‚\né¢˜ç›®å¤§æ„ï¼šåºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œä»è€Œå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ä¸­ï¼Œå¹¶ä¸”é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­ã€‚æœ¬é¢˜è¦æ±‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå³å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å°†å­—ç¬¦ä¸²è½¬æ¢å›åŸå§‹çš„äºŒå‰æ ‘ç»“æ„ã€‚\nå®ç°æ€è·¯ï¼š\nåºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†äºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ ¹èŠ‚ç‚¹å€¼ä¸å·¦å³å­æ ‘åºåˆ—åŒ–ç»“æœä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œç©ºèŠ‚ç‚¹ç”¨ \u0026lsquo;#\u0026rsquo; è¡¨ç¤ºã€‚ ååºåˆ—åŒ–ï¼šä½¿ç”¨é€’å½’å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒå‰æ ‘ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° DerWork()ï¼Œç”¨äºé€’å½’æ„å»ºäºŒå‰æ ‘ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼ŒæŒ‰ç…§å‰åºéå†çš„é¡ºåºï¼Œä¾æ¬¡æå–å­—ç¬¦ä¸²ä¸­çš„èŠ‚ç‚¹å€¼ï¼Œå¹¶æ ¹æ®èŠ‚ç‚¹å€¼æ„å»ºäºŒå‰æ ‘èŠ‚ç‚¹ã€‚å¦‚æœèŠ‚ç‚¹å€¼ä¸º \u0026lsquo;#\u0026rsquo;ï¼Œè¡¨ç¤ºç©ºèŠ‚ç‚¹ï¼Œè¿”å› Noneã€‚å¦åˆ™ï¼Œåˆ›å»ºèŠ‚ç‚¹å¹¶é€’å½’æ„å»ºå…¶å·¦å³å­æ ‘ã€‚ åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ self.s æ¥è®°å½•å½“å‰å¾…å¤„ç†çš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡é€’å½’å¤„ç†åï¼Œå°†å­—ç¬¦ä¸²ä¸­å·²ç»å¤„ç†è¿‡çš„éƒ¨åˆ†å‰”é™¤ï¼Œç»§ç»­å¤„ç†å‰©ä½™éƒ¨åˆ†ã€‚ æœ€ç»ˆè¿”å›æ ¹èŠ‚ç‚¹å³å¯ã€‚ # Definition for a binary tree node. # class TreeNode(object): # def __init__(self, x): # self.val = x # self.left = None # self.right = None class Codec: def serialize(self, root): \u0026#34;\u0026#34;\u0026#34;Encodes a tree to a single string. :type root: TreeNode :rtype: str \u0026#34;\u0026#34;\u0026#34; if not root: return \u0026#39;#\u0026#39; return str(root.val)+\u0026#39; \u0026#39;+self.serialize(root.left)+\u0026#39; \u0026#39;+self.serialize(root.right) def deserialize(self, data): \u0026#34;\u0026#34;\u0026#34;Decodes your encoded data to tree. :type data: str :rtype: TreeNode \u0026#34;\u0026#34;\u0026#34; self.s = data return self.DerWork() def DerWork(self): if len(self.s)==0: return None try: idx = self.s.index(\u0026#39; \u0026#39;) except: idx = -1 node = self.s if idx==-1 else self.s[:idx] self.s = \u0026#39;\u0026#39; if idx==-1 else self.s[idx+1:] if node==\u0026#39;#\u0026#39;: return None t = TreeNode(int(node)) t.left = self.DerWork() t.right = self.DerWork() return t # Your Codec object will be instantiated and called as such: # ser = Codec() # deser = Codec() # ans = deser.deserialize(ser.serialize(root)) 84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ é¢˜ç›®å¤§æ„ï¼šç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºçš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨å•è°ƒæ ˆè§£å†³é—®é¢˜ã€‚åˆ›å»ºä¸¤ä¸ªæ•°ç»„ l å’Œ rï¼Œåˆ†åˆ«è®°å½•æ¯ä¸ªæŸ±å­å‘å·¦å’Œå‘å³ç¬¬ä¸€ä¸ªæ¯”å…¶é«˜åº¦å°çš„æŸ±å­çš„ç´¢å¼•ä½ç½®ã€‚ åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚ éå†æŸ±å­çš„é«˜åº¦åˆ—è¡¨ heightsï¼š è‹¥æ ˆä¸ä¸ºç©ºä¸”å½“å‰æŸ±å­çš„é«˜åº¦å°äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†æ ˆé¡¶å…ƒç´ å¼¹å‡ºï¼Œå¹¶æ›´æ–°æ ˆé¡¶å…ƒç´ å¯¹åº”çš„ r å€¼ä¸ºå½“å‰æŸ±å­çš„ç´¢å¼•ã€‚ è‹¥æ ˆä¸ºç©ºæˆ–è€…å½“å‰æŸ±å­çš„é«˜åº¦å¤§äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œåˆ™å°†å½“å‰æŸ±å­çš„ç´¢å¼•å…¥æ ˆã€‚ åœ¨æ›´æ–° r å€¼çš„åŒæ—¶ï¼Œè‹¥æ ˆä¸ä¸ºç©ºï¼Œåˆ™æ›´æ–°å½“å‰æŸ±å­çš„ l å€¼ä¸ºæ ˆé¡¶å…ƒç´ çš„ç´¢å¼•ã€‚ éå†å®Œæˆåï¼Œå¯¹äºæ¯ä¸ªæŸ±å­ iï¼Œè®¡ç®—ä»¥è¯¥æŸ±å­ä¸ºé«˜åº¦çš„çŸ©å½¢é¢ç§¯ä¸º (r[i] - l[i] - 1) * heights[i]ï¼Œå–æœ€å¤§å€¼å³ä¸ºæ‰€æ±‚çš„æœ€å¤§çŸ©å½¢é¢ç§¯ã€‚ è‹¥æŸ±çŠ¶å›¾ä¸ºç©ºï¼Œåˆ™è¿”å› 0ã€‚ class Solution: def largestRectangleArea(self, heights: List[int]) -\u0026gt; int: n=len(heights) l, r = [-1]*(n+5), [n]*(n+5) stk = list() for i in range(n): while stk and heights[stk[-1]]\u0026gt;=heights[i]: r[stk[-1]]=i stk.pop() if stk: l[i]=stk[-1] stk.append(i) return max( (r[i]-l[i]-1)*heights[i] for i in range(n) ) if n\u0026gt;0 else 0 85. æœ€å¤§çŸ©å½¢ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚\nå®ç°æ€è·¯ï¼š\nå°†é—®é¢˜è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜ã€‚ å®šä¹‰å˜é‡ area ç”¨äºè®°å½•æœ€å¤§çŸ©å½¢çš„é¢ç§¯ã€‚ åˆ›å»ºäºŒç»´æ•°ç»„ leftï¼Œç”¨äºè®°å½•æ¯ä¸ªä½ç½® (i, j) å·¦ä¾§è¿ç»­ 1 çš„ä¸ªæ•°ã€‚ éå†äºŒç»´çŸ©é˜µï¼Œåˆå§‹åŒ– left æ•°ç»„ï¼š è‹¥å½“å‰ä½ç½®ä¸º \u0026lsquo;1\u0026rsquo;ï¼Œåˆ™ left[i][j] ç­‰äº left[i][j-1] + 1ï¼Œå¦åˆ™ä¸º 0ã€‚ éå†çŸ©é˜µçš„æ¯ä¸€åˆ—ï¼Œå¯¹äºæ¯ä¸€åˆ— jï¼Œä½¿ç”¨å•è°ƒæ ˆæ¥è®¡ç®—ä»¥å½“å‰åˆ—ä¸ºåº•è¾¹çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯ï¼š åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stkã€‚ å®šä¹‰ä¸¤ä¸ªæ•°ç»„ up å’Œ downï¼Œåˆ†åˆ«è®°å½•å½“å‰ä½ç½®ä¸Šæ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®å’Œä¸‹æ–¹ç¬¬ä¸€ä¸ªå°äºç­‰äºå…¶é«˜åº¦çš„ä½ç½®ã€‚ éå†çŸ©é˜µçš„æ¯ä¸€è¡Œ iï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š å½“æ ˆä¸ä¸ºç©ºä¸”æ ˆé¡¶ä½ç½®å¯¹åº”çš„ left å€¼å¤§äºç­‰äºå½“å‰ä½ç½®çš„ left å€¼æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶ä½ç½®ï¼Œå¹¶æ›´æ–° down å€¼ã€‚ å¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™å½“å‰ä½ç½®çš„ up å€¼ä¸º -1ï¼Œå¦åˆ™ä¸ºæ ˆé¡¶ä½ç½®ã€‚ å°†å½“å‰è¡Œç´¢å¼•å…¥æ ˆã€‚ åœ¨è®¡ç®—å½“å‰åˆ—çš„çŸ©å½¢é¢ç§¯æ—¶ï¼Œheight ä¸º down[i] - up[i] - 1ï¼Œå®½åº¦ä¸º left[i][j]ï¼Œè®¡ç®—å½“å‰åˆ—çš„æœ€å¤§é¢ç§¯å¹¶æ›´æ–° areaã€‚ è¿”å›æœ€å¤§é¢ç§¯ areaã€‚ class Solution: def maximalRectangle(self, matrix: List[List[str]]) -\u0026gt; int: # è½¬åŒ–ä¸ºçŸ©å½¢æœ€å¤§é¢ç§¯é—®é¢˜ n, m = len(matrix), len(matrix[0]) area = 0 left = [[0]*m for _ in range(n)] for i in range(n): for j in range(m): if matrix[i][j]==\u0026#39;1\u0026#39;: left[i][j] += left[i][j-1]+1 if j else 1 for j in range(m): stk = [] up, down = [-1]*n, [n]*n for i in range(n): #è¡Œ while stk and left[ stk[-1] ][j]\u0026gt;=left[i][j]: down[stk[-1]] = i stk.pop() up[i] = stk[-1] if stk else -1 stk.append(i) for i in range(n): height = down[i]-up[i]-1 area = max(area, height*left[i][j]) return area 76. æœ€å°è¦†ç›–å­ä¸² é¢˜ç›®å¤§æ„ï¼šç»™å®šå­—ç¬¦ä¸² s å’Œå­—ç¬¦ä¸² tï¼Œè¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² \u0026ldquo;\u0026quot;ã€‚\næ³¨æ„ï¼š\nå¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œå­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚\nå¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£è§£å†³é—®é¢˜ã€‚ åˆå§‹åŒ– need å­—å…¸ï¼Œç”¨äºè®°å½•å­—ç¬¦ä¸² t ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ åˆå§‹åŒ– needCnt ä¸º t çš„é•¿åº¦ mï¼Œè¡¨ç¤ºè¿˜éœ€è¦çš„å­—ç¬¦æ•°é‡ã€‚ åˆå§‹åŒ–å·¦æŒ‡é’ˆ left ä¸º 0ï¼Œå¹¶åˆå§‹åŒ–ç»“æœå˜é‡ res ä¸ºä¸€ä¸ªé•¿åº¦ä¸º n çš„åŒºé—´ï¼Œåˆå§‹å€¼ä¸º (0, n)ã€‚ éå†å­—ç¬¦ä¸² tï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¹¶å­˜å‚¨åœ¨ need å­—å…¸ä¸­ã€‚ éå†å­—ç¬¦ä¸² sï¼Œä½¿ç”¨å³æŒ‡é’ˆ right éå†æ¯ä¸ªå­—ç¬¦ï¼š è‹¥å½“å‰å­—ç¬¦åœ¨ t ä¸­å‡ºç°ï¼Œåˆ™ needCnt å‡ 1ã€‚ æ›´æ–° need å­—å…¸ä¸­å½“å‰å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ è‹¥ needCnt ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰çª—å£åŒ…å«äº† t ä¸­æ‰€æœ‰å­—ç¬¦ï¼Œè¿›å…¥å†…éƒ¨å¾ªç¯ï¼š ç§»åŠ¨å·¦æŒ‡é’ˆ leftï¼Œç›´åˆ°å½“å‰çª—å£ä¸å†æ»¡è¶³æ¡ä»¶ï¼ˆå³ need å­—å…¸ä¸­æŸä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¤§äº 0ï¼‰ã€‚ æ›´æ–°ç»“æœå˜é‡ resã€‚ æ¢å¤å·¦æŒ‡é’ˆ left å’Œ needCntã€‚ è¿”å›ç»“æœå­—ç¬¦ä¸²ï¼Œè‹¥ç»“æœåŒºé—´è¶…å‡º s çš„èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ class Solution: def minWindow(self, s: str, t: str) -\u0026gt; str: n, m = len(s), len(t) need = defaultdict(int) needCnt = m left = 0 res = (0, n) for ch in t: need[ch]+=1 for right, ch in enumerate(s): if need[ch]\u0026gt;0: needCnt-=1 need[ch]-=1 if needCnt==0: while need[s[left]]!=0: need[s[left]]+=1 left+=1 if right-left \u0026lt; res[1]-res[0]: res = (left, right) need[s[left]]+=1 needCnt+=1 left+=1 return \u0026#39;\u0026#39; if res[1]\u0026gt;n-1 else s[res[0]:res[1]+1] 312. æˆ³æ°”çƒ é¢˜æ„ï¼šç»™å®šnä¸ªæ•°å­—num[0~n-1],æ¯æ¬¡æˆ³ç ´ä¸€ä¸ªæ°”çƒå¯ä»¥è·å¾—nums[i-1]*nums[i]*nums[i+1]ä¸ªç¡¬å¸ï¼Œæœ€ä¸¤æ—é»˜è®¤ä¸º1ï¼Œé—®æœ€ç»ˆè·å¾—çš„æœ€å¤§ç¡¬å¸æ•°é‡ã€‚ æ€è·¯ï¼šåŒºé—´DPï¼Œé€†å‘æ€ç»´, æ€è€ƒå¦‚ä½•æ”¾æ°”çƒèƒ½ä½¿ç¡¬å¸æœ€å¤§ï¼Œf[i][j]ä»£è¡¨å¼€åŒºé—´i~jå¯ä»¥è·å¾—çš„æœ€å¤§ç¡¬å¸ï¼Œ å…ˆæšä¸¾å°åŒºé—´ï¼Œå†æšä¸¾å¤§åŒºé—´ï¼Œæšä¸¾åŒºé—´å†…æ¯ä¸ªæ•°å­—ï¼ŒçŠ¶æ€è½¬ç§»æœ‰ï¼šf[i][j] = max(f[i][j], f[i][k]+f[k][j]+nums[i]*nums[k]*nums[j])ã€‚æœ€ç»ˆè¾“å‡ºf[0][n+1] class Solution: def maxCoins(self, nums: List[int]) -\u0026gt; int: n = len(nums) nums = [1]+nums+[1] f = [[0]*(n+5) for _ in range(n+5)] # å¼€åŒºé—´ (left, right) åŒºé—´å†…èƒ½è·å¾—çš„æœ€å¤§ç¡¬å¸ for l in range(2,n+2): # len:2~n+1 for i in range(n+1-l+1): # left:0~n+1-len j=i+l # right = left + len for k in range(i+1, j): # å¼€åŒºé—´(i,j) å³[i+1, j-1] f[i][j] = max(f[i][j], f[i][k]+f[k][j]+nums[i]*nums[k]*nums[j]) return f[0][n+1] 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å· é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±å­—æ¯å’Œæ‹¬å·ç»„æˆçš„å­—ç¬¦ä¸²sï¼Œè¦æ±‚åˆ é™¤æœ€å°æ•°é‡çš„æ‹¬å·ï¼Œä½¿å¾—å­—ç¬¦ä¸²æˆä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆï¼Œå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°check(st)ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²stæ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ‹¬å·ç»„åˆã€‚éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨cntï¼Œé‡åˆ°å·¦æ‹¬å·å¢åŠ è®¡æ•°ï¼Œé‡åˆ°å³æ‹¬å·å‡å°‘è®¡æ•°ï¼Œè‹¥å‡ºç°cntä¸ºè´Ÿæ•°ï¼Œæˆ–è€…éå†ç»“æŸåcntä¸ä¸º0ï¼Œåˆ™è¯´æ˜æ‹¬å·ä¸åŒ¹é…ï¼Œè¿”å›Falseï¼Œå¦åˆ™è¿”å›Trueã€‚\nåˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨retï¼Œç”¨äºå­˜å‚¨ç»“æœã€‚\nåˆå§‹åŒ–ä¸€ä¸ªé›†åˆcurï¼Œåˆå§‹æ—¶å°†è¾“å…¥å­—ç¬¦ä¸²sä½œä¸ºå”¯ä¸€å…ƒç´ åŠ å…¥å…¶ä¸­ã€‚\nä½¿ç”¨whileå¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœä¸ºæ­¢ï¼š\néå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸ºæœ‰æ•ˆæ‹¬å·ç»„åˆï¼Œè‹¥æ˜¯åˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retã€‚\nè‹¥ç»“æœåˆ—è¡¨retä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜å·²æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœï¼Œç»“æŸå¾ªç¯ã€‚\nå¦åˆ™ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç©ºé›†åˆnxtï¼Œç”¨äºå­˜å‚¨ä¸‹ä¸€è½®è¿­ä»£çš„å€™é€‰å­—ç¬¦ä¸²é›†åˆã€‚\néå†é›†åˆcurä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå°è¯•åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ˆæ‹¬å·ï¼‰ï¼Œç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åŠ å…¥nxtä¸­ã€‚\næ›´æ–°curä¸ºnxtï¼Œç»§ç»­ä¸‹ä¸€è½®è¿­ä»£ã€‚\nè¿”å›ç»“æœåˆ—è¡¨retã€‚\nclass Solution: def removeInvalidParentheses(self, s: str) -\u0026gt; List[str]: ret = [] def check(st): cnt=0 for c in st: if c==\u0026#39;(\u0026#39;: cnt+=1 elif c==\u0026#39;)\u0026#39;: if cnt==0: return False cnt-=1 return cnt==0 cur = set([s]) while True: for st in cur: if check(st): ret.append(st) if len(ret): break nxt = set() for st in cur: for i in range(len(st)): if i\u0026gt;0 and st[i]==st[i-1]: continue if st[i]==\u0026#39;(\u0026#39; or st[i]==\u0026#39;)\u0026#39;: nxt.add(st[:i]+st[i+1:]) cur = nxt return ret 11. ç››æœ€å¤šæ°´çš„å®¹å™¨ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„heightï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€æ¡å‚ç›´çº¿çš„é«˜åº¦ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸xè½´æ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚åˆå§‹åŒ–å·¦æŒ‡é’ˆlæŒ‡å‘æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼Œå³æŒ‡é’ˆræŒ‡å‘æ•°ç»„çš„æœ«å°¾ä½ç½®ã€‚è®¾ç½®å˜é‡retç”¨äºè®°å½•å½“å‰æœ€å¤§å®¹é‡ï¼Œåˆå§‹åŒ–ä¸º0ã€‚åœ¨æ¯ä¸€è½®å¾ªç¯ä¸­ï¼Œè®¡ç®—å½“å‰å®¹å™¨çš„å®¹é‡ï¼Œå³min(height[l], height[r])ä¹˜ä»¥rå’Œlä¹‹é—´çš„è·ç¦»ï¼Œæ›´æ–°retã€‚ç„¶åæ ¹æ®æŒ‡é’ˆæ‰€æŒ‡å‘çš„é«˜åº¦çš„å¤§å°ï¼Œç§»åŠ¨æŒ‡é’ˆï¼Œå¦‚æœheight[l]\u0026lt;height[r]ï¼Œåˆ™ç§»åŠ¨å·¦æŒ‡é’ˆlå‘å³ä¸€æ­¥ï¼Œå¦åˆ™ç§»åŠ¨å³æŒ‡é’ˆrå‘å·¦ä¸€æ­¥ã€‚ç›´åˆ°å·¦å³æŒ‡é’ˆç›¸é‡ï¼Œå¾ªç¯ç»“æŸï¼Œè¿”å›retå³å¯ã€‚\næ­£ç¡®æ€§è¯æ˜ï¼š å¯¹äºå·¦å³ç«¯ç‚¹ $ l, r$ï¼Œ ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ä¸º$len = r-l+1-1$(å› ä¸ºä¸¤ä¸ªç‚¹ä¹‹é—´ç®—ä¸€æ®µï¼Œæ‰€ä»¥é•¿åº¦è¦å‡ä¸€)ï¼Œ$ ret = (r-l)*min(height[l], height[r])$,å‡è®¾ $height[l]\u0026lt;height[r]$, å¯¹äºå·¦ç«¯ç‚¹ï¼Œå…¶ä½œä¸ºæŸ±å­èƒ½å®¹çº³çš„æœ€å¤šçš„æ°´çš„æ•°é‡å·²ç»ä¸ºæœ€å¤§å€¼ï¼Œä»»æ„çš„ $l\u0026lt;x\u0026lt;r$ ä½œä¸ºå³ç«¯ç‚¹ä¸€å®šæ¯”$r$åšç«¯ç‚¹æ›´å·®ï¼Œæ‰€ä»¥å¯ä»¥æ’é™¤å·¦ç«¯ç‚¹$l$ï¼Œè®¡ç®—ä¸‹ä¸€ç‚¹å³$l+1$ã€‚ä»å·¦å³ç«¯ç‚¹å¼€å§‹ï¼Œå¯¹äºæ¯æ¬¡æ’é™¤çš„ç‚¹ï¼Œå·²ç»æ‰¾åˆ°è¿™ä¸ªç«¯ç‚¹å¯èƒ½çš„æœ€å¤§å€¼ï¼Œ æ‰€ä»¥å¯ä»¥ä¿è¯ç»“æœçš„æ­£ç¡®æ€§ã€‚ class Solution: def maxArea(self, height: List[int]) -\u0026gt; int: l, r = 0, len(height)-1 ret = 0 while l\u0026lt;r: ret = max( ret, (r-l)*min(height[l], height[r]) ) if height[l]\u0026lt;height[r]: l+=1 elif height[l]\u0026gt;height[r]: r-=1 else: l+=1 r-=1 return ret 647. å›æ–‡å­ä¸² é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œç»Ÿè®¡å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ä¸­å›æ–‡å­ä¸²çš„æ•°ç›®ã€‚å›æ–‡å­—ç¬¦ä¸²æ˜¯æŒ‡æ­£ç€è¯»å’Œå€’è¿‡æ¥è¯»ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚å­å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²ä¸­çš„ç”±è¿ç»­å­—ç¬¦ç»„æˆçš„ä¸€ä¸ªåºåˆ—ã€‚å³ä½¿æ˜¯ç”±ç›¸åŒå­—ç¬¦ç»„æˆçš„ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚\nå®ç°æ€è·¯ï¼šéå†å­—ç¬¦ä¸²sçš„æ‰€æœ‰å¯èƒ½çš„ä¸­å¿ƒä½ç½®ï¼Œå¯¹äºæ¯ä¸ªä¸­å¿ƒä½ç½®ï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚åœ¨æ‰©å±•çš„è¿‡ç¨‹ä¸­ï¼Œæ¯å½“å‘ç°ä¸€ä¸ªå›æ–‡å­ä¸²ï¼Œå°±å°†è®¡æ•°å™¨åŠ 1ã€‚æœ€ç»ˆè¿”å›è®¡æ•°å™¨çš„å€¼å³å¯ã€‚\nclass Solution: def countSubstrings(self, s: str) -\u0026gt; int: n = len(s) ans = 0 for i in range(2*n - 1): l, r = i//2, i//2 + (i\u0026amp;1) while l\u0026gt;=0 and r\u0026lt;n and s[l]==s[r]: l-=1; r+=1 ans+=1 return ans 93. å¤åŸ IP åœ°å€ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²sï¼Œè¡¨ç¤ºä¸€ä¸ªIPåœ°å€ï¼Œè¦æ±‚è¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆIPåœ°å€ï¼Œå³æ¯ä¸ªIPåœ°å€ç”±å››ä¸ªæ•´æ•°ç»„æˆï¼ˆæ¯ä¸ªæ•´æ•°ä½äº0åˆ°255ä¹‹é—´ï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼0ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨\u0026rsquo;.\u0026lsquo;åˆ†éš”ã€‚ä¸èƒ½é‡æ–°æ’åºæˆ–åˆ é™¤sä¸­çš„ä»»ä½•æ•°å­—ï¼Œå¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ç®—æ³•ï¼Œé€’å½’åœ°æœç´¢æ‰€æœ‰å¯èƒ½çš„IPåœ°å€ç»„åˆã€‚åœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆç¡®å®šæ¯ä¸ªæ•´æ•°çš„èŒƒå›´ï¼Œç„¶åéå†å¯èƒ½çš„æ•°å­—ç»„åˆï¼Œé€æ­¥æ„å»ºIPåœ°å€ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯å·²ç»æ‰¾åˆ°äº†å››ä¸ªæ•´æ•°å¹¶ä¸”å·²ç»éå†å®Œäº†æ•´ä¸ªå­—ç¬¦ä¸²sã€‚\nclass Solution: def restoreIpAddresses(self, s: str) -\u0026gt; List[str]: n = len(s) res, addr = [], [\u0026#39;0\u0026#39;]*4 def dfs(i, start): if i==4 or start==n: if i==4 and start==n: res.append(\u0026#39;.\u0026#39;.join(addr)) return if s[start]==\u0026#39;0\u0026#39;: addr[i] = \u0026#39;0\u0026#39; dfs(i+1, start+1) return num = 0 for end in range(start, n): num = num*10 + int(s[end]) if num in range(256): addr[i] = str(num) dfs(i+1, end+1) dfs(0, 0) return res 538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äºè¯¥èŠ‚ç‚¹å€¼çš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚\nclass Solution: def convertBST(self, root: Optional[TreeNode]) -\u0026gt; Optional[TreeNode]: s = 0 def dfs(r): nonlocal s if not r: return 0 dfs(r.right) s += r.val r.val = s dfs(r.left) dfs(root) return root å®ç°æ€è·¯ï¼š**(Morris éå†)**ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé‡‡ç”¨åå‘ä¸­åºéå†ï¼ˆå³-æ ¹-å·¦ï¼‰çš„æ–¹å¼è¿›è¡Œéå†ã€‚åˆ©ç”¨ä¸€ä¸ªå˜é‡ s è®°å½•ç´¯åŠ å’Œï¼Œåˆå§‹å€¼ä¸º 0ã€‚å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œé¦–å…ˆåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨å³å­èŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶å€¼åŠ ä¸Šç´¯åŠ å’Œå¹¶æ›´æ–°ç´¯åŠ å’Œï¼Œç„¶åå°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å·¦å­èŠ‚ç‚¹ï¼›å¦‚æœå­˜åœ¨å³å­èŠ‚ç‚¹ï¼Œåˆ™æ‰¾åˆ°å…¶ä¸­åºéå†çš„åç»§èŠ‚ç‚¹ï¼Œå³å³å­æ ‘ä¸­æœ€å·¦è¾¹çš„èŠ‚ç‚¹ã€‚å¦‚æœåç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜è¿˜æœªå¤„ç†è¿‡è¯¥èŠ‚ç‚¹ï¼Œåˆ™å°†åç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å³å­èŠ‚ç‚¹ï¼›å¦‚æœåç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜å·²ç»å¤„ç†è¿‡è¯¥èŠ‚ç‚¹ï¼Œåˆ™å°†åç»§èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ç½®ä¸ºç©ºï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ ä¸Šç´¯åŠ å’Œå¹¶æ›´æ–°ç´¯åŠ å’Œï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å…¶å·¦å­èŠ‚ç‚¹ã€‚æœ€åè¿”å›æ ¹èŠ‚ç‚¹ã€‚\nclass Solution: def convertBST(self, root: Optional[TreeNode]) -\u0026gt; Optional[TreeNode]: def getSucc(node): succ = node.right while succ.left and succ.left!=node: succ = succ.left return succ newRoot = root s = 0 while root: if not root.right: s += root.val root.val = s root = root.left else: succ = getSucc(root) if not succ.left: succ.left = root root = root.right else: succ.left = None s += root.val root.val = s root = root.left return newRoot 15. ä¸‰æ•°ä¹‹å’Œ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i != jã€i != k ä¸” j != kï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] == 0ã€‚è¿”å›æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆå¯¹æ•°ç»„ nums è¿›è¡Œæ’åºã€‚ç„¶åéå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  nums[i]ï¼Œè®¾å®šä¸¤ä¸ªæŒ‡é’ˆ l å’Œ r åˆ†åˆ«æŒ‡å‘ i+1 å’Œæ•°ç»„æœ«å°¾ã€‚åœ¨ l å’Œ r ä¹‹é—´å¯»æ‰¾å’Œä¸º 0 çš„ä¸¤ä¸ªæ•°ã€‚å…·ä½“åœ°ï¼Œå¦‚æœå½“å‰å…ƒç´ ä¸å‰ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œè·³è¿‡ï¼›å¦‚æœå½“å‰å…ƒç´ ä¸ l+1 å¤„çš„å…ƒç´ ç›¸åŒï¼Œè·³è¿‡ï¼›åœ¨ l å’Œ r ä¹‹é—´åˆ©ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªæ•°ï¼Œå¦‚æœæ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œåˆ™æ·»åŠ åˆ°ç»“æœä¸­ã€‚æœ€åè¿”å›ç»“æœåˆ—è¡¨ resã€‚\nclass Solution: def threeSum(self, nums: List[int]) -\u0026gt; List[List[int]]: n = len(nums) nums.sort() res = [] for i in range(n): l = i r = n-1 if i and nums[i]==nums[i-1]: continue for m in range(l+1, n): if m\u0026gt;l+1 and nums[m]==nums[m-1]: continue while r\u0026gt;m and nums[r]+nums[m]+nums[l]\u0026gt;0: r-=1 if m==r: break if nums[r]+nums[m]+nums[l]==0: res.append([nums[l], nums[m], nums[r]]) return res å®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œåˆ©ç”¨ Counter å‡½æ•°ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦æœ‰ 0 å‡ºç°è‡³å°‘ä¸‰æ¬¡ï¼Œå¦‚æœæ˜¯åˆ™å°† [0, 0, 0] æ·»åŠ åˆ°ç»“æœä¸­ã€‚ç„¶åï¼Œå¯¹ä¸é‡å¤çš„æ•°è¿›è¡Œæ’åºã€‚éå†æ’åºåçš„æ•°ï¼Œå¯¹äºæ¯ä¸ªæ•° numï¼Œå¦‚æœ num ä¸ç­‰äº 0 ä¸” num å‡ºç°æ¬¡æ•°å¤§äº 1 ä¸” -num*2 ä¹Ÿåœ¨ Counter ä¸­ï¼Œåˆ™å°† [num, num, -num*2] æ·»åŠ åˆ°ç»“æœä¸­ã€‚ç„¶åï¼Œåœ¨è´Ÿæ•°éƒ¨åˆ†ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼å¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªæ•°ã€‚æœ€åè¿”å›ç»“æœåˆ—è¡¨ resã€‚\nclass Solution: def threeSum(self, nums: List[int]) -\u0026gt; List[List[int]]: res = [] c = Counter(nums) if 0 in c and c[0] \u0026gt;= 3: res.append([0,0,0]) no_repeat_nums = sorted(c.keys()) for i,num in enumerate(no_repeat_nums): if num != 0 and c[num] \u0026gt; 1 and -num*2 in c: res.append([num,num,-num*2]) if num \u0026lt; 0: for num3 in no_repeat_nums[ bisect_left(no_repeat_nums,((-num+1)/2)) : bisect_right(no_repeat_nums,-num*2-1) ]: num2 = -num-num3 if num2 in c: res.append([num,num2,num3]) return res 494. ç›®æ ‡å’Œ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° targetï¼Œé€šè¿‡ç»™æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  \u0026lsquo;+\u0026rsquo; æˆ– \u0026lsquo;-\u0026rsquo;ï¼Œç„¶åä¸²è”èµ·æ¥æ„é€ è¡¨è¾¾å¼ï¼Œè¿”å›å¯ä»¥æ„é€ çš„è¡¨è¾¾å¼æ•°ç›®ï¼Œä½¿å…¶è¿ç®—ç»“æœç­‰äºç›®æ ‡æ•°ã€‚\nè®°å¿†åŒ–æœç´¢ å®ç°æ€è·¯ï¼šè¿™ä¸ªé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªèƒŒåŒ…é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºåœ¨æ•°ç»„ä¸­é€‰å–ä¸€äº›æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº targetã€‚å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° dfs(i, s)ï¼Œè¡¨ç¤ºåœ¨æ•°ç»„ nums ä¸­è€ƒè™‘ç¬¬ i ä¸ªæ•°ï¼Œä½¿å¾—ç›®å‰çš„å’Œä¸º s çš„è¡¨è¾¾å¼æ•°ç›®ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯éå†å®Œæ‰€æœ‰æ•°ï¼Œå¦‚æœ s ç­‰äº 0ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†ä¸€ç§æ„é€ æ–¹å¼ï¼Œè¿”å› 1ï¼Œå¦åˆ™è¿”å› 0ã€‚é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ s å°äºå½“å‰æ•° nums[i]ï¼Œè¯´æ˜æ— æ³•é€‰å–å½“å‰æ•°ï¼Œç›´æ¥è·³è¿‡ï¼›å¦åˆ™ï¼Œé€’å½’è€ƒè™‘é€‰å–å½“å‰æ•°å’Œä¸é€‰å–å½“å‰æ•°ä¸¤ç§æƒ…å†µã€‚åˆ©ç”¨ç¼“å­˜è£…é¥°å™¨ @cache å¯ä»¥å°†é‡å¤è®¡ç®—çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œæé«˜è®¡ç®—æ•ˆç‡ã€‚æœ€åè¿”å› dfs(0, target) å³å¯å¾—åˆ°ç»“æœã€‚\nclass Solution: def findTargetSumWays(self, nums: List[int], target: int) -\u0026gt; int: target += sum(nums) if target\u0026lt;0 or target\u0026amp;1: return 0 target//=2 @cache def dfs(i, s): if i==len(nums): return 1 if s==0 else 0 if s\u0026lt;nums[i]: return dfs(i+1, s) else: return dfs(i+1, s) + dfs(i+1, s-nums[i]) return dfs(0, target) åŠ¨æ€è§„åˆ’ å®ç°æ€è·¯ï¼šè¿™é‡Œé‡‡ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚é¦–å…ˆå°†ç›®æ ‡æ•° target åŠ ä¸Šæ•°ç»„ nums çš„æ€»å’Œï¼Œå¦‚æœæ€»å’Œä¸ºè´Ÿæ•°æˆ–è€…æ˜¯å¥‡æ•°ï¼Œåˆ™æ— æ³•é€šè¿‡è°ƒæ•´ç¬¦å·å¾—åˆ°ç›®æ ‡æ•°ï¼Œç›´æ¥è¿”å› 0ã€‚å¦åˆ™ï¼Œå°†ç›®æ ‡æ•°é™¤ä»¥ 2ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ fï¼Œå…¶ä¸­ f[i][j] è¡¨ç¤ºåœ¨è€ƒè™‘å‰ i ä¸ªæ•°æ—¶ï¼Œæ„é€ å’Œä¸º j çš„è¡¨è¾¾å¼çš„æ•°ç›®ã€‚åˆå§‹åŒ– f[0][0] = 1ã€‚ç„¶åï¼Œéå†æ•°ç»„ numsï¼Œå¹¶ä¸”æ›´æ–° f[i][j]ã€‚å½“ j å°äºå½“å‰æ•° nums[i-1] æ—¶ï¼Œè¡¨ç¤ºæ— æ³•é€‰å–å½“å‰æ•°ï¼Œåˆ™ f[i][j] ç­‰äºä¸Šä¸€ä¸ªçŠ¶æ€çš„å€¼ï¼›å½“ j å¤§äºç­‰äºå½“å‰æ•° nums[i-1] æ—¶ï¼Œå¯ä»¥é€‰æ‹©åŠ ä¸Šæˆ–å‡å»å½“å‰æ•°ï¼Œåˆ™ f[i][j] ç­‰äºä¸Šä¸€ä¸ªçŠ¶æ€åŠ ä¸Šä¸é€‰å–å½“å‰æ•°çš„å€¼ä»¥åŠä¸Šä¸€ä¸ªçŠ¶æ€åŠ ä¸Šé€‰å–å½“å‰æ•°çš„å€¼ã€‚æœ€åè¿”å› f[n][target]ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ã€‚\nclass Solution: def findTargetSumWays(self, nums: List[int], target: int) -\u0026gt; int: target+=sum(nums) if target\u0026lt;0 or target%2: return 0 target//=2 n = len(nums) f = [[0]*(target+1) for _ in range(n+1)] f[0][0] = 1 for i in range(1, n+1): for j in range(target+1): if j\u0026lt;nums[i-1]: f[i][j] = f[i-1][j] else: f[i][j] = f[i-1][j] + f[i-1][j-nums[i-1]] return f[n][target] 581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæ‰¾å‡ºä¸€ä¸ªè¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—å¯¹è¯¥å­æ•°ç»„è¿›è¡Œå‡åºæ’åºåï¼Œæ•´ä¸ªæ•°ç»„éƒ½å˜ä¸ºå‡åºæ’åºã€‚è¦æ±‚æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„æœ€çŸ­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆleftå’Œrightï¼Œåˆå§‹åŒ–ä¸º-1ï¼Œéå†æ•°ç»„numsã€‚é¦–å…ˆï¼Œä»å·¦åˆ°å³æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ— åºçš„å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ å°äºå‰é¢å·²éå†è¿‡çš„æœ€å¤§å…ƒç´ ï¼Œæ­¤æ—¶æ›´æ–°rightæŒ‡é’ˆä¸ºå½“å‰ä½ç½®iï¼›ç„¶åï¼Œä»å³åˆ°å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ— åºçš„å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ å¤§äºåé¢å·²éå†è¿‡çš„æœ€å°å…ƒç´ ï¼Œæ­¤æ—¶æ›´æ–°leftæŒ‡é’ˆä¸ºå½“å‰ä½ç½®n-i-1ã€‚æœ€ç»ˆè¿”å›right-left+1å³ä¸ºæœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„çš„é•¿åº¦ã€‚\nclass Solution: def findUnsortedSubarray(self, nums: List[int]) -\u0026gt; int: n = len(nums) ma, right = -inf, -1 mi, left = inf, -1 for i in range(n): if ma\u0026gt;nums[i]: right = i else: ma = nums[i] if mi\u0026lt;nums[n-i-1]: left = n-i-1 else: mi = nums[n-i-1] return 0 if right==-1 else right-left+1 416. åˆ†å‰²ç­‰å’Œå­é›† é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªéç©ºæ•°ç»„ numsï¼Œæ•°ç»„ä¸­åªåŒ…å«æ­£æ•´æ•°ã€‚è¦æ±‚åˆ¤æ–­æ˜¯å¦èƒ½å°†è¯¥æ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆè®¡ç®—æ•°ç»„ nums çš„æ€»å’Œ sã€‚ å¦‚æœæ€»å’Œ s ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆæ— æ³•åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼Œç›´æ¥è¿”å› Falseã€‚ å¦‚æœæ•°ç»„ä¸­çš„æœ€å¤§å€¼å¤§äºæ€»å’Œçš„ä¸€åŠï¼Œåˆ™æ— æ³•åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼Œç›´æ¥è¿”å› Falseã€‚ åˆå§‹åŒ–ä¸€ä¸ªå¤§å°ä¸ºæ€»å’Œä¸€åŠåŠ ä¸€çš„å¸ƒå°”æ•°ç»„ fï¼Œf[i] è¡¨ç¤ºæ˜¯å¦å­˜åœ¨å­é›†çš„å’Œä¸º iã€‚ å°† f[0] åˆå§‹åŒ–ä¸º Trueï¼Œè¡¨ç¤ºå­é›†çš„å’Œä¸º 0ã€‚ éå†æ•°ç»„ numsï¼Œå¯¹äºæ¯ä¸ªæ­£æ•´æ•° numï¼Œä»æ€»å’Œä¸€åŠå¼€å§‹å‘å‰éå†ï¼Œæ›´æ–°æ•°ç»„ fï¼Œå¦‚æœ f[j-num] ä¸º Trueï¼Œåˆ™è¯´æ˜å­˜åœ¨ä¸€ä¸ªå­é›†çš„å’Œä¸º j-numï¼ŒåŠ ä¸Šå½“å‰çš„ num åï¼Œå’Œä¸º jï¼Œå› æ­¤ f[j] ä¹Ÿä¸º Trueã€‚ æœ€ç»ˆè¿”å› f[s//2]ï¼Œè¡¨ç¤ºæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­é›†çš„å’Œä¸ºæ€»å’Œä¸€åŠï¼Œå³æ˜¯å¦èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ã€‚ class Solution: def canPartition(self, nums: List[int]) -\u0026gt; bool: s = sum(nums) if s\u0026amp;1: return False ma = max(nums) t = s//2 if ma\u0026gt;t: return False n = len(nums) f = [False]*(t+1) f[0] = True for i, num in enumerate(nums): for j in range(t, num-1, -1): f[j] |= f[j-num] return f[t] 394. å­—ç¬¦ä¸²è§£ç  é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¼–ç è§„åˆ™ä¸ºk[encoded_string]ï¼Œè¡¨ç¤ºencoded_stringä¸­çš„å†…å®¹é‡å¤kæ¬¡ã€‚è¦æ±‚è§£ç è¯¥å­—ç¬¦ä¸²ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨é€’å½’æ¥è§£ç å­—ç¬¦ä¸²ã€‚éå†è¾“å…¥å­—ç¬¦ä¸²ï¼Œæ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå¤„ç†ï¼š\nè‹¥é‡åˆ°æ•°å­—ï¼Œåˆ™ç´¯åŠ æ•°å­—ç›´è‡³é‡åˆ°éæ•°å­—å­—ç¬¦ã€‚ è‹¥é‡åˆ°å­—æ¯ï¼Œåˆ™ç›´æ¥åŠ å…¥å½“å‰è§£ç çš„å­—ç¬¦ä¸²ä¸­ã€‚ è‹¥é‡åˆ°å·¦æ‹¬å·\u0026rsquo;[\u0026rsquo;ï¼Œåˆ™é€’å½’è°ƒç”¨è§£ç å‡½æ•°ï¼Œå¤„ç†æ‹¬å·å†…çš„å†…å®¹ï¼Œç›´è‡³é‡åˆ°å³æ‹¬å·\u0026rsquo;]\u0026rsquo;ã€‚å°†æ‹¬å·å†…çš„è§£ç ç»“æœä¹˜ä»¥å‰é¢ç´¯ç§¯çš„æ•°å­—ï¼Œå¹¶åŠ å…¥å½“å‰è§£ç çš„å­—ç¬¦ä¸²ä¸­ã€‚ è‹¥é‡åˆ°å³æ‹¬å·\u0026rsquo;]\u0026rsquo;ï¼Œåˆ™è¿”å›å½“å‰è§£ç çš„å­—ç¬¦ä¸²å’Œå½“å‰ç´¢å¼•ã€‚ è¿”å›æœ€ç»ˆè§£ç ç»“æœã€‚ class Solution: def decodeString(self, s: str) -\u0026gt; str: def decode(i, n): cur = \u0026#34;\u0026#34;; num = 0 while i\u0026lt;len(s): if s[i].isdigit(): num = num*10 + int(s[i]) elif s[i].isalpha(): cur += s[i] elif s[i] == \u0026#39;[\u0026#39;: ns, ni = decode(i+1, num) # next str, next index cur += ns; i = ni num = 0 elif s[i]==\u0026#39;]\u0026#39;: return cur*n, i i += 1 return cur*n, i res, _ = decode(0, 1) return res 72. ç¼–è¾‘è·ç¦» é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªå•è¯ word1 å’Œ word2ï¼Œæ±‚é€šè¿‡æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢å­—ç¬¦ï¼Œå°† word1 è½¬æ¢æˆ word2 æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚\nè®°å¿†åŒ–æœç´¢ è¿™æ®µä»£ç ä½¿ç”¨äº†é€’å½’çš„æ–¹å¼æ±‚è§£ï¼Œå…¶ä¸­ dfs å‡½æ•°è¡¨ç¤ºå°† s çš„å‰ i ä¸ªå­—ç¬¦è½¬æ¢ä¸º t çš„å‰ j ä¸ªå­—ç¬¦æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚é€’å½’çš„åŸºæœ¬æƒ…å†µæ˜¯å½“ i å°äº 0 æ—¶ï¼Œè¡¨ç¤º s å·²ç»éå†å®Œï¼Œéœ€è¦æ’å…¥ t çš„å‰ j+1 ä¸ªå­—ç¬¦ï¼›å½“ j å°äº 0 æ—¶ï¼Œè¡¨ç¤º t å·²ç»éå†å®Œï¼Œéœ€è¦åˆ é™¤ s çš„å‰ i+1 ä¸ªå­—ç¬¦ï¼›å½“ s[i] ç­‰äº t[j] æ—¶ï¼Œä¸éœ€è¦é¢å¤–æ“ä½œï¼Œç›´æ¥é€’å½’å¤„ç† i-1 å’Œ j-1ï¼›å½“ s[i] ä¸ç­‰äº t[j] æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢æ“ä½œï¼Œé€‰æ‹©æ“ä½œæ•°æœ€å°çš„æ–¹æ¡ˆã€‚é€’å½’çš„è¿‡ç¨‹ä¸­åˆ©ç”¨äº†ç¼“å­˜è£…é¥°å™¨ @cache æ¥æé«˜æ•ˆç‡ã€‚\nclass Solution: def minDistance(self, s: str, t: str) -\u0026gt; int: n, m = len(s), len(t) @cache def dfs(i, j): if i\u0026lt;0: return j+1 if j\u0026lt;0: return i+1 if s[i]==t[j]: return dfs(i-1, j-1) return min(dfs(i-1, j), dfs(i, j-1), dfs(i-1, j-1)) + 1 return dfs(n-1, m-1) é€’æ¨ å®ç°æ€è·¯ï¼š å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ fï¼Œå…¶ä¸­ f[i][j] è¡¨ç¤ºå°† word1 çš„å‰ i ä¸ªå­—ç¬¦è½¬æ¢ä¸º word2 çš„å‰ j ä¸ªå­—ç¬¦æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°ã€‚åˆå§‹æ—¶ï¼Œf[i][0] è¡¨ç¤ºå°† word1 çš„å‰ i ä¸ªå­—ç¬¦å…¨éƒ¨åˆ é™¤ï¼Œéœ€è¦çš„æ“ä½œæ•°ä¸º iï¼Œè€Œ f[0][j] è¡¨ç¤ºå°† word2 çš„å‰ j ä¸ªå­—ç¬¦å…¨éƒ¨æ’å…¥åˆ° word1 ä¸­ï¼Œéœ€è¦çš„æ“ä½œæ•°ä¸º jã€‚ ç„¶åï¼Œæ ¹æ®åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œé€æ­¥è®¡ç®— f[i][j] çš„å€¼ã€‚è‹¥ word1[i] ç­‰äº word2[j]ï¼Œåˆ™ f[i][j] ç­‰äº f[i-1][j-1]ï¼Œå³ä¸éœ€è¦é¢å¤–æ“ä½œï¼›è‹¥ä¸ç›¸ç­‰ï¼Œåˆ™å¯ä»¥è€ƒè™‘æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢æ“ä½œï¼Œé€‰æ‹©æ“ä½œæ•°æœ€å°çš„æ–¹æ¡ˆã€‚æœ€ç»ˆï¼Œè¿”å› f[n][m]ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸º word1 å’Œ word2 çš„é•¿åº¦ã€‚\nclass Solution: def minDistance(self, s: str, t: str) -\u0026gt; int: n, m = len(s), len(t) f = [[0]*(m+1) for _ in range(n+1)] f[0] = list(range(m+1)) # f[0][j] = j for i in range(n): f[i+1][0] = i+1 for j in range(m): if s[i]==t[j]: f[i+1][j+1] = f[i][j] else: f[i+1][j+1] = min(f[i][j+1], f[i+1][j], f[i][j]) + 1 return f[n][m] 96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ class Solution: def numTrees(self, n: int) -\u0026gt; int: f = [0]*(n+1) f[0] = 1; f[1] = 1 for i in range(2, n+1): for j in range(1, i+1): f[i] += f[i-j]*f[j-1] return f[n] 160. ç›¸äº¤é“¾è¡¨ class Solution: def getIntersectionNode(self, headA: ListNode, headB: ListNode) -\u0026gt; Optional[ListNode]: l1, l2 = headA, headB while l1 != l2: l1 = headB if not l1 else l1.next l2 = headA if not l2 else l2.next return l1 31. ä¸‹ä¸€ä¸ªæ’åˆ— é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œè¦æ±‚æ‰¾å‡ºè¿™ä¸ªæ•°ç»„çš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå³æ¯”å½“å‰æ’åˆ—å¤§çš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›å­—å…¸åºæœ€å°çš„æ’åˆ—ã€‚\nå®ç°æ€è·¯ï¼šè¦æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š\nä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œæ»¡è¶³ nums[i] \u0026lt; nums[i+1]ã€‚ å¦‚æœæ‰¾åˆ°äº†è¿™æ ·çš„ä¸€å¯¹æ•°ï¼Œè¯´æ˜å½“å‰æ’åˆ—è¿˜ä¸æ˜¯æœ€å¤§çš„æ’åˆ—ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ åœ¨ä»å³å¾€å·¦æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªä½ç½®è®°ä¸º iï¼Œå†ä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•°ï¼Œè®°ä¸º jã€‚ äº¤æ¢ nums[i] å’Œ nums[j]ã€‚ å°†ä» i+1 ä½ç½®å¼€å§‹åˆ°æ•°ç»„æœ«å°¾çš„æ•°é€†åºæ’åˆ—ï¼Œä»¥å¾—åˆ°å­—å…¸åºæœ€å°çš„æ’åˆ—ã€‚ å¦‚æœæ­¥éª¤1ä¸­æ²¡æœ‰æ‰¾åˆ°ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œåˆ™è¯´æ˜å½“å‰æ’åˆ—å·²ç»æ˜¯æœ€å¤§çš„æ’åˆ—ï¼Œç›´æ¥å°†æ•´ä¸ªæ•°ç»„é€†åºæ’åˆ—å³å¯ã€‚ class Solution: def nextPermutation(self, nums: List[int]) -\u0026gt; None: \u0026#34;\u0026#34;\u0026#34; Do not return anything, modify nums in-place instead. \u0026#34;\u0026#34;\u0026#34; n = len(nums) i = n-2 while i\u0026gt;=0 and nums[i] \u0026gt;= nums[i+1]: i-=1 if i\u0026gt;=0: j = n-1 while j\u0026gt;=i and nums[j] \u0026lt;= nums[i]: j-=1 nums[i], nums[j] = nums[j], nums[i] nums[i+1:] = reversed(nums[i+1:]) 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªæŒ‰å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œæ•°ç»„ä¸­çš„å€¼äº’ä¸ç›¸åŒã€‚è¯¥æ•°ç»„ç»è¿‡æœªçŸ¥çš„æŸä¸ªä¸‹æ ‡æ—‹è½¬ï¼Œå³åŸæœ¬æ’åœ¨æ•°ç»„å¼€å¤´çš„ä¸€éƒ¨åˆ†å…ƒç´ è¢«ç§»åŠ¨åˆ°æ•°ç»„æœ«å°¾ã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œå¦‚æœè¯¥ç›®æ ‡å€¼å­˜åœ¨äºæ—‹è½¬åçš„æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›å…¶ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚è¦æ±‚è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä»¥æ»¡è¶³ O(log n) çš„æ—¶é—´å¤æ‚åº¦è¦æ±‚ã€‚ åˆå§‹åŒ–å·¦å³æŒ‡é’ˆ l å’Œ r åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„é¦–å°¾å…ƒç´ ã€‚ åœ¨å¾ªç¯ä¸­ï¼Œè®¡ç®—ä¸­é—´ä½ç½® midï¼Œåˆ¤æ–­ nums[mid] æ˜¯å¦ç­‰äºç›®æ ‡å€¼ targetï¼Œè‹¥æ˜¯åˆ™ç›´æ¥è¿”å› midã€‚ è‹¥ nums[0] \u0026lt;= nums[mid]ï¼Œè¯´æ˜å·¦åŠæ®µæ˜¯æœ‰åºçš„ï¼Œæ­¤æ—¶åˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨å·¦åŠæ®µèŒƒå›´å†…ï¼Œè‹¥æ˜¯åˆ™å°†å³æŒ‡é’ˆç§»åˆ° mid-1ï¼Œå¦åˆ™å°†å·¦æŒ‡é’ˆç§»åˆ° mid+1ã€‚ è‹¥ nums[0] \u0026gt; nums[mid]ï¼Œè¯´æ˜å³åŠæ®µæ˜¯æœ‰åºçš„ï¼Œæ­¤æ—¶åˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨å³åŠæ®µèŒƒå›´å†…ï¼Œè‹¥æ˜¯åˆ™å°†å·¦æŒ‡é’ˆç§»åˆ° mid+1ï¼Œå¦åˆ™å°†å³æŒ‡é’ˆç§»åˆ° mid-1ã€‚ è‹¥å¾ªç¯ç»“æŸä»æœªæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œåˆ™è¿”å› -1ã€‚ class Solution: def search(self, nums: List[int], target: int) -\u0026gt; int: if not nums: return -1 n = len(nums) l, r = 0, n-1 while l\u0026lt;=r: mid = l+r\u0026gt;\u0026gt;1 if nums[mid]==target: return mid if nums[0]\u0026lt;=nums[mid]: if nums[0] \u0026lt;= target \u0026lt; nums[mid]: r = mid-1 else: l = mid+1 else: if nums[mid] \u0026lt; target \u0026lt;= nums[n-1]: l = mid+1 else: r = mid-1 return -1 19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œé¦–å…ˆè®©ç¬¬ä¸€ä¸ªæŒ‡é’ˆä»å¤´èŠ‚ç‚¹å¼€å§‹å‘åç§»åŠ¨næ­¥ï¼Œç„¶ååŒæ—¶ç§»åŠ¨ç¬¬ä¸€ä¸ªæŒ‡é’ˆå’Œç¬¬äºŒä¸ªæŒ‡é’ˆï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªæŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ã€‚è¿™æ ·ç¬¬äºŒä¸ªæŒ‡é’ˆæ‰€æŒ‡çš„ä½ç½®å°±æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œåˆ é™¤æ“ä½œå³å¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼Œæ¯”å¦‚é“¾è¡¨é•¿åº¦ä¸º1ï¼Œåˆ é™¤å¤´èŠ‚ç‚¹ç­‰æƒ…å†µã€‚\n# Definition for singly-linked list. # class ListNode: # def __init__(self, val=0, next=None): # self.val = val # self.next = next class Solution: def removeNthFromEnd(self, head: Optional[ListNode], n: int) -\u0026gt; Optional[ListNode]: if not head.next: return None p1 = head n-=1 while n: p1 = p1.next n-=1 pre = p2 = head while p1.next: p1 = p1.next pre = p2 p2 = p2.next if p2==head: head = head.next else: pre.next = pre.next.next return head 148. æ’åºé“¾è¡¨ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹headï¼Œè¦æ±‚å°†é“¾è¡¨æŒ‰å‡åºæ’åˆ—ï¼Œå¹¶è¿”å›æ’åºåçš„é“¾è¡¨ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨å½’å¹¶æ’åºçš„æ€æƒ³å¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚ ç¼–å†™é€’å½’å‡½æ•°sortFun(head, tail)ï¼Œå…¶ä¸­headè¡¨ç¤ºå½“å‰å¾…æ’åºçš„å­é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œtailè¡¨ç¤ºå½“å‰å¾…æ’åºçš„å­é“¾è¡¨çš„å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼ˆå³å°¾ç»“ç‚¹çš„åç»§ç»“ç‚¹ï¼‰ã€‚ åœ¨sortFunå‡½æ•°ä¸­ï¼Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°å½“å‰å¾…æ’åºå­é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹midï¼Œå¹¶å°†é“¾è¡¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹éƒ¨åˆ†ç”±headåˆ°mid-1ï¼Œå³è¾¹éƒ¨åˆ†ç”±midåˆ°tail-1ã€‚ é€’å½’è°ƒç”¨sortFunå‡½æ•°å¯¹å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œç›´è‡³æ’åºå®Œæˆã€‚ ç¼–å†™mergeå‡½æ•°ï¼Œå°†å·²ç»æ’å¥½åºçš„å·¦å³ä¸¤éƒ¨åˆ†é“¾è¡¨è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶è¿‡ç¨‹ä¸­æŒ‰ç…§ç»“ç‚¹çš„å€¼å¤§å°è¿›è¡Œæ¯”è¾ƒï¼Œå°†è¾ƒå°çš„ç»“ç‚¹è¿æ¥åˆ°ç»“æœé“¾è¡¨ä¸­ã€‚ è¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚ # Definition for singly-linked list. # class ListNode: # def __init__(self, val=0, next=None): # self.val = val # self.next = next class Solution: def sortList(self, head: Optional[ListNode]) -\u0026gt; Optional[ListNode]: def sortFun(head, tail): if not head: return head if head.next == tail: head.next = None return head slow = fast = head while fast != tail: fast = fast.next slow = slow.next if fast != tail: fast = fast.next mid = slow return merge(sortFun(head, mid), sortFun(mid, tail)) def merge(h1, h2): dummy = ListNode(-1) cur = dummy while h1 and h2: if h1.val\u0026lt;=h2.val: cur.next = h1 h1 = h1.next else: cur.next = h2 h2 = h2.next cur = cur.next if h1: cur.next = h1 if h2: cur.next = h2 return dummy.next return sortFun(head, None) 581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„numsï¼Œæ‰¾å‡ºä¸€ä¸ªè¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—å¯¹è¯¥å­æ•°ç»„è¿›è¡Œå‡åºæ’åºåï¼Œæ•´ä¸ªæ•°ç»„éƒ½å˜ä¸ºå‡åºæ’åºã€‚è¦æ±‚æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æœ€çŸ­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆåˆå§‹åŒ–æœ€å¤§å€¼mxä¸ºè´Ÿæ— ç©·ï¼Œæœ€å°å€¼mnä¸ºæ­£æ— ç©·ï¼Œä»¥åŠæœ€çŸ­å­æ•°ç»„çš„å·¦å³è¾¹ç•Œleftå’Œrightåˆ†åˆ«ä¸º-1ã€‚ éå†æ•°ç»„numsï¼Œä»å·¦å‘å³å¯»æ‰¾å³è¾¹ç•Œrightï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„æœ€å¤§å€¼mxï¼Œåˆ™æ›´æ–°rightä¸ºå½“å‰ç´¢å¼•ï¼›å¦åˆ™æ›´æ–°æœ€å¤§å€¼mxä¸ºå½“å‰å…ƒç´ ã€‚ åŒæ—¶ï¼Œä»å³å‘å·¦å¯»æ‰¾å·¦è¾¹ç•Œleftï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„æœ€å°å€¼mnï¼Œåˆ™æ›´æ–°leftä¸ºå½“å‰ç´¢å¼•ï¼›å¦åˆ™æ›´æ–°æœ€å°å€¼mnä¸ºå½“å‰å…ƒç´ ã€‚ æœ€åè¿”å›å³è¾¹ç•Œå’Œå·¦è¾¹ç•Œçš„å·®åŠ 1ï¼Œå³ä¸ºæœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœå·¦è¾¹ç•Œä»ä¸ºåˆå§‹å€¼-1ï¼Œåˆ™è¿”å›0è¡¨ç¤ºæ•´ä¸ªæ•°ç»„å·²ç»æœ‰åºã€‚ class Solution: def findUnsortedSubarray(self, nums: List[int]) -\u0026gt; int: n = len(nums) mx, right = -inf, -1 mn, left = inf, -1 for i in range(n): if mx\u0026gt;nums[i]: right = i else: mx = nums[i] if mn\u0026lt;nums[n-1-i]: left = n-1-i else: mn = nums[n-1-i] return 0 if left==-1 else right-left+1 çº¿æ®µæ ‘ 729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I é¢˜ç›®å¤§æ„ï¼šè¿™ä¸ªé¢˜ç›®æ˜¯å…³äºè®¾è®¡ä¸€ä¸ªæ—¥ç¨‹å®‰æ’ç±» MyCalendarï¼Œå®ƒèƒ½å¤Ÿå­˜å‚¨æ—¥ç¨‹ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦ä¼šæœ‰é‡å¤é¢„è®¢ã€‚æ—¥ç¨‹ä»¥åŠå¼€åŒºé—´ [start, end) è¡¨ç¤ºï¼Œå½“ä¸¤ä¸ªæ—¥ç¨‹æ—¶é—´æœ‰äº¤å æ—¶å°±ä¼šäº§ç”Ÿé‡å¤é¢„è®¢ã€‚ å®ç°æ€è·¯ï¼š\nä½¿ç”¨çº¿æ®µæ ‘ï¼š\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥è¡¨ç¤ºæ—¶é—´æ®µçš„é¢„è®¢æƒ…å†µã€‚æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæ—¶é—´æ®µï¼ŒèŠ‚ç‚¹å€¼è¡¨ç¤ºè¿™ä¸ªæ—¶é—´æ®µæ˜¯å¦è¢«é¢„è®¢ã€‚ å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸¤ä¸ªé›†åˆï¼Œself.tree è¡¨ç¤ºå·²ç»é¢„è®¢çš„èŠ‚ç‚¹ï¼Œself.lazy è¡¨ç¤ºå·²ç»è¢«æ ‡è®°ä¸ºé¢„è®¢ä½†å°šæœªè¢«æ›´æ–°çš„èŠ‚ç‚¹ã€‚ æŸ¥è¯¢åŠŸèƒ½ï¼š\nå½“éœ€è¦æŸ¥è¯¢æŸä¸ªæ—¶é—´æ®µæ˜¯å¦è¢«é¢„è®¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨çº¿æ®µæ ‘ä¸Šè¿›è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢åˆ°æŸä¸ªèŠ‚ç‚¹è¢«æ ‡è®°ä¸ºå·²é¢„è®¢ï¼ˆåŒ…æ‹¬è¢«æ ‡è®°ä¸ºé¢„è®¢ä½†å°šæœªæ›´æ–°çš„èŠ‚ç‚¹ï¼‰ï¼Œåˆ™è¿”å›é¢„è®¢ï¼›å¦åˆ™è¿”å›æœªé¢„è®¢ã€‚ æ›´æ–°åŠŸèƒ½ï¼š\nå½“è¦é¢„è®¢æŸä¸ªæ—¶é—´æ®µæ—¶ï¼Œæˆ‘ä»¬åœ¨çº¿æ®µæ ‘ä¸Šè¿›è¡Œæ›´æ–°æ“ä½œã€‚é¦–å…ˆä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°å‘ä¸‹æ›´æ–°ï¼Œå°†è¯¥æ—¶é—´æ®µçš„èŠ‚ç‚¹æ ‡è®°ä¸ºå·²é¢„è®¢ï¼Œå¹¶å°†ç»è¿‡çš„èŠ‚ç‚¹åŠ å…¥ self.tree ä¸­ã€‚ åŒæ—¶ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½è¢«æ ‡è®°ä¸ºå·²é¢„è®¢ï¼Œåˆ™å°†è¯¥èŠ‚ç‚¹ä¹Ÿæ ‡è®°ä¸ºå·²é¢„è®¢ï¼ŒåŒæ—¶åŠ å…¥ self.lazy ä¸­ï¼Œè¡¨ç¤ºå…¶ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å·²ç»è¢«é¢„è®¢ä½†å°šæœªæ›´æ–°ã€‚ book æ–¹æ³•ï¼š\nåœ¨ book æ–¹æ³•ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­è¦é¢„è®¢çš„æ—¶é—´æ®µæ˜¯å¦å·²ç»è¢«é¢„è®¢ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› Falseï¼›å¦åˆ™ï¼Œè°ƒç”¨ update æ–¹æ³•è¿›è¡Œæ›´æ–°ï¼Œå¹¶è¿”å› Trueã€‚ class MyCalendar: def __init__(self): self.tree = set() self.lazy = set() def query(self, start: int, end: int, l: int, r: int, idx: int) -\u0026gt; bool: if r \u0026lt; start or end \u0026lt; l: return False if idx in self.lazy: # å¦‚æœè¯¥åŒºé—´å·²è¢«é¢„è®¢ï¼Œåˆ™ç›´æ¥è¿”å› return True if start \u0026lt;= l and r \u0026lt;= end: return idx in self.tree mid = (l + r) // 2 return self.query(start, end, l, mid, 2 * idx) or \\ self.query(start, end, mid + 1, r, 2 * idx + 1) def update(self, start, end, l, r, idx): if start\u0026gt;r or end\u0026lt;l: return False if start\u0026lt;=l and r\u0026lt;=end: self.tree.add(idx) self.lazy.add(idx) else: mid = (l+r)\u0026gt;\u0026gt;1 self.update(start, end, l, mid, idx*2) self.update(start, end, mid+1, r, idx*2+1) self.tree.add(idx) if 2*idx in self.lazy and 2*idx+1 in self.lazy: self.lazy.add(idx) def book(self, start: int, end: int) -\u0026gt; bool: if self.query(start, end-1, 0, 10**9, 1): return False self.update(start, end-1, 0, 10**9, 1) return True 2286. ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨ é¢˜ç›®å¤§æ„ï¼š è®¾è®¡ä¸€ä¸ªä¹°ç¥¨ç³»ç»Ÿï¼Œé’ˆå¯¹éŸ³ä¹ä¼šçš„åº§ä½å®‰æ’ã€‚éŸ³ä¹ä¼šæ€»å…±æœ‰næ’åº§ä½ï¼Œæ¯æ’æœ‰mä¸ªåº§æ¤…ã€‚ç³»ç»Ÿéœ€è¦å¤„ç†ä¸¤ç§æƒ…å†µï¼š\ngather(k, maxRow): è¿”å›é•¿åº¦ä¸º2çš„æ•°ç»„ï¼Œè¡¨ç¤ºkä¸ªæˆå‘˜ä¸­ç¬¬ä¸€ä¸ªåº§ä½çš„æ’æ•°å’Œåº§ä½ç¼–å·ï¼Œè¿™kä½æˆå‘˜å¿…é¡»ååœ¨åŒä¸€æ’åº§ä½ï¼Œä¸”åº§ä½è¿ç»­ã€‚å¦‚æœæ— æ³•å®‰æ’åº§ä½ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚ scatter(k, maxRow): å¦‚æœç»„é‡Œæ‰€æœ‰kä¸ªæˆå‘˜ä¸ä¸€å®šè¦ååœ¨ä¸€èµ·çš„å‰æä¸‹ï¼Œéƒ½èƒ½åœ¨ç¬¬0æ’åˆ°ç¬¬maxRowæ’ä¹‹é—´æ‰¾åˆ°åº§ä½ï¼Œè¿”å›trueï¼›å¦åˆ™è¿”å›falseã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæˆå‘˜éƒ½ä¼˜å…ˆæ‰¾æ’æ•°æœ€å°ï¼Œç„¶åæ˜¯åº§ä½ç¼–å·æœ€å°çš„åº§ä½ã€‚ å®ç°æ€è·¯ï¼š\nå¯¹äºgather(k, maxRow)ï¼Œå¯ä»¥åˆ©ç”¨çº¿æ®µæ ‘æ¥å®ç°ã€‚ çº¿æ®µæ ‘èŠ‚ç‚¹ç»´æŠ¤æœ€å°å€¼å’Œæ€»å’Œï¼Œç”¨äºæŸ¥æ‰¾æœ€å°å€¼ä»¥åŠæŸ¥è¯¢æ€»å’Œã€‚ ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®šç¬¦åˆæ¡ä»¶çš„æœ€å°æ’æ•°ï¼Œå¹¶æ›´æ–°åº§ä½ä¿¡æ¯ã€‚ å¯¹äºscatter(k, maxRow)ï¼ŒåŒæ ·ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åº§ä½ä¿¡æ¯ã€‚ éå†æ’æ•°ï¼Œæ ¹æ®å½“å‰æ’çš„å‰©ä½™åº§ä½æ•°é‡å’Œéœ€æ±‚kè¿›è¡Œåˆ¤æ–­ã€‚ è‹¥å½“å‰æ’å‰©ä½™åº§ä½æ•°è¶³å¤Ÿï¼Œå®‰æ’kä¸ªåº§ä½å¹¶è¿”å›trueï¼›è‹¥ä¸è¶³å¤Ÿï¼Œç»§ç»­å‘ä¸‹ä¸€æ’å°è¯•ã€‚ class BookMyShow: def __init__(self, n: int, m: int): self.n, self.m = n, m N = 1 \u0026lt;\u0026lt; n.bit_length() + 1 self.mn = [0] * N # min self.sm = [0] * N # sum def modify(self, u, l, r, x, v): if l == r: self.mn[u] += v self.sm[u] += v else: mid = l + r \u0026gt;\u0026gt; 1 if x \u0026lt;= mid: self.modify(u \u0026lt;\u0026lt; 1, l, mid, x, v) else: self.modify(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, x, v) self.mn[u] = min(self.mn[u \u0026lt;\u0026lt; 1], self.mn[u \u0026lt;\u0026lt; 1 | 1]) self.sm[u] = self.sm[u \u0026lt;\u0026lt; 1] + self.sm[u \u0026lt;\u0026lt; 1 | 1] def query(self, u, l, r, ql, qr): if l \u0026gt;= ql and r \u0026lt;= qr: return self.sm[u] mid = l + r \u0026gt;\u0026gt; 1 res = 0 if ql \u0026lt;= mid: res = self.query(u \u0026lt;\u0026lt; 1, l, mid, ql, qr) if qr \u0026gt; mid: res += self.query(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, ql, qr) return res def index(self, u, l, r, qr, v): if self.mn[u] \u0026gt; v: return 0 if l == r: return l mid = l + r \u0026gt;\u0026gt; 1 if self.mn[u \u0026lt;\u0026lt; 1] \u0026lt;= v: return self.index(u \u0026lt;\u0026lt; 1, l, mid, qr, v) if qr \u0026gt; mid: return self.index(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, qr, v) return 0 def gather(self, k: int, maxRow: int) -\u0026gt; List[int]: i = self.index(1, 1, self.n, maxRow + 1, self.m - k) if i == 0: return [] col = self.query(1, 1, self.n, i, i) self.modify(1, 1, self.n, i, k) return [i - 1, col] def scatter(self, k: int, maxRow: int) -\u0026gt; bool: if self.m * (maxRow + 1) - self.query(1, 1, self.n, 1, maxRow + 1) \u0026lt; k: return False i = self.index(1, 1, self.n, maxRow + 1, self.m - 1) while True: rest = self.m - self.query(1, 1, self.n, i, i) if k \u0026lt;= rest: self.modify(1, 1, self.n, i, k) return True self.modify(1, 1, self.n, i, rest) k -= rest i += 1 å…¶ä»–é¢˜ç›® 3031. å°†å•è¯æ¢å¤åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ II Zå‡½æ•° é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² word å’Œä¸€ä¸ªæ•´æ•° kï¼Œæ¯ç§’éœ€è¦æ‰§è¡Œä¸¤ç§æ“ä½œï¼šç§»é™¤å­—ç¬¦ä¸² word çš„å‰ k ä¸ªå­—ç¬¦ï¼Œå¹¶åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  k ä¸ªä»»æ„å­—ç¬¦ã€‚è¦æ±‚è¿”å›å°† word æ¢å¤åˆ°åˆå§‹çŠ¶æ€æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚\nå®ç°æ€è·¯ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Z å‡½æ•°ï¼ˆZ algorithmï¼‰æ¥æ‰¾åˆ°å­—ç¬¦ä¸²çš„æœ€é•¿å‰ç¼€åç¼€åŒ¹é…é•¿åº¦ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Z å‡½æ•°çš„æ€§è´¨ï¼Œå°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸åŒçš„å‰ç¼€å­ä¸²ï¼Œæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æœ€å°æ—¶é—´ã€‚\nå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ zï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸² s çš„ Z å‡½æ•°å€¼ã€‚ ä½¿ç”¨åŒæŒ‡é’ˆ l å’Œ r æ¥ç»´æŠ¤å½“å‰åŒ¹é…çš„å­ä¸²ã€‚ éå†å­—ç¬¦ä¸² sï¼Œè®¡ç®— z[i] çš„å€¼ï¼Œå³ä»¥ç¬¬ i ä¸ªå­—ç¬¦ä¸ºèµ·å§‹çš„æœ€é•¿å‰ç¼€åç¼€åŒ¹é…é•¿åº¦ã€‚ åœ¨æ¯æ¬¡éå†ä¸­ï¼Œæ›´æ–° l å’Œ r çš„å€¼ï¼Œä¿æŒå½“å‰åŒ¹é…çš„å­ä¸²èŒƒå›´ã€‚ å¦‚æœå½“å‰ä½ç½® i èƒ½å¤Ÿæ»¡è¶³æ¡ä»¶ï¼šå³ i æ˜¯ k çš„å€æ•°ä¸” z[i] ç­‰äºå‰©ä½™å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆn - iï¼‰ï¼Œåˆ™è¿”å› i é™¤ä»¥ kã€‚ è‹¥éå†å®Œå­—ç¬¦ä¸²åä»æœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä½ç½®ï¼Œåˆ™è¿”å› (n - 1) é™¤ä»¥ k å†åŠ  1ï¼Œè¡¨ç¤ºéœ€è¦æŠŠå‰©ä½™çš„å­—ç¬¦ä¸²éƒ½ç§»é™¤å¹¶æ·»åŠ åˆ°æœ«å°¾ã€‚ class Solution: def minimumTimeToInitialState(self, s: str, k: int) -\u0026gt; int: n = len(s) z = [0] * n l, r = 0, 0 for i in range(1, n): if i \u0026lt;= r and z[i - l] \u0026lt; r - i + 1: z[i] = z[i - l] else: z[i] = max(0, r - i + 1) while i + z[i] \u0026lt; n and s[z[i]] == s[i + z[i]]: z[i] += 1 if i + z[i] - 1 \u0026gt; r: l = i r = i + z[i] - 1 if i%k==0 and z[i] == n-i: return i//k return (n-1)//k+1 5. æœ€é•¿å›æ–‡å­ä¸²é©¬æ‹‰è½¦ç®—æ³• é¢˜æ„ï¼šæ±‚å­—ç¬¦ä¸²å†…çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦ æ€è·¯ï¼šé©¬æ‹‰è½¦ç®—æ³•ï¼Œç”±å½“å‰å·²çŸ¥çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”±å·²çŸ¥çš„å›æ–‡ä¸²é•¿åº¦ï¼Œæ¨å‡ºå…¶è¦†ç›–çš„ç‚¹çš„æœ€å¤§å›æ–‡ä¸²é•¿åº¦ã€‚å¦‚ä¸‹å›¾ï¼Œp[i]ä½ç½®çš„å›æ–‡ä¸²é•¿åº¦å¯ä»¥ç”±æœ€é•¿çš„å›æ–‡ä¸²(ä»¥aä¸ºä¸­å¿ƒ)å¾—å‡ºï¼Œå› ä¸ºå›æ–‡ä¸²ä¸¤è¾¹æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥p[i] = p[c + c-i], ä½†æ˜¯å¯¹äºè¦†ç›–ä¸åˆ°çš„éƒ¨åˆ†ï¼Œéœ€è¦å–ä¸‹é™r-iã€‚ class Solution: # æ¨èæ•™å­¦è§†é¢‘ ï¼šhttps://www.bilibili.com/video/BV1Sx4y1k7jG/?spm_id_from=333.337.search-card.all.click\u0026amp;vd_source=a4a2b56f746715b34521bfb853094cf4 def longestPalindrome(self, s: str) -\u0026gt; str: s = \u0026#39;#\u0026#39; + \u0026#39;#\u0026#39;.join(list(s)) + \u0026#39;#\u0026#39; n = len(s) p = [0]*n #æ¯ä¸ªç‚¹çš„ æœ€é•¿å›æ–‡å­—ä¸² èƒ½åˆ°çš„ å³ä¾§ä½ç½® c, r = 0, 0 # å³è¾¹èƒ½åˆ°è¾¾æœ€è¿œçš„è˜‘è‡çš„ä½ç½® å’Œ å…¶æœ€å³è¾¹èƒ½è¾¾åˆ°çš„ä½ç½® for i in range(n): if i\u0026lt;=r: p[i] = min(r-i, p[c + c-i]) # ç”±å·²çŸ¥æ¡ä»¶å¾—åˆ°å½“å‰ä½ç½®èƒ½è¾¾åˆ°çš„æœ€å¤§å³ä¾§è·ç¦»( éœ€è¦å–min(é•œåƒä½ç½®çš„å€¼, å½“å‰æœ€å¤§è˜‘è‡èƒ½è¦†ç›–åˆ°çš„æœ€å¤§å€¼) ) while i+p[i]+1 \u0026lt; n and s[i-p[i]-1] == s[i+p[i]+1]: p[i]+=1 if p[i]+i \u0026gt; r: r = p[i] + i c = i ma = max(p) idx = p.index(ma) return s[idx-ma+1:idx+ma+1:2] Prompt ä¸‹é¢æˆ‘ç»™å‡ºä¸€ä¸ªé¢˜ç›®ï¼Œä»£ç å®ç°ï¼Œå’Œå¯¹é¢˜ç›®çš„æ€»ç»“å’Œå®ç°æ€è·¯ï¼Œ ä½ éœ€è¦çš„æ˜¯å­¦ä¹ æˆ‘æ˜¯å¦‚ä½•æ€»ç»“çš„ï¼Œå¦‚æœä½ çœ‹æ‡‚äº†åˆ™å›å¤æˆ‘ä½ æ‡‚äº†, ä¸ç”¨å›å¤åˆ«çš„\r\u0026#34;\u0026#34;\u0026#34;\rç»™ä½ ä¸€ä¸ª n ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªæ— ç¯è¿é€šæ— å‘å›¾ï¼‰ï¼ŒèŠ‚ç‚¹ç¼–å·ä» 0 åˆ° n - 1 ï¼Œä¸”æ°å¥½æœ‰ n - 1 æ¡è¾¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå€¼ã€‚æ ‘çš„ æ ¹èŠ‚ç‚¹ ä¸º 0 å·ç‚¹ã€‚\rç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªäºŒç»´æ•°ç»„ edges æ¥è¡¨ç¤ºè¿™æ£µæ ‘ã€‚nums[i] è¡¨ç¤ºç¬¬ i ä¸ªç‚¹çš„å€¼ï¼Œedges[j] = [uj, vj] è¡¨ç¤ºèŠ‚ç‚¹ uj å’ŒèŠ‚ç‚¹ vj åœ¨æ ‘ä¸­æœ‰ä¸€æ¡è¾¹ã€‚\rå½“ gcd(x, y) == 1 ï¼Œæˆ‘ä»¬ç§°ä¸¤ä¸ªæ•° x å’Œ y æ˜¯ äº’è´¨çš„ ï¼Œå…¶ä¸­ gcd(x, y) æ˜¯ x å’Œ y çš„ æœ€å¤§å…¬çº¦æ•° ã€‚\rä»èŠ‚ç‚¹ i åˆ° æ ¹ æœ€çŸ­è·¯å¾„ä¸Šçš„ç‚¹éƒ½æ˜¯èŠ‚ç‚¹ i çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚ä¸€ä¸ªèŠ‚ç‚¹ ä¸æ˜¯ å®ƒè‡ªå·±çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚\rè¯·ä½ è¿”å›ä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ ans ï¼Œå…¶ä¸­ ans[i]æ˜¯ç¦»èŠ‚ç‚¹ i æœ€è¿‘çš„ç¥–å…ˆèŠ‚ç‚¹ä¸”æ»¡è¶³ nums[i] å’Œ nums[ans[i]] æ˜¯ äº’è´¨çš„ ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œans[i] ä¸º -1 ã€‚\rç¤ºä¾‹ 1ï¼š\rè¾“å…¥ï¼šnums = [2,3,3,2], edges = [[0,1],[1,2],[1,3]]\rè¾“å‡ºï¼š[-1,0,0,1]\rè§£é‡Šï¼šä¸Šå›¾ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨æ‹¬å·ä¸­è¡¨ç¤ºã€‚\r- èŠ‚ç‚¹ 0 æ²¡æœ‰äº’è´¨ç¥–å…ˆã€‚\r- èŠ‚ç‚¹ 1 åªæœ‰ä¸€ä¸ªç¥–å…ˆèŠ‚ç‚¹ 0 ã€‚å®ƒä»¬çš„å€¼æ˜¯äº’è´¨çš„ï¼ˆgcd(2,3) == 1ï¼‰ã€‚\r- èŠ‚ç‚¹ 2 æœ‰ä¸¤ä¸ªç¥–å…ˆèŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯èŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 0 ã€‚èŠ‚ç‚¹ 1 çš„å€¼ä¸å®ƒçš„å€¼ä¸æ˜¯äº’è´¨çš„ï¼ˆgcd(3,3) == 3ï¼‰ä½†èŠ‚ç‚¹ 0 çš„å€¼æ˜¯äº’è´¨çš„(gcd(2,3) == 1)ï¼Œæ‰€ä»¥èŠ‚ç‚¹ 0 æ˜¯æœ€è¿‘çš„ç¬¦åˆè¦æ±‚çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚\r- èŠ‚ç‚¹ 3 æœ‰ä¸¤ä¸ªç¥–å…ˆèŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯èŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 0 ã€‚å®ƒä¸èŠ‚ç‚¹ 1 äº’è´¨ï¼ˆgcd(3,2) == 1ï¼‰ï¼Œæ‰€ä»¥èŠ‚ç‚¹ 1 æ˜¯ç¦»å®ƒæœ€è¿‘çš„ç¬¦åˆè¦æ±‚çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚\rç¤ºä¾‹ 2ï¼š\rè¾“å…¥ï¼šnums = [5,6,10,2,3,6,15], edges = [[0,1],[0,2],[1,3],[1,4],[2,5],[2,6]]\rè¾“å‡ºï¼š[-1,0,-1,0,0,0,-1]\ræç¤ºï¼š\rnums.length == n\r1 \u0026lt;= nums[i] \u0026lt;= 50\r1 \u0026lt;= n \u0026lt;= 105\redges.length == n - 1\redges[j].length == 2\r0 \u0026lt;= uj, vj \u0026lt; n\ruj != vj\rä»£ç å®ç°ï¼š\rclass Solution:\rdef getCoprimes(self, nums: List[int], edges: List[List[int]]) -\u0026gt; List[int]:\rn = len(nums)\rg = [[]*n for _ in range(n)]\rret = [-1]*n\rstore = [[] for _ in range(51)]\rmem = [(-1, -1)]*(51) for i in range(1, 51):\rfor j in range(1, 51):\rif gcd(i, j)==1:\rstore[i].append(j)\rfor u, v in edges:\rg[u].append(v)\rg[v].append(u)\rdef dfs(u, last, level):\rret[u] = max(mem[i] for i in store[nums[u]])[1]\rtmp = mem[nums[u]]\rmem[nums[u]] = (level, u)\rfor son in g[u]:\rif son==last:\rcontinue\rdfs(son, u, level+1)\rmem[nums[u]] = tmp\rdfs(0, -1, 0)\rreturn ret\r\u0026#34;\u0026#34;\u0026#34; å¥½çš„ï¼Œä½ ç°åœ¨éœ€è¦åšçš„æ˜¯ ï¼š æˆ‘ç»™ä½ å…¶ä»–é¢˜ç›®ï¼Œå¹¶ç»™å‡ºå·²ç»ACçš„ä»£ç å®ç°ï¼Œä½ éœ€è¦è¡¥å……ï¼š1ã€é¢˜ç›®å¤§æ„ 2ã€å®ç°æ€è·¯\rå¦‚æœä½ å·²ç»äº†è§£äº†æˆ‘çš„éœ€æ±‚ï¼Œè¯·å›å¤æˆ‘æ‡‚äº† ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E7%AC%94%E8%AE%B0/","summary":"LeetCodeç¬”è®° ç›®æ ‡ï¼š2500åˆ† HOT100 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å· é¢˜ç›®å¤§æ„ï¼š ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹²æ‹¬å·å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ï¼Œåˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—","title":" LeetCodeç¬”è®°"},{"content":"Linux å¿«æ·é”®ï¼š\nctrl + l æ¸…ç©ºå±å¹•\nLinuxæ–‡ä»¶ç³»ç»Ÿ FHS3.0ï¼ˆFile system Hierarchy Standardï¼‰ / etc é…ç½®æ–‡ä»¶ bin å¿…è¦å‘½ä»¤ usr äºŒçº§ç›®å½• home å®¶ç›®å½• var åŠ¨æ€æ•°æ® VFSè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ å†…æ ¸å±‚æŠ½è±¡å‡ºé€šç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ¥å£\næ”¯æŒæ–‡ä»¶ã€ç½‘ç»œã€ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿ\næŠ½è±¡å¯¹è±¡ï¼š\nè¶…çº§å¿«ï¼šæ–‡ä»¶ç³»ç»Ÿ ç›®å½•é¡¹ï¼šæ–‡ä»¶è·¯å¾„ ç´¢å¼•èŠ‚ç‚¹ï¼šå…·ä½“æ–‡ä»¶ æ–‡ä»¶ï¼šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ å±æ€§åˆ†å±‚ç»“æ„\nä¸€åˆ‡çš†æ–‡ä»¶\næ•°æ®ç›˜æŒ‚è½½ fdisk -l inode ï¼šå­˜å‚¨æ•°æ®çš„å…ƒæ•°æ®\nLinuxæ²¡æœ‰ç›˜ç¬¦çš„æ¦‚å¿µï¼Œåªæœ‰ä¸€ä¸ªæ ¹ç›®å½•/ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨å…¶ä¸‹\n/\næ ¹ç›®å½• å±‚çº§å…³ç³» å‘½ä»¤ é€šç”¨æ ¼å¼ï¼š\ncommand [-options] [parameter] command ï¼šå‘½ä»¤æœ¬èº« -optionsï¼š [å¯é€‰ï¼Œéå¿…å¡«] å‘½ä»¤çš„ä¸€äº›é€‰é¡¹ï¼Œå¯ä»¥é€šè¿‡é€‰é¡¹æ§åˆ¶å‘½ä»¤çš„è¡Œä¸ºç»†èŠ‚ parameterï¼š [å¯é€‰ï¼Œéå¿…å¡«]å‘½ä»¤çš„å‚æ•°ï¼Œå¤šæ•°ç”¨äºå‘½ä»¤çš„æŒ‡å‘ç›®æ ‡ç­‰ è¯­æ³•ä¸­[]è¡¨ç¤ºå¯é€‰\nls ls [-a -l -h] [Linuxè·¯å¾„] -a all å‰é¢å¸¦.çš„æ–‡ä»¶ä½¿éšè—æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œåªæœ‰é€šè¿‡-aé€‰é¡¹æ‰èƒ½çœ‹åˆ° -l ä»¥åˆ—è¡¨ï¼ˆç«–å‘æ’åˆ—ï¼‰ -h è¡¨ç¤ºä»¥æ˜“äºé˜…è¯»çš„å½¢å¼ï¼Œåˆ—å‡ºæ–‡ä»¶å¤§å°ï¼Œå¦‚Kï¼ŒMï¼ŒG /home/ç”¨æˆ·å\nç»„åˆä½¿ç”¨\ncd change directory\ncd [Linuxè·¯å¾„] ä¸å†™å‚æ•°å›åˆ°ç”¨æˆ·çš„HOMEç›®å½•ä¸‹\nç»å¯¹è·¯å¾„ ç›¸å¯¹è·¯å¾„ . è¡¨ç¤ºå½“å‰ç›®å½•\n.. è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•\n~ è¡¨ç¤ºHOMEç›®å½•\nmkdir åˆ›å»ºç›®å½•\nmkdir [-p] è·¯å¾„ -på¯é€‰ï¼Œåˆ›å»ºå¤šçº§ä¸å­˜åœ¨çš„ç›®å½•æ—¶ä½¿ç”¨\ntouch åˆ›å»ºæ–‡ä»¶\ntouch è·¯å¾„\ncat æŸ¥çœ‹å†…å®¹\ncat è·¯å¾„\nmore æŸ¥çœ‹å†…å®¹ï¼Œæ”¯æŒç¿»é¡µï¼Œç©ºæ ¼ç¿»é¡µï¼Œqé€€å‡º\nmore è·¯å¾„\ncp å¯ä»¥ç”¨äºå¤åˆ¶æ–‡ä»¶\\æ–‡ä»¶å¤¹\ncp [-r] å‚æ•°1 å‚æ•°2 -ré€‰é¡¹ï¼Œå¯é€‰ï¼Œç”¨äºå¤åˆ¶æ–‡ä»¶å¤¹ä½¿ç”¨ï¼Œè¡¨ç¤ºé€’å½’ å‚æ•°1ï¼ŒLinuxè·¯å¾„ï¼Œè¡¨ç¤ºè¢«å¤åˆ¶çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ å‚æ•°2ï¼ŒLinuxè·¯å¾„ï¼Œè¡¨ç¤ºè¦å¤åˆ¶å»çš„åœ°æ–¹ mv mv å‚æ•°1 å‚æ•°2 å¯ä»¥ç”¨äºæ”¹å\nrm åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹\nrm [-r -f] å‚æ•°1 å‚æ•°2 å‚æ•°n -rï¼Œ åˆ é™¤æ–‡ä»¶å¤¹ -fï¼Œforceï¼Œå¼ºåˆ¶åˆ é™¤ï¼ˆä¸ä¼šå¼¹å‡ºæç¤ºä¿¡æ¯ï¼‰ æ™®é€šç”¨æˆ·åˆ é™¤å†…å®¹ä¸ä¼šå¼¹å‡ºæç¤ºï¼Œåªæœ‰rootç®¡ç†å‘˜ç”¨æˆ·åˆ é™¤å†…å®¹ä¼šæœ‰æç¤º æ‰€ä»¥ä¸€èˆ¬æ™®é€šç”¨æˆ·ç”¨ä¸åˆ°-f å‚æ•°1ï¼Œå‚æ•°2ï¼Œ \u0026hellip;ï¼Œå‚æ•°n è¡¨ç¤ºè¦åˆ é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è·¯å¾„ï¼ŒæŒ‰ç…§ç©ºæ ¼éš”å¼€ã€‚ æ”¯æŒç”¨é€šé…ç¬¦æ¥æ¨¡ç³ŠåŒ¹é…\npwd Print Work Directory\ntree æ ‘çŠ¶ç›®å½•\nwhich Linuxå‘½ä»¤æœ¬ä½“å°±æ˜¯ä¸€ä¸ªä¸ªçš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶\nwhich å‘½ä»¤ find find èµ·å§‹è·¯å¾„ -name \u0026#34;è¢«æŸ¥æ‰¾æ–‡ä»¶å\u0026#34; find èµ·å§‹è·¯å¾„ -size + | -n[kMG] +, - è¡¨ç¤ºå¤§äºå’Œå°äº nè¡¨ç¤ºå¤§å°æ•°å­— kMGè¡¨ç¤ºå¤§å°å•ä½ï¼Œkè¡¨ç¤ºkb,Mè¡¨ç¤ºMBï¼ŒGè¡¨ç¤ºGB grep é€šè¿‡grepå‘½ä»¤ï¼Œä»æ–‡ä»¶ä¸­é€šè¿‡å…³é”®å­—è¿‡æ»¤æ–‡ä»¶è¡Œ\ngrep [-n] å…³é”®å­— æ–‡ä»¶è·¯å¾„ é€‰é¡¹ -n å¯é€‰ï¼Œè¡¨ç¤ºåœ¨ç»“æœä¸­æ˜¾ç¤ºåŒ¹é…çš„è¡Œçš„è¡Œå·\nå‚æ•°ï¼Œå…³é”®å­—ï¼Œå¿…å¡«ï¼Œè¡¨ç¤ºè¿‡æ»¤çš„å…³é”®å­—ï¼Œå¸¦æœ‰ç©ºæ ¼æˆ–å…¶å®ƒç‰¹æ®Šç¬¦å·ï¼Œå»ºè®®ä½¿ç”¨â€œ â€å°†å…³é”®å­—åŒ…å›´èµ·æ¥\nå‚æ•°ï¼Œæ–‡ä»¶è·¯å¾„ï¼Œå¿…å¡«ï¼Œè¡¨ç¤ºè¦è¿‡æ»¤å†…å®¹çš„æ–‡ä»¶è·¯å¾„ï¼Œå¯ä½œä¸ºå†…å®¹è¾“å…¥ç«¯å£\nwc wc [-c -m -l -w] æ–‡ä»¶è·¯å¾„ é€‰é¡¹ï¼Œ -cï¼Œ ç»Ÿè®¡bytesæ•°é‡ é€‰é¡¹ï¼Œ-mï¼Œç»Ÿè®¡å­—ç¬¦æ•°é‡ é€‰é¡¹ï¼Œ-lï¼Œç»Ÿè®¡è¡Œæ•° é€‰é¡¹ï¼Œ-wï¼Œç»Ÿè®¡å•è¯æ•°é‡ å‚æ•°ï¼Œæ–‡ä»¶è·¯å¾„ï¼Œ è¢«ç»Ÿè®¡çš„æ–‡ä»¶ï¼Œå¯ä½œä¸ºå†…å®¹è¾“å…¥ç«¯å£ é»˜è®¤è¡Œæ•°ã€å­—æ•°ã€å­—ç¬¦æ•°\nç®¡é“ç¬¦ å·¦ | å³ã€‚ å°†å·¦è¾¹çš„ç»“æœä½œä¸ºå³è¾¹çš„è¾“å…¥\necho å‘½ä»¤è¡Œå†…è¾“å‡ºæŒ‡å®šå†…å®¹\nåå¼•å·` åœ¨echoä¸­ï¼Œç”¨``æ‹¬èµ·æ¥è¡¨ç¤ºå‘½ä»¤ä¿¡æ¯\necho `pwd` é‡å®šå‘ç¬¦å· \u0026gt; å°†å·¦ä¾§å‘½ä»¤çš„ç»“æœï¼Œè¦†ç›–å†™å…¥åˆ°ç¬¦å·å³ä¾§æŒ‡å®šçš„æ–‡ä»¶ä¸­ \u0026gt;\u0026gt; å°†å·¦ä¾§å‘½ä»¤çš„ç»“æœï¼Œè¿½åŠ å†™å…¥åˆ°ç¬¦å·å³ä¾§æŒ‡å®šçš„æ–‡ä»¶ä¸­ tail tail [-f -num] å‚æ•° å‚æ•°ï¼Œlinuxå‘½ä»¤ï¼Œè¡¨ç¤ºè¢«è·Ÿè¸ªçš„æ–‡ä»¶è·¯å¾„ é€‰é¡¹ï¼Œ-fï¼Œè¡¨ç¤ºæŒç»­è·Ÿè¸ª é€‰é¡¹ï¼Œ-numï¼Œè¡¨ç¤ºå°¾éƒ¨å¤šå°‘è¡Œï¼Œä¸å¡«é»˜è®¤10è¡Œ awk ç¼–å†™è§„åˆ™ï¼Œæ ¹æ®è¾“å…¥çš„æ–‡æœ¬æ•°æ®æ¥æ‰§è¡Œç‰¹å®šçš„æ“ä½œ\næ‰“å°æ•´è¡Œï¼š\nawk \u0026#39;{print}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†æ‰“å°æ–‡ä»¶file.txtä¸­çš„æ¯ä¸€è¡Œã€‚\næ ¹æ®å­—æ®µè¿›è¡ŒåŒ¹é…å’Œæ“ä½œï¼š\nawk \u0026#39;$1 == \u0026#34;pattern\u0026#34; {print $2}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†æ‰“å°æ–‡ä»¶file.txtä¸­ç¬¬ä¸€ä¸ªå­—æ®µä¸º\u0026quot;pattern\u0026quot;çš„è¡Œçš„ç¬¬äºŒä¸ªå­—æ®µã€‚\nä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼š\nawk \u0026#39;/pattern/ {print}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†æ‰“å°æ–‡ä»¶file.txtä¸­åŒ…å«\u0026quot;pattern\u0026quot;çš„æ¯ä¸€è¡Œã€‚\nè®¡ç®—å­—æ®µçš„æ€»å’Œæˆ–å¹³å‡å€¼ï¼š\nawk \u0026#39;{sum+=$1} END {print \u0026#34;Sum:\u0026#34;, sum}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†è®¡ç®—æ–‡ä»¶file.txtä¸­ç¬¬ä¸€ä¸ªå­—æ®µçš„æ€»å’Œï¼Œå¹¶åœ¨æ–‡ä»¶å¤„ç†ç»“æŸæ—¶æ‰“å°å‡ºæ¥ã€‚\nè‡ªå®šä¹‰å­—æ®µåˆ†éš”ç¬¦ï¼š\nawk -F\u0026#39;,\u0026#39; \u0026#39;{print $1}\u0026#39; file.csv è¿™ä¸ªå‘½ä»¤å°†ä½¿ç”¨é€—å·ä½œä¸ºå­—æ®µåˆ†éš”ç¬¦ï¼Œå¹¶æ‰“å°æ–‡ä»¶file.csvä¸­çš„æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—æ®µã€‚\nä½¿ç”¨å†…ç½®å‡½æ•°ï¼š\nawk \u0026#39;{print toupper($1)}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†å°†æ–‡ä»¶file.txtä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µè½¬æ¢ä¸ºå¤§å†™å¹¶æ‰“å°å‡ºæ¥ã€‚\nè¿‡æ»¤å¹¶å¤„ç†æ–‡ä»¶å†…å®¹ï¼š\nawk \u0026#39;$3 \u0026gt; 10 {print $1, $2 * $3}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†æ‰“å°æ–‡ä»¶file.txtä¸­ç¬¬ä¸‰ä¸ªå­—æ®µå¤§äº10çš„è¡Œçš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå­—æ®µçš„ä¹˜ç§¯ã€‚\nè‡ªå®šä¹‰è¾“å‡ºæ ¼å¼ï¼š\nawk \u0026#39;{printf \u0026#34;%-10s %-5s\\n\u0026#34;, $1, $2}\u0026#39; file.txt è¿™ä¸ªå‘½ä»¤å°†æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼æ‰“å°æ–‡ä»¶file.txtä¸­çš„æ¯ä¸€è¡Œçš„å‰ä¸¤ä¸ªå­—æ®µã€‚\nVim å‘½ä»¤æ¨¡å¼ i : åœ¨å½“å‰å…‰æ ‡ä½ç½®è¿›å…¥è¾“å…¥æ¨¡å¼\na : åœ¨å½“å‰å…‰æ ‡ä½ç½® ä¹‹å è¿›å…¥è¾“å…¥æ¨¡å¼\nI ï¼š åœ¨å½“å‰è¡Œçš„å¼€å¤´ï¼Œè¿›å…¥è¾“å…¥æ¨¡å¼\nA ï¼š åœ¨å½“å‰è¡Œçš„ç»“å°¾ï¼Œè¿›å…¥è¾“å…¥æ¨¡å¼\no : åœ¨å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œè¿›å…¥è¾“å…¥æ¨¡å¼\nO ï¼š åœ¨å½“å‰è¡Œçš„ä¸Šä¸€è¡Œè¿›å…¥è¾“å…¥æ¨¡å¼\n0 : ç§»åŠ¨å…‰æ ‡è‡³å¼€å¤´\n$ : ç§»åŠ¨ç»™å…‰æ ‡è‡³è¡Œç»“å°¾\npageup : å‘ä¸Šç¿»é¡µ\npagedown : å‘ä¸‹ç¿»é¡µ\n/ ï¼š è¿›å…¥æœç´¢æ¨¡å¼\nn : å‘ä¸‹ç»§ç»­æœç´¢\nN : å‘ä¸Šç»§ç»­æœç´¢\ndd ï¼š åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„è¡Œ\nndd : næ˜¯æ•°å­—ï¼Œè¡¨ç¤ºåˆ é™¤å½“å‰å…‰æ ‡å‘ä¸‹nè¡Œ\nyy : å¤åˆ¶å½“å‰è¡Œ\nnyy ï¼š å¤åˆ¶å½“å‰è¡Œå’Œä¸‹é¢çš„nè¡Œ\np : ç²˜è´´å¤åˆ¶çš„å†…å®¹\nu : æ’¤é”€ä¿®æ”¹\nctrl + r ï¼š åå‘æ’¤é”€ä¿®æ”¹\ngg ï¼š è·³åˆ°é¦–è¡Œ\nG ï¼š è·³åˆ°å°¾è¡Œ\ndG : ä»å½“å‰è¡Œå¼€å§‹ï¼Œå‘ä¸‹å…¨éƒ¨åˆ é™¤\ndgg ï¼š ä»å½“å‰è¡Œå¼€å§‹ï¼Œå‘ä¸Šå…¨éƒ¨åˆ é™¤\ndS : ä»å½“å‰å…‰æ ‡å¼€å§‹ï¼Œåˆ é™¤åˆ°æœ¬è¡Œçš„ç»“å°¾\nd0 ï¼š ä»å½“å‰å…‰æ ‡å¼€å§‹ï¼Œåˆ é™¤åˆ°æœ¬è¡Œçš„å¼€å¤´\nåº•çº¿å‘½ä»¤æ¨¡å¼ : wq ä¿å­˜å¹¶é€€å‡º q ä»…é€€å‡º\nq! å¼ºåˆ¶é€€å‡º\n:w ä»…ä¿å­˜\n:set nu æ˜¾ç¤ºè¡Œå·\n:set paste è®¾ç½®ç²˜è´´æ¨¡å¼\nLinuxæƒé™å’Œç”¨æˆ· su su [-] [ç”¨æˆ·å] sudo æ™®é€šç”¨æˆ·ä½¿ç”¨sudoä½¿ç”¨rootæƒé™\nç”¨æˆ·ä¸ç”¨æˆ·ç»„\nç”¨æˆ·å’Œç”¨æˆ·ç»„ groupadd åˆ›å»ºç”¨æˆ·ç»„ groupdel ç”¨æˆ·ç»„å useradd [-g -d] ç”¨æˆ·å é€‰é¡¹ï¼š -gæŒ‡å®šç”¨æˆ·çš„ç»„ï¼Œä¸æŒ‡å®š-gï¼Œä¼šåˆ›å»ºåŒåç»„åŠ å…¥ï¼ŒæŒ‡å®š-géœ€è¦ç»„å·²ç»å­˜åœ¨ï¼Œå¦‚å·²å­˜åœ¨åŒåç»„ï¼Œå¿…é¡»ä½¿ç”¨-gã€‚ é€‰é¡¹ï¼š -dæŒ‡å®šç”¨æˆ·HOMEè·¯å¾„ï¼Œä¸æŒ‡å®šï¼ŒHOMEç›®å½•é»˜è®¤åœ¨ï¼š /home/ç”¨æˆ·å userdel [-r] ç”¨æˆ·å é€‰é¡¹ï¼š-rï¼Œåˆ é™¤ç”¨æˆ·çš„HOMEç›®å½•ï¼Œä¸ä½¿ç”¨-rï¼Œåˆ é™¤ç›®å½•æ—¶ï¼ŒHOMEç›®å½•ä¿ç•™ id [ç”¨æˆ·å] å‚æ•°ï¼šç”¨æˆ·åï¼Œè¢«æŸ¥çœ‹çš„ç”¨æˆ·ï¼Œå¦‚æœä¸æä¾›åˆ™æŸ¥çœ‹è‡ªèº«ã€‚ usermod -aG ç”¨æˆ·ç»„ ç”¨æˆ·å å°†æŒ‡å®šç”¨æˆ·åŠ å…¥æŒ‡å®šç”¨æˆ·ç»„ getent passwd\rgetent group ä½¿ç”¨getentå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿå†…æœ‰é‚£äº›å‘½ä»¤\nä¸ƒä»½ä¿¡æ¯ï¼š\nç”¨æˆ·å ï¼š å¯†ç ï¼ˆXï¼‰ ï¼š ç”¨æˆ·ID ï¼š ç»„ID ï¼š æè¿°ä¿¡æ¯ï¼ˆæ— ç”¨ï¼‰ ï¼š HOMEç›®å½• ï¼š æ‰§è¡Œç»ˆç«¯ï¼ˆé»˜è®¤bashï¼‰\næŸ¥çœ‹æƒé™ç®¡æ§ä¿¡æ¯ æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æ§åˆ¶ä¿¡æ¯\næ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ‰€å±ç”¨æˆ·\næ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ‰€å±ç”¨æˆ·ç»„\nç¬¬ä¸€ä¸ªdè¡¨ç¤ºæ–‡ä»¶å¤¹ æ‰€å±ç”¨æˆ· æ‰€æœ‰ç”¨æˆ·ç»„ æ‰€å±å…¶ä»–ç”¨æˆ· rä»£è¡¨è¯» æ–‡ä»¶å¤¹è¡¨ç¤ºå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å¤¹å†…å®¹ wä»£è¡¨å†™ æ–‡ä»¶å¤¹è¡¨ç¤ºå¯ä»¥åœ¨æ–‡ä»¶å¤¹å†…ï¼šåˆ›å»ºï¼Œåˆ é™¤ï¼Œæ”¹åç­‰æ“ä½œ xä»£è¡¨å¯æ‰§è¡Œæƒé™ï¼Œé’ˆå¯¹æ–‡ä»¶è¡¨ç¤ºå¯ä»¥å°†æ–‡ä»¶ä½œä¸ºç¨‹åºæ‰§è¡Œ é’ˆå¯¹æ–‡ä»¶å¤¹ï¼Œè¡¨ç¤ºå¯ä»¥æ›´æ”¹å·¥ä½œç›®å½•åˆ°æ­¤æ–‡ä»¶å¤¹ï¼Œå³cdè¿›å…¥ chmod ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚\nchmod u = rwx, g = rx, o = x hello.txt -Ré€‰é¡¹å¯ä»¥å°†æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶å¤¹å†…å…¨éƒ¨å†…å®¹æƒé™è®¾ç½®ä¸ºï¼šrwxrwxrwx\nchmod -R u=rwx, g=rwx, o=rwx hello.tx ä½¿ç”¨æ•°å­—åºå·\nchmod 751 hello.txt chown æ›´æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„ã€‚\nchown [-R] [ç”¨æˆ·] [:] [ç”¨æˆ·ç»„] æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ é€‰é¡¹ï¼Œ-Rï¼ŒåŒchmodï¼Œå¯¹æ–‡ä»¶å¤¹å†…å…¨éƒ¨å†…å®¹åº”ç”¨ç›¸åŒè§„åˆ™ é€‰é¡¹ï¼Œç”¨æˆ·ï¼Œä¿®æ”¹æ‰€å±ç”¨æˆ· é€‰é¡¹ï¼Œç”¨æˆ·ç»„ï¼Œä¿®æ”¹æ‰€å±ç”¨æˆ·ç»„ ï¼š ç”¨äºåˆ†éš”ç”¨æˆ·å’Œç”¨æˆ·ç»„ æ™®é€šç”¨æˆ·æ— æ³•ä½¿ç”¨ï¼Œåªèƒ½ç”¨rootç”¨æˆ·\nLinuxä½¿ç”¨æ“ä½œ å¿«æ·é”®ï¼š ctrl + c å¼ºåˆ¶åœæ­¢,é€€å‡ºå½“å‰å‘½ä»¤è¾“å…¥ ctrl + d é€€å‡ºè´¦æˆ·çš„ç™»å½• history æŸ¥çœ‹å†å²è¾“å…¥çš„å‘½ä»¤ !æœç´¢å†å²å‘½ä»¤ï¼Œè‡ªåŠ¨åŒ¹é…ï¼Œä¾‹å¦‚ï¼py ctrl + aï¼Œè·³åˆ°å‘½ä»¤å¼€å¤´ ctrl + eï¼Œè·³åˆ°å‘½ä»¤ç»“å°¾ ctrl + é”®ç›˜å·¦é”®ï¼Œ å‘å·¦è·³ä¸€ä¸ªå•è¯ ctrl + é”®ç›˜å³é”®ï¼Œ å‘å³è·³ä¸€ä¸ªå•è¯ ctrl + l æ¸…ç©ºç»ˆç«¯å†…å®¹ clear æ¸…ç©ºç»ˆç«¯å†…å®¹ è½¯ä»¶å®‰è£… yum ï¼š RPMè½¯ä»¶ç®¡ç†å™¨ï¼Œç”¨äºè‡ªåŠ¨åŒ–å®‰è£…é…ç½®Linuxè½¯ä»¶ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨è§£å†³ä¾èµ–é—®é¢˜ã€‚\nyum [-y] [install | remove | search] è½¯ä»¶åç§° -y è‡ªåŠ¨ç¡®è®¤ï¼Œæ— éœ€æ‰‹åŠ¨ç¡®è®¤å®‰è£…æˆ–å¸è½½è¿‡ç¨‹ yumå‘½ä»¤éœ€è¦rootæƒé™ï¼Œå¯ä»¥suåˆ‡æ¢åˆ°rootï¼Œæˆ–ä½¿ç”¨sudoæƒé™ï¼Œyumå‘½ä»¤éœ€è¦è”ç½‘\nUbuntu apt [-y] [install | remove | search] wget systemctl systemctl start | stop | status | enable | disable æœåŠ¡å NetworkManager, ä¸»ç½‘ç»œæœåŠ¡ newwork, å‰¯ç½‘ç»œæœåŠ¡ firewalld , é˜²ç«å¢™æœåŠ¡ sshd, sshæœåŠ¡ï¼ˆFinalShellè¿œç¨‹ç™»å½•Linuxä½¿ç”¨çš„å°±æ˜¯æ­¤æœåŠ¡ï¼‰ é™¤äº†å†…ç½®çš„æœåŠ¡ä»¥å¤–ï¼Œéƒ¨åˆ†ç¬¬ä¸‰æ–¹è½¯ä»¶å®‰è£…åä¹Ÿå¯ä»¥ç”¨systemctlè¿›è¡Œæ§åˆ¶\nè½¯é“¾æ¥ åœ¨ç³»ç»Ÿä¸­åˆ›å»ºè½¯é“¾æ¥ï¼Œå¯ä»¥å°†æ–‡ä»¶ã€æ–‡ä»¶å¤¹é“¾æ¥åˆ°å…¶ä»–ä½ç½®ã€‚ç±»ä¼¼å¿«æ·æ–¹å¼\nln -s å‚æ•°1 å‚æ•°2 -s ï¼Œåˆ›å»ºè½¯é“¾æ¥ å‚æ•°1 ï¼š è¢«é“¾æ¥çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ å‚æ•°2 ï¼š è¦é“¾æ¥å»çš„ç›®çš„åœ° æ—¥æœŸï¼Œæ—¶åŒº date [-d] [+æ ¼å¼åŒ–å­—ç¬¦ä¸²] -dæŒ‰ç…§ç»™å®šçš„å­—ç¬¦ä¸²æ˜¾ç¤ºæ—¥æœŸï¼Œä¸€èˆ¬ç”¨äºæ—¥æœŸè®¡ç®—\næ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š é€šè¿‡ç‰¹å®šçš„å­—ç¬¦ä¸²æ ‡è®°ï¼Œæ¥æ§åˆ¶æ˜¾ç¤ºçš„æ—¥æœŸæ ¼å¼\n%Y ï¼Œ å¹´ %y,ï¼Œ å¹´ä»½åä¸¤ä½æ•°å­—ï¼ˆ00ï¼Œ99ï¼‰ %M æœˆä»½ ï¼ˆ01ï¼Œ12ï¼‰ %d æ—¥(01,31) %H å°æ—¶ï¼ˆ00ï¼Œ23ï¼‰ %M åˆ†é’Ÿï¼ˆ00ï¼Œ59ï¼‰ %S ç§’ï¼ˆ00ï¼Œ59ï¼‰ %s è‡ª1970-01-01 00:00:00åˆ°ç°åœ¨çš„ç§’æ•° ä½¿ç”¨-dæ”¯æŒçš„æ—¶é—´æ ‡è®°ï¼š(åŒæ ·æ”¯æŒæ ¼å¼åŒ–å­—ç¬¦ä¸²)\nyear å¹´ month æœˆ day å¤© hour å°æ—¶ minute åˆ†é’Ÿ second ç§’ ntp å¯ä»¥è‡ªåŠ¨è”ç½‘åŒæ­¥æ—¶é—´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ntp -u ntp.aliyun.com æ‰‹åŠ¨æ ¡å‡†æ—¶é—´\nIPåœ°å€ DHCP : åŠ¨æ€è·å–IPåœ°å€ï¼Œå³æ¯æ¬¡é‡å¯è®¾å¤‡åéƒ½ä¼šè·å–ä¸€æ¬¡ï¼Œå¯èƒ½å¯¼è‡´IPåœ°å€é¢‘ç¹å˜æ›´\næ¯ä¸€å°è”ç½‘çš„ç”µè„‘éƒ½ä¼šæœ‰ä¸€ä¸ªåœ°å€ï¼Œç”¨äºå’Œå…¶ä»–è®¡ç®—æœºè¿›è¡Œé€šä¿¡ï¼ŒIPåœ°å€ä¸»è¦æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼ŒV4å’ŒV6ç‰ˆæœ¬\nIPv4çš„åœ°å€æ ¼å¼ä¸ºa.b.c.dï¼Œå…¶ä¸­abcdè¡¨ç¤º0~255çš„æ•°å­—ï¼Œå¦‚192.168.88.101\né€šè¿‡ipconfigæŸ¥çœ‹æœ¬æœºçš„IPåœ°å€ã€‚\n127.0.0.1è¡¨ç¤ºæœ¬æœº\n0.0.0.0\nå¯ä»¥ç”¨äºæŒ‡ä»£æœ¬æœº å¯ä»¥åœ¨ç«¯å£ç»‘å®šä¸­ç”¨æ¥ç¡®å®šç»‘å®šå…³ç³» åœ¨ä¸€äº›IPåœ°å€ä¸­ï¼Œè¡¨ç¤ºæ‰€æœ‰IPçš„æ„æ€ï¼Œå¦‚æ”¾è¡Œè§„åˆ™è®¾ç½®ä¸º0.0.0.0ï¼Œè¡¨ç¤ºå…è®¸ä»»æ„IPè®¿é—® ä¸»æœºå hostname ä¿®æ”¹ä¸»æœºå\nhostnamectl set-hostname name åŸŸåè§£æ ping å¯ä»¥é€šè¿‡pingå‘½ä»¤æ¥æ£€æŸ¥æŒ‡å®šçš„ç½‘ç»œæœåŠ¡å™¨æ˜¯å¦æ˜¯å¯è”é€šçš„ã€‚\nping [-c num] ipæˆ–ä¸»æœºå é€‰é¡¹ï¼Œ -cï¼Œæ£€æŸ¥çš„æ¬¡æ•°ï¼Œä¸é€‚ç”¨-cé€‰é¡¹ï¼Œå°†æ— é™æ¬¡æ•°æŒç»­æ£€æŸ¥ å‚æ•°ï¼šipæˆ–ä¸»æœºåï¼Œè¢«æ£€æŸ¥çš„æœåŠ¡å™¨çš„ipåœ°å€æˆ–ä¸»æœºååœ°å€ wget éäº¤äº’å¼çš„æ–‡ä»¶ä¸‹è½½å™¨ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œå†…ä¸‹è½½ç½‘ç»œæ–‡ä»¶\nwget [-b] url é€‰é¡¹ ï¼š -b ï¼Œåå°ä¸‹è½½ï¼Œä¼šå°†æ—¥å¿—å†™å…¥åˆ°å½“å‰å·¥ä½œç›®å½•çš„wget-logæ–‡ä»¶ å‚æ•°ï¼šurlï¼Œä¸‹è½½é“¾æ¥ curl å‘é€httpç½‘ç»œè¯·æ±‚ï¼Œå¯ç”¨äºä¸‹è½½æ–‡ä»¶ï¼Œè·å–ä¿¡æ¯ç­‰\ncurl [-O] url é€‰é¡¹ï¼š-Oï¼Œç”¨äºä¸‹è½½æ–‡ä»¶ï¼Œå½“urlæ˜¯ä¸‹è½½é“¾æ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹ä¿å­˜æ–‡ä»¶ å‚æ•°ï¼šurlï¼Œè¦å‘èµ·è¯·æ±‚çš„ç½‘ç»œåœ°å€ ç«¯å£ ç«¯å£ï¼Œæ˜¯è®¾å¤‡ä¸å¤–ç•Œé€šè®¯äº¤æµçš„å‡ºå…¥å£ï¼Œç«¯å£å¯ä»¥åˆ†ä¸ºç‰©ç†ç«¯å£å’Œè™šæ‹Ÿç«¯å£\nç‰©ç†ç«¯å£ï¼šåˆå¯ç§°ä¹‹ä¸ºæ¥å£ï¼Œæ˜¯å¯è§çš„ç«¯å£ï¼Œå¦‚USBæ¥å£ï¼ŒRJ45ç½‘å£ï¼ŒHDMIç«¯å£ç­‰ è™šæ‹Ÿç«¯å£ï¼šæ˜¯æŒ‡è®¡ç®—æœºå†…éƒ¨çš„ç«¯å£ï¼Œæ˜¯ä¸å¯è§çš„ï¼Œæ˜¯ç”¨æ¥æ“ä½œç³»ç»Ÿå’Œå¤–éƒ¨è¿›è¡Œäº¤äº’ä½¿ç”¨çš„ Linuxæ”¯æŒ65535ä¸ªç«¯å£ï¼Œåˆ†ä¸º3ç±»è¿›è¡Œä½¿ç”¨ï¼š\nå…¬è®¤ç«¯å£ï¼š1~1023ï¼Œé€šå¸¸ç”¨äºä¸€äº›ç³»ç»Ÿå†…ç½®æˆ–çŸ¥åç¨‹åºçš„é¢„ç•™ä½¿ç”¨ï¼Œå¦‚SSHæœåŠ¡çš„22ç«¯å£ï¼ŒHTTPSæœåŠ¡çš„443ç«¯å£ï¼Œéç‰¹æ®Šéœ€è¦ï¼Œä¸è¦å ç”¨è¿™ä¸ªèŒƒå›´çš„ç«¯å£ æ³¨å†Œç«¯å£ï¼š1024~49151ï¼Œé€šå¸¸å¯ä»¥éšæ„ä½¿ç”¨ï¼Œç”¨äºæ¾æ•£çš„ç»‘å®šä¸€äº›ç¨‹åº/æœåŠ¡ åŠ¨æ€ç«¯å£ï¼š49152~65535ï¼Œé€šå¸¸ä¸ä¼šå›ºå®šç»‘å®šç¨‹åºï¼Œè€Œæ˜¯å½“ç¨‹åºå¯¹å¤–è¿›è¡Œç½‘ç»œé“¾æ¥æ—¶ï¼Œç”¨äºä¸´æ—¶ä½¿ç”¨ã€‚ è¿›ç¨‹ç®¡ç† ps [-e -f] -e æ˜¾ç¤ºå‡ºå…¨éƒ¨çš„è¿›ç¨‹ -f ä»¥å®Œå…¨æ ¼å¼åŒ–çš„å½¢å¼å±•ç¤ºä¿¡æ¯ï¼ˆå±•ç¤ºå…¨éƒ¨ä¿¡æ¯ï¼‰ ä¸€èˆ¬æ¥è¯´ï¼Œå›ºå®šç”¨æ³•å°±æ˜¯ ps -ef åˆ—å‡ºå…¨éƒ¨è¿›ç¨‹çš„å…¨éƒ¨ä¿¡æ¯ UID ï¼š è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·ID\nPID ï¼š è¿›ç¨‹çš„è¿›ç¨‹å·ID\nPPID ï¼š è¿›ç¨‹çš„çˆ¶IDï¼ˆå¯åŠ¨æ­¤è¿›ç¨‹çš„å…¶ä»–è¿›ç¨‹ï¼‰\nC ï¼š æ­¤è¿›ç¨‹çš„CPUå ç”¨ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰\nSTIME ï¼š è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´\nTTY ï¼š å¯åŠ¨æ­¤è¿›ç¨‹çš„ç»ˆç«¯åºå·ï¼Œå¦‚æœæ˜¾ç¤ºï¼Ÿï¼Œè¡¨ç¤ºéç»ˆç«¯å¯åŠ¨\nTIME ï¼š è¿›ç¨‹å¯ç”¨CPUçš„æ—¶é—´\nCMD ï¼š è¿›ç¨‹å¯¹åº”çš„åç§°æˆ–å¯åŠ¨è·¯å¾„å’Œå¯åŠ¨å‘½ä»¤\nå…³é—­è¿›ç¨‹ kill -9 è¿›ç¨‹ID -9, è¡¨ç¤ºå¼ºåˆ¶å…³é—­è¿›ç¨‹ï¼Œä¸é€‚ç”¨æ­¤é€‰é¡¹ä¼šå‘è¿›ç¨‹å‘é€ä¿¡å·è¦æ±‚å…¶å…³é—­ï¼Œä½†æ˜¯å¦å…³é—­çœ‹è¿›ç¨‹è‡ªèº«çš„å¤„ç†æœºåˆ¶ ä¸»æœºçŠ¶æ€ æŸ¥çœ‹CPUï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µ\ntop ç¬¬ä¸€è¡Œ ï¼š\ntop ï¼š å‘½ä»¤åç§°\n14ï¼š08 ï¼š23 å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œup 6minï¼šå¯åŠ¨äº†å…­åˆ†é’Ÿ\n2 users : 2ä¸ªç”¨æˆ·ç™»å½•ï¼Œ load ï¼š15åˆ†é’Ÿè´Ÿè½½\nç¬¬äºŒè¡Œï¼š\nTasks : 175ä¸ªè¿›ç¨‹ 1 running : 1ä¸ªå­è¿›ç¨‹åœ¨è¿è¡Œ\n174 sleeping : 174ä¸ªè¿›ç¨‹ç¡çœ ï¼Œ0ä¸ªåœæ­¢è¿›ç¨‹ï¼Œ 0ä¸ªåƒµå°¸è¿›ç¨‹\nç¬¬ä¸‰è¡Œï¼š\n%Cpu(s) : CPUä½¿ç”¨ç‡ï¼Œusï¼šç”¨æˆ·CPUä½¿ç”¨ç‡ï¼Œsy ï¼šç³»ç»ŸCPUä½¿ç”¨ç‡ï¼Œniï¼šé«˜ä¼˜å…ˆçº§è¿›ç¨‹å ç”¨CPUæ—¶é—´ç™¾åˆ†æ¯”ï¼Œidï¼šç©ºé—²CPUç‡ï¼Œwaï¼šIOç­‰å¾…CPUå ç”¨ç‡ï¼Œhiï¼šCPUç¡¬ä»¶ä¸­æ–­ç‡ï¼Œsiï¼šCPUè½¯ä»¶ä¸­æ–­ç‡ï¼Œstï¼šå¼ºåˆ¶ç­‰å¾…å ç”¨CPUç‡\nç¬¬å››ã€äº”è¡Œ\nKib Mem : ç‰©ç†å†…å­˜ï¼Œtotal : æ€»é‡ï¼Œ free : ç©ºé—²ï¼Œ used ï¼š ä½¿ç”¨ï¼Œ buff/cache : buffå’Œcacheå ç”¨\nKibSwap : è™šæ‹Ÿå†…å­˜ï¼ˆäº¤æ¢ç©ºé—´ï¼‰ï¼Œtotal : æ€»é‡ï¼Œfree : ç©ºé—²ï¼Œusedï¼šä½¿ç”¨ï¼Œbuff/cache : buffå’Œcacheå ç”¨\nPID ï¼š è¿›ç¨‹ID USER ï¼š è¿›ç¨‹æ‰€å±ç”¨æˆ· PR ï¼š è¿›ç¨‹ä¼˜å…ˆçº§ï¼Œè¶Šå°è¶Šå¥½ NI ï¼š è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£è¡¨ç¤ºä½ä¼˜å…ˆçº§ VIRT ï¼š è¿›ç¨‹ä½¿ç”¨è™šæ‹Ÿå†…å­˜ï¼Œå•ä½KB RES ï¼š è¿›ç¨‹ä½¿ç”¨ç‰©ç†å†…å­˜ï¼Œå•ä½KB SHR ï¼š è¿›ç¨‹ä½¿ç”¨å…±äº«å†…å­˜ï¼Œ å•ä½KB S ï¼š è¿›ç¨‹çŠ¶æ€(Sä¼‘çœ ï¼ŒRè¿è¡Œï¼ŒZåƒµæ­»çŠ¶æ€ï¼ŒNè´Ÿæ•°ä¼˜å…ˆçº§ï¼ŒIç©ºé—²çŠ¶æ€) %CPU ï¼š è¿›ç¨‹å ç”¨CPUç‡ %MEMï¼š è¿›ç¨‹å ç”¨å†…å­˜ç‡ TIME+ ï¼š è¿›ç¨‹ä½¿ç”¨CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½10æ¯«ç§’ COMMAND ï¼š è¿›ç¨‹çš„å‘½ä»¤æˆ–åç§°æˆ–ç¨‹åºæ–‡ä»¶è·¯å¾„ -p : åªæ˜¾ç¤ºæŸä¸ªè¿›ç¨‹ä¿¡æ¯ -d : è®¾ç½®åˆ·æ–°æ—¶é—´ï¼Œé»˜è®¤ä¸º5s -c : æ˜¾ç¤ºäº§ç”Ÿè¿›ç¨‹çš„å®Œæ•´å‘½ä»¤ï¼Œé»˜è®¤æ˜¯è¿›ç¨‹å -n : åˆ¶å®šåˆ·æ–°æ¬¡æ•°ï¼Œæ¯”å¦‚ top -n 3 æ˜¯æ–°è¾“å‡ºä¸‰æ¬¡åé€€å‡º -b : ä»¥éäº¤äº’éå…¨å±æ¨¡å¼è¿è¡Œï¼Œä»¥æ‰¹æ¬¡çš„æ–¹å¼æ‰§è¡Œtopï¼Œä¸€èˆ¬é…åˆ-nåˆ¶å®šè¾“å‡ºå‡ æ¬¡ç»Ÿè®¡ä¿¡æ¯ï¼Œå°†è¾“å‡ºé‡å®šå‘åˆ°åˆ¶å®šæ–‡ä»¶ï¼Œæ¯”å¦‚ top -b -n 3 \u0026gt; /tmp/top.tmp -i : ä¸æ˜¾ç¤ºä»»ä½•é—²ç½®ï¼ˆidleï¼‰æˆ–æ— ç”¨çš„è¿›ç¨‹ -u ï¼š æŸ¥æ‰¾ç‰¹å®šç”¨æˆ·å¯åŠ¨çš„è¿›ç¨‹ topä»¥äº¤äº’å¼è¿è¡Œï¼š\nh ï¼š æŒ‰ä¸‹hé”®ï¼Œä¼šæ˜¾ç¤ºå¸®åŠ©ç”»é¢ c ï¼š æŒ‰ä¸‹cé”®ï¼Œä¼šæ˜¾ç¤ºäº§ç”Ÿè¿›ç¨‹çš„å®Œæ•´å‘½ä»¤ï¼Œç­‰åŒäº-cå‚æ•° f ï¼š å¯ä»¥é€‰æ‹©éœ€è¦å±•ç¤ºçš„é¡¹ç›® M ï¼š æ ¹æ®é©»ç•™å†…å­˜å¤§å°ï¼ˆRESï¼‰æ’åº T ï¼š æ ¹æ®CPUä½¿ç”¨ç™¾åˆ†æ¯”å¤§å°è¿›è¡Œæ’åº T ï¼š æ ¹æ®æ—¶é—´/ç´¯è®¡æ—¶é—´è¿›è¡Œæ’åº E ï¼š åˆ‡æ¢é¡¶éƒ¨å†…å­˜æ˜¾ç¤ºå•ä½ e ï¼š åˆ‡æ¢è¿›ç¨‹å†…å­˜æ˜¾ç¤ºå•ä½ l ï¼š åˆ‡æ¢æ˜¾ç¤ºå¹³å‡è´Ÿè½½å’Œå¯åŠ¨æ—¶é—´ä¿¡æ¯ i ï¼š ä¸æ˜¾ç¤ºé—²ç½®æˆ–æ— ç”¨çš„è¿›ç¨‹ï¼Œç­‰åŒäº-iå‚æ•° t ï¼š åˆ‡æ¢æ˜¾ç¤ºCPUçŠ¶æ€ä¿¡æ¯ m ï¼š åˆ‡æ¢æ˜¾ç¤ºå†…å­˜ä¿¡æ¯ ç¡¬ç›˜ä½¿ç”¨æƒ…å†µï¼š\ndf -h -hï¼Œ ä»¥æ›´åŠ äººæ€§åŒ–çš„å•ä½æ˜¾ç¤º ç£ç›˜ä¿¡æ¯ç›‘æ§ï¼š\niostat [-x] [num1] [num2] ç½‘ç»œçŠ¶æ€ç›‘æ§ï¼š\nå¯ä»¥ä½¿ç”¨sarå‘½ä»¤æŸ¥çœ‹ç½‘ç»œçš„ç›¸å…³ç»Ÿè®¡ sar -n DEV num1 num2 -n æŸ¥çœ‹ç½‘ç»œï¼ŒDEVè¡¨ç¤ºæŸ¥çœ‹ç½‘ç»œæ¥å£ num1 : åˆ·æ–°é—´éš”ï¼ˆä¸å¡«å°±æŸ¥çœ‹ä¸€æ¬¡é˜¶æ•°ï¼‰num2 : æŸ¥çœ‹æ¬¡æ•°ï¼ˆä¸å¡«æ— é™æ¬¡æ•°ï¼‰ ç¯å¢ƒå˜é‡ ç¯å¢ƒå˜é‡æ˜¯ä¸€ç»„ä¿¡æ¯è®°å½•ï¼Œç±»å‹æ˜¯Key Valueç±»å‹ï¼ˆåç§°=å€¼ï¼‰ï¼Œç”¨äºæ“ä½œç³»ç»Ÿè¿è¡Œçš„æ—¶å€™è®°å½•å…³é”®ä¿¡æ¯\nenv æŸ¥çœ‹ç¯å¢ƒå˜é‡\nç¯å¢ƒå˜é‡ï¼š PATHï¼Œé€šè¿‡$å–å‡ºç¯å¢ƒå˜é‡çš„å€¼\nç¯å¢ƒå˜é‡PATHä¼šè®°å½•ä¸€ç»„ç›®å½•ï¼Œç›®å½•ä¹‹é—´ç”¨ï¼šéš”å¼€ã€‚è®°å½•çš„æ˜¯å‘½ä»¤çš„æœç´¢è·¯å¾„ã€‚å½“æ‰§è¡Œå‘½ä»¤ä¼šä»è®°å½•ä¸­è®°å½•çš„ç›®å½•ä¸­æŒ¨ä¸ªæœç´¢è¦æ‰§è¡Œçš„å‘½ä»¤å¹¶æ‰§è¡Œ\nå¯ä»¥é€šè¿‡è¿™ä¸ªé¡¹ç›®çš„å€¼ï¼ŒåŠ å…¥è‡ªå®šä¹‰çš„å‘½ä»¤æœç´¢è·¯å¾„\nå¦‚\nexport PATH = $PATH ä¿®æ”¹ç¯å¢ƒå˜é‡\nä¸´æ—¶ç”Ÿæ•ˆ ï¼š export åç§°= å€¼ æ°¸ä¹…ç”Ÿæ•ˆ é’ˆå¯¹ç”¨æˆ· ï¼š ~/bashrcæ–‡ä»¶ä¸­é…ç½® é’ˆå¯¹å…¨éƒ¨ç”¨æˆ· æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ é€šè¿‡finalShellæˆ–è€…xshell ä¸Šä¼ æˆ–ä¸‹è½½ï¼Œæ‹–åŠ¨\nå‹ç¼©å’Œè§£å‹ .tar ç§°ä¹‹ä¸ºtarballï¼Œå¯¹å…šæ–‡ä»¶ï¼Œå³ç®€å•çš„å°†æ–‡ä»¶ç»„è£…åˆ°ä¸€ä¸ª.tarçš„æ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å¤ªå¤šæ–‡ä»¶ä½“ç§¯çš„å‡å°‘ï¼Œä»…ä»…æ˜¯ç®€å•çš„å°è£… .gzï¼Œä¹Ÿå¸¸è§ä¸º.tar.gzï¼Œgzipæ ¼å¼å‹ç¼©æ–‡ä»¶ï¼Œå³ä½¿ç”¨gzipå‹ç¼©ç®—æ³•å°†æ–‡ä»¶å‹ç¼©åˆ°ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œå¯ä»¥æå¤§çš„å‡å°‘å‹ç¼©åçš„ä½“ç§¯ tar [-c -v -x -f -z -C] å‚æ•°1 å‚æ•°2 ... å‚æ•°N -c åˆ›å»ºå‹ç¼©æ–‡ä»¶ï¼Œç”¨äºå‹ç¼©æ¨¡å¼ -v æ˜¾ç¤ºå‹ç¼©ï¼Œè§£å‹è¿‡ç¨‹ï¼Œç”¨äºæŸ¥çœ‹è¿›åº¦ -x è§£å‹æ¨¡å¼ -f è¦åˆ›å»ºçš„æ–‡ä»¶ï¼Œæˆ–è€…è¦è§£å‹çš„æ–‡ä»¶ï¼Œ-fé€‰é¡¹å¿…é¡»åœ¨æ‰€æœ‰é€‰é¡¹ä¸­ä½ç½®å¤„äºæœ€åä¸€ä¸ª -z gzipæ¨¡å¼ï¼Œä¸é€‚ç”¨-zå°±æ˜¯æ™®é€šçš„tarballæ¨¡å¼ -C é€‰æ‹©è§£å‹çš„ç›®çš„åœ°ï¼Œç”¨äºè§£å‹æ¨¡å¼ zip [-r] å‚æ•° -r å‹ç¼©æ–‡ä»¶å¤¹ä½¿ç”¨ unzip unzip [-d] å‚æ•°\n-d åˆ¶å®šè§£å‹çš„ç›®å½• Mysql wget --no-check-certificate https: /dlcdn.apache.org/tomcat/tomcat10/v10.0.27/bin/apache-tomcat-10.0.27.tar.gz Redis ElasticSearch Tomcat Nginx RabbitMq ","permalink":"https://kennems.github.io/zh/posts/tech/linux/","summary":"Linux å¿«æ·é”®ï¼š ctrl + l æ¸…ç©ºå±å¹• Linuxæ–‡ä»¶ç³»ç»Ÿ FHS3.0ï¼ˆFile system Hierarchy Standardï¼‰ / etc é…ç½®æ–‡ä»¶ bin å¿…è¦å‘½ä»¤ usr äºŒçº§ç›®å½• home å®¶ç›®å½• var åŠ¨æ€æ•°æ® VF","title":" Linux"},{"content":"æ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰ 2009. ä½¿æ•°ç»„è¿ç»­çš„æœ€å°‘æ“ä½œæ•° é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå¯èƒ½æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯ä»¥ä¿®æ”¹æ•°ç»„ä¸­å€¼ä¸ºä»»æ„å…¶ä»–å€¼ï¼Œé—®ä½¿æ•°ç»„è¿ç»­çš„æœ€å°æ“ä½œæ•°ã€‚\næ€è·¯ï¼šç”±äºåªèƒ½æ”¹åŠ¨å…ƒç´ ï¼Œæ‰€ä»¥æœ€åçš„å…ƒç´ ä¸ªæ•°ä¸å˜ï¼Œå»é‡åï¼Œæšä¸¾æ¯ä¸ªå€¼ä½œä¸ºå·¦ç«¯ç‚¹ï¼Œåˆ™å³ç«¯ç‚¹ä¸ºnums[i]+n-1, ç”¨åŒæŒ‡é’ˆè®¡ç®—åœ¨åŒºé—´å†…çš„å…ƒç´ ä¸ªæ•°å³ä¸ºå¯ä»¥ä¿ç•™çš„æ•°å­—ï¼Œå…¶ä»–æ•°å­—ä¿®æ”¹å…ƒç´ å€¼å¡«æ»¡ç©ºéš™å³å¯ã€‚\nclass Solution: def minOperations(self, nums: List[int]) -\u0026gt; int: n = len(nums) nums = sorted(set(nums)) j, ans = 0, 0 for i in range(len(nums)): right = nums[i]+ n-1 if len(nums)-1 - i + 1 \u0026lt;= ans: break while j\u0026lt;len(nums) and nums[j]\u0026lt;=right: j+=1 ans = max(ans, j-i) return n-ans 1600. ç‹ä½ç»§æ‰¿é¡ºåº é¢˜æ„ï¼šå›½ç‹ç»§æ‰¿æ¬¡åºæŒ‰å«¡é•¿å­æ¬¡åºï¼Œå®ç°ThroneInheritance(string kingName)åˆå§‹åŒ–,void birth(string parentName, string childName) å‡ºç”Ÿï¼Œvoid death(string name)äººæ­»äº¡ï¼Œstring[] getInheritanceOrder() è¿”å› é™¤å» æ­»äº¡äººå‘˜çš„å½“å‰ç»§æ‰¿é¡ºåºåˆ—è¡¨ã€‚\næ€è·¯ï¼šç±»ä¼¼æ ‘å½¢ç»“æ„ï¼Œå›½ç‹å…ˆç»§æ‰¿ï¼Œä¹‹åæ˜¯å›½ç‹çš„é•¿å­ï¼Œä¹‹åæ˜¯é•¿å­çš„é•¿å­ï¼Œ å¦‚æœä¸å­˜åœ¨åˆ™ä¸ºå›½ç‹çš„æ¬¡å­ä»¥æ­¤ç±»æ¨ï¼Œ æ‰€ä»¥å¯ä»¥ç”¨defaultdict()å­˜å‚¨æ¯ä¸ªçš„å„¿å­æƒ…å†µï¼Œç„¶åæŸ¥è¯¢æ—¶ï¼Œå…ˆå°†è‡ªå·±å…¥ç»“æœåˆ—è¡¨ï¼Œç„¶åæ˜¯ç¬¬ä¸€ä¸ªå„¿å­\u0026hellip;ï¼›å¹¶è®°å½•æ¯ä¸ªäººçš„å­˜æ´»æƒ…å†µï¼Œæ’é™¤æ‰å·²ç»æ­»æ‰çš„äººã€‚\nclass ThroneInheritance: def __init__(self, kingName: str): self.son = defaultdict(list) self.die = set() self.king = kingName def birth(self, parentName: str, childName: str) -\u0026gt; None: self.son[parentName].append(childName) def death(self, name: str) -\u0026gt; None: self.die.add(name) def getInheritanceOrder(self) -\u0026gt; List[str]: ret = [] def dfs(root): if root not in self.die: ret.append(root) for child in self.son[root]: dfs(child) dfs(self.king) return ret 1483. æ ‘èŠ‚ç‚¹çš„ç¬¬ K ä¸ªç¥–å…ˆ é¢˜æ„ï¼šç»™å®šnä¸ªç‚¹(0~n-1)æ¯ä¸ªç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ï¼Œå¿«é€ŸæŸ¥è¯¢æ¯ä¸ªèŠ‚ç‚¹çš„ç¬¬kä¸ªç¥–å®—èŠ‚ç‚¹ã€‚\næ€è·¯ï¼šLCAå€å¢åŸç†ï¼Œ$ancestor[j][i] = ancestor[ ancestor[j][i-1] ][i-1]$ èŠ‚ç‚¹jçš„ç¬¬$2^i$ä¸ªç¥–å®—èŠ‚ç‚¹ä¸ºèŠ‚ç‚¹ç¬¬$2^{i-1}$ä¸ªç¥–å®—çš„ç¬¬$2^{i-1}$ä¸ªç¥–å®—ï¼Œå³$2^{i-1}*2$ä¸ªç¥–å®—èŠ‚ç‚¹ï¼Œ æ‰€ä»¥å…ˆé¢„å¤„ç†å¥½æ¯ä¸ªèŠ‚ç‚¹çš„å„ä¸ªäºŒè¿›åˆ¶ä½ä¸Šçš„ç¥–å®—èŠ‚ç‚¹æ˜¯è°ï¼Œä¹‹ååˆ†è§£äºŒè¿›åˆ¶ä½æ®å¯ä»¥å¾—çŸ¥ä»»æ„ç¬¬kä¸ªç¥–å®—èŠ‚ç‚¹æ˜¯è°ã€‚\nclass TreeAncestor: def __init__(self, n: int, parent: List[int]): self.level = 16 self.ancestor = [[-1]*self.level for _ in range(n)] for i in range(1, n): self.ancestor[i][0] = parent[i] for i in range(1, self.level): for j in range(1, n): if self.ancestor[j][i-1]!=-1: self.ancestor[j][i] = self.ancestor[ self.ancestor[j][i-1] ][i-1] def getKthAncestor(self, node: int, k: int) -\u0026gt; int: while k: t = k\u0026amp;-k k -= t t = t.bit_length()-1 node = self.ancestor[node][t] if node==-1: return -1 return node é¢è¯•é¢˜ 08.12. å…«çš‡å é¢˜ç›®å¤§æ„ï¼š\nè¿™é“é¢˜ç›®æ˜¯ç»å…¸çš„å…«çš‡åé—®é¢˜çš„æ‰©å±•ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥æ‰“å° N çš‡ååœ¨ N Ã— N æ£‹ç›˜ä¸Šçš„å„ç§æ‘†æ³•ï¼Œå…¶ä¸­æ¯ä¸ªçš‡åéƒ½ä¸åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—ï¼Œä¹Ÿä¸åœ¨ä»»ä½•å¯¹è§’çº¿ä¸Šã€‚\nå®ç°æ€è·¯ï¼š\nå›æº¯ç®—æ³•ï¼š\nä½¿ç”¨å›æº¯ç®—æ³•æ¥å°è¯•æ‰€æœ‰å¯èƒ½çš„çš‡åæ‘†æ”¾æ–¹å¼ã€‚ ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œä¾æ¬¡å°è¯•æ¯ä¸€åˆ—æ”¾ç½®çš‡åï¼Œç„¶åç»§ç»­é€’å½’åœ°å°è¯•ä¸‹ä¸€è¡Œçš„æ”¾ç½®ï¼Œç›´åˆ°æ‰€æœ‰è¡Œéƒ½æ”¾ç½®å®Œæ¯•ã€‚ åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æ£€æŸ¥æ¯ä¸ªä½ç½®çš„åˆ—ã€ä¸»å¯¹è§’çº¿å’Œå‰¯å¯¹è§’çº¿æ˜¯å¦å·²ç»å­˜åœ¨çš‡åæ¥ç¡®å®šæ˜¯å¦å¯ä»¥æ”¾ç½®çš‡åã€‚ ç”Ÿæˆæ£‹ç›˜ï¼š\nå½“ç¡®å®šäº†ä¸€ç§åˆæ³•çš„çš‡åæ‘†æ”¾æ–¹å¼æ—¶ï¼Œå°†å…¶è½¬æ¢ä¸ºæ£‹ç›˜çš„å½¢å¼ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚ å¯¹äºæ¯è¡Œä¸­çš‡åçš„ä½ç½®ï¼Œç”¨ \u0026lsquo;Q\u0026rsquo; è¡¨ç¤ºï¼Œå…¶ä»–ä½ç½®ç”¨ \u0026lsquo;.\u0026rsquo; è¡¨ç¤ºã€‚ è¾…åŠ©å‡½æ•°ï¼š\nsolve: é€’å½’å‡½æ•°ï¼Œå°è¯•åœ¨æ¯è¡Œæ”¾ç½®çš‡åã€‚ generate: å°†åˆæ³•çš„çš‡åæ‘†æ”¾æ–¹å¼è½¬æ¢ä¸ºæ£‹ç›˜å½¢å¼å¹¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚ å‰ªæä¼˜åŒ–ï¼š\nä½¿ç”¨ä½è¿ç®—æ¥è¡¨ç¤ºåˆ—ã€ä¸»å¯¹è§’çº¿å’Œå‰¯å¯¹è§’çº¿çš„å ç”¨æƒ…å†µï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­æŸä¸ªä½ç½®æ˜¯å¦å¯ä»¥æ”¾ç½®çš‡åï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ åœ¨æ¯æ¬¡é€’å½’æ—¶ï¼Œåˆ©ç”¨ä½è¿ç®—è¿›è¡Œå‰ªæï¼Œæ’é™¤ä¸å¯èƒ½çš„ä½ç½®ã€‚ class Solution: def solveNQueens(self, n: int) -\u0026gt; List[List[str]]: def generate(): board = [] for r in range(n): c = pos[r] row[c] = \u0026#39;Q\u0026#39; board.append(\u0026#34;\u0026#34;.join(row)) row[c] = \u0026#39;.\u0026#39; ret.append(board) def solve(row, column, diag1, diag2): if row==n: generate() else: avail = ( (1\u0026lt;\u0026lt;n)-1) \u0026amp; ( ~(column|diag1|diag2) ) while avail: colPos = avail\u0026amp;(-avail) avail -= colPos colNum = bin(colPos-1).count(\u0026#34;1\u0026#34;) pos[row]=colNum solve(row+1, column|colPos, (diag1|colPos)\u0026lt;\u0026lt;1, (diag2|colPos)\u0026gt;\u0026gt;1) pos = [0]*n ret = [] row = [\u0026#39;.\u0026#39;]*n solve(0, 0, 0, 0) return ret 1702. ä¿®æ”¹åçš„æœ€å¤§äºŒè¿›åˆ¶å­—ç¬¦ä¸² é¢˜æ„ï¼šç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²00-\u0026gt;10, 10-\u0026gt;01é—®ä»»æ„æ¬¡æ“ä½œåèƒ½è¾¾åˆ°çš„æœ€å¤§äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚\næ€è·¯ï¼šæ„é€ ï¼Œæ ¹æ®æ¡ä»¶æ¨è¿‡ç¨‹ï¼Œ10-\u0026gt;01å¯ä»¥çœ‹ä½œåé¢çš„0æµ®åˆ°å‰é¢ï¼Œæ‰€æœ‰çš„0èšåˆ°ä¸€èµ·å¯ä»¥å˜æˆ10ä¸²ï¼Œæ‰€ä»¥æœ€åè‡³å¤šåªæœ‰ä¸€ä¸ª0ã€‚æ ¹æ®æ„é€ æ¥åšï¼Œç»Ÿè®¡ç¬¬ä¸€ä¸ª0çš„ä½ç½®å’Œ0çš„ä¸ªæ•°ï¼Œæœ€åæ„é€ å‡ºæœ€åçš„0çš„ä½ç½®ï¼›åŒæŒ‡é’ˆæ¥åšï¼šé‡åˆ°0æ—¶æ‰¾åˆ°åé¢ç¬¬ä¸€ä¸ª0çš„ä½ç½®ï¼Œå°†å…¶æµ®åˆ°æ—è¾¹ï¼Œå¹¶æ¢æˆ10ã€‚\næ„é€ ï¼š\nclass Solution: def maximumBinaryString(self, binary: str) -\u0026gt; str: cnt = binary.count(\u0026#39;0\u0026#39;) if cnt\u0026lt;=1: return binary n = len(binary) ans = [\u0026#39;1\u0026#39;]*n index = binary.index(\u0026#39;0\u0026#39;) ans[index+cnt-1]=\u0026#39;0\u0026#39; return \u0026#39;\u0026#39;.join(ans) åŒæŒ‡é’ˆï¼š\nclass Solution: def maximumBinaryString(self, binary: str) -\u0026gt; str: n = len(binary) s = list(binary) j = 0 for i in range(n): if s[i]==\u0026#39;0\u0026#39;: while j\u0026lt;=i or (j\u0026lt;n and s[j]==\u0026#39;1\u0026#39;): j+=1 if j\u0026lt;n: s[i], s[j], s[i+1] = \u0026#39;1\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;0\u0026#39; return \u0026#39;\u0026#39;.join(s) 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ é¢˜æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ†åˆ«ä¸¤ä¸ªä¸€ç»„äº¤æ¢ç›¸å¯¹ä½ç½®ã€‚\næ€è·¯ï¼šé“¾è¡¨äº¤æ¢nextæŒ‡é’ˆæ“ä½œï¼Œprev-\u0026gt;A-\u0026gt;B-\u0026gt;Cå˜æˆprev-\u0026gt;B-\u0026gt;A-\u0026gt;Cï¼Œä¸€å…±è¦å˜ä¸‰æ¡è¾¹ã€‚éœ€è¦è®°å½•å‰é¢çš„ç‚¹ï¼Œåé¢çš„ç‚¹ã€‚\nclass Solution: def swapPairs(self, head: Optional[ListNode]) -\u0026gt; Optional[ListNode]: dummy = head prev = None while head and head.next: tmp = head.next.next #A-\u0026gt;B å˜æˆ B-\u0026gt;A nxt = head.next #nxtæ˜¯B, headæ˜¯A nxt.next = head head.next = tmp if prev: prev.next = nxt prev = nxt.next #æ˜¯å¤´èŠ‚ç‚¹(å³æ²¡æœ‰å‰é¢çš„ç‚¹)çš„æ—¶å€™ä¸éœ€è¦è¿™ä¸€æ­¥ if dummy==head: dummy = nxt prev = nxt.next head = tmp return dummy 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ é¢˜æ„ï¼šæ¯éš”kä¸ªæ•°å­—ç¿»è½¬é“¾è¡¨ã€‚\næ€è·¯ï¼šé“¾è¡¨äº¤æ¢æŒ‡é’ˆæ“ä½œã€‚\n# Definition for singly-linked list. # class ListNode: # def __init__(self, val=0, next=None): # self.val = val # self.next = next class Solution: def reverseKGroup(self, head: Optional[ListNode], k: int) -\u0026gt; Optional[ListNode]: def reverse(head, tail): # A-\u0026gt;B-\u0026gt;C å˜æˆ C-\u0026gt;B-\u0026gt;A cur = tail.next dummy = head while cur != tail: nxt = dummy.next dummy.next = cur cur = dummy dummy = nxt return tail, head # åŸæ¥çš„tailå’Œheadä½ç½®æ²¡å˜ï¼Œä½†ä¸­é—´ç‚¹çš„æŒ‡å‘å…³ç³»å˜äº† hair = ListNode(-1) # ä¼ªå¤´èŠ‚ç‚¹ hair.next = head pre = hair while head: tail = pre for i in range(k): # èµ°è¿‡kä¸ªç‚¹ tail = tail.next if not tail: return hair.next head, tail = reverse(head, tail) pre.next = head # pre-\u0026gt;C pre = tail # preå˜æˆå°¾èŠ‚ç‚¹ head = tail.next # å¤´èŠ‚ç‚¹å˜æˆå½“å‰å°¾èŠ‚ç‚¹çš„ä¸‹ä¸ªä¸€ä¸ªèŠ‚ç‚¹ return hair.next 1766. äº’è´¨æ ‘ é¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘0~n-1å…±nä¸ªèŠ‚ç‚¹ï¼Œ æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå€¼ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„ æœ€è¿‘çš„ ä¸è‡ªå·±äº’è´¨çš„(gcd(a,b)=1) ç¥–å®—èŠ‚ç‚¹çš„ç¼–å·ã€‚å€¼çš„èŒƒå›´ä¸º[1,50] æ€è·¯ï¼šDFSï¼Œ éå†ä¸€éæ ‘ï¼Œç»´æŠ¤ä¸€ä¸ªç¥–å®—èŠ‚ç‚¹çš„åˆ—è¡¨ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹ä¸ç¥–å®—èŠ‚ç‚¹çš„äº’è´¨å…³ç³»ã€‚ä½†æœ´ç´ çš„å°†æ‰€æœ‰çš„ç¥–å®—èŠ‚ç‚¹éƒ½åŠ å…¥åˆ—è¡¨ä¸­ï¼Œåˆ°æ·±å±‚çš„å­èŠ‚ç‚¹æ—¶ä¼šéå†æ•´ä¸ªåˆ—è¡¨ï¼Œä¼šè¶…æ—¶ã€‚ç”±äºå€¼çš„èŒƒå›´æœ€å¤§ä¸º50ï¼Œæ‰€ä»¥å¯ä»¥å…ˆé¢„å¤„ç†50èŒƒå›´ä»¥å†…çš„äº’è´¨å…³ç³»ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œåªéœ€è¦åˆ¤æ–­ç¥–å®—èŠ‚ç‚¹é‡Œé¢æœ‰æ²¡æœ‰è¿™äº›äº’è´¨çš„æ•°å³å¯ï¼Œä½†æ˜¯éœ€è¦çš„æ˜¯æœ€è¿‘çš„ç¥–å®—èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿˜è¦æ·»åŠ ä¸€ä¸ªæ·±åº¦ä¿¡æ¯ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨ç›¸åŒå€¼çš„ç¥–å®—èŠ‚ç‚¹ä¸­é€‰æ‹©ç¦»è‡ªå·±æœ€è¿‘çš„ç¥–å®—èŠ‚ç‚¹ã€‚ class Solution: def getCoprimes(self, nums: List[int], edges: List[List[int]]) -\u0026gt; List[int]: n = len(nums) g = [[]*n for _ in range(n)] ret = [-1]*n store = [[] for _ in range(51)] mem = [(-1, -1)]*(51) for i in range(1, 51): for j in range(1, 51): if gcd(i, j)==1: store[i].append(j) for u, v in edges: g[u].append(v) g[v].append(u) def dfs(u, last, level): ret[u] = max(mem[i] for i in store[nums[u]])[1] tmp = mem[nums[u]] mem[nums[u]] = (level, u) for son in g[u]: if son==last: continue dfs(son, u, level+1) mem[nums[u]] = tmp dfs(0, -1, 0) return ret 924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±nä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨n x nä¸ªé‚»æ¥çŸ©é˜µå›¾graphè¡¨ç¤ºã€‚èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨ç›´æ¥è¿æ¥å½“ä¸”ä»…å½“graph[i][j] = 1ã€‚ä¸€äº›èŠ‚ç‚¹initialæœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ä¸”è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹è¢«æ„ŸæŸ“ï¼Œåˆ™ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ„ŸæŸ“ã€‚ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹åï¼Œè¿”å›ä½¿å¾—æ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°æœ€å°çš„èŠ‚ç‚¹ï¼Œè‹¥æœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å›ç´¢å¼•æœ€å°çš„èŠ‚ç‚¹ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆä½¿ç”¨å¹¶æŸ¥é›†å°†èŠ‚ç‚¹åˆ†ç»„ï¼Œç„¶åè®¡ç®—æ¯ä¸ªåˆ†ç»„çš„å¤§å°å’Œå…¶ä¸­æ„ŸæŸ“èŠ‚ç‚¹çš„æ•°é‡ã€‚éå†initialåˆ—è¡¨ï¼Œæ‰¾åˆ°ä½¿å¾—å…¶æ‰€åœ¨åˆ†ç»„ä¸­åªæœ‰ä¸€ä¸ªæ„ŸæŸ“èŠ‚ç‚¹ä¸”åˆ†ç»„å¤§å°æœ€å¤§çš„èŠ‚ç‚¹ï¼Œè¿”å›å…¶ç´¢å¼•ã€‚\nclass Solution: def minMalwareSpread(self, g: List[List[int]], initial: List[int]) -\u0026gt; int: n, m = len(g), len(initial) f = [i for i in range(n)] size = [1 for _ in range(n)] # è¿é€šå—å†…çš„ç‚¹æ•° num = [0 for _ in range(n)] # è¿é€šå—å†…çš„æ„ŸæŸ“ç‚¹æ•° for x in initial: num[x]=1 def find(x): if f[x] != x: f[x] = find(f[x]) return f[x] for i in range(n): for j in range(i+1, n): if g[i][j]: fi, fj = find(i), find(j) if fi!=fj: f[fi] = fj num[fj] += num[fi] size[fj] += size[fi] ma = -1 initial.sort() idx = initial[0] for x in initial: if num[find(x)]==1 and size[find(x)]\u0026gt;ma: ma = size[find(x)] idx = x return idx 928. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ II é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±nä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨n x nä¸ªé‚»æ¥çŸ©é˜µgraphè¡¨ç¤ºã€‚èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨ç›´æ¥è¿æ¥å½“ä¸”ä»…å½“graph[i][j] = 1ã€‚ä¸€äº›èŠ‚ç‚¹initialæœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ä¸”è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹è¢«æ„ŸæŸ“ï¼Œåˆ™ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ„ŸæŸ“ã€‚ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹åŠå…¶è¿æ¥åï¼Œè¿”å›ç§»é™¤åèƒ½ä½¿æ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°æœ€å°çš„èŠ‚ç‚¹ï¼Œè‹¥æœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å›ç´¢å¼•æœ€å°çš„èŠ‚ç‚¹ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆé€šè¿‡å¹¶æŸ¥é›†å°†ä¸åœ¨initialä¸­çš„èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ï¼Œç„¶åè®¡ç®—æ¯ä¸ªinitialèŠ‚ç‚¹çš„ç›´æ¥æ„ŸæŸ“èŠ‚ç‚¹æ•°ã€‚æœ€åé€‰æ‹©ä½¿å¾—æ„ŸæŸ“èŠ‚ç‚¹æ•°æœ€å°ä¸”ç´¢å¼•æœ€å°çš„initialèŠ‚ç‚¹è¿”å›ã€‚\nclass Solution: def minMalwareSpread(self, g: List[List[int]], initial: List[int]) -\u0026gt; int: n = len(g) def find(x): if f[x] != x: f[x] = find(f[x]) return f[x] f = [i for i in range(n)] source = [[] for _ in range(n)] cnt = [0]*n init = [0]*n for i in initial: init[i] = 1 for i in range(n): if init[i]: continue for j in range(n): if init[j] or not g[i][j]: continue fi, fj = find(i), find(j) if fi!=fj: f[fi] = fj for x in initial: infected = [0]*n for j in range(n): if not g[x][j] or init[j] or infected[find(j)]: continue infected[find(j)] = 1 for j in range(n): if infected[j]: source[j].append(x) for i in range(n): if len(source[i])==1: root = source[i][0] for j in range(n): if find(i)==find(j): # æ˜¯ä¸€ä¸ªè¿é€šå— cnt[root]+=1 idx = initial[0] for x in initial: if cnt[x]\u0026gt;cnt[idx] or (cnt[x]==cnt[idx] and x\u0026lt;idx): idx = x return idx 2007. ä»åŒå€æ•°ç»„ä¸­è¿˜åŸåŸæ•°ç»„ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ changedï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼æ„é€ åŸå§‹æ•°ç»„ originalï¼šå°† changed ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2ï¼Œå¹¶å°†ç»“æœéšæœºæ‰“ä¹±ï¼Œç„¶åè¿”å›åŸå§‹æ•°ç»„ originalã€‚å¦‚æœæ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆåˆ¤æ–­æ•°ç»„ changed çš„é•¿åº¦æ˜¯å¦ä¸ºå¶æ•°ï¼Œå¦‚æœä¸æ˜¯å¶æ•°ï¼Œåˆ™æ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œç›´æ¥è¿”å›ç©ºæ•°ç»„ã€‚æ¥ç€ä½¿ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ•°ç»„ changed ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åéå†æ•°ç»„ changedï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  iï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ i çš„ä¸¤å€çš„å…ƒç´ ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™å°† i å’Œå…¶ä¸¤å€çš„å…ƒç´ éƒ½ä»å­—å…¸ä¸­å‡å»ä¸€ä¸ªï¼Œå¹¶å°† i åŠ å…¥ç»“æœæ•°ç»„ä¸­ã€‚æœ€ååˆ¤æ–­ç»“æœæ•°ç»„çš„é•¿åº¦æ˜¯å¦è¾¾åˆ°äº†åŸå§‹æ•°ç»„çš„ä¸€åŠï¼Œå¦‚æœè¾¾åˆ°äº†åˆ™è¿”å›ç»“æœæ•°ç»„çš„å‰ä¸€åŠï¼Œå¦åˆ™è¿”å›ç©ºæ•°ç»„ã€‚\nclass Solution: def findOriginalArray(self, changed: List[int]) -\u0026gt; List[int]: n = len(changed) if n\u0026amp;1: return [] d = defaultdict(int) res = [] cnt = 0 changed.sort() for i in changed: d[i]+=1 for i in changed: if not d[i]: continue x = i*2 if i==x: # 0*2 = 0 d[x]-=1 if d[x]: d[x]-=1 # åŒ¹é…æˆåŠŸ cnt+=1 res.append(i) else: if d[x]: d[x]-=1 # åŒ¹é…æˆåŠŸ d[i]-=1 cnt+=1 res.append(i) if cnt\u0026gt;=n//2: return res[:n//2] return [] å®ç°æ€è·¯ï¼šé¦–å…ˆä½¿ç”¨ Counter ç»Ÿè®¡æ•°ç»„ changed ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åå°†å­—å…¸ä¸­é”®ä¸º 0 çš„å…ƒç´ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰å¼¹å‡ºï¼Œå› ä¸ºåŸå§‹æ•°ç»„ä¸­ä¸å¯èƒ½æœ‰ 0ã€‚æ¥ç€åˆ¤æ–­å­—å…¸ä¸­é”®ä¸º 0 çš„å…ƒç´ å‡ºç°æ¬¡æ•°æ˜¯å¦ä¸ºå¶æ•°ï¼Œå¦‚æœä¸æ˜¯å¶æ•°åˆ™æ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œç›´æ¥è¿”å›ç©ºæ•°ç»„ã€‚ç„¶ååˆå§‹åŒ–ä¸€ä¸ªç”± 0 ç»„æˆçš„æ•°ç»„ ansï¼Œé•¿åº¦ä¸º cnt_0 çš„ä¸€åŠã€‚æ¥ä¸‹æ¥éå†å­—å…¸ä¸­çš„é”®å€¼å¯¹ï¼Œå¯¹äºæ¯ä¸ªé”® xï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¶ä¸€åŠçš„é”®å€¼å¯¹ï¼Œå¹¶å°† x åŠ å…¥ç»“æœæ•°ç»„ ans ä¸­ç›¸åº”æ¬¡æ•°ã€‚æœ€åè¿”å›ç»“æœæ•°ç»„ ansã€‚\nclass Solution: def findOriginalArray(self, changed: List[int]) -\u0026gt; List[int]: cnt = Counter(changed) cnt_0 = cnt.pop(0, 0) if cnt_0\u0026amp;1: return [] ans = [0]*(cnt_0//2) for x in cnt: if x%2==0 and cnt[x//2]: continue while x in cnt: if cnt[2*x]\u0026lt;cnt[x]: return [] ans.extend([x]*(cnt[x])) if cnt[2*x]\u0026gt;cnt[x]: cnt[2*x]-=cnt[x] x*=2 else: x*=4 return ans 1883. å‡†æ—¶æŠµè¾¾ä¼šè®®ç°åœºçš„æœ€å°è·³è¿‡ä¼‘æ¯æ¬¡æ•° é¢˜ç›®å¤§æ„ï¼šé¢˜ç›®ç»™å‡ºäº†ä¸€ç»„é“è·¯çš„é•¿åº¦å’Œè¡Œé©¶é€Ÿåº¦ï¼Œä»¥åŠå‰©ä½™å¯ç”¨æ—¶é—´ã€‚è¦æ±‚è®¡ç®—åœ¨ç»™å®šçš„æ—¶é—´å†…ï¼Œæœ€å°‘è·³è¿‡ä¼‘æ¯æ¬¡æ•°ï¼Œä»¥å‡†æ—¶æŠµè¾¾ä¼šè®®ç°åœºã€‚\nå®ç°æ€è·¯ï¼šåŠ¨æ€è§„åˆ’ã€‚ä½¿ç”¨äºŒç»´æ•°ç»„dp[i][j]è¡¨ç¤ºåˆ°è¾¾ç¬¬iæ¡è·¯ï¼Œè·³è¿‡jæ¬¡ä¼‘æ¯çš„æœ€å°è·ç¦»ã€‚åˆå§‹åŒ–dpæ•°ç»„ï¼Œç„¶åéå†æ¯ä¸€æ¡è·¯ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­æ›´æ–°dpæ•°ç»„ã€‚æœ€åæ£€æŸ¥æ˜¯å¦æœ‰æ–¹æ¡ˆå¯ä»¥åœ¨è§„å®šæ—¶é—´å†…åˆ°è¾¾ä¼šè®®ç°åœºï¼Œå¦‚æœæœ‰ï¼Œè¿”å›è·³è¿‡ä¼‘æ¯çš„æœ€å°æ¬¡æ•°ï¼Œå¦åˆ™è¿”å›-1ã€‚\nclass Solution: def minSkips(self, dist: List[int], speed: int, hoursBefore: int) -\u0026gt; int: n = len(dist) if sum(dist) \u0026gt; hoursBefore * speed: return -1 dp = [[inf] * (n + 1) for _ in range(n + 1)] dp[0][0] = 0 for i in range(1, n): for j in range(i+1): # åˆ°ç¬¬iæ¡è·¯ï¼Œè·³è¿‡æ¬¡æ•°ä¸ºjçš„æœ€å°è·ç¦» # ä¸è·³è¿‡ç¬¬ i æ¡è·¯ dp[i][j] = min(dp[i][j], (dp[i-1][j] + dist[i-1] + speed -1)//speed*speed) # è·³è¿‡ç¬¬ i æ¡è·¯ if j: dp[i][j] = min(dp[i][j], dp[i - 1][j -1] + dist[i-1]) for j in range(n): # å¯ä»¥è·³0~n-1æ¬¡(æœ€åä¸€æ¡è¾¹ä¸ç”¨è·³) if dp[n-1][j]+dist[-1] \u0026lt;= hoursBefore * speed: return j return -1 39. ç»„åˆæ€»å’Œ é¢˜ç›®å¤§æ„ ï¼šç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° targetï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„æ‰€æœ‰ä¸åŒç»„åˆï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚å¯ä»¥æ— é™åˆ¶é‡å¤é€‰æ‹© candidates ä¸­çš„åŒä¸€ä¸ªæ•°å­—ã€‚\nå®ç°æ€è·¯ ï¼š\nä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰è¿›è¡Œç»„åˆæœç´¢ã€‚ å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° dfs(i, s)ï¼Œå…¶ä¸­ i è¡¨ç¤ºå½“å‰éå†åˆ°çš„ candidates æ•°ç»„çš„ç´¢å¼•ï¼Œs è¡¨ç¤ºå½“å‰å·²ç»é€‰å–çš„æ•°å­—çš„å’Œã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œå¦‚æœ s å¤§äºç­‰äº target æˆ–è€…å·²ç»éå†åˆ°æ•°ç»„æœ«å°¾ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹åˆ¤æ–­ï¼š å¦‚æœ s ç­‰äº targetï¼Œåˆ™å°†å½“å‰çš„ç»„åˆ ls åŠ å…¥ç»“æœåˆ—è¡¨ ret ä¸­ã€‚ å¦‚æœ s å¤§äº target æˆ–è€…å·²ç»éå†åˆ°æ•°ç»„æœ«å°¾ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œåˆ†åˆ«å°è¯•ä¸¤ç§æƒ…å†µï¼š ä¸é€‰æ‹©å½“å‰æ•°å­—ï¼Œç»§ç»­å‘åæœç´¢ï¼šdfs(i+1, s)ã€‚ é€‰æ‹©å½“å‰æ•°å­—ï¼Œç»§ç»­å‘åæœç´¢ï¼šå°†å½“å‰æ•°å­—åŠ å…¥ç»„åˆ ls ä¸­ï¼Œæ›´æ–° sï¼Œå¹¶é€’å½’è°ƒç”¨ dfs(i, s+c[i])ã€‚ åœ¨é€’å½’è°ƒç”¨ä¹‹åï¼Œéœ€è¦å°†å½“å‰é€‰æ‹©çš„æ•°å­—ä»ç»„åˆ ls ä¸­å¼¹å‡ºï¼Œä¿è¯ä¸å½±å“åç»­æœç´¢ã€‚ æœ€ç»ˆè¿”å›ç»“æœåˆ—è¡¨ retã€‚ class Solution: def combinationSum(self, c: List[int], t: int) -\u0026gt; List[List[int]]: n = len(c) ret, ls = [], [] def dfs(i, s): if s\u0026gt;=t or i==n: if s==t: ret.append(ls[:]) return dfs(i+1, s) ls.append(c[i]) dfs(i, s+c[i]) ls.pop() dfs(0, 0) return ret 216. ç»„åˆæ€»å’Œ III é¢˜ç›®å¤§æ„ï¼šæ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸ºnçš„kä¸ªæ•°çš„ç»„åˆï¼Œè¦æ±‚ä½¿ç”¨æ•°å­—1åˆ°9ï¼Œæ¯ä¸ªæ•°å­—æœ€å¤šä½¿ç”¨ä¸€æ¬¡ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆç»„åˆçš„åˆ—è¡¨ã€‚åˆ—è¡¨ä¸èƒ½åŒ…å«ç›¸åŒçš„ç»„åˆä¸¤æ¬¡ï¼Œç»„åˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„æ–¹æ³•ï¼Œä»1åˆ°9çš„æ•°å­—ä¸­è¿›è¡Œéå†ï¼Œæ¯æ¬¡é€‰æ‹©ä¸€ä¸ªæ•°å­—æˆ–ä¸é€‰æ‹©ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ä¸ºæ­¢ã€‚é€’å½’è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨lsï¼Œè®°å½•å½“å‰å·²é€‰æ•°å­—çš„é›†åˆï¼Œå¦‚æœå½“å‰é›†åˆçš„æ•°å­—ä¸ªæ•°ç­‰äºkä¸”å®ƒä»¬çš„å’Œç­‰äºnï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retä¸­ã€‚\nclass Solution: def combinationSum3(self, k: int, n: int) -\u0026gt; List[List[int]]: ret, ls = [], [] def dfs(i, s, cnt): if i==10 or s\u0026gt;=n or cnt\u0026gt;=k: if s==n and cnt==k: ret.append(ls[:]) return dfs(i+1, s, cnt) ls.append(i) dfs(i+1, s+i, cnt+1) ls.pop() dfs(1, 0, 0) return ret 377. ç»„åˆæ€»å’Œ â…£ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±ä¸åŒæ•´æ•°ç»„æˆçš„æ•°ç»„numså’Œä¸€ä¸ªç›®æ ‡æ•´æ•°targetï¼Œè¦æ±‚ä»numsä¸­æ‰¾å‡ºæ€»å’Œä¸ºtargetçš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚ä½¿ç”¨é€’å½’+è®°å¿†åŒ–æœç´¢ï¼ˆMemoizationï¼‰çš„æ–¹æ³•æ¥è§£å†³ã€‚å®šä¹‰dfså‡½æ•°ï¼Œå‚æ•°ä¸ºå½“å‰çš„å’Œsï¼Œå‡½æ•°è¿”å›å½“å‰å’Œsèƒ½å¤Ÿç»„æˆçš„ç»„åˆæ•°ç›®ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰å’Œså¤§äºç­‰äºç›®æ ‡targetï¼Œåˆ™è¿”å›1ï¼ˆå¦‚æœsç­‰äºtargetï¼Œåˆ™è¡¨ç¤ºæ‰¾åˆ°ä¸€ç§ç»„åˆï¼‰ã€‚å¦åˆ™ï¼Œéå†æ•°ç»„numsä¸­çš„æ¯ä¸ªæ•°ï¼Œå¯¹æ¯ä¸ªæ•°è¿›è¡Œé€’å½’è°ƒç”¨dfs(s+i)ï¼Œç´¯åŠ å¾—åˆ°çš„ç»„åˆæ•°ç›®ã€‚ä½¿ç”¨cacheè£…é¥°å™¨å¯¹dfså‡½æ•°è¿›è¡Œè®°å¿†åŒ–æœç´¢ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚æœ€ç»ˆè¿”å›dfs(0)ï¼Œå³ä»åˆå§‹å’Œä¸º0å¼€å§‹çš„ç»„åˆæ•°ç›®ã€‚\nclass Solution: def combinationSum4(self, nums: List[int], target: int) -\u0026gt; int: @cache def dfs(s): if s\u0026gt;=target: if s==target: return 1 return 0 cnt = 0 for i in nums: cnt += dfs(s+i) return cnt return dfs(0) 1146. å¿«ç…§æ•°ç»„ é¢˜ç›®å¤§æ„ï¼šå®ç°ä¸€ä¸ªæ”¯æŒå¿«ç…§çš„æ•°ç»„æ•°æ®ç»“æ„SnapshotArrayï¼Œå…·ä½“åŒ…æ‹¬ä»¥ä¸‹æ¥å£ï¼š\nSnapshotArray(length)ï¼šåˆå§‹åŒ–ä¸€ä¸ªä¸æŒ‡å®šé•¿åº¦ç›¸ç­‰çš„ç±»æ•°ç»„çš„æ•°æ®ç»“æ„ï¼Œåˆå§‹æ—¶æ¯ä¸ªå…ƒç´ éƒ½ä¸º0ã€‚ set(index, val)ï¼šå°†æŒ‡å®šç´¢å¼•indexå¤„çš„å…ƒç´ è®¾ç½®ä¸ºvalã€‚ snap()ï¼šè·å–è¯¥æ•°ç»„çš„å¿«ç…§ï¼Œå¹¶è¿”å›å¿«ç…§çš„ç¼–å·snap_idï¼ˆå¿«ç…§å·æ˜¯è°ƒç”¨snap()çš„æ€»æ¬¡æ•°å‡å»1ï¼‰ã€‚ get(index, snap_id)ï¼šæ ¹æ®æŒ‡å®šçš„snap_idé€‰æ‹©å¿«ç…§ï¼Œå¹¶è¿”å›è¯¥å¿«ç…§æŒ‡å®šç´¢å¼•indexçš„å€¼ã€‚ å®ç°æ€è·¯ï¼šä½¿ç”¨ä¸€ä¸ªå­—å…¸å­˜å‚¨æ¯ä¸ªç´¢å¼•å¤„çš„å¿«ç…§å†å²è®°å½•ï¼Œé”®ä¸ºç´¢å¼•ï¼Œå€¼ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå…ƒç»„ç¬¬ä¸€ä¸ªå€¼æ˜¯å¿«ç…§çš„ç¼–å·ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯è¯¥å¿«ç…§å¯¹åº”ç´¢å¼•çš„å€¼ã€‚å¯¹äºsetæ“ä½œï¼Œç›´æ¥å°†å¿«ç…§ç¼–å·å’Œå€¼æ·»åŠ åˆ°å¯¹åº”ç´¢å¼•çš„åˆ—è¡¨ä¸­ï¼›å¯¹äºsnapæ“ä½œï¼Œè®°å½•å¿«ç…§ç¼–å·å¹¶è¿”å›ï¼›å¯¹äºgetæ“ä½œï¼Œåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°snap_idå¯¹åº”çš„å¿«ç…§ï¼Œè¿”å›å¿«ç…§ä¸­è¯¥ç´¢å¼•çš„å€¼ã€‚\nclass SnapshotArray: def __init__(self, length: int): self.id = 0 self.arr = defaultdict(list) def set(self, index: int, val: int) -\u0026gt; None: self.arr[index].append((self.id, val)) def snap(self) -\u0026gt; int: self.id+=1 return self.id-1 def get(self, index: int, snap_id: int) -\u0026gt; int: # if not len(self.arr[index]): # return 0 # l, r = 0, len(self.arr[index])-1 # while l\u0026lt;r: # mid = (l+r+1)\u0026gt;\u0026gt;1 # if self.arr[index][mid][0] \u0026lt;= snap_id: # l = mid # else: # r = mid-1 # return self.arr[index][r][1] if self.arr[index][r][0] \u0026lt;= snap_id else 0 l = bisect.bisect_right(self.arr[index], (snap_id, inf)) - 1 return self.arr[index][l][1] if l\u0026gt;=0 else 0 857. é›‡ä½£ K åå·¥äººçš„æœ€ä½æˆæœ¬ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ç»„å·¥äººï¼Œæ¯ä¸ªå·¥äººæœ‰å·¥ä½œè´¨é‡å’Œæœ€ä½æœŸæœ›å·¥èµ„ï¼Œç°åœ¨è¦é›‡ä½£ k åå·¥äººç»„æˆä¸€ä¸ªå·¥èµ„ç»„ã€‚é›‡ä½£å·¥äººæ—¶ï¼ŒæŒ‰ç…§æ¯åå·¥äººçš„å·¥ä½œè´¨é‡ä¸åŒç»„å…¶ä»–å·¥äººçš„å·¥ä½œè´¨é‡çš„æ¯”ä¾‹æ¥æ”¯ä»˜å·¥èµ„ï¼Œæ¯åå·¥äººè‡³å°‘åº”å¾—åˆ°å…¶æœ€ä½æœŸæœ›å·¥èµ„ã€‚æ±‚ç»„æˆæ»¡è¶³æ¡ä»¶çš„ä»˜è´¹ç¾¤ä½“æ‰€éœ€çš„æœ€å°é‡‘é¢ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆæŒ‰ç…§å·¥èµ„ä¸å·¥ä½œè´¨é‡çš„æ¯”ä¾‹å¯¹å·¥äººè¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨æœ€å°å †æ¥ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º k çš„å †ï¼Œå †ä¸­å­˜æ”¾çš„æ˜¯è´Ÿçš„å·¥ä½œè´¨é‡ã€‚åˆå§‹åŒ–å †æ—¶ï¼Œå°†å‰ k åå·¥äººçš„è´¨é‡æ”¾å…¥å †ä¸­ã€‚è®¡ç®—å½“å‰å †ä¸­æ‰€æœ‰å·¥äººçš„æ€»è´¨é‡ï¼Œå¹¶è®¡ç®—ä»¥å½“å‰å·¥èµ„æ ‡å‡†ä¸‹çš„æ€»æ”¯ä»˜é‡‘é¢ã€‚ç„¶åéå†å‰©ä½™çš„å·¥äººï¼Œæ¯æ¬¡å°†å †é¡¶çš„è´¨é‡å¼¹å‡ºï¼ŒåŠ ä¸Šæ–°çš„å·¥äººçš„è´¨é‡ï¼Œè®¡ç®—æ–°çš„æ€»è´¨é‡ï¼Œå¹¶æ›´æ–°æ€»æ”¯ä»˜é‡‘é¢ã€‚æ‰¾å‡ºæ‰€æœ‰æƒ…å†µä¸‹çš„æœ€å°æ€»æ”¯ä»˜é‡‘é¢å³å¯ã€‚\nclass Solution: def mincostToHireWorkers(self, quality: List[int], wage: List[int], k: int) -\u0026gt; float: emp = sorted(zip(wage, quality), key = lambda e:e[0]/e[1]) h = [-q for _, q in emp[:k]] heapify(h) sum_q = -sum(h) ans = sum_q*(emp[k-1][0]/emp[k-1][1]) for w, q in emp[k:]: sum_q += heapreplace(h, -q) + q ans = min(ans, sum_q*w/q) return ans ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98202404/","summary":"æ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰ 2009. ä½¿æ•°ç»„è¿ç»­çš„æœ€å°‘æ“ä½œæ•° é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå¯èƒ½æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯ä»¥ä¿®æ”¹æ•°ç»„ä¸­å€¼ä¸ºä»»æ„å…¶ä»–å€¼ï¼Œé—®ä½¿æ•°ç»„è¿ç»­çš„æœ€å°æ“ä½œæ•°ã€‚","title":"LeetCodeæ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰"},{"content":"æ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰ 2009. ä½¿æ•°ç»„è¿ç»­çš„æœ€å°‘æ“ä½œæ•° é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå¯èƒ½æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯ä»¥ä¿®æ”¹æ•°ç»„ä¸­å€¼ä¸ºä»»æ„å…¶ä»–å€¼ï¼Œé—®ä½¿æ•°ç»„è¿ç»­çš„æœ€å°æ“ä½œæ•°ã€‚\næ€è·¯ï¼šç”±äºåªèƒ½æ”¹åŠ¨å…ƒç´ ï¼Œæ‰€ä»¥æœ€åçš„å…ƒç´ ä¸ªæ•°ä¸å˜ï¼Œå»é‡åï¼Œæšä¸¾æ¯ä¸ªå€¼ä½œä¸ºå·¦ç«¯ç‚¹ï¼Œåˆ™å³ç«¯ç‚¹ä¸ºnums[i]+n-1, ç”¨åŒæŒ‡é’ˆè®¡ç®—åœ¨åŒºé—´å†…çš„å…ƒç´ ä¸ªæ•°å³ä¸ºå¯ä»¥ä¿ç•™çš„æ•°å­—ï¼Œå…¶ä»–æ•°å­—ä¿®æ”¹å…ƒç´ å€¼å¡«æ»¡ç©ºéš™å³å¯ã€‚\nclass Solution: def minOperations(self, nums: List[int]) -\u0026gt; int: n = len(nums) nums = sorted(set(nums)) j, ans = 0, 0 for i in range(len(nums)): right = nums[i]+ n-1 if len(nums)-1 - i + 1 \u0026lt;= ans: break while j\u0026lt;len(nums) and nums[j]\u0026lt;=right: j+=1 ans = max(ans, j-i) return n-ans 1600. ç‹ä½ç»§æ‰¿é¡ºåº é¢˜æ„ï¼šå›½ç‹ç»§æ‰¿æ¬¡åºæŒ‰å«¡é•¿å­æ¬¡åºï¼Œå®ç°ThroneInheritance(string kingName)åˆå§‹åŒ–,void birth(string parentName, string childName) å‡ºç”Ÿï¼Œvoid death(string name)äººæ­»äº¡ï¼Œstring[] getInheritanceOrder() è¿”å› é™¤å» æ­»äº¡äººå‘˜çš„å½“å‰ç»§æ‰¿é¡ºåºåˆ—è¡¨ã€‚\næ€è·¯ï¼šç±»ä¼¼æ ‘å½¢ç»“æ„ï¼Œå›½ç‹å…ˆç»§æ‰¿ï¼Œä¹‹åæ˜¯å›½ç‹çš„é•¿å­ï¼Œä¹‹åæ˜¯é•¿å­çš„é•¿å­ï¼Œ å¦‚æœä¸å­˜åœ¨åˆ™ä¸ºå›½ç‹çš„æ¬¡å­ä»¥æ­¤ç±»æ¨ï¼Œ æ‰€ä»¥å¯ä»¥ç”¨defaultdict()å­˜å‚¨æ¯ä¸ªçš„å„¿å­æƒ…å†µï¼Œç„¶åæŸ¥è¯¢æ—¶ï¼Œå…ˆå°†è‡ªå·±å…¥ç»“æœåˆ—è¡¨ï¼Œç„¶åæ˜¯ç¬¬ä¸€ä¸ªå„¿å­\u0026hellip;ï¼›å¹¶è®°å½•æ¯ä¸ªäººçš„å­˜æ´»æƒ…å†µï¼Œæ’é™¤æ‰å·²ç»æ­»æ‰çš„äººã€‚\nclass ThroneInheritance: def __init__(self, kingName: str): self.son = defaultdict(list) self.die = set() self.king = kingName def birth(self, parentName: str, childName: str) -\u0026gt; None: self.son[parentName].append(childName) def death(self, name: str) -\u0026gt; None: self.die.add(name) def getInheritanceOrder(self) -\u0026gt; List[str]: ret = [] def dfs(root): if root not in self.die: ret.append(root) for child in self.son[root]: dfs(child) dfs(self.king) return ret 1483. æ ‘èŠ‚ç‚¹çš„ç¬¬ K ä¸ªç¥–å…ˆ é¢˜æ„ï¼šç»™å®šnä¸ªç‚¹(0~n-1)æ¯ä¸ªç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ï¼Œå¿«é€ŸæŸ¥è¯¢æ¯ä¸ªèŠ‚ç‚¹çš„ç¬¬kä¸ªç¥–å®—èŠ‚ç‚¹ã€‚\næ€è·¯ï¼šLCAå€å¢åŸç†ï¼Œ$ancestor[j][i] = ancestor[ ancestor[j][i-1] ][i-1]$ èŠ‚ç‚¹jçš„ç¬¬$2^i$ä¸ªç¥–å®—èŠ‚ç‚¹ä¸ºèŠ‚ç‚¹ç¬¬$2^{i-1}$ä¸ªç¥–å®—çš„ç¬¬$2^{i-1}$ä¸ªç¥–å®—ï¼Œå³$2^{i-1}*2$ä¸ªç¥–å®—èŠ‚ç‚¹ï¼Œ æ‰€ä»¥å…ˆé¢„å¤„ç†å¥½æ¯ä¸ªèŠ‚ç‚¹çš„å„ä¸ªäºŒè¿›åˆ¶ä½ä¸Šçš„ç¥–å®—èŠ‚ç‚¹æ˜¯è°ï¼Œä¹‹ååˆ†è§£äºŒè¿›åˆ¶ä½æ®å¯ä»¥å¾—çŸ¥ä»»æ„ç¬¬kä¸ªç¥–å®—èŠ‚ç‚¹æ˜¯è°ã€‚\nclass TreeAncestor: def __init__(self, n: int, parent: List[int]): self.level = 16 self.ancestor = [[-1]*self.level for _ in range(n)] for i in range(1, n): self.ancestor[i][0] = parent[i] for i in range(1, self.level): for j in range(1, n): if self.ancestor[j][i-1]!=-1: self.ancestor[j][i] = self.ancestor[ self.ancestor[j][i-1] ][i-1] def getKthAncestor(self, node: int, k: int) -\u0026gt; int: while k: t = k\u0026amp;-k k -= t t = t.bit_length()-1 node = self.ancestor[node][t] if node==-1: return -1 return node é¢è¯•é¢˜ 08.12. å…«çš‡å é¢˜ç›®å¤§æ„ï¼š\nè¿™é“é¢˜ç›®æ˜¯ç»å…¸çš„å…«çš‡åé—®é¢˜çš„æ‰©å±•ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥æ‰“å° N çš‡ååœ¨ N Ã— N æ£‹ç›˜ä¸Šçš„å„ç§æ‘†æ³•ï¼Œå…¶ä¸­æ¯ä¸ªçš‡åéƒ½ä¸åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—ï¼Œä¹Ÿä¸åœ¨ä»»ä½•å¯¹è§’çº¿ä¸Šã€‚\nå®ç°æ€è·¯ï¼š\nå›æº¯ç®—æ³•ï¼š\nä½¿ç”¨å›æº¯ç®—æ³•æ¥å°è¯•æ‰€æœ‰å¯èƒ½çš„çš‡åæ‘†æ”¾æ–¹å¼ã€‚ ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œä¾æ¬¡å°è¯•æ¯ä¸€åˆ—æ”¾ç½®çš‡åï¼Œç„¶åç»§ç»­é€’å½’åœ°å°è¯•ä¸‹ä¸€è¡Œçš„æ”¾ç½®ï¼Œç›´åˆ°æ‰€æœ‰è¡Œéƒ½æ”¾ç½®å®Œæ¯•ã€‚ åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æ£€æŸ¥æ¯ä¸ªä½ç½®çš„åˆ—ã€ä¸»å¯¹è§’çº¿å’Œå‰¯å¯¹è§’çº¿æ˜¯å¦å·²ç»å­˜åœ¨çš‡åæ¥ç¡®å®šæ˜¯å¦å¯ä»¥æ”¾ç½®çš‡åã€‚ ç”Ÿæˆæ£‹ç›˜ï¼š\nå½“ç¡®å®šäº†ä¸€ç§åˆæ³•çš„çš‡åæ‘†æ”¾æ–¹å¼æ—¶ï¼Œå°†å…¶è½¬æ¢ä¸ºæ£‹ç›˜çš„å½¢å¼ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚ å¯¹äºæ¯è¡Œä¸­çš‡åçš„ä½ç½®ï¼Œç”¨ \u0026lsquo;Q\u0026rsquo; è¡¨ç¤ºï¼Œå…¶ä»–ä½ç½®ç”¨ \u0026lsquo;.\u0026rsquo; è¡¨ç¤ºã€‚ è¾…åŠ©å‡½æ•°ï¼š\nsolve: é€’å½’å‡½æ•°ï¼Œå°è¯•åœ¨æ¯è¡Œæ”¾ç½®çš‡åã€‚ generate: å°†åˆæ³•çš„çš‡åæ‘†æ”¾æ–¹å¼è½¬æ¢ä¸ºæ£‹ç›˜å½¢å¼å¹¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚ å‰ªæä¼˜åŒ–ï¼š\nä½¿ç”¨ä½è¿ç®—æ¥è¡¨ç¤ºåˆ—ã€ä¸»å¯¹è§’çº¿å’Œå‰¯å¯¹è§’çº¿çš„å ç”¨æƒ…å†µï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­æŸä¸ªä½ç½®æ˜¯å¦å¯ä»¥æ”¾ç½®çš‡åï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ åœ¨æ¯æ¬¡é€’å½’æ—¶ï¼Œåˆ©ç”¨ä½è¿ç®—è¿›è¡Œå‰ªæï¼Œæ’é™¤ä¸å¯èƒ½çš„ä½ç½®ã€‚ class Solution: def solveNQueens(self, n: int) -\u0026gt; List[List[str]]: def generate(): board = [] for r in range(n): c = pos[r] row[c] = \u0026#39;Q\u0026#39; board.append(\u0026#34;\u0026#34;.join(row)) row[c] = \u0026#39;.\u0026#39; ret.append(board) def solve(row, column, diag1, diag2): if row==n: generate() else: avail = ( (1\u0026lt;\u0026lt;n)-1) \u0026amp; ( ~(column|diag1|diag2) ) while avail: colPos = avail\u0026amp;(-avail) avail -= colPos colNum = bin(colPos-1).count(\u0026#34;1\u0026#34;) pos[row]=colNum solve(row+1, column|colPos, (diag1|colPos)\u0026lt;\u0026lt;1, (diag2|colPos)\u0026gt;\u0026gt;1) pos = [0]*n ret = [] row = [\u0026#39;.\u0026#39;]*n solve(0, 0, 0, 0) return ret 1702. ä¿®æ”¹åçš„æœ€å¤§äºŒè¿›åˆ¶å­—ç¬¦ä¸² é¢˜æ„ï¼šç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²00-\u0026gt;10, 10-\u0026gt;01é—®ä»»æ„æ¬¡æ“ä½œåèƒ½è¾¾åˆ°çš„æœ€å¤§äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚\næ€è·¯ï¼šæ„é€ ï¼Œæ ¹æ®æ¡ä»¶æ¨è¿‡ç¨‹ï¼Œ10-\u0026gt;01å¯ä»¥çœ‹ä½œåé¢çš„0æµ®åˆ°å‰é¢ï¼Œæ‰€æœ‰çš„0èšåˆ°ä¸€èµ·å¯ä»¥å˜æˆ10ä¸²ï¼Œæ‰€ä»¥æœ€åè‡³å¤šåªæœ‰ä¸€ä¸ª0ã€‚æ ¹æ®æ„é€ æ¥åšï¼Œç»Ÿè®¡ç¬¬ä¸€ä¸ª0çš„ä½ç½®å’Œ0çš„ä¸ªæ•°ï¼Œæœ€åæ„é€ å‡ºæœ€åçš„0çš„ä½ç½®ï¼›åŒæŒ‡é’ˆæ¥åšï¼šé‡åˆ°0æ—¶æ‰¾åˆ°åé¢ç¬¬ä¸€ä¸ª0çš„ä½ç½®ï¼Œå°†å…¶æµ®åˆ°æ—è¾¹ï¼Œå¹¶æ¢æˆ10ã€‚\næ„é€ ï¼š\nclass Solution: def maximumBinaryString(self, binary: str) -\u0026gt; str: cnt = binary.count(\u0026#39;0\u0026#39;) if cnt\u0026lt;=1: return binary n = len(binary) ans = [\u0026#39;1\u0026#39;]*n index = binary.index(\u0026#39;0\u0026#39;) ans[index+cnt-1]=\u0026#39;0\u0026#39; return \u0026#39;\u0026#39;.join(ans) åŒæŒ‡é’ˆï¼š\nclass Solution: def maximumBinaryString(self, binary: str) -\u0026gt; str: n = len(binary) s = list(binary) j = 0 for i in range(n): if s[i]==\u0026#39;0\u0026#39;: while j\u0026lt;=i or (j\u0026lt;n and s[j]==\u0026#39;1\u0026#39;): j+=1 if j\u0026lt;n: s[i], s[j], s[i+1] = \u0026#39;1\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;0\u0026#39; return \u0026#39;\u0026#39;.join(s) 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ é¢˜æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ†åˆ«ä¸¤ä¸ªä¸€ç»„äº¤æ¢ç›¸å¯¹ä½ç½®ã€‚\næ€è·¯ï¼šé“¾è¡¨äº¤æ¢nextæŒ‡é’ˆæ“ä½œï¼Œprev-\u0026gt;A-\u0026gt;B-\u0026gt;Cå˜æˆprev-\u0026gt;B-\u0026gt;A-\u0026gt;Cï¼Œä¸€å…±è¦å˜ä¸‰æ¡è¾¹ã€‚éœ€è¦è®°å½•å‰é¢çš„ç‚¹ï¼Œåé¢çš„ç‚¹ã€‚\nclass Solution: def swapPairs(self, head: Optional[ListNode]) -\u0026gt; Optional[ListNode]: dummy = head prev = None while head and head.next: tmp = head.next.next #A-\u0026gt;B å˜æˆ B-\u0026gt;A nxt = head.next #nxtæ˜¯B, headæ˜¯A nxt.next = head head.next = tmp if prev: prev.next = nxt prev = nxt.next #æ˜¯å¤´èŠ‚ç‚¹(å³æ²¡æœ‰å‰é¢çš„ç‚¹)çš„æ—¶å€™ä¸éœ€è¦è¿™ä¸€æ­¥ if dummy==head: dummy = nxt prev = nxt.next head = tmp return dummy 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ é¢˜æ„ï¼šæ¯éš”kä¸ªæ•°å­—ç¿»è½¬é“¾è¡¨ã€‚\næ€è·¯ï¼šé“¾è¡¨äº¤æ¢æŒ‡é’ˆæ“ä½œã€‚\n# Definition for singly-linked list. # class ListNode: # def __init__(self, val=0, next=None): # self.val = val # self.next = next class Solution: def reverseKGroup(self, head: Optional[ListNode], k: int) -\u0026gt; Optional[ListNode]: def reverse(head, tail): # A-\u0026gt;B-\u0026gt;C å˜æˆ C-\u0026gt;B-\u0026gt;A cur = tail.next dummy = head while cur != tail: nxt = dummy.next dummy.next = cur cur = dummy dummy = nxt return tail, head # åŸæ¥çš„tailå’Œheadä½ç½®æ²¡å˜ï¼Œä½†ä¸­é—´ç‚¹çš„æŒ‡å‘å…³ç³»å˜äº† hair = ListNode(-1) # ä¼ªå¤´èŠ‚ç‚¹ hair.next = head pre = hair while head: tail = pre for i in range(k): # èµ°è¿‡kä¸ªç‚¹ tail = tail.next if not tail: return hair.next head, tail = reverse(head, tail) pre.next = head # pre-\u0026gt;C pre = tail # preå˜æˆå°¾èŠ‚ç‚¹ head = tail.next # å¤´èŠ‚ç‚¹å˜æˆå½“å‰å°¾èŠ‚ç‚¹çš„ä¸‹ä¸ªä¸€ä¸ªèŠ‚ç‚¹ return hair.next 1766. äº’è´¨æ ‘ é¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘0~n-1å…±nä¸ªèŠ‚ç‚¹ï¼Œ æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå€¼ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„ æœ€è¿‘çš„ ä¸è‡ªå·±äº’è´¨çš„(gcd(a,b)=1) ç¥–å®—èŠ‚ç‚¹çš„ç¼–å·ã€‚å€¼çš„èŒƒå›´ä¸º[1,50] æ€è·¯ï¼šDFSï¼Œ éå†ä¸€éæ ‘ï¼Œç»´æŠ¤ä¸€ä¸ªç¥–å®—èŠ‚ç‚¹çš„åˆ—è¡¨ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹ä¸ç¥–å®—èŠ‚ç‚¹çš„äº’è´¨å…³ç³»ã€‚ä½†æœ´ç´ çš„å°†æ‰€æœ‰çš„ç¥–å®—èŠ‚ç‚¹éƒ½åŠ å…¥åˆ—è¡¨ä¸­ï¼Œåˆ°æ·±å±‚çš„å­èŠ‚ç‚¹æ—¶ä¼šéå†æ•´ä¸ªåˆ—è¡¨ï¼Œä¼šè¶…æ—¶ã€‚ç”±äºå€¼çš„èŒƒå›´æœ€å¤§ä¸º50ï¼Œæ‰€ä»¥å¯ä»¥å…ˆé¢„å¤„ç†50èŒƒå›´ä»¥å†…çš„äº’è´¨å…³ç³»ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œåªéœ€è¦åˆ¤æ–­ç¥–å®—èŠ‚ç‚¹é‡Œé¢æœ‰æ²¡æœ‰è¿™äº›äº’è´¨çš„æ•°å³å¯ï¼Œä½†æ˜¯éœ€è¦çš„æ˜¯æœ€è¿‘çš„ç¥–å®—èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿˜è¦æ·»åŠ ä¸€ä¸ªæ·±åº¦ä¿¡æ¯ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨ç›¸åŒå€¼çš„ç¥–å®—èŠ‚ç‚¹ä¸­é€‰æ‹©ç¦»è‡ªå·±æœ€è¿‘çš„ç¥–å®—èŠ‚ç‚¹ã€‚ class Solution: def getCoprimes(self, nums: List[int], edges: List[List[int]]) -\u0026gt; List[int]: n = len(nums) g = [[]*n for _ in range(n)] ret = [-1]*n store = [[] for _ in range(51)] mem = [(-1, -1)]*(51) for i in range(1, 51): for j in range(1, 51): if gcd(i, j)==1: store[i].append(j) for u, v in edges: g[u].append(v) g[v].append(u) def dfs(u, last, level): ret[u] = max(mem[i] for i in store[nums[u]])[1] tmp = mem[nums[u]] mem[nums[u]] = (level, u) for son in g[u]: if son==last: continue dfs(son, u, level+1) mem[nums[u]] = tmp dfs(0, -1, 0) return ret 924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±nä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨n x nä¸ªé‚»æ¥çŸ©é˜µå›¾graphè¡¨ç¤ºã€‚èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨ç›´æ¥è¿æ¥å½“ä¸”ä»…å½“graph[i][j] = 1ã€‚ä¸€äº›èŠ‚ç‚¹initialæœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ä¸”è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹è¢«æ„ŸæŸ“ï¼Œåˆ™ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ„ŸæŸ“ã€‚ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹åï¼Œè¿”å›ä½¿å¾—æ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°æœ€å°çš„èŠ‚ç‚¹ï¼Œè‹¥æœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å›ç´¢å¼•æœ€å°çš„èŠ‚ç‚¹ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆä½¿ç”¨å¹¶æŸ¥é›†å°†èŠ‚ç‚¹åˆ†ç»„ï¼Œç„¶åè®¡ç®—æ¯ä¸ªåˆ†ç»„çš„å¤§å°å’Œå…¶ä¸­æ„ŸæŸ“èŠ‚ç‚¹çš„æ•°é‡ã€‚éå†initialåˆ—è¡¨ï¼Œæ‰¾åˆ°ä½¿å¾—å…¶æ‰€åœ¨åˆ†ç»„ä¸­åªæœ‰ä¸€ä¸ªæ„ŸæŸ“èŠ‚ç‚¹ä¸”åˆ†ç»„å¤§å°æœ€å¤§çš„èŠ‚ç‚¹ï¼Œè¿”å›å…¶ç´¢å¼•ã€‚\nclass Solution: def minMalwareSpread(self, g: List[List[int]], initial: List[int]) -\u0026gt; int: n, m = len(g), len(initial) f = [i for i in range(n)] size = [1 for _ in range(n)] # è¿é€šå—å†…çš„ç‚¹æ•° num = [0 for _ in range(n)] # è¿é€šå—å†…çš„æ„ŸæŸ“ç‚¹æ•° for x in initial: num[x]=1 def find(x): if f[x] != x: f[x] = find(f[x]) return f[x] for i in range(n): for j in range(i+1, n): if g[i][j]: fi, fj = find(i), find(j) if fi!=fj: f[fi] = fj num[fj] += num[fi] size[fj] += size[fi] ma = -1 initial.sort() idx = initial[0] for x in initial: if num[find(x)]==1 and size[find(x)]\u0026gt;ma: ma = size[find(x)] idx = x return idx 928. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ II é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±nä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨n x nä¸ªé‚»æ¥çŸ©é˜µgraphè¡¨ç¤ºã€‚èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨ç›´æ¥è¿æ¥å½“ä¸”ä»…å½“graph[i][j] = 1ã€‚ä¸€äº›èŠ‚ç‚¹initialæœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ä¸”è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹è¢«æ„ŸæŸ“ï¼Œåˆ™ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ„ŸæŸ“ã€‚ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹åŠå…¶è¿æ¥åï¼Œè¿”å›ç§»é™¤åèƒ½ä½¿æ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°æœ€å°çš„èŠ‚ç‚¹ï¼Œè‹¥æœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å›ç´¢å¼•æœ€å°çš„èŠ‚ç‚¹ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆé€šè¿‡å¹¶æŸ¥é›†å°†ä¸åœ¨initialä¸­çš„èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ï¼Œç„¶åè®¡ç®—æ¯ä¸ªinitialèŠ‚ç‚¹çš„ç›´æ¥æ„ŸæŸ“èŠ‚ç‚¹æ•°ã€‚æœ€åé€‰æ‹©ä½¿å¾—æ„ŸæŸ“èŠ‚ç‚¹æ•°æœ€å°ä¸”ç´¢å¼•æœ€å°çš„initialèŠ‚ç‚¹è¿”å›ã€‚\nclass Solution: def minMalwareSpread(self, g: List[List[int]], initial: List[int]) -\u0026gt; int: n = len(g) def find(x): if f[x] != x: f[x] = find(f[x]) return f[x] f = [i for i in range(n)] source = [[] for _ in range(n)] cnt = [0]*n init = [0]*n for i in initial: init[i] = 1 for i in range(n): if init[i]: continue for j in range(n): if init[j] or not g[i][j]: continue fi, fj = find(i), find(j) if fi!=fj: f[fi] = fj for x in initial: infected = [0]*n for j in range(n): if not g[x][j] or init[j] or infected[find(j)]: continue infected[find(j)] = 1 for j in range(n): if infected[j]: source[j].append(x) for i in range(n): if len(source[i])==1: root = source[i][0] for j in range(n): if find(i)==find(j): # æ˜¯ä¸€ä¸ªè¿é€šå— cnt[root]+=1 idx = initial[0] for x in initial: if cnt[x]\u0026gt;cnt[idx] or (cnt[x]==cnt[idx] and x\u0026lt;idx): idx = x return idx 2007. ä»åŒå€æ•°ç»„ä¸­è¿˜åŸåŸæ•°ç»„ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ changedï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼æ„é€ åŸå§‹æ•°ç»„ originalï¼šå°† changed ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2ï¼Œå¹¶å°†ç»“æœéšæœºæ‰“ä¹±ï¼Œç„¶åè¿”å›åŸå§‹æ•°ç»„ originalã€‚å¦‚æœæ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆåˆ¤æ–­æ•°ç»„ changed çš„é•¿åº¦æ˜¯å¦ä¸ºå¶æ•°ï¼Œå¦‚æœä¸æ˜¯å¶æ•°ï¼Œåˆ™æ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œç›´æ¥è¿”å›ç©ºæ•°ç»„ã€‚æ¥ç€ä½¿ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ•°ç»„ changed ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åéå†æ•°ç»„ changedï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  iï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ i çš„ä¸¤å€çš„å…ƒç´ ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™å°† i å’Œå…¶ä¸¤å€çš„å…ƒç´ éƒ½ä»å­—å…¸ä¸­å‡å»ä¸€ä¸ªï¼Œå¹¶å°† i åŠ å…¥ç»“æœæ•°ç»„ä¸­ã€‚æœ€ååˆ¤æ–­ç»“æœæ•°ç»„çš„é•¿åº¦æ˜¯å¦è¾¾åˆ°äº†åŸå§‹æ•°ç»„çš„ä¸€åŠï¼Œå¦‚æœè¾¾åˆ°äº†åˆ™è¿”å›ç»“æœæ•°ç»„çš„å‰ä¸€åŠï¼Œå¦åˆ™è¿”å›ç©ºæ•°ç»„ã€‚\nclass Solution: def findOriginalArray(self, changed: List[int]) -\u0026gt; List[int]: n = len(changed) if n\u0026amp;1: return [] d = defaultdict(int) res = [] cnt = 0 changed.sort() for i in changed: d[i]+=1 for i in changed: if not d[i]: continue x = i*2 if i==x: # 0*2 = 0 d[x]-=1 if d[x]: d[x]-=1 # åŒ¹é…æˆåŠŸ cnt+=1 res.append(i) else: if d[x]: d[x]-=1 # åŒ¹é…æˆåŠŸ d[i]-=1 cnt+=1 res.append(i) if cnt\u0026gt;=n//2: return res[:n//2] return [] å®ç°æ€è·¯ï¼šé¦–å…ˆä½¿ç”¨ Counter ç»Ÿè®¡æ•°ç»„ changed ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åå°†å­—å…¸ä¸­é”®ä¸º 0 çš„å…ƒç´ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰å¼¹å‡ºï¼Œå› ä¸ºåŸå§‹æ•°ç»„ä¸­ä¸å¯èƒ½æœ‰ 0ã€‚æ¥ç€åˆ¤æ–­å­—å…¸ä¸­é”®ä¸º 0 çš„å…ƒç´ å‡ºç°æ¬¡æ•°æ˜¯å¦ä¸ºå¶æ•°ï¼Œå¦‚æœä¸æ˜¯å¶æ•°åˆ™æ— æ³•æ„é€ åŸå§‹æ•°ç»„ï¼Œç›´æ¥è¿”å›ç©ºæ•°ç»„ã€‚ç„¶ååˆå§‹åŒ–ä¸€ä¸ªç”± 0 ç»„æˆçš„æ•°ç»„ ansï¼Œé•¿åº¦ä¸º cnt_0 çš„ä¸€åŠã€‚æ¥ä¸‹æ¥éå†å­—å…¸ä¸­çš„é”®å€¼å¯¹ï¼Œå¯¹äºæ¯ä¸ªé”® xï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¶ä¸€åŠçš„é”®å€¼å¯¹ï¼Œå¹¶å°† x åŠ å…¥ç»“æœæ•°ç»„ ans ä¸­ç›¸åº”æ¬¡æ•°ã€‚æœ€åè¿”å›ç»“æœæ•°ç»„ ansã€‚\nclass Solution: def findOriginalArray(self, changed: List[int]) -\u0026gt; List[int]: cnt = Counter(changed) cnt_0 = cnt.pop(0, 0) if cnt_0\u0026amp;1: return [] ans = [0]*(cnt_0//2) for x in cnt: if x%2==0 and cnt[x//2]: continue while x in cnt: if cnt[2*x]\u0026lt;cnt[x]: return [] ans.extend([x]*(cnt[x])) if cnt[2*x]\u0026gt;cnt[x]: cnt[2*x]-=cnt[x] x*=2 else: x*=4 return ans 1883. å‡†æ—¶æŠµè¾¾ä¼šè®®ç°åœºçš„æœ€å°è·³è¿‡ä¼‘æ¯æ¬¡æ•° é¢˜ç›®å¤§æ„ï¼šé¢˜ç›®ç»™å‡ºäº†ä¸€ç»„é“è·¯çš„é•¿åº¦å’Œè¡Œé©¶é€Ÿåº¦ï¼Œä»¥åŠå‰©ä½™å¯ç”¨æ—¶é—´ã€‚è¦æ±‚è®¡ç®—åœ¨ç»™å®šçš„æ—¶é—´å†…ï¼Œæœ€å°‘è·³è¿‡ä¼‘æ¯æ¬¡æ•°ï¼Œä»¥å‡†æ—¶æŠµè¾¾ä¼šè®®ç°åœºã€‚\nå®ç°æ€è·¯ï¼šåŠ¨æ€è§„åˆ’ã€‚ä½¿ç”¨äºŒç»´æ•°ç»„dp[i][j]è¡¨ç¤ºåˆ°è¾¾ç¬¬iæ¡è·¯ï¼Œè·³è¿‡jæ¬¡ä¼‘æ¯çš„æœ€å°è·ç¦»ã€‚åˆå§‹åŒ–dpæ•°ç»„ï¼Œç„¶åéå†æ¯ä¸€æ¡è·¯ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­æ›´æ–°dpæ•°ç»„ã€‚æœ€åæ£€æŸ¥æ˜¯å¦æœ‰æ–¹æ¡ˆå¯ä»¥åœ¨è§„å®šæ—¶é—´å†…åˆ°è¾¾ä¼šè®®ç°åœºï¼Œå¦‚æœæœ‰ï¼Œè¿”å›è·³è¿‡ä¼‘æ¯çš„æœ€å°æ¬¡æ•°ï¼Œå¦åˆ™è¿”å›-1ã€‚\nclass Solution: def minSkips(self, dist: List[int], speed: int, hoursBefore: int) -\u0026gt; int: n = len(dist) if sum(dist) \u0026gt; hoursBefore * speed: return -1 dp = [[inf] * (n + 1) for _ in range(n + 1)] dp[0][0] = 0 for i in range(1, n): for j in range(i+1): # åˆ°ç¬¬iæ¡è·¯ï¼Œè·³è¿‡æ¬¡æ•°ä¸ºjçš„æœ€å°è·ç¦» # ä¸è·³è¿‡ç¬¬ i æ¡è·¯ dp[i][j] = min(dp[i][j], (dp[i-1][j] + dist[i-1] + speed -1)//speed*speed) # è·³è¿‡ç¬¬ i æ¡è·¯ if j: dp[i][j] = min(dp[i][j], dp[i - 1][j -1] + dist[i-1]) for j in range(n): # å¯ä»¥è·³0~n-1æ¬¡(æœ€åä¸€æ¡è¾¹ä¸ç”¨è·³) if dp[n-1][j]+dist[-1] \u0026lt;= hoursBefore * speed: return j return -1 39. ç»„åˆæ€»å’Œ é¢˜ç›®å¤§æ„ ï¼šç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° targetï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„æ‰€æœ‰ä¸åŒç»„åˆï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚å¯ä»¥æ— é™åˆ¶é‡å¤é€‰æ‹© candidates ä¸­çš„åŒä¸€ä¸ªæ•°å­—ã€‚\nå®ç°æ€è·¯ ï¼š\nä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰è¿›è¡Œç»„åˆæœç´¢ã€‚ å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° dfs(i, s)ï¼Œå…¶ä¸­ i è¡¨ç¤ºå½“å‰éå†åˆ°çš„ candidates æ•°ç»„çš„ç´¢å¼•ï¼Œs è¡¨ç¤ºå½“å‰å·²ç»é€‰å–çš„æ•°å­—çš„å’Œã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œå¦‚æœ s å¤§äºç­‰äº target æˆ–è€…å·²ç»éå†åˆ°æ•°ç»„æœ«å°¾ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹åˆ¤æ–­ï¼š å¦‚æœ s ç­‰äº targetï¼Œåˆ™å°†å½“å‰çš„ç»„åˆ ls åŠ å…¥ç»“æœåˆ—è¡¨ ret ä¸­ã€‚ å¦‚æœ s å¤§äº target æˆ–è€…å·²ç»éå†åˆ°æ•°ç»„æœ«å°¾ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œåˆ†åˆ«å°è¯•ä¸¤ç§æƒ…å†µï¼š ä¸é€‰æ‹©å½“å‰æ•°å­—ï¼Œç»§ç»­å‘åæœç´¢ï¼šdfs(i+1, s)ã€‚ é€‰æ‹©å½“å‰æ•°å­—ï¼Œç»§ç»­å‘åæœç´¢ï¼šå°†å½“å‰æ•°å­—åŠ å…¥ç»„åˆ ls ä¸­ï¼Œæ›´æ–° sï¼Œå¹¶é€’å½’è°ƒç”¨ dfs(i, s+c[i])ã€‚ åœ¨é€’å½’è°ƒç”¨ä¹‹åï¼Œéœ€è¦å°†å½“å‰é€‰æ‹©çš„æ•°å­—ä»ç»„åˆ ls ä¸­å¼¹å‡ºï¼Œä¿è¯ä¸å½±å“åç»­æœç´¢ã€‚ æœ€ç»ˆè¿”å›ç»“æœåˆ—è¡¨ retã€‚ class Solution: def combinationSum(self, c: List[int], t: int) -\u0026gt; List[List[int]]: n = len(c) ret, ls = [], [] def dfs(i, s): if s\u0026gt;=t or i==n: if s==t: ret.append(ls[:]) return dfs(i+1, s) ls.append(c[i]) dfs(i, s+c[i]) ls.pop() dfs(0, 0) return ret 216. ç»„åˆæ€»å’Œ III é¢˜ç›®å¤§æ„ï¼šæ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸ºnçš„kä¸ªæ•°çš„ç»„åˆï¼Œè¦æ±‚ä½¿ç”¨æ•°å­—1åˆ°9ï¼Œæ¯ä¸ªæ•°å­—æœ€å¤šä½¿ç”¨ä¸€æ¬¡ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆç»„åˆçš„åˆ—è¡¨ã€‚åˆ—è¡¨ä¸èƒ½åŒ…å«ç›¸åŒçš„ç»„åˆä¸¤æ¬¡ï¼Œç»„åˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„æ–¹æ³•ï¼Œä»1åˆ°9çš„æ•°å­—ä¸­è¿›è¡Œéå†ï¼Œæ¯æ¬¡é€‰æ‹©ä¸€ä¸ªæ•°å­—æˆ–ä¸é€‰æ‹©ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ä¸ºæ­¢ã€‚é€’å½’è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨lsï¼Œè®°å½•å½“å‰å·²é€‰æ•°å­—çš„é›†åˆï¼Œå¦‚æœå½“å‰é›†åˆçš„æ•°å­—ä¸ªæ•°ç­‰äºkä¸”å®ƒä»¬çš„å’Œç­‰äºnï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨retä¸­ã€‚\nclass Solution: def combinationSum3(self, k: int, n: int) -\u0026gt; List[List[int]]: ret, ls = [], [] def dfs(i, s, cnt): if i==10 or s\u0026gt;=n or cnt\u0026gt;=k: if s==n and cnt==k: ret.append(ls[:]) return dfs(i+1, s, cnt) ls.append(i) dfs(i+1, s+i, cnt+1) ls.pop() dfs(1, 0, 0) return ret 377. ç»„åˆæ€»å’Œ â…£ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç”±ä¸åŒæ•´æ•°ç»„æˆçš„æ•°ç»„numså’Œä¸€ä¸ªç›®æ ‡æ•´æ•°targetï¼Œè¦æ±‚ä»numsä¸­æ‰¾å‡ºæ€»å’Œä¸ºtargetçš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚ä½¿ç”¨é€’å½’+è®°å¿†åŒ–æœç´¢ï¼ˆMemoizationï¼‰çš„æ–¹æ³•æ¥è§£å†³ã€‚å®šä¹‰dfså‡½æ•°ï¼Œå‚æ•°ä¸ºå½“å‰çš„å’Œsï¼Œå‡½æ•°è¿”å›å½“å‰å’Œsèƒ½å¤Ÿç»„æˆçš„ç»„åˆæ•°ç›®ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰å’Œså¤§äºç­‰äºç›®æ ‡targetï¼Œåˆ™è¿”å›1ï¼ˆå¦‚æœsç­‰äºtargetï¼Œåˆ™è¡¨ç¤ºæ‰¾åˆ°ä¸€ç§ç»„åˆï¼‰ã€‚å¦åˆ™ï¼Œéå†æ•°ç»„numsä¸­çš„æ¯ä¸ªæ•°ï¼Œå¯¹æ¯ä¸ªæ•°è¿›è¡Œé€’å½’è°ƒç”¨dfs(s+i)ï¼Œç´¯åŠ å¾—åˆ°çš„ç»„åˆæ•°ç›®ã€‚ä½¿ç”¨cacheè£…é¥°å™¨å¯¹dfså‡½æ•°è¿›è¡Œè®°å¿†åŒ–æœç´¢ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚æœ€ç»ˆè¿”å›dfs(0)ï¼Œå³ä»åˆå§‹å’Œä¸º0å¼€å§‹çš„ç»„åˆæ•°ç›®ã€‚\nclass Solution: def combinationSum4(self, nums: List[int], target: int) -\u0026gt; int: @cache def dfs(s): if s\u0026gt;=target: if s==target: return 1 return 0 cnt = 0 for i in nums: cnt += dfs(s+i) return cnt return dfs(0) ","permalink":"https://kennems.github.io/zh/posts/tech/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98202404/","summary":"æ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰ 2009. ä½¿æ•°ç»„è¿ç»­çš„æœ€å°‘æ“ä½œæ•° é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå¯èƒ½æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯ä»¥ä¿®æ”¹æ•°ç»„ä¸­å€¼ä¸ºä»»æ„å…¶ä»–å€¼ï¼Œé—®ä½¿æ•°ç»„è¿ç»­çš„æœ€å°æ“ä½œæ•°ã€‚","title":"LeetCodeæ¯æ—¥ä¸€é¢˜ï¼ˆ202404ï¼‰"},{"content":"å‰‘æŒ‡Offer æ•°æ®æµä¸­çš„ä¸­ä½æ•° ç”¨ä¸¤ä¸ªå †æ¨¡æ‹Ÿï¼Œ å·¦è¾¹å¤§é¡¶å †ï¼Œå³è¾¹å°é¡¶å †ï¼Œåˆ™ä¸¤ä¸ªå †é¡¶æ˜¯æœ€ä¸­é—´çš„æ•°å­—ã€‚\næ·»åŠ æ•°å­—æ—¶ï¼š\nå¦‚æœè¾“å…¥çš„æ˜¯ç¬¬å¥‡æ•°ä¸ªï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªï¼Œåˆ™Nåˆå§‹åŒ–ä¸º0ï¼Œæ’å…¥åNä¸º1ï¼Œä»£è¡¨ä¸€å…±æœ‰ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œåˆ™å…ˆæ’å…¥å¤§é¡¶å †ï¼Œç„¶åæŠŠå †é¡¶æ’å…¥å°é¡¶å †ã€‚ä¿è¯å°é¡¶å †çš„ä»»æ„ä¸€ä¸ªå€¼éƒ½æ¯”å¤§é¡¶å †å¤§ã€‚ åŒæ ·ï¼Œå¦‚æœè¾“å…¥çš„æ˜¯ç¬¬å¶æ•°ä¸ªï¼ˆç¬¬äºŒä¸ªï¼‰ï¼Œåˆ™å…ˆæ’å…¥å°é¡¶å †ï¼Œç„¶åå°†å°é¡¶å †æœ€å°å€¼æ’å…¥å¤§é¡¶å †ã€‚åŒæ ·æ˜¯ä¿è¯å°é¡¶å †çš„ä»»æ„ä¸€ä¸ªå€¼éƒ½æ¯”å¤§é¡¶å †å¤§ã€‚ è‡³äºå…ˆæ’å…¥å“ªä¸€ä¸ªå †æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œåªè¦ä¿è¯äº¤æ›¿æ’å…¥ä¸åŒçš„å †å³å¯ï¼Œå¹¶ä¸”è¦ç¡®ä¿è¾¹ç•Œé—®é¢˜ï¼ˆæ¯”å¦‚åœ¨å¥‡æ•°ä¸ªå…ƒç´ çš„çš„ä¸­ä½æ•°ï¼Œ åªæœ‰ä¸€ä¸ªæ•°æ®æ—¶åº”è¿”å›å…ˆæ’å…¥çš„å †é¡¶å€¼ï¼Œ å¦åˆ™å †ä¸ºç©ºä¼šæŠ¥é”™ï¼‰ã€‚\nimport heapq as hp class Solution: heapl = [] # å¤§æ ¹å † heapr = [] # å°æ ¹å † N = 0 def insert(self, num): \u0026#34;\u0026#34;\u0026#34; :type num: int :rtype: void \u0026#34;\u0026#34;\u0026#34; if self.N % 2 ==0: hp.heappush(self.heapl, -num) hp.heappush(self.heapr, -hp.heappop(self.heapl)) else: hp.heappush(self.heapr, num) hp.heappush(self.heapl, -hp.heappop(self.heapr)) self.N += 1 def getMedian(self): \u0026#34;\u0026#34;\u0026#34; :rtype: float \u0026#34;\u0026#34;\u0026#34; if self.N %2==0: return (-self.heapl[0]+self.heapr[0])/2.0 else: return self.heapr[0]*1.0 å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ import collections class Solution: d = collections.defaultdict(int) q = collections.deque() def firstAppearingOnce(self): \u0026#34;\u0026#34;\u0026#34; :rtype: str \u0026#34;\u0026#34;\u0026#34; return \u0026#39;#\u0026#39; if not self.q else self.q[0] def insert(self, char): \u0026#34;\u0026#34;\u0026#34; :type char: str :rtype: void \u0026#34;\u0026#34;\u0026#34; self.d[char]+=1 self.q.append(char) while self.q and self.d[self.q[0]]\u0026gt;1: self.q.popleft() æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸² class Solution: def longestSubstringWithoutDuplication(self, s): \u0026#34;\u0026#34;\u0026#34; :type s: str :rtype: int \u0026#34;\u0026#34;\u0026#34; char_index = {} # å­˜å‚¨å­—ç¬¦çš„æœ€è¿‘å‡ºç°ä½ç½® ans = 0 start = 0 for i, char in enumerate(s): if char in char_index and char_index[char] \u0026gt;= start: start = char_index[char] + 1 char_index[char] = i ans = max(ans, i - start + 1) return ans éª°å­çš„ç‚¹æ•° çº¿æ€§DP ï¼š\næ³¨æ„ç‚¹ï¼š ç®—æ³•å…ˆä»æœ€ç®€å•çš„æ–¹æ³•æƒ³èµ·ï¼ŒDPå…ˆç”¨äºŒç»´æƒ³ï¼Œå®ç°å®Œä¹‹åå†ä¼˜åŒ–ã€‚\nå› ä¸ºæ¯æ¬¡è®¡ç®—çŠ¶æ€æ—¶ä¼šä¿®æ”¹$ j-1, j-2, j-3, j-4, j-5, j-6$, è€Œ$j+1$ä¼šè®¡ç®— $j+1-1=j, j+1-2=j-1, \u0026hellip; j-1$ä¼šè®¡ç®—$j-1-1=j-2,j-1-2=j-3,\u0026hellip;$æ²¡æœ‰å•è°ƒæ€§ï¼Œæ‰€ä»¥ä¸èƒ½ä¼˜åŒ–ç¬¬ä¸€ç»´ç©ºé—´\nclass Solution(object): def numberOfDice(self, n): \u0026#34;\u0026#34;\u0026#34; :type n: int :rtype: List[int] \u0026#34;\u0026#34;\u0026#34; N = 6*n+10 f = [[0]*N for _ in range(N)] f[0][0]=1 for i in range(1,n+1): for j in range(1,n*6+1): for k in range(1,min(j, 6)+1): f[i][j] += f[i-1][j-k] return f[n][1*n:6*n+1] æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´  class Solution(object): def getNumberSameAsIndex(self, nums): \u0026#34;\u0026#34;\u0026#34; :type nums: List[int] :rtype: int \u0026#34;\u0026#34;\u0026#34; l, r = 0, len(nums)-1 while l\u0026lt;r: mid = l+r+1\u0026gt;\u0026gt;1 if nums[mid]\u0026gt;mid: r=mid-1 elif nums[mid]\u0026lt;mid: l=mid else: return mid break return l if nums[l]==l else -1 å¤æ‚é“¾è¡¨çš„å¤åˆ» class Solution(object): def copyRandomList(self, head): hash = {} hash[None] = None cloneHead = ListNode(-1) cur = cloneHead while head: if head not in hash: hash[head] = ListNode(head.val) if head.random not in hash: hash[head.random] = ListNode(head.random.val) cur.next = hash[head] cur = cur.next cur.random = hash[head.random] head = head.next return cloneHead.next çŸ©é˜µä¸­çš„è·¯å¾„ class Solution(object): def hasPath(self, matrix, string): if not matrix or not(matrix[0]): return False dx = [1, 0, -1, 0] dy = [0, 1, 0, -1] def dfs(x, y, idx): if matrix[x][y]!=string[idx]: return False if idx==len(string)-1: return True for h,v in zip(dx, dy): xx, yy = x+h, y+v if xx\u0026lt;0 or xx\u0026gt;=len(matrix) or yy\u0026lt;0 or yy\u0026gt;=len(matrix[0]): continue memo = matrix[x][y] matrix[x][y] = \u0026#39;#\u0026#39; if dfs(xx,yy,idx+1): return True matrix[x][y] = memo return False for i in range(len(matrix)): for j in range(len(matrix[0])): if matrix[i][j]==string[0]: if dfs(i,j,0): return True return False æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… DP:\nclass Solution(object): def isMatch(self, s, p): \u0026#34;\u0026#34;\u0026#34; :type s: str :type p: str :rtype: bool \u0026#34;\u0026#34;\u0026#34; n, m = len(s), len(p) s, p = \u0026#39; \u0026#39;+s, \u0026#39; \u0026#39;+p f = [[False]*(m+1) for _ in range(n+1)] f[0][0] = True for i in range(2,m+1): if p[i]==\u0026#39;*\u0026#39;: f[0][i] = f[0][i-2] for i in range(1,n+1): for j in range(1,m+1): if s[i]==p[j] or p[j]==\u0026#39;.\u0026#39;: f[i][j] = f[i-1][j-1] elif p[j]==\u0026#39;*\u0026#39;: if s[i]==p[j-1] or p[j-1]==\u0026#39;.\u0026#39;: f[i][j] = f[i-1][j] f[i][j] |= f[i][j-2] return f[n][m] LCR 168. ä¸‘æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•° $n$ï¼Œæ‰¾å‡ºå¹¶è¿”å›ç¬¬ $n$ ä¸ªä¸‘æ•°ã€‚ä¸‘æ•°æ˜¯åªåŒ…å«è´¨å› æ•°$ 2$ã€$3$ å’Œ/æˆ– 5 çš„æ­£æ•´æ•°ï¼Œ$1$ æ˜¯ä¸‘æ•°ã€‚\nå®ç°æ€è·¯ï¼š\nåˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ $f$ï¼Œç”¨äºå­˜å‚¨å‰$ n$ ä¸ªä¸‘æ•°ï¼Œåˆå§‹åŒ– $f[1] = 1$ã€‚ åˆå§‹åŒ–ä¸‰ä¸ªæŒ‡é’ˆ $i2$ã€$i3$ã€$i5$ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸‹ä¸€ä¸ªä¸‘æ•°æ˜¯é€šè¿‡ä¹˜ä»¥$2ã€3ã€5$å¾—åˆ°çš„ã€‚ åˆå§‹åŒ–ä¸‰ä¸ªå˜é‡ $n2ã€n3ã€n5$ï¼Œåˆ†åˆ«è¡¨ç¤ºé€šè¿‡æŒ‡é’ˆ $i2ã€i3ã€i5$ å¾—åˆ°çš„ä¸‹ä¸€ä¸ªä¸‘æ•°çš„å€™é€‰å€¼ã€‚ ä»ç¬¬$ 2 $ä¸ªä¸‘æ•°å¼€å§‹éå†åˆ°ç¬¬ $n $ä¸ªä¸‘æ•°ï¼š è®¡ç®—ä¸‹ä¸€ä¸ªä¸‘æ•°çš„å€™é€‰å€¼ï¼š$n2=f[i2]*2$ï¼Œ$n3=f[i3]*3$ï¼Œ$n5=f[i5]*5$ã€‚ å°†ä¸‹ä¸€ä¸ªä¸‘æ•°æ›´æ–°ä¸ºä¸‰ä¸ªå€™é€‰å€¼ä¸­çš„æœ€å°å€¼ï¼š$f[i]=min(n2,n3,n5)$ã€‚ å¦‚æœæœ€å°å€¼ç­‰äº $n2$ï¼Œåˆ™æŒ‡é’ˆ $i2$ å¾€åç§»åŠ¨ä¸€ä½ï¼›å¦‚æœæœ€å°å€¼ç­‰äº $n3$ï¼Œåˆ™æŒ‡é’ˆ $i3$ å¾€åç§»åŠ¨ä¸€ä½ï¼›å¦‚æœæœ€å°å€¼ç­‰äº $n5$ï¼Œåˆ™æŒ‡é’ˆ i5 å¾€åç§»åŠ¨ä¸€ä½ã€‚ éå†ç»“æŸåï¼Œè¿”å›ç¬¬ $n$ ä¸ªä¸‘æ•°$ f[n]$ã€‚ class Solution: def nthUglyNumber(self, n: int) -\u0026gt; int: if n\u0026lt;=6: return n f=[0 for _ in range(n+1)] f[1]=1 i2,i3,i5,n2,n3,n5=1,1,1,0,0,0 for i in range(2,n+1): n2,n3,n5=f[i2]*2,f[i3]*3,f[i5]*5 f[i]=min(n2,n3,n5) if f[i]==n2: i2+=1 if f[i]==n3: i3+=1 if f[i]==n5: i5+=1 return f[n] ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%89%91%E6%8C%87offer/","summary":"å‰‘æŒ‡Offer æ•°æ®æµä¸­çš„ä¸­ä½æ•° ç”¨ä¸¤ä¸ªå †æ¨¡æ‹Ÿï¼Œ å·¦è¾¹å¤§é¡¶å †ï¼Œå³è¾¹å°é¡¶å †ï¼Œåˆ™ä¸¤ä¸ªå †é¡¶æ˜¯æœ€ä¸­é—´çš„æ•°å­—ã€‚ æ·»åŠ æ•°å­—æ—¶ï¼š å¦‚æœè¾“å…¥çš„æ˜¯ç¬¬å¥‡æ•°ä¸ªï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªï¼Œ","title":"å‰‘æŒ‡Offer"},{"content":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(2) æ­£åˆ™è¡¨è¾¾å¼ ç¬¦å· å«ä¹‰ ä¸¾ä¾‹ [] åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»ä¸€å­—ç¬¦ [abc] ^ åŒ¹é…é™¤æŒ‡å®šå­—ç¬¦å¤–çš„ä»»æ„å­—ç¬¦ [^abc] \u0026amp;\u0026amp; åŒ¹é…ä¸¤ä¸ªå­—ç¬¦é›†çš„äº¤é›†ï¼Œéœ€ä½œä¸ºæ•´ä½“å‡ºç° [a-z\u0026amp;\u0026amp;m-p] . åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»æ„å­—ç¬¦ a.b ï¼ˆåŒ¹é… \u0026ldquo;a\u0026rdquo; åæ¥ä»»æ„å­—ç¬¦ï¼Œå†æ¥ \u0026ldquo;b\u0026rdquo;ï¼‰ \\ è½¬ä¹‰å­—ç¬¦ï¼Œç”¨äºåŒ¹é…ç‰¹æ®Šå­—ç¬¦ \\\\d \\\\d åŒ¹é…æ•°å­— 0-9 \\\\d+ \\\\D åŒ¹é…éæ•°å­—å­—ç¬¦ \\\\D+ \\\\s åŒ¹é…ç©ºç™½å­—ç¬¦ \\såŒ¹é…ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ç­‰ \\\\S åŒ¹é…éç©ºç™½å­—ç¬¦ \\\\S+ ï¼ˆåŒ¹é…éç©ºç™½å­—ç¬¦åºåˆ—ï¼‰ \\\\w åŒ¹é…å•è¯å­—ç¬¦ [a-zA-Z_0-9] \\\\W åŒ¹é…éå•è¯å­—ç¬¦ [^\\w] * åŒ¹é…å‰é¢çš„å…ƒç´ é›¶æ¬¡æˆ–å¤šæ¬¡ï¼Œå³å¯æœ‰å¯æ—  a*b ï¼ˆåŒ¹é… \u0026ldquo;b\u0026rdquo;ã€\u0026ldquo;ab\u0026rdquo;ã€\u0026ldquo;aab\u0026rdquo;ã€ç­‰ç­‰ï¼‰ ? åŒ¹é…å‰é¢çš„å…ƒç´ é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œå³å¯æœ‰å¯æ—  colou?r ï¼ˆåŒ¹é… \u0026ldquo;color\u0026rdquo; æˆ– \u0026ldquo;colour\u0026rdquo;ï¼‰ () åˆ†ç»„ï¼Œå°†å…¶ä¸­çš„å­—ç¬¦è§†ä¸ºä¸€ä¸ªå•å…ƒ a(bc)+ \\f åŒ¹é…æ¢é¡µç¬¦ \\f | `|` | æˆ–ï¼Œç”¨äºåŒ¹é…å¤šä¸ªæ¨¡å¼ä¸­çš„ä»»æ„ä¸€ä¸ª | `ab\\|AB` | public static void method1() { // ç»™å®šçš„å­—ç¬¦ä¸²åŒ…å«äº†ç”µè¯å·ç å’Œé‚®ç®±åœ°å€çš„ä¿¡æ¯ String data = \u0026#34; æ¥é»‘é©¬ç¨‹åºå‘˜å­¦ä¹ Javaï¼Œ\\n\u0026#34; + \u0026#34; ç”µè¯ï¼š1866668888ï¼Œ18699997777\\n\u0026#34; + \u0026#34; æˆ–è€…è”ç³»é‚®ç®±ï¼šboniu@itcast.cnï¼Œ\\n\u0026#34; + \u0026#34; åº§æœºç”µè¯ï¼š01036517895ï¼Œ010-98951256\\n\u0026#34; + \u0026#34; é‚®ç®±ï¼šbozai@itcast.cnï¼Œ\\n\u0026#34; + \u0026#34; é‚®ç®±ï¼šdlei0009@163.comï¼Œ\\n\u0026#34; + \u0026#34; çƒ­çº¿ç”µè¯ï¼š400-618-9090 ï¼Œ400-618-4000ï¼Œ4006184000ï¼Œ4006189090\u0026#34;; // å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ç”µè¯å·ç å’Œé‚®ç®±åœ°å€ String regex = \u0026#34;(1[3-9]\\\\d{9})|\u0026#34; + \u0026#34;(0\\\\d{2,9}-?\\\\d{7,18})|\u0026#34; // åŒ¹é…å›ºå®šç”µè¯å·ç ï¼ŒåŒ…æ‹¬åŒºå·å’Œåˆ†æœºå· + \u0026#34;(\\\\w{2,}@\\\\w{2,20}(\\\\.\\\\w{2,10}){1,2})|\u0026#34; // åŒ¹é…é‚®ç®±åœ°å€ + \u0026#34;(400-?\\\\d{3,7}-?\\\\d{3,7})\u0026#34;; // åŒ¹é…400ç”µè¯å·ç ï¼ŒåŒ…æ‹¬å¯èƒ½çš„åˆ†æœºå· // ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ Pattern pattern = Pattern.compile(regex); // åˆ›å»ºåŒ¹é…å™¨å¯¹è±¡ Matcher matcher = pattern.matcher(data); // å¾ªç¯æŸ¥æ‰¾åŒ¹é…é¡¹å¹¶æ‰“å° while(matcher.find()){ String res = matcher.group(); // è·å–åŒ¹é…åˆ°çš„å­—ç¬¦ä¸² System.out.println(res); } } String s1 = \u0026#34;å¤åŠ›å¨œæ‰ai8888è¿ªä¸½çƒ­å·´999aa5566é©¬å°”æ‰å“ˆfbbfsfs42425å¡å°”æ‰å·´\u0026#34;; System.out.println(s1.replaceAll(\u0026#34;\\\\w+\u0026#34;, \u0026#34;-\u0026#34;)); String s2 = \u0026#34;æˆ‘æˆ‘æˆ‘å–œæ¬¢ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¼–ç¨‹ç¨‹ç¨‹\u0026#34;; System.out.println(s2.replaceAll(\u0026#34;(.)\\\\1+\u0026#34;, \u0026#34;$1\u0026#34;)); String s3 = \u0026#34;å¤åŠ›å¨œæ‰ai8888è¿ªä¸½çƒ­å·´999aa5566é©¬å°”æ‰å“ˆfbbfsfs42425å¡å°”æ‰å·´\u0026#34;; String[] names = s3.split(\u0026#34;\\\\w+\u0026#34;); System.out.println(Arrays.toString(names)); å¼‚å¸¸ Errorï¼š ä»£è¡¨çš„ç³»ç»Ÿçº§åˆ«é”™è¯¯ï¼ˆå±äºä¸¥é‡é—®é¢˜ï¼‰ï¼Œ ä¹Ÿå°±æ˜¯è¯´ç³»ç»Ÿä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œsunå…¬å¸ä¼šæŠŠè¿™äº›é—®é¢˜å°è£…æˆErrorå¯¹è±¡ç»™å‡ºäº†ï¼Œå³Erroræ˜¯Sunå…¬å¸è‡ªå·±ç”¨çš„ï¼Œè€Œä¸æ˜¯ç»™ç¨‹åºå‘˜ç”¨çš„\nExceptionï¼šå¼‚å¸¸ï¼Œå®ƒä»£è¡¨çš„æ‰æ˜¯ç¨‹åºå¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œæ‰€ä»¥é€šå¸¸ä¼šç”¨Exceptionä»¥åŠå®ƒçš„å­ç±»æ¥å°è£…ç¨‹åºå‡ºç°çš„é”™è¯¯\nè¿è¡Œæ—¶å¼‚å¸¸ï¼šRuntimeExceptionåŠå…¶å­ç±»ï¼Œç¼–è¯‘é˜¶æ®µä¸ä¼šå‡ºç°é”™è¯¯æé†’ï¼Œè¿è¡Œæ—¶å‡ºç°çš„å¼‚å¸¸ï¼ˆæ•°ç»„ç´¢å¼•è¶Šç•Œå¼‚å¸¸ï¼‰ ç¼–è¯‘æ—¶å¼‚å¸¸ï¼šç¼–è¯‘é˜¶æ®µå°±ä¼šå‡ºç°çš„é”™è¯¯æé†’ã€‚ï¼ˆæ—¥æœŸè§£æå¼‚å¸¸ï¼‰ è‡ªå®šä¹‰å¼‚å¸¸ è¿è¡Œæ—¶å¼‚å¸¸ package com.showguan.Exception; // è‡ªå®šä¹‰è¿è¡Œæ—¶å¼‚å¸¸ç±»ï¼Œç”¨äºè¡¨ç¤ºå¹´é¾„ä¸åˆæ³•çš„æƒ…å†µ public class AgeIllegalRuntimeException extends RuntimeException { // é»˜è®¤æ„é€ å‡½æ•° public AgeIllegalRuntimeException() { } // å¸¦æœ‰æ¶ˆæ¯å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œç”¨äºä¼ é€’å¼‚å¸¸ä¿¡æ¯ public AgeIllegalRuntimeException(String message) { super(message); } } public class Main { // ä¿å­˜å¹´é¾„çš„æ–¹æ³•ï¼Œå¦‚æœå¹´é¾„ä¸åˆæ³•åˆ™æŠ›å‡ºè‡ªå®šä¹‰çš„è¿è¡Œæ—¶å¼‚å¸¸ public static void saveAge(int age) { if (age \u0026gt; 0 \u0026amp;\u0026amp; age \u0026lt; 150) { System.out.println(\u0026#34;å¹´é¾„åˆæ³•\u0026#34;); } else { throw new AgeIllegalRuntimeException(\u0026#34;/age is illegal, your age is \u0026#34; + age); } } public static void main(String[] args) { try { // è°ƒç”¨ä¿å­˜å¹´é¾„çš„æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªä¸åˆæ³•çš„å¹´é¾„å€¼ saveAge(-1); System.out.println(\u0026#34;åº•å±‚æ‰§è¡ŒæˆåŠŸäº†\u0026#34;); } catch (Exception e) { // æ•è·è‡ªå®šä¹‰çš„å¼‚å¸¸å¹¶æ‰“å°å¼‚å¸¸ä¿¡æ¯ e.printStackTrace(); System.out.println(\u0026#34;åº•å±‚å‡ºç°äº†å¼‚å¸¸\u0026#34;); } } } ç¼–è¯‘æ—¶å¼‚å¸¸ package com.showguan.Exception; // è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç»§æ‰¿è‡ªExceptionç±»ï¼Œç”¨äºè¡¨ç¤ºå¹´é¾„ä¸åˆæ³•çš„æƒ…å†µ public class AgeIllegalException extends Exception { // é»˜è®¤æ„é€ å‡½æ•° public AgeIllegalException() { } // å¸¦æœ‰æ¶ˆæ¯å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œç”¨äºä¼ é€’å¼‚å¸¸ä¿¡æ¯ public AgeIllegalException(String message) { super(message); } } public class Main { // ä¿å­˜å¹´é¾„çš„æ–¹æ³•ï¼Œå¦‚æœå¹´é¾„ä¸åˆæ³•åˆ™æŠ›å‡ºè‡ªå®šä¹‰çš„å—æ£€æŸ¥å¼‚å¸¸ public static void saveAge2(int age) throws AgeIllegalException { if (age \u0026gt; 0 \u0026amp;\u0026amp; age \u0026lt; 150) { System.out.println(\u0026#34;å¹´é¾„åˆæ³•\u0026#34;); } else { throw new AgeIllegalException(\u0026#34;/age is illegal, your age is \u0026#34; + age); } } public static void main(String[] args) { try { // è°ƒç”¨ä¿å­˜å¹´é¾„çš„æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªåˆæ³•çš„å¹´é¾„å€¼ saveAge2(1); System.out.println(\u0026#34;åº•å±‚æ‰§è¡ŒæˆåŠŸäº†\u0026#34;); } catch (Exception e) { // æ•è·è‡ªå®šä¹‰çš„å¼‚å¸¸å¹¶æ‰“å°å¼‚å¸¸ä¿¡æ¯ e.printStackTrace(); System.out.println(\u0026#34;åº•å±‚å‡ºç°äº†å¼‚å¸¸\u0026#34;); } } } public class Demo2 { public static void main(String[] args) { try { // è°ƒç”¨test1æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºParseExceptionå’ŒFileNotFoundExceptionå¼‚å¸¸ test1(); } catch (ParseException e) { // æ•è·ParseExceptionå¼‚å¸¸ï¼Œå¹¶è¾“å‡ºé”™è¯¯æç¤ºä¿¡æ¯ System.out.println(\u0026#34;æ—¥æœŸæ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥æ—¥æœŸæ ¼å¼\u0026#34;); // æŠ›å‡ºä¸€ä¸ªæ–°çš„RuntimeExceptionå¼‚å¸¸ï¼Œå°†åŸå§‹å¼‚å¸¸ä½œä¸ºå…¶cause throw new RuntimeException(e); } catch (FileNotFoundException e) { // æ•è·FileNotFoundExceptionå¼‚å¸¸ï¼Œå¹¶è¾“å‡ºé”™è¯¯æç¤ºä¿¡æ¯ System.out.println(\u0026#34;æŒ‡å®šæ–‡ä»¶å¤¹å†…æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„\u0026#34;); // æŠ›å‡ºä¸€ä¸ªæ–°çš„RuntimeExceptionå¼‚å¸¸ï¼Œå°†åŸå§‹å¼‚å¸¸ä½œä¸ºå…¶cause throw new RuntimeException(e); } } // test1æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºParseExceptionå’ŒFileNotFoundExceptionå¼‚å¸¸ public static void test1() throws ParseException, FileNotFoundException { // åˆ›å»ºSimpleDateFormatå¯¹è±¡ï¼Œç”¨äºè§£ææ—¥æœŸå­—ç¬¦ä¸² SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;); // è§£ææ—¥æœŸå­—ç¬¦ä¸²ï¼Œå¦‚æœæ—¥æœŸæ ¼å¼ä¸æ­£ç¡®ä¼šæŠ›å‡ºParseExceptionå¼‚å¸¸ Date d = sdf.parse(\u0026#34;2077-09-23 10:34:22\u0026#34;); System.out.println(d); // è°ƒç”¨test2æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºFileNotFoundExceptionå¼‚å¸¸ test2(); } // test2æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºFileNotFoundExceptionå¼‚å¸¸ public static void test2() throws FileNotFoundException { // åˆ›å»ºFileInputStreamå¯¹è±¡ï¼Œå¦‚æœæŒ‡å®šæ–‡ä»¶ä¸å­˜åœ¨ä¼šæŠ›å‡ºFileNotFoundExceptionå¼‚å¸¸ InputStream is = new FileInputStream(\u0026#34;D:/Java.txt\u0026#34;); } } package com.showguan.Exception; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.InputStream; import java.text.ParseException; import java.text.SimpleDateFormat; import java.util.Date; public class Demo3 { public static void main(String[] args) { try { // è°ƒç”¨test1æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºExceptionå¼‚å¸¸ test1(); } catch (Exception e) { // æ•è·Exceptionå¼‚å¸¸ï¼Œå¹¶è¾“å‡ºé”™è¯¯æç¤ºä¿¡æ¯ System.out.println(\u0026#34;æ“ä½œæœ‰è¯¯\u0026#34;); // æŠ›å‡ºä¸€ä¸ªæ–°çš„RuntimeExceptionå¼‚å¸¸ï¼Œå°†åŸå§‹å¼‚å¸¸ä½œä¸ºå…¶cause throw new RuntimeException(e); } } // test1æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºExceptionå¼‚å¸¸ public static void test1() throws Exception { // åˆ›å»ºSimpleDateFormatå¯¹è±¡ï¼Œç”¨äºè§£ææ—¥æœŸå­—ç¬¦ä¸² SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;); // è§£ææ—¥æœŸå­—ç¬¦ä¸²ï¼Œå¦‚æœæ—¥æœŸæ ¼å¼ä¸æ­£ç¡®ä¼šæŠ›å‡ºParseExceptionå¼‚å¸¸ Date d = sdf.parse(\u0026#34;2077-09-23 10:34:22\u0026#34;); System.out.println(d); // è°ƒç”¨test2æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºExceptionå¼‚å¸¸ test2(); } // test2æ–¹æ³•å£°æ˜äº†å¯èƒ½æŠ›å‡ºExceptionå¼‚å¸¸ public static void test2() throws Exception { // åˆ›å»ºFileInputStreamå¯¹è±¡ï¼Œå¦‚æœæŒ‡å®šæ–‡ä»¶ä¸å­˜åœ¨ä¼šæŠ›å‡ºFileNotFoundExceptionå¼‚å¸¸ InputStream is = new FileInputStream(\u0026#34;D:/Java.txt\u0026#34;); } } é›†åˆ Collectioné›†åˆç‰¹ç‚¹ï¼š\nListç³»åˆ—é›†åˆï¼šæ·»åŠ çš„å…ƒç´ æ˜¯æœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼•çš„ã€‚\nArrayList, LinkedListï¼šæœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼• Setç³»åˆ—é›†åˆï¼šæ·»åŠ çš„å…ƒç´ æ˜¯æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•\nHashSet: æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼• LinkedHashSet: æœ‰åºã€ä¸é‡å¤ã€æ— ç´¢å¼• TreeSet : æŒ‰ç…§å¤§å°é»˜è®¤å‡åºæ’åˆ—ã€ä¸é‡å¤ã€æ— ç´¢å¼• Collection import java.util.ArrayList; import java.util.Arrays; import java.util.Collection; public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªArrayListå¯¹è±¡ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ å…ƒç´  Collection\u0026lt;String\u0026gt; c = new ArrayList\u0026lt;\u0026gt;(); c.add(\u0026#34;java1\u0026#34;); c.add(\u0026#34;java2\u0026#34;); c.add(\u0026#34;java3\u0026#34;); c.add(\u0026#34;java1\u0026#34;); // å¯ä»¥æ·»åŠ é‡å¤å…ƒç´  System.out.println(c); // è¾“å‡ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  // æ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  // c.clear(); System.out.println(c); // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º System.out.println(c.isEmpty()); // è·å–é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•° System.out.println(c.size()); // åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´  System.out.println(c.contains(\u0026#34;java1\u0026#34;)); // ç§»é™¤é›†åˆä¸­çš„æŒ‡å®šå…ƒç´  c.remove(\u0026#34;java1\u0026#34;); System.out.println(c); // å°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„ Object[] arr = c.toArray(); System.out.println(Arrays.toString(arr)); // å°†é›†åˆè½¬æ¢ä¸ºæŒ‡å®šç±»å‹çš„æ•°ç»„ String[] arr2 = c.toArray(new String[c.size()]); System.out.println(Arrays.toString(arr2)); // åˆ›å»ºå¦ä¸€ä¸ªé›†åˆï¼Œå¹¶å°†å…¶å…ƒç´ å…¨éƒ¨æ·»åŠ åˆ°å½“å‰é›†åˆä¸­ Collection\u0026lt;String\u0026gt; c2 = new ArrayList\u0026lt;\u0026gt;(); c2.add(\u0026#34;Java8\u0026#34;); c2.add(\u0026#34;java9\u0026#34;); c.addAll(c2); System.out.println(c); } } è¿­ä»£å™¨ import java.util.ArrayList; import java.util.Collection; import java.util.function.Consumer; public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª ArrayList é›†åˆå¯¹è±¡ Collection\u0026lt;String\u0026gt; c = new ArrayList\u0026lt;\u0026gt;(); // å‘é›†åˆä¸­æ·»åŠ å…ƒç´  c.add(\u0026#34;Kennem\u0026#34;); c.add(\u0026#34;999\u0026#34;); c.add(\u0026#34;show\u0026#34;); // ä½¿ç”¨ forEach æ–¹æ³•éå†é›†åˆï¼Œä¼ ç»Ÿæ–¹å¼ c.forEach(new Consumer\u0026lt;String\u0026gt;() { @Override public void accept(String s) { System.out.println(s); } }); // ä½¿ç”¨ Lambda è¡¨è¾¾å¼éå†é›†åˆï¼ŒLambda å‚æ•°ç±»å‹æ¨æ–­ c.forEach((String s) -\u0026gt; { System.out.println(s); }); // ä½¿ç”¨ Lambda è¡¨è¾¾å¼éå†é›†åˆï¼Œç®€åŒ–å‚æ•°ç±»å‹ c.forEach((String s) -\u0026gt; System.out.println(s)); // ä½¿ç”¨æ–¹æ³•å¼•ç”¨éå†é›†åˆï¼Œç­‰åŒäº Lambda è¡¨è¾¾å¼ System.out::println c.forEach( System.out::println ) ; } } public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª Movie ç±»å‹çš„é›†åˆå¯¹è±¡ Collection\u0026lt;Movie\u0026gt; movies = new ArrayList\u0026lt;\u0026gt;(); // å‘é›†åˆä¸­æ·»åŠ  Movie å¯¹è±¡ movies.add(new Movie(\u0026#34;ã€Šé˜¿ç”˜æ­£ä¼ ã€‹\u0026#34;, 9.5, \u0026#34;æ±¤å§†\u0026#34;)); // æ‰“å°é›†åˆå†…å®¹ System.out.println(movies); // ä½¿ç”¨å¢å¼ºå‹ for å¾ªç¯éå†é›†åˆä¸­çš„ Movie å¯¹è±¡ for (Movie movie : movies) { // è·å–ç”µå½±åç§°å¹¶æ‰“å° System.out.println(movie.getName()); // è·å–ç”µå½±è¯„åˆ†å¹¶æ‰“å° System.out.println(movie.getScore()); // è·å–ä¸»æ¼”åç§°å¹¶æ‰“å° System.out.println(movie.getActor()); } } } List() ArrayList() æ·»åŠ å…ƒç´ ï¼šadd(E e) å’Œ add(int index, E element)\nåˆ é™¤å…ƒç´ ï¼šremove(int index) å’Œ remove(Object o)\nè·å–å…ƒç´ ï¼šget(int index)\nä¿®æ”¹å…ƒç´ ï¼šset(int index, E element)\næ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼šcontains(Object o)\nè·å–åˆ—è¡¨å¤§å°ï¼šsize()\nè·å–å…ƒç´ ä½ç½®ï¼šindexOf(Object o) å’Œ lastIndexOf(Object o)\néå†åˆ—è¡¨ï¼šä½¿ç”¨ for-each å¾ªç¯å’Œ Iterator\nè½¬æ¢ä¸ºæ•°ç»„ï¼štoArray()\nè·å–å­åˆ—è¡¨ï¼šsubList(int fromIndex, int toIndex)\næ¸…ç©ºåˆ—è¡¨ï¼šclear()\nåˆ¤æ–­åˆ—è¡¨æ˜¯å¦ä¸ºç©ºï¼šisEmpty()\nimport java.util.ArrayList; import java.util.List; public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª ArrayList å¯¹è±¡ ls List\u0026lt;String\u0026gt; ls = new ArrayList\u0026lt;\u0026gt;(); // å‘ ls ä¸­æ·»åŠ å…ƒç´  ls.add(\u0026#34;Kennem\u0026#34;); ls.add(\u0026#34;K\u0026#34;); ls.add(\u0026#34;è‡³å°Šå®\u0026#34;); ls.add(\u0026#34;ç‰›å¤«äºº\u0026#34;); // æ‰“å° ls çš„å†…å®¹ System.out.println(\u0026#34;Initial list: \u0026#34; + ls); // åœ¨ç´¢å¼•ä½ç½® 2 æ’å…¥å…ƒç´  \u0026#34;ç´«éœä»™å­\u0026#34; ls.add(2, \u0026#34;ç´«éœä»™å­\u0026#34;); System.out.println(\u0026#34;After adding \u0026#39;ç´«éœä»™å­\u0026#39; at index 2: \u0026#34; + ls); // ç§»é™¤ç´¢å¼•ä½ç½® 2 å¤„çš„å…ƒç´ å¹¶æ‰“å°ç§»é™¤çš„å…ƒç´  System.out.println(\u0026#34;Removed element: \u0026#34; + ls.remove(2)); System.out.println(\u0026#34;After removal: \u0026#34; + ls); // è·å–ç´¢å¼•ä½ç½® 2 å¤„çš„å…ƒç´ å¹¶æ‰“å° System.out.println(\u0026#34;Element at index 2: \u0026#34; + ls.get(2)); // å°†ç´¢å¼•ä½ç½® 1 å¤„çš„å…ƒç´ ä¿®æ”¹ä¸º \u0026#34;ç‰›é­”ç‹\u0026#34;ï¼Œå¹¶æ‰“å°è¢«æ›¿æ¢æ‰çš„å…ƒç´  System.out.println(\u0026#34;Replaced element: \u0026#34; + ls.set(1, \u0026#34;ç‰›é­”ç‹\u0026#34;)); System.out.println(\u0026#34;After setting \u0026#39;ç‰›é­”ç‹\u0026#39; at index 1: \u0026#34; + ls); // æ£€æŸ¥åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´  System.out.println(\u0026#34;Contains \u0026#39;è‡³å°Šå®\u0026#39;: \u0026#34; + ls.contains(\u0026#34;è‡³å°Šå®\u0026#34;)); System.out.println(\u0026#34;Contains \u0026#39;ç´«éœä»™å­\u0026#39;: \u0026#34; + ls.contains(\u0026#34;ç´«éœä»™å­\u0026#34;)); // è·å–åˆ—è¡¨å¤§å° System.out.println(\u0026#34;List size: \u0026#34; + ls.size()); // è·å–æŸä¸ªå…ƒç´ çš„ç´¢å¼• System.out.println(\u0026#34;Index of \u0026#39;ç‰›é­”ç‹\u0026#39;: \u0026#34; + ls.indexOf(\u0026#34;ç‰›é­”ç‹\u0026#34;)); System.out.println(\u0026#34;Index of \u0026#39;è‡³å°Šå®\u0026#39;: \u0026#34; + ls.indexOf(\u0026#34;è‡³å°Šå®\u0026#34;)); // éå†åˆ—è¡¨ System.out.println(\u0026#34;List elements:\u0026#34;); for (String element : ls) { System.out.println(element); } // è½¬æ¢ä¸ºæ•°ç»„ Object[] array = ls.toArray(); System.out.println(\u0026#34;Array elements:\u0026#34;); for (Object obj : array) { System.out.println(obj); } // è·å–å­åˆ—è¡¨ List\u0026lt;String\u0026gt; subList = ls.subList(1, 3); System.out.println(\u0026#34;Sublist (from index 1 to 3): \u0026#34; + subList); // ä½¿ç”¨è¿­ä»£å™¨éå†åˆ—è¡¨ System.out.println(\u0026#34;List elements using iterator:\u0026#34;); for (var iterator = ls.iterator(); iterator.hasNext();) { System.out.println(iterator.next()); } // æ¸…ç©ºåˆ—è¡¨ ls.clear(); System.out.println(\u0026#34;Is list empty after clear? \u0026#34; + ls.isEmpty()); } } LinkedList() æ·»åŠ å…ƒç´ ï¼šadd(E e) å’Œ add(int index, E element)\nåˆ é™¤å…ƒç´ ï¼šremove(int index) å’Œ remove(Object o)\nè·å–å…ƒç´ ï¼šget(int index)\nä¿®æ”¹å…ƒç´ ï¼šset(int index, E element)\næ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼šcontains(Object o)\nè·å–åˆ—è¡¨å¤§å°ï¼šsize()\nè·å–å…ƒç´ ä½ç½®ï¼šindexOf(Object o) å’Œ lastIndexOf(Object o)\néå†åˆ—è¡¨ï¼šä½¿ç”¨ for-each å¾ªç¯å’Œ Iterator\nè½¬æ¢ä¸ºæ•°ç»„ï¼štoArray()\nè·å–å­åˆ—è¡¨ï¼šsubList(int fromIndex, int toIndex)\næ¸…ç©ºåˆ—è¡¨ï¼šclear()\nåˆ¤æ–­åˆ—è¡¨æ˜¯å¦ä¸ºç©ºï¼šisEmpty()\nç‰¹æœ‰æ–¹æ³•ï¼šaddFirst(E e)ï¼ŒaddLast(E e)ï¼ŒgetFirst()ï¼ŒgetLast()ï¼ŒremoveFirst()ï¼ŒremoveLast()\nimport java.util.LinkedList; import java.util.Iterator; public class LinkedListExample { public static void main(String[] args) { LinkedList\u0026lt;String\u0026gt; list = new LinkedList\u0026lt;\u0026gt;(); // æ·»åŠ å…ƒç´  list.add(\u0026#34;element1\u0026#34;); list.add(\u0026#34;element2\u0026#34;); list.add(1, \u0026#34;element1.5\u0026#34;); list.addFirst(\u0026#34;firstElement\u0026#34;); list.addLast(\u0026#34;lastElement\u0026#34;); // è®¿é—®å…ƒç´  System.out.println(\u0026#34;First element: \u0026#34; + list.getFirst()); System.out.println(\u0026#34;Last element: \u0026#34; + list.getLast()); System.out.println(\u0026#34;Element at index 1: \u0026#34; + list.get(1)); // åˆ é™¤å…ƒç´  list.remove(1); list.remove(\u0026#34;element1\u0026#34;); list.removeFirst(); list.removeLast(); // æ›¿æ¢å…ƒç´  list.set(1, \u0026#34;newElement\u0026#34;); // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ System.out.println(\u0026#34;Contains \u0026#39;element2\u0026#39;: \u0026#34; + list.contains(\u0026#34;element2\u0026#34;)); // è·å–åˆ—è¡¨å¤§å° System.out.println(\u0026#34;List size: \u0026#34; + list.size()); // éå†åˆ—è¡¨ System.out.println(\u0026#34;Elements in the list:\u0026#34;); for (String element : list) { System.out.println(element); } // è½¬æ¢ä¸ºæ•°ç»„ Object[] array = list.toArray(); System.out.println(\u0026#34;Array: \u0026#34;); for (Object obj : array) { System.out.println(obj); } // è·å–å­åˆ—è¡¨ List\u0026lt;String\u0026gt; subList = list.subList(0, 1); System.out.println(\u0026#34;Sublist: \u0026#34; + subList); // æ¸…ç©ºåˆ—è¡¨ list.clear(); System.out.println(\u0026#34;Is list empty? \u0026#34; + list.isEmpty()); } } LinkedList()ç‰¹æœ‰æ–¹æ³• import java.util.LinkedList; public class LinkedListExample { public static void main(String[] args) { LinkedList\u0026lt;String\u0026gt; linkedList = new LinkedList\u0026lt;\u0026gt;(); // æ·»åŠ å…ƒç´ åˆ°å¼€å¤´å’Œæœ«å°¾ linkedList.addFirst(\u0026#34;firstElement\u0026#34;); linkedList.addLast(\u0026#34;lastElement\u0026#34;); System.out.println(\u0026#34;After adding elements to first and last: \u0026#34; + linkedList); // è·å–ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´  System.out.println(\u0026#34;First element: \u0026#34; + linkedList.getFirst()); System.out.println(\u0026#34;Last element: \u0026#34; + linkedList.getLast()); // åˆ é™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´  System.out.println(\u0026#34;Removed first element: \u0026#34; + linkedList.removeFirst()); System.out.println(\u0026#34;Removed last element: \u0026#34; + linkedList.removeLast()); System.out.println(\u0026#34;After removing first and last elements: \u0026#34; + linkedList); // æ ˆæ“ä½œ linkedList.push(\u0026#34;stackElement\u0026#34;); System.out.println(\u0026#34;After push: \u0026#34; + linkedList); System.out.println(\u0026#34;Popped element: \u0026#34; + linkedList.pop()); System.out.println(\u0026#34;After pop: \u0026#34; + linkedList); // æ·»åŠ å…ƒç´ åˆ°é˜Ÿåˆ—ä¸¤ç«¯ linkedList.offerFirst(\u0026#34;offerFirstElement\u0026#34;); linkedList.offerLast(\u0026#34;offerLastElement\u0026#34;); System.out.println(\u0026#34;After offering elements: \u0026#34; + linkedList); // è·å–å¹¶ç§»é™¤é˜Ÿåˆ—ä¸¤ç«¯çš„å…ƒç´  System.out.println(\u0026#34;Polled first element: \u0026#34; + linkedList.pollFirst()); System.out.println(\u0026#34;Polled last element: \u0026#34; + linkedList.pollLast()); System.out.println(\u0026#34;After polling elements: \u0026#34; + linkedList); } } ArrayList() å’Œ LinkedList() åŒºåˆ« ArrayList å’Œ LinkedList éƒ½å®ç°äº† List æ¥å£ï¼Œå› æ­¤æœ‰è®¸å¤šç›¸åŒçš„æ–¹æ³•ã€‚\nLinkedList è¿˜å®ç°äº† Deque æ¥å£ï¼Œå› æ­¤æœ‰è®¸å¤šç‰¹æœ‰çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åœ¨ ArrayList ä¸­ä¸å­˜åœ¨ã€‚\nArrayList åœ¨éšæœºè®¿é—®æ€§èƒ½ä¸Šä¼˜äº LinkedListï¼Œè€Œ LinkedList åœ¨é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶è¡¨ç°æ›´ä¼˜ã€‚\nSet() HashSet() å“ˆå¸Œå€¼\nå°±æ˜¯ä¸€ä¸ªintç±»å‹çš„æ•°å€¼ï¼ŒJavaä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå“ˆå¸Œå€¼ Javaä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œéƒ½å¯ä»¥è°ƒç”¨Objectç±»æä¾›çš„hashCodeæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡è‡ªå·±çš„å“ˆå¸Œå€¼ å“ˆå¸Œè¡¨\nJDK 8ä¹‹å‰ï¼Œ åŸºäºæ•°ç»„+é“¾è¡¨\nåˆ›å»ºä¸€ä¸ªé»˜è®¤é•¿åº¦ä¸º16çš„æ•°ç»„ï¼Œé»˜è®¤åŠ è½½å› å­ä¸º0.75ï¼Œ æ•°ç»„åä¸ºtable ä½¿ç”¨å…ƒç´ çš„å“ˆå¸Œå€¼å¯¹æ•°ç»„é•¿åº¦æ±‚ä½™è®¡ç®—å‡ºåº”å­˜å…¥çš„ä½ç½® åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦ä¸ºnullï¼Œ å¦‚æœæ˜¯nullç›´æ¥å­˜å…¥ å¦‚æœä¸ä¸ºnullï¼Œ è¡¨ç¤ºæœ‰å…ƒç´ ï¼Œåˆ™è°ƒç”¨equalsæ–¹æ³•æ¯”è¾ƒ è‹¥ç›¸ç­‰åˆ™ä¸å­˜å…¥ï¼Œå¦åˆ™å­˜å…¥ JDK 8ä¹‹å‰ï¼Œæ–°å…ƒç´ å­˜å…¥æ•°ç»„ï¼Œå è€å…ƒç´ ä½ç½®ï¼Œè€å…ƒç´ æŒ‚ä¸‹é¢ JDK 8å¼€å§‹ä¹‹åï¼Œ æ–°å…ƒç´ ç›´æ¥æŒ‚åœ¨è€å…ƒç´ ä¸‹é¢ JDK 8å¼€å§‹ä¹‹åï¼Œå“ˆå¸Œè¡¨ä¸­å¼•å…¥äº†çº¢é»‘æ ‘ï¼Œè¿›ä¸€æ­¥æé«˜äº†æ“ä½œæ•°æ®çš„æ€§èƒ½\næ ‘ï¼š\näºŒå‰æ ‘ä¸­ï¼Œä»»æ„èŠ‚ç‚¹çš„åº¦\u0026lt;=2\nåº¦ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ æ ‘é«˜ï¼šæ ‘çš„æ€»å±‚æ•° æ ¹èŠ‚ç‚¹ï¼šæœ€é¡¶å±‚çš„èŠ‚ç‚¹ äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰\nè§„åˆ™ï¼šå°çš„å­˜å·¦è¾¹ï¼Œå¤§çš„å­˜å³è¾¹ï¼Œä¸€æ ·çš„ä¸å­˜\nå¹³è¡¡äºŒå‰æ ‘ï¼šå·¦å³å­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1\nçº¢é»‘æ ‘ï¼šå¯ä»¥è‡ªå¹³è¡¡çš„äºŒå‰æ ‘, æ˜¯ä¸€ç§å¢åˆ æ”¹æŸ¥æ€§èƒ½éƒ½ç›¸å¯¹è¾ƒå¥½çš„ç»“æ„\nä»JDK8å¼€å§‹ï¼Œå½“é“¾è¡¨çš„é•¿åº¦è¶…è¿‡8ï¼Œä¸”æ•°ç»„é•¿åº¦\u0026gt;=64æ—¶ï¼Œè‡ªåŠ¨å°†é“¾è¡¨è½¬æˆçº¢é»‘æ ‘\npublic static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª HashSet å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æ•´æ•°æ•°æ® Set\u0026lt;Integer\u0026gt; set = new HashSet\u0026lt;\u0026gt;(); // å¾€ HashSet ä¸­æ·»åŠ æ•´æ•°å…ƒç´  // HashSet ä¼šè‡ªåŠ¨å»é‡ï¼Œä¸ä¼šå­˜å‚¨é‡å¤çš„å…ƒç´  set.add(999); // æ·»åŠ æ•´æ•° 999 set.add(999); // æ·»åŠ é‡å¤çš„æ•´æ•° 999ï¼Œä½†ç”±äº HashSet ä¸å…è®¸é‡å¤å…ƒç´ ï¼Œæ­¤æ¬¡æ·»åŠ æ— æ•ˆ set.add(777); // æ·»åŠ æ•´æ•° 777 // æ‰“å° HashSet ä¸­çš„å…ƒç´  // è¾“å‡ºç»“æœï¼š[777, 999] // HashSet ä¸­çš„å…ƒç´ æ— åºï¼Œå¹¶ä¸”å·²ç»å»é‡äº†ï¼Œåªä¿ç•™äº†ä¸€ä¸ª 999 System.out.println(set); } LinkedHashSet public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª LinkedHashSet å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æ•´æ•°æ•°æ®ï¼Œå¹¶ä¿æŒå…ƒç´ çš„æ’å…¥é¡ºåº Set\u0026lt;Integer\u0026gt; set = new LinkedHashSet\u0026lt;\u0026gt;(); // å¾€ LinkedHashSet ä¸­æ·»åŠ æ•´æ•°å…ƒç´  // LinkedHashSet ä¼šä¿æŒå…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å»é‡ï¼Œä¸ä¼šå­˜å‚¨é‡å¤çš„å…ƒç´  // æ·»åŠ é¡ºåºï¼š999, 000, 777, 888 // ç”±äº LinkedHashSet ä¼šä¿æŒæ’å…¥é¡ºåºï¼Œå› æ­¤æ‰“å°æ—¶ä¹Ÿä¼šæŒ‰ç…§æ·»åŠ é¡ºåºè¾“å‡º set.add(999); set.add(000); // æ³¨æ„ï¼šæ•´æ•° 000 åœ¨æ‰“å°æ—¶ä¼šè‡ªåŠ¨å»æ‰å‰å¯¼é›¶ï¼Œå˜æˆ 0 set.add(777); set.add(888); set.add(999); // é‡å¤å…ƒç´ ä¸ä¼šè¢«æ·»åŠ è¿› LinkedHashSet // æ‰“å° LinkedHashSet ä¸­çš„å…ƒç´  // è¾“å‡ºç»“æœï¼š[999, 0, 777, 888] // LinkedHashSet ä¸­çš„å…ƒç´ æŒ‰ç…§æ’å…¥é¡ºåºæ’åˆ—ï¼Œå¹¶ä¸”å»é‡äº† System.out.println(set); } TreeSet() åŸºäºçº¢é»‘æ ‘å®ç°æ’åºï¼Œ\npublic static void main(String[] args) { // åˆ›å»ºä¸€ä¸ª TreeSet å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æ•´æ•°æ•°æ®ï¼Œå¹¶æŒ‰ç…§è‡ªç„¶é¡ºåºè¿›è¡Œæ’åº Set\u0026lt;Integer\u0026gt; set = new TreeSet\u0026lt;\u0026gt;(); // å¾€ TreeSet ä¸­æ·»åŠ æ•´æ•°å…ƒç´  // TreeSet ä¼šè‡ªåŠ¨å»é‡ï¼Œä¸ä¼šå­˜å‚¨é‡å¤çš„å…ƒç´  // æ·»åŠ é¡ºåºï¼š999, 000, 777, 888 // ç”±äº TreeSet æ˜¯æœ‰åºçš„ï¼Œå®ƒä¼šæ ¹æ®è‡ªç„¶é¡ºåºï¼ˆä»å°åˆ°å¤§ï¼‰å¯¹å…ƒç´ è¿›è¡Œæ’åº set.add(999); set.add(000); // æ³¨æ„ï¼šæ•´æ•° 000 åœ¨æ‰“å°æ—¶ä¼šè‡ªåŠ¨å»æ‰å‰å¯¼é›¶ï¼Œå˜æˆ 0 set.add(777); set.add(888); set.add(999); // é‡å¤å…ƒç´ ä¸ä¼šè¢«æ·»åŠ è¿› TreeSet // æ‰“å° TreeSet ä¸­çš„å…ƒç´  // è¾“å‡ºç»“æœï¼š[0, 777, 888, 999] // TreeSet ä¸­çš„å…ƒç´ å·²ç»æŒ‰ç…§è‡ªç„¶é¡ºåºæ’å¥½åºï¼Œå¹¶ä¸”å»é‡äº† System.out.println(set); } å¯¹äºè‡ªå®šä¹‰å¯¹è±¡ï¼Œç¡®ä¿å­˜å‚¨çš„å€¼ç›¸åŒå°±é‡å¤ï¼Œé‡å†™hashCodeæ–¹æ³•\n@Override public int hashCode() { return Objects.hash(name, age, height);//åªè¦å†…å®¹ä¸€æ ·ï¼Œå“ˆå¸Œå€¼å°±ç›¸åŒ } è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼š TreeSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œ å¿…é¡»æŒ‡å®šæ’åºè§„åˆ™ï¼Œæ”¯æŒå¦‚ä¸‹ä¸¤ç§æ–¹å¼æ¥æŒ‡å®šæ¯”è¾ƒè§„åˆ™ æ–¹å¼ä¸€\nè®©è‡ªå®šä¹‰çš„ç±»ï¼ˆå¦‚å­¦ç”Ÿç±»ï¼‰å®ç°Comparableæ¥å£ï¼Œé‡å†™é‡Œé¢çš„compareToæ–¹æ³•æ¥æ‰§è¡Œæ¯”è¾ƒè§„åˆ™ @Override public int compareTo(Student o) { return this.age - o.age; } æ–¹å¼äºŒ\né€šè¿‡è°ƒç”¨TreeSeté›†åˆæœ‰å‚æ•°æ„é€ å™¨ï¼Œå¯ä»¥è®¾ç½®Comparatorå¯¹è±¡ï¼ˆæ¯”è¾ƒå™¨å¯¹è±¡ï¼Œç”¨äºæŒ‡å®šæ¯”è¾ƒè§„åˆ™ã€‚ï¼‰ // å°±è¿‘é€‰æ‹©è‡ªå·±è‡ªå¸¦çš„æ¯”è¾ƒå™¨è¿›è¡Œæ¯”è¾ƒ // Set\u0026lt;Student\u0026gt; students = new TreeSet\u0026lt;\u0026gt;(new Comparator\u0026lt;Student\u0026gt;() { // @Override // public int compare(Student o1, Student o2) { // return Double.compare(o1.getHeight(), o2.getHeight()); // } // }); Set\u0026lt;Student\u0026gt; students = new TreeSet\u0026lt;\u0026gt;( (o1, o2) -\u0026gt; Double.compare(o1.getHeight(), o2.getHeight())); é›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸ public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ List\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(\u0026#34;å°æå­\u0026#34;); list.add(\u0026#34;åˆ©ç›çª¦\u0026#34;); list.add(\u0026#34;èƒ¡é£äº‘\u0026#34;); list.add(\u0026#34;èƒ¡é¢ä¸Š\u0026#34;); list.add(\u0026#34;èƒ¡æ¤’ç²‰\u0026#34;); list.add(\u0026#34;kennem\u0026#34;); list.add(\u0026#34;ç™¾äº‹å¿«\u0026#34;); System.out.println(list); // ä½¿ç”¨è¿­ä»£å™¨éå†åˆ—è¡¨å¹¶ç§»é™¤åŒ…å«ç‰¹å®šå­—ç¬¦çš„å…ƒç´  Iterator\u0026lt;String\u0026gt; it = list.iterator(); while (it.hasNext()) { String name = it.next(); if (name.contains(\u0026#34;èƒ¡\u0026#34;)) { it.remove(); // è§£å†³é›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸ } } System.out.println(list); // ä½¿ç”¨æ™®é€šforå¾ªç¯éå†åˆ—è¡¨å¹¶ç§»é™¤åŒ…å«ç‰¹å®šå­—ç¬¦çš„å…ƒç´  // é€šè¿‡ç»´æŠ¤ç´¢å¼•ï¼Œé¿å…å¹¶å‘ä¿®æ”¹å¼‚å¸¸ /* for (int i = 0; i \u0026lt; list.size(); i++) { String name = list.get(i); if (name.contains(\u0026#34;èƒ¡\u0026#34;)) { list.remove(name); i--; // è§£å†³é›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸ } } System.out.println(list); */ // ä½¿ç”¨å¢å¼ºforå¾ªç¯éå†åˆ—è¡¨å¹¶ç§»é™¤åŒ…å«ç‰¹å®šå­—ç¬¦çš„å…ƒç´  // ä¸æ¨èï¼Œä¼šå¯¼è‡´ConcurrentModificationExceptionå¼‚å¸¸ /* for (String s : list) { if (s.contains(\u0026#34;èƒ¡\u0026#34;)) { list.remove(s); } } System.out.println(list); */ } å¯å˜å‚æ•° public static void main(String[] args) { // è°ƒç”¨testæ–¹æ³•ï¼Œä¼ å…¥å•ä¸ªæ•´æ•°å‚æ•° test(1); // è°ƒç”¨testæ–¹æ³•ï¼Œä¼ å…¥å•ä¸ªæ•´æ•°å‚æ•° test(10); // è°ƒç”¨testæ–¹æ³•ï¼Œä¼ å…¥å¤šä¸ªæ•´æ•°å‚æ•°ï¼Œå…¶ä¸­æœ€åä¸€ä¸ªå‚æ•°ä¸ºå¯å˜å‚æ•° test(100, 10, 0); // è°ƒç”¨testæ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªæ•´æ•°å‚æ•°å’Œä¸€ä¸ªæ•´æ•°æ•°ç»„å‚æ•° test(1, new int[] {1, 2, 4, 4, 3, 3, 3, 3, 4, 3}); } // 1. ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•° // 2. å¯å˜å‚æ•°å¿…é¡»æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€åé¢ public static void test(int age, int...nums){ // æ‰“å°å¯å˜å‚æ•°æ•°ç»„ System.out.println(Arrays.toString(nums)); // æ‰“å°å¯å˜å‚æ•°æ•°ç»„çš„é•¿åº¦ System.out.println(nums.length); // æ‰“å°åˆ†éš”çº¿ System.out.println(\u0026#34;----------\u0026#34;); } Collections public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ List\u0026lt;String\u0026gt; names = new ArrayList\u0026lt;\u0026gt;(); // å‘åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´  Collections.addAll(names, \u0026#34;Kennem\u0026#34;, \u0026#34;å¼ ä¸€\u0026#34;,\u0026#34;æä¸‰\u0026#34;,\u0026#34;ç‹å…­\u0026#34;); // æ‰“å°åˆ—è¡¨å†…å®¹ System.out.println(names); // æ‰“ä¹±åˆ—è¡¨ä¸­å…ƒç´ çš„é¡ºåº Collections.shuffle(names); // æ‰“å°æ‰“ä¹±åçš„åˆ—è¡¨å†…å®¹ System.out.println(names); // åˆ›å»ºä¸€ä¸ªæ•´æ•°åˆ—è¡¨ List\u0026lt;Integer\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); // å‘åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´  list.add(3); list.add(4); list.add(1); // å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åº Collections.sort(list); // æ‰“å°æ’åºåçš„åˆ—è¡¨å†…å®¹ System.out.println(list); // åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡åˆ—è¡¨ List\u0026lt;Student\u0026gt; students = new ArrayList\u0026lt;\u0026gt;(); // åˆ›å»ºå­¦ç”Ÿå¯¹è±¡å¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ Student s1 = new Student(\u0026#34;è‡³å°Šå®\u0026#34;, 21, 181.9); Student s2 = new Student(\u0026#34;èœ˜è››ç²¾\u0026#34;, 21, 188); Student s3 = new Student(\u0026#34;ç‰›é­”ç‹\u0026#34;, 20, 165.3); Student s4 = new Student(\u0026#34;èå­ç²¾\u0026#34;, 20, 165.3); Student s5 = new Student(\u0026#34;è‘«èŠ¦å¨ƒ\u0026#34;, 20, 165.3); Student s6 = new Student(\u0026#34;è‡³å°Šå®\u0026#34;, 21, 181); students.add(s1); students.add(s2); students.add(s3); students.add(s4); students.add(s5); students.add(s6); // æ‰“å°å­¦ç”Ÿåˆ—è¡¨å†…å®¹ System.out.println(students); // ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¯¹å­¦ç”Ÿåˆ—è¡¨æŒ‰èº«é«˜è¿›è¡Œæ’åº Collections.sort(students, (o1, o2) -\u0026gt; Double.compare(o1.getHeight(), o2.getHeight())); // æ‰“å°æŒ‰èº«é«˜æ’åºåçš„å­¦ç”Ÿåˆ—è¡¨å†…å®¹ System.out.println(students); } Map HashMap ï¼šæ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•ï¼›ï¼ˆç”¨çš„æœ€å¤šï¼‰ LinkedHashMapï¼šç”±é”®å†³å®šçš„ç‰¹ç‚¹ï¼šæœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼• TreeMap:æŒ‰ç…§å¤§å°é»˜è®¤å‡åºæ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼• public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡ Map\u0026lt;String, Integer\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); // å‘mapä¸­æ·»åŠ é”®å€¼å¯¹ map.put(\u0026#34;æ‰‹è¡¨\u0026#34;, 100); map.put(\u0026#34;æ‰‹æœº\u0026#34;, 20); map.put(\u0026#34;Java\u0026#34;, 120); map.put(null, null); // å…è®¸é”®å’Œå€¼ä¸ºnull // æ‰“å°mapçš„å†…å®¹ System.out.println(map); // è·å–mapçš„å¤§å° System.out.println(map.size()); // æ¸…ç©ºmap // map.clear(); // æ‰“å°æ¸…ç©ºåçš„map System.out.println(map); // åˆ¤æ–­mapæ˜¯å¦ä¸ºç©º System.out.println(map.isEmpty()); // è·å–æŒ‡å®šé”®å¯¹åº”çš„å€¼ System.out.println(map.get(\u0026#34;æ‰‹æœº\u0026#34;)); // è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„é”®å¯¹åº”çš„å€¼ System.out.println(map.get(\u0026#34;666\u0026#34;)); // ç§»é™¤æŒ‡å®šé”®å¯¹åº”çš„é”®å€¼å¯¹ï¼Œå¹¶è¿”å›å¯¹åº”çš„å€¼ System.out.println(map.remove(\u0026#34;æ‰‹æœº\u0026#34;)); // åˆ¤æ–­mapä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„é”® System.out.println(map.containsKey(\u0026#34;æ‰‹æœº\u0026#34;)); System.out.println(map.containsKey(\u0026#34;æ‰‹æœº\u0026#34;)); // è·å–mapä¸­æ‰€æœ‰çš„é”®ï¼Œå¹¶å­˜å‚¨åˆ°Seté›†åˆä¸­ Set\u0026lt;String\u0026gt; keys = map.keySet(); System.out.println(keys); // è·å–mapä¸­æ‰€æœ‰çš„å€¼ï¼Œå¹¶å­˜å‚¨åˆ°Collectioné›†åˆä¸­ Collection\u0026lt;Integer\u0026gt; values = map.values(); System.out.println(values); // åˆ›å»ºå¦ä¸€ä¸ªHashMapå¯¹è±¡ Map\u0026lt;String, Integer\u0026gt; map1 = new HashMap\u0026lt;\u0026gt;(); map1.put(\u0026#34;Java1\u0026#34;, 100); map1.put(\u0026#34;Java2\u0026#34;, 200); map1.put(\u0026#34;Java3\u0026#34;, 300); // åˆ›å»ºå¦ä¸€ä¸ªHashMapå¯¹è±¡ Map\u0026lt;String, Integer\u0026gt; map2 = new HashMap\u0026lt;\u0026gt;(); map2.put(\u0026#34;Java3\u0026#34;, 400); map2.put(\u0026#34;Java4\u0026#34;, 500); // æ‰“å°map1å’Œmap2çš„å†…å®¹ System.out.println(map1); System.out.println(map2); // å°†map2ä¸­çš„é”®å€¼å¯¹å…¨éƒ¨æ·»åŠ åˆ°map1ä¸­ map1.putAll(map2); // æ‰“å°åˆå¹¶åçš„map1 System.out.println(map1); } éå†Map public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡ï¼Œé”®ä¸ºStringç±»å‹ï¼Œå€¼ä¸ºDoubleç±»å‹ Map\u0026lt;String, Double\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); // å‘mapä¸­æ·»åŠ é”®å€¼å¯¹ map.put(\u0026#34;èœ˜è››ç²¾\u0026#34;, 167.2); // å¦‚æœé”®å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–åŸæœ‰å€¼ map.put(\u0026#34;èœ˜è››ç²¾\u0026#34;, 169.2); map.put(\u0026#34;è‡³å°Šå®\u0026#34;, 164.2); map.put(\u0026#34;ç‰›é­”ç‹\u0026#34;, 187.2); // è·å–mapä¸­æ‰€æœ‰çš„é”®ï¼Œå¹¶å­˜å‚¨åœ¨Seté›†åˆä¸­ Set\u0026lt;String\u0026gt; keys = map.keySet(); // æ‰“å°æ‰€æœ‰çš„é”® System.out.println(keys); // éå†Seté›†åˆï¼Œè·å–æ¯ä¸ªé”®å¯¹åº”çš„å€¼ï¼Œå¹¶æ‰“å°é”®å€¼å¯¹ for (String key : keys) { double value = map.get(key); System.out.println(key + \u0026#34; \u0026#34; + map.get(key)); } } } entryéå†æ–¹å¼ // è·å–mapä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œå¹¶å­˜å‚¨åœ¨Seté›†åˆä¸­ Set\u0026lt;Map.Entry\u0026lt;String, Double\u0026gt;\u0026gt; entries = map.entrySet(); // éå†Seté›†åˆï¼Œè·å–æ¯ä¸ªé”®å€¼å¯¹ï¼Œå¹¶æ‰“å°é”®å€¼å¯¹ for (Map.Entry\u0026lt;String, Double\u0026gt; entry : entries) { String key = entry.getKey(); double value = entry.getValue(); System.out.println(key + \u0026#34;-----\u0026gt;\u0026#34; + value); } forEachæ–¹å¼éå†\n// ä½¿ç”¨forEachæ–¹æ³•éå†mapï¼Œæ‰“å°æ¯ä¸ªé”®å€¼å¯¹ map.forEach((k, v) -\u0026gt; { System.out.println(k + \u0026#34;---\u0026gt;\u0026#34; + v); }); LinkedHashMap ç±»ä¼¼LinkedHashSet(), è€Œä¸”LinkedHashSet()åº•å±‚ä½¿ç”¨çš„å°±æ˜¯linkedHashMap()\npublic static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªLinkedHashMapå¯¹è±¡ï¼Œé”®ä¸ºStudentç±»å‹ï¼Œå€¼ä¸ºIntegerç±»å‹ Map\u0026lt;Student, Integer\u0026gt; lmap = new LinkedHashMap\u0026lt;\u0026gt;(); // å‘lmapä¸­æ·»åŠ é”®å€¼å¯¹ï¼Œå…¶ä¸­é”®ä¸ºStudentå¯¹è±¡ï¼Œå€¼ä¸ºIntegerå¯¹è±¡ // æ³¨æ„ï¼šStudentç±»éœ€è¦æ­£ç¡®å®ç°equals()å’ŒhashCode()æ–¹æ³•ä»¥ç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§ lmap.put(new Student(\u0026#34;Ken\u0026#34;, 25, 150), 100); lmap.put(new Student(\u0026#34;Mary\u0026#34;, 23, 182), 123300); lmap.put(new Student(\u0026#34;Bob\u0026#34;, 21, 1180), 12300); lmap.put(new Student(\u0026#34;Paul\u0026#34;, 22, 130), 12); lmap.put(new Student(\u0026#34;Sam\u0026#34;, 15, 280), 120); lmap.put(new Student(\u0026#34;Ken\u0026#34;, 25, 150), 10); // æ³¨æ„ï¼šä¸ç¬¬ä¸€ä¸ªKenå¯¹è±¡ç›¸åŒï¼Œä½†æ˜¯å€¼ä¸åŒ // ä½¿ç”¨forEachæ–¹æ³•éå†lmapï¼Œæ‰“å°æ¯ä¸ªé”®å€¼å¯¹ lmap.forEach((k, v) -\u0026gt; { System.out.println(k + \u0026#34; \u0026#34; + v); }); } é‡å†™equalsæ–¹æ³•å¯ä»¥å»é™¤é‡å¤å€¼\n@Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; Student student = (Student) o; return age == student.age \u0026amp;\u0026amp; Double.compare(height, student.height) == 0 \u0026amp;\u0026amp; Objects.equals(name, student.name); } TreeMap æ¯”è¾ƒè§„åˆ™ç”¨é‡å†™Comparableæ¥å£ï¼Œæˆ–è€…é‡å†™Comparatoræ–¹æ³•\npublic static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªTreeMapå¯¹è±¡ï¼Œé”®ä¸ºStudentç±»å‹ï¼Œå€¼ä¸ºIntegerç±»å‹ // åœ¨æ„é€ TreeMapå¯¹è±¡æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªComparatorå¯¹è±¡ï¼Œç”¨äºæŒ‰ç…§å­¦ç”Ÿèº«é«˜è¿›è¡Œæ’åº Map\u0026lt;Student, Integer\u0026gt; tmap = new TreeMap\u0026lt;\u0026gt;((o1, o2) -\u0026gt; Double.compare(o1.getHeight(), o2.getHeight())); // å‘tmapä¸­æ·»åŠ é”®å€¼å¯¹ï¼Œå…¶ä¸­é”®ä¸ºStudentå¯¹è±¡ï¼Œå€¼ä¸ºIntegerå¯¹è±¡ // æ³¨æ„ï¼šStudentç±»éœ€è¦æ­£ç¡®å®ç°equals()å’ŒhashCode()æ–¹æ³•ä»¥ç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§ tmap.put(new Student(\u0026#34;Ken\u0026#34;, 25, 150), 100); tmap.put(new Student(\u0026#34;Mary\u0026#34;, 23, 182), 123300); tmap.put(new Student(\u0026#34;Bob\u0026#34;, 21, 1180), 12300); tmap.put(new Student(\u0026#34;Paul\u0026#34;, 22, 130), 12); tmap.put(new Student(\u0026#34;Sam\u0026#34;, 15, 280), 120); tmap.put(new Student(\u0026#34;Ken\u0026#34;, 25, 150), 10); // ä¸ç¬¬ä¸€ä¸ªKenå¯¹è±¡ç›¸åŒï¼Œä½†æ˜¯å€¼ä¸åŒ // ä½¿ç”¨forEachæ–¹æ³•éå†tmapï¼Œæ‰“å°æ¯ä¸ªé”®å€¼å¯¹ tmap.forEach((k, v) -\u0026gt; { System.out.println(k + \u0026#34; \u0026#34; + v); }); } é‡å†™Comparableä¸­çš„compareToæ–¹æ³•\n@Override public int compareTo(Student o) { return this.age - o.age; } é›†åˆçš„åµŒå¥— public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡ï¼Œé”®ä¸ºStringç±»å‹ï¼Œå€¼ä¸ºList\u0026lt;String\u0026gt;ç±»å‹ Map\u0026lt;String, List\u0026lt;String\u0026gt;\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); // åˆ›å»ºç¬¬ä¸€ä¸ªåŸå¸‚åˆ—è¡¨ï¼Œå­˜å‚¨æ±Ÿè‹çœçš„åŸå¸‚ä¿¡æ¯ List\u0026lt;String\u0026gt; cities1 = new ArrayList\u0026lt;\u0026gt;(); // ä½¿ç”¨Collections.addAllæ–¹æ³•å‘cities1ä¸­æ·»åŠ å¤šä¸ªå…ƒç´  Collections.addAll(cities1, \u0026#34;å—äº¬å¸‚\u0026#34;, \u0026#34;æ‰¬å·å¸‚\u0026#34;, \u0026#34;è‹å·å¸‚\u0026#34;, \u0026#34;æ— é”¡å¸‚\u0026#34;, \u0026#34;å¸¸å·å¸‚\u0026#34;); // å°†é”®å€¼å¯¹æ·»åŠ åˆ°mapä¸­ï¼Œé”®ä¸º\u0026#34;æ±Ÿè‹çœ\u0026#34;ï¼Œå€¼ä¸ºcities1åˆ—è¡¨ map.put(\u0026#34;æ±Ÿè‹çœ\u0026#34;, cities1); // åˆ›å»ºç¬¬äºŒä¸ªåŸå¸‚åˆ—è¡¨ï¼Œå­˜å‚¨æ¹–åŒ—çœçš„åŸå¸‚ä¿¡æ¯ List\u0026lt;String\u0026gt; cities2 = new ArrayList\u0026lt;\u0026gt;(); Collections.addAll(cities2, \u0026#34;æ­¦æ±‰å¸‚\u0026#34;, \u0026#34;å­æ„Ÿå¸‚\u0026#34;, \u0026#34;åå °å¸‚\u0026#34;, \u0026#34;å®œæ˜Œå¸‚\u0026#34;, \u0026#34;é„‚å·å¸‚\u0026#34;); map.put(\u0026#34;æ¹–åŒ—çœ\u0026#34;, cities2); // æ‰“å°æ•´ä¸ªmap System.out.println(map); // æ‰“å°æ¹–åŒ—çœå¯¹åº”çš„åŸå¸‚åˆ—è¡¨ System.out.println(map.get(\u0026#34;æ¹–åŒ—çœ\u0026#34;)); // ä½¿ç”¨å¢å¼ºforå¾ªç¯éå†ç¬¬äºŒä¸ªåŸå¸‚åˆ—è¡¨ï¼Œæ‰“å°å…¶ä¸­çš„åŸå¸‚ä¿¡æ¯ for (String s : cities2) { System.out.println(s); } // ä½¿ç”¨forEachæ–¹æ³•éå†mapï¼Œæ‰“å°æ¯ä¸ªçœä»½åŠå…¶å¯¹åº”çš„åŸå¸‚åˆ—è¡¨ map.forEach((k, v) -\u0026gt; System.out.println(k + \u0026#34;---\u0026gt;\u0026#34; + v)); } Stream import java.util.ArrayList; import java.util.Collections; import java.util.List; import java.util.stream.Collectors; public class Main { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ List\u0026lt;String\u0026gt; names = new ArrayList\u0026lt;\u0026gt;(); // å‘åˆ—è¡¨ä¸­æ·»åŠ å¤šä¸ªå…ƒç´  Collections.addAll(names, \u0026#34;å¼ æŸ\u0026#34;, \u0026#34;å¼ äº”ä¸€\u0026#34;, \u0026#34;å¼ æ— å¿Œ\u0026#34;, \u0026#34;å¼ ä¸‰ä¸°\u0026#34;, \u0026#34;Kennem\u0026#34;); // æ‰“å°åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´  System.out.println(names); // åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨ä»¥\u0026#34;å¼ \u0026#34;å¼€å¤´ä¸”é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸² List\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); // ä½¿ç”¨å¢å¼ºforå¾ªç¯éå†åŸå§‹åˆ—è¡¨ for (String name : names) { // å¦‚æœå­—ç¬¦ä¸²ä»¥\u0026#34;å¼ \u0026#34;å¼€å¤´ä¸”é•¿åº¦ä¸º3ï¼Œåˆ™æ·»åŠ åˆ°æ–°åˆ—è¡¨ä¸­ if (name.startsWith(\u0026#34;å¼ \u0026#34;) \u0026amp;\u0026amp; name.length() == 3) { list.add(name); } } // æ‰“å°æ–°åˆ—è¡¨ä¸­çš„å…ƒç´  System.out.println(list); // ä½¿ç”¨æµè¿›è¡Œç­›é€‰ï¼Œè·å–ä»¥\u0026#34;å¼ \u0026#34;å¼€å¤´ä¸”é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸²ï¼Œç„¶åæ”¶é›†åˆ°æ–°çš„åˆ—è¡¨ä¸­ List\u0026lt;String\u0026gt; list2 = names.stream() .filter(s -\u0026gt; s.startsWith(\u0026#34;å¼ \u0026#34;)) // ç­›é€‰ä»¥\u0026#34;å¼ \u0026#34;å¼€å¤´çš„å­—ç¬¦ä¸² .filter(a -\u0026gt; a.length() == 3) // ç­›é€‰é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸² .collect(Collectors.toList()); // æ”¶é›†åˆ°æ–°çš„åˆ—è¡¨ä¸­ // æ‰“å°æ–°åˆ—è¡¨ä¸­çš„å…ƒç´  System.out.println(list2); } } ArrayList, HashSet, Mapçš„Streamæµ public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ List\u0026lt;String\u0026gt; names = new ArrayList\u0026lt;\u0026gt;(); // å‘åˆ—è¡¨ä¸­æ·»åŠ å¤šä¸ªå…ƒç´  Collections.addAll(names, \u0026#34;å¼ ä¸‰ä¸°\u0026#34;, \u0026#34;å¼ æŸäºº\u0026#34;, \u0026#34;å¼ æŸæŸ\u0026#34;, \u0026#34;å¼ æŸ\u0026#34;, \u0026#34;å¼ æŸæŸäºº\u0026#34;); // åˆ›å»ºä¸€ä¸ªæµï¼Œå¹¶å¯¹å…¶ä¸­åŒ…å«\u0026#34;æŸ\u0026#34;çš„å…ƒç´ è¿›è¡Œç­›é€‰å¹¶æ‰“å° Stream\u0026lt;String\u0026gt; stream1 = names.stream(); stream1.filter(s -\u0026gt; s.contains(\u0026#34;æŸ\u0026#34;)).forEach(System.out::println); // åˆ›å»ºä¸€ä¸ªHashSeté›†åˆï¼Œå¹¶å°†å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°å…¶ä¸­ Set\u0026lt;String\u0026gt; set = new HashSet\u0026lt;\u0026gt;(); Collections.addAll(set, \u0026#34;å¼ ä¸‰ä¸°\u0026#34;, \u0026#34;å¼ æŸäºº\u0026#34;, \u0026#34;å¼ æŸæŸ\u0026#34;, \u0026#34;å¼ æŸ\u0026#34;, \u0026#34;å¼ æŸæŸäºº\u0026#34;); // åˆ›å»ºä¸€ä¸ªæµï¼Œå¹¶å¯¹å…¶ä¸­åŒ…å«\u0026#34;æŸ\u0026#34;çš„å…ƒç´ è¿›è¡Œç­›é€‰å¹¶æ‰“å° Stream\u0026lt;String\u0026gt; stream2 = set.stream(); stream2.filter(s -\u0026gt; s.contains(\u0026#34;æŸ\u0026#34;)).forEach(System.out::println); // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ é”®å€¼å¯¹ Map\u0026lt;String, Double\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); map.put(\u0026#34;å¼ æŸ\u0026#34;, 165.3); map.put(\u0026#34;Kennem\u0026#34;, 181.2); map.put(\u0026#34;Karl\u0026#34;, 180.1); // è·å–mapä¸­æ‰€æœ‰å€¼çš„é›†åˆ Collection\u0026lt;Double\u0026gt; values = map.values(); // åˆ›å»ºä¸€ä¸ªæµï¼Œå¹¶å¯¹å…¶ä¸­åŒ…å«\u0026#34;æŸ\u0026#34;çš„é”®å€¼å¯¹è¿›è¡Œç­›é€‰å¹¶æ‰“å° Set\u0026lt;Map.Entry\u0026lt;String, Double\u0026gt;\u0026gt; entries = map.entrySet(); Stream\u0026lt;Map.Entry\u0026lt;String, Double\u0026gt;\u0026gt; stream3 = entries.stream(); stream3.filter(e -\u0026gt; e.getKey().contains(\u0026#34;æŸ\u0026#34;)) .forEach(e -\u0026gt; System.out.println(e.getKey() + \u0026#34;--\u0026gt;\u0026#34; + e.getValue())); // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶å°†å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°å…¶ä¸­ String[] names2 = {\u0026#34;å¼ æŸäºº\u0026#34;, \u0026#34;ä¸œæ–¹ä¸è´¥\u0026#34;}; // ä½¿ç”¨Arrays.streamæ–¹æ³•åˆ›å»ºä¸€ä¸ªæµï¼Œå¹¶å¯¹å…¶ä¸­çš„å…ƒç´ è¿›è¡Œæ‰“å° Stream\u0026lt;String\u0026gt; stream4 = Arrays.stream(names2); stream4.forEach(System.out::println); // ä½¿ç”¨Stream.ofæ–¹æ³•åˆ›å»ºä¸€ä¸ªæµï¼Œå¹¶å¯¹å…¶ä¸­çš„å…ƒç´ è¿›è¡Œæ‰“å° Stream\u0026lt;String\u0026gt; names21 = Stream.of(names2); names21.forEach(System.out::println); } æ’åºä»¥åŠç­›é€‰ public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªDoubleç±»å‹çš„åˆ—è¡¨ï¼Œå­˜å‚¨è€ƒè¯•æˆç»© List\u0026lt;Double\u0026gt; scores = new ArrayList\u0026lt;\u0026gt;(); Collections.addAll(scores, 88.5, 89.5, 90.0, 12.0, 1.0); // ä½¿ç”¨æµå¯¹è€ƒè¯•æˆç»©è¿›è¡Œç­›é€‰ï¼Œåªæ‰“å°åŠæ ¼çš„æˆç»© scores.stream().filter(s -\u0026gt; s \u0026gt;= 60) .forEach(System.out::println); System.out.println(\u0026#34;---------------\u0026#34;); // åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡çš„åˆ—è¡¨ï¼Œå­˜å‚¨å­¦ç”Ÿä¿¡æ¯ List\u0026lt;Student\u0026gt; students = new ArrayList\u0026lt;\u0026gt;(); // åˆ›å»ºå¤šä¸ªStudentå¯¹è±¡ï¼Œå¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ Student s1 = new Student(\u0026#34;è‡³å°Šå®\u0026#34;, 21, 181.2); Student s2 = new Student(\u0026#34;èœ˜è››ç²¾\u0026#34;, 21, 181.3); Student s3 = new Student(\u0026#34;ç‰›é­”ç‹\u0026#34;, 20, 165.3); Student s4 = new Student(\u0026#34;èå­ç²¾\u0026#34;, 20, 165.2); Student s5 = new Student(\u0026#34;èœ˜è››ç²¾\u0026#34;, 22, 181.3); Collections.addAll(students, s1, s2, s3, s4, s5); // ä½¿ç”¨æµå¯¹å­¦ç”Ÿä¿¡æ¯è¿›è¡Œç­›é€‰å’Œæ’åºï¼Œå¹¶æ‰“å°ç»“æœ students.stream().filter(s -\u0026gt; s.getAge() \u0026gt;= 10 \u0026amp;\u0026amp; s.getAge() \u0026lt;= 30) .sorted((o1, o2) -\u0026gt; o2.getAge() - o1.getAge()) .forEach(System.out::println); System.out.println(\u0026#34;--------------\u0026#34;); // ä½¿ç”¨æµå¯¹å­¦ç”Ÿä¿¡æ¯æŒ‰èº«é«˜è¿›è¡Œæ’åºï¼Œå¹¶æ‰“å°èº«é«˜æœ€é«˜çš„å‰ä¸‰åå­¦ç”Ÿ students.stream().sorted(((o1, o2) -\u0026gt; Double.compare(o2.getHeight(), o1.getHeight()))) .limit(3) .forEach(System.out::println); System.out.println(\u0026#34;---------------\u0026#34;); // ä½¿ç”¨æµå¯¹å­¦ç”Ÿä¿¡æ¯æŒ‰èº«é«˜è¿›è¡Œæ’åºï¼Œå¹¶æ‰“å°èº«é«˜æœ€ä½çš„ä¸¤åå­¦ç”Ÿ students.stream().sorted(((o1, o2) -\u0026gt; Double.compare(o2.getHeight(), o1.getHeight()))) .skip(students.size() - 2) .forEach(System.out::println); System.out.println(\u0026#34;-----------------\u0026#34;); // ä½¿ç”¨æµå¯¹å­¦ç”Ÿä¿¡æ¯è¿›è¡Œç­›é€‰ï¼Œæ‰¾å‡ºèº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå¹¶æ‰“å°ä»–ä»¬çš„å§“åï¼ˆå»é‡ï¼‰ students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .map(Student::getName) .distinct() .forEach(System.out::println); // ä½¿ç”¨Stream.concatæ–¹æ³•å°†ä¸¤ä¸ªæµåˆå¹¶ï¼Œç„¶åæ‰“å°åˆå¹¶åçš„ç»“æœ Stream\u0026lt;Student\u0026gt; s11 = Stream.of(s1, s2); Stream\u0026lt;Student\u0026gt; s12 = Stream.of(s3, s4); Stream\u0026lt;Student\u0026gt; concat = Stream.concat(s11, s12); concat.forEach(System.out::println); } Streamç»ˆç»“æ–¹æ³• public static void main(String[] args) { // åˆ›å»ºå­¦ç”Ÿåˆ—è¡¨ List\u0026lt;Student\u0026gt; students = new ArrayList\u0026lt;\u0026gt;(); // åˆ›å»ºå­¦ç”Ÿå¯¹è±¡å¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ Student s1 = new Student(\u0026#34;è‡³å°Šå®\u0026#34;, 21, 181.2); Student s2 = new Student(\u0026#34;èœ˜è››ç²¾\u0026#34;, 21, 181.3); Student s3 = new Student(\u0026#34;ç‰›é­”ç‹\u0026#34;, 20, 165.3); Student s4 = new Student(\u0026#34;èå­ç²¾\u0026#34;, 20, 165.2); Student s5 = new Student(\u0026#34;èœ˜è››ç²¾\u0026#34;, 21, 181.3); Collections.addAll(students, s1, s2, s3, s4, s5); // ä½¿ç”¨æµè¿‡æ»¤èº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå¹¶å°†ç»“æœæ”¶é›†åˆ°åˆ—è¡¨ä¸­ List\u0026lt;Student\u0026gt; res1 = students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .collect(Collectors.toList()); System.out.println(res1); // ä½¿ç”¨æµè¿‡æ»¤èº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå¹¶å°†ç»“æœæ”¶é›†åˆ°é›†åˆä¸­ Set\u0026lt;Student\u0026gt; res2 = students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .collect(Collectors.toSet()); System.out.println(res2); // ä½¿ç”¨æµè¿‡æ»¤èº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå»é™¤é‡å¤çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶å°†å§“åå’Œèº«é«˜æ˜ å°„åˆ°Mapä¸­ Map\u0026lt;String, Double\u0026gt; res3 = students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .distinct() .collect(Collectors.toMap(a -\u0026gt; a.getName(), a -\u0026gt; a.getHeight())); System.out.println(res3); // ä½¿ç”¨æµè¿‡æ»¤èº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå»é™¤é‡å¤çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶å°†ç»“æœè½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„ Object[] res4 = students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .distinct() .toArray(); System.out.println(Arrays.toString(res4)); // ä½¿ç”¨æµè¿‡æ»¤èº«é«˜å¤§äº168çš„å­¦ç”Ÿï¼Œå»é™¤é‡å¤çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶å°†ç»“æœè½¬æ¢ä¸ºæŒ‡å®šé•¿åº¦çš„å­¦ç”Ÿæ•°ç»„ Student[] res5 = students.stream() .filter(s -\u0026gt; s.getHeight() \u0026gt; 168) .distinct() .toArray(len -\u0026gt; new Student[len]); System.out.println(Arrays.toString(res5)); } æ€»ç»“ç¨‹åºçš„çŸ¥è¯†ç‚¹ï¼Œå¹¶å°†çŸ¥è¯†ç‚¹å†™åˆ°ç¨‹åºæ³¨é‡Šä¸­å» ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B2/","summary":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(2) æ­£åˆ™è¡¨è¾¾å¼ ç¬¦å· å«ä¹‰ ä¸¾ä¾‹ [] åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»ä¸€å­—ç¬¦ [abc] ^ åŒ¹é…é™¤æŒ‡å®šå­—ç¬¦å¤–çš„ä»»æ„å­—ç¬¦ [^abc] \u0026amp;\u0026amp; åŒ¹é…ä¸¤ä¸ªå­—ç¬¦é›†çš„äº¤é›†ï¼Œéœ€","title":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(2)"},{"content":"LeetCodeç¬¬ 393 åœºå‘¨èµ› ç¬¬ä¸‰é¢˜3116. å•é¢å€¼ç»„åˆçš„ç¬¬ K å°é‡‘é¢ é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„coinsè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™å®šä¸€ä¸ªæ•´æ•°kã€‚ä½ æœ‰æ— é™é‡çš„æ¯ç§é¢é¢çš„ç¡¬å¸ï¼Œä½†æ˜¯ï¼Œä½ ä¸èƒ½ç»„åˆä½¿ç”¨ä¸åŒé¢é¢çš„ç¡¬å¸ã€‚è¦æ±‚è¿”å›ä½¿ç”¨è¿™äº›ç¡¬å¸èƒ½åˆ¶é€ çš„ç¬¬kthå°é‡‘é¢ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œå¯¹äºç»™å®šçš„ç¡¬å¸æ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºå®ƒä»¬çš„æ‰€æœ‰å¯èƒ½çš„ç»„åˆæ–¹å¼ã€‚ ä½¿ç”¨ä½è¿ç®—æ¥æšä¸¾æ‰€æœ‰çš„ç»„åˆæ–¹å¼ï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªç¡¬å¸ï¼Œåˆ†åˆ«è€ƒè™‘é€‰å–å’Œä¸é€‰å–ä¸¤ç§æƒ…å†µï¼Œé€šè¿‡ä½è¿ç®—å°†è¿™ä¸¤ç§æƒ…å†µæšä¸¾å‡ºæ¥ã€‚ å¯¹äºæ¯ç§ç»„åˆæ–¹å¼ï¼Œè®¡ç®—å…¶å¯¹åº”çš„æœ€å°å…¬å€æ•°ï¼ˆLCMï¼‰ä½œä¸ºè¯¥ç»„åˆçš„é‡‘é¢ã€‚ æ ¹æ®ç»„åˆçš„å¥‡å¶æ€§ï¼Œå°†é‡‘é¢çš„æ­£è´Ÿå·è®°å½•ä¸‹æ¥ï¼Œå¹¶å­˜å‚¨åœ¨åˆ—è¡¨lsä¸­ã€‚ åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ±‚è§£ç¬¬kthå°çš„é‡‘é¢ï¼Œé€šè¿‡ä¸æ–­è°ƒæ•´å·¦å³è¾¹ç•Œï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„é‡‘é¢ã€‚ è¿”å›æœ€ç»ˆæ‰¾åˆ°çš„é‡‘é¢ä½œä¸ºç»“æœã€‚ è¿™ç§æ–¹æ³•åˆ©ç”¨äº†ä½è¿ç®—å’ŒäºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³ï¼Œå¯ä»¥åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…æ±‚è§£å‡ºç»“æœã€‚\nclass Solution: def findKthSmallest(self, coins: List[int], k: int) -\u0026gt; int: n = len(coins) ls = [] for i in range(1, 1\u0026lt;\u0026lt;n): Lcm = 1 for j, x in enumerate(coins): if i\u0026gt;\u0026gt;j \u0026amp; 1: Lcm = lcm(Lcm, x) ls.append((1, Lcm)) if i.bit_count()\u0026amp;1 else ls.append((-1, Lcm)) l, r = 1, int(5e10) while l\u0026lt;r: mid = l+r\u0026gt;\u0026gt;1 cnt = 0 for sign, val in ls: cnt += sign*(mid//val) if cnt\u0026gt;=k: r = mid else: l = mid+1 return l ç¬¬å››é¢˜3117. åˆ’åˆ†æ•°ç»„å¾—åˆ°æœ€å°çš„å€¼ä¹‹å’Œ é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªæ•°ç»„numså’ŒandValuesï¼Œé•¿åº¦åˆ†åˆ«ä¸ºnå’Œmã€‚æ•°ç»„çš„å€¼ç­‰äºè¯¥æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚éœ€è¦å°†numsåˆ’åˆ†ä¸ºmä¸ªä¸ç›¸äº¤çš„è¿ç»­å­æ•°ç»„ï¼Œå¯¹äºç¬¬ithä¸ªå­æ•°ç»„[li, ri]ï¼Œå­æ•°ç»„å…ƒç´ çš„æŒ‰ä½ANDè¿ç®—ç»“æœç­‰äºandValues[i]ã€‚è¿”å›å°†numsåˆ’åˆ†ä¸ºmä¸ªå­æ•°ç»„æ‰€èƒ½å¾—åˆ°çš„å¯èƒ½çš„æœ€å°å­æ•°ç»„å€¼ä¹‹å’Œã€‚å¦‚æœæ— æ³•å®Œæˆè¿™æ ·çš„åˆ’åˆ†ï¼Œåˆ™è¿”å›-1ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå…·ä½“æ¥è¯´ï¼Œå¯ä»¥é‡‡ç”¨é€’å½’åŠ è®°å¿†åŒ–æœç´¢çš„æ–¹æ³•ã€‚ å®šä¹‰dfså‡½æ•°ç”¨äºé€’å½’æ±‚è§£ï¼Œå…¶ä¸­iè¡¨ç¤ºå½“å‰å¤„ç†åˆ°numsçš„ç¬¬iä¸ªå…ƒç´ ï¼Œjè¡¨ç¤ºå½“å‰å¤„ç†åˆ°andValuesçš„ç¬¬jä¸ªå…ƒç´ ï¼Œkè¡¨ç¤ºå½“å‰å­æ•°ç»„çš„æŒ‰ä½ANDè¿ç®—ç»“æœã€‚ åœ¨dfså‡½æ•°ä¸­ï¼Œé¦–å…ˆè¿›è¡Œè¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­ï¼Œå¦‚æœiç­‰äºnï¼Œè¡¨ç¤ºnumså·²ç»å¤„ç†å®Œæ¯•ï¼Œåˆ™è¿”å›0ï¼ˆå¦‚æœjç­‰äºmï¼‰æˆ–è€…æ­£æ— ç©·ï¼ˆå¦‚æœjä¸ç­‰äºmï¼‰ã€‚ ç„¶åï¼Œå¯¹å½“å‰nums[i]è¿›è¡ŒæŒ‰ä½ANDè¿ç®—ï¼Œå¹¶æ›´æ–°kçš„å€¼ã€‚å¦‚æœæ›´æ–°åçš„kå°äºandValues[j]ï¼Œåˆ™è¿”å›æ­£æ— ç©·ã€‚ å¦‚æœæ›´æ–°åçš„kç­‰äºandValues[j]ï¼Œåˆ™é€’å½’è°ƒç”¨dfså‡½æ•°ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶æ›´æ–°iå’Œjï¼Œå¹¶å°†ké‡ç½®ä¸º-1ã€‚é€’å½’è°ƒç”¨çš„ç»“æœåŠ ä¸Šnums[i]çš„å€¼å³ä¸ºå½“å‰åˆ’åˆ†æƒ…å†µçš„å­æ•°ç»„å€¼ä¹‹å’Œã€‚ æœ€åï¼Œè¿”å›æ‰€æœ‰åˆ’åˆ†æƒ…å†µä¸­çš„æœ€å°å€¼ä½œä¸ºç­”æ¡ˆï¼Œå¦‚æœç­”æ¡ˆä¸ºæ­£æ— ç©·ï¼Œåˆ™è¿”å›-1ã€‚ è¿™ç§æ–¹æ³•åˆ©ç”¨äº†é€’å½’å’Œè®°å¿†åŒ–æœç´¢çš„æ€æƒ³ï¼Œé¿å…äº†é‡å¤è®¡ç®—ï¼Œæé«˜äº†æ•ˆç‡ã€‚\nclass Solution: def minimumValueSum(self, nums: List[int], andValues: List[int]) -\u0026gt; int: n = len(nums) m = len(andValues) @cache def dfs(i, j, k): if i==n: return 0 if j==m else inf if j==m: return inf k\u0026amp;=nums[i] if k\u0026lt;andValues[j]: return inf res = dfs(i+1, j, k) if k==andValues[j]: res = min(res, dfs(i+1, j+1, -1)+nums[i]) return res ans = dfs(0, 0, -1) return ans if ans\u0026lt;inf else -1 ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E7%AC%AC-393-%E5%9C%BA%E5%91%A8%E8%B5%9B/","summary":"LeetCodeç¬¬ 393 åœºå‘¨èµ› ç¬¬ä¸‰é¢˜3116. å•é¢å€¼ç»„åˆçš„ç¬¬ K å°é‡‘é¢ é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„coinsè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™å®šä¸€ä¸ªæ•´æ•°kã€‚ä½ ","title":"LeetCodeå‘¨èµ›240414"},{"content":"è¿›é˜¶è¯¾ç¨‹(1) OOP static é™æ€ï¼Œ å¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡ï¼Œæˆå‘˜æ–¹æ³• æˆå‘˜å˜é‡æŒ‰ç…§æœ‰æ— staticä¿®é¥°ï¼Œåˆ†ä¸ºä¸¤ç§ ç±»å˜é‡ ï¼š æœ‰staticä¿®é¥°ï¼Œå±äºç±»ï¼Œåœ¨è®¡ç®—æœºé‡Œåªæœ‰ä¸€ä»½ï¼Œä¼šè¢«ç±»çš„å…¨éƒ¨å¯¹è±¡å…±äº« å®ä¾‹å˜é‡ï¼ˆå¯¹è±¡çš„å˜é‡ï¼‰ï¼šæ— staticä¿®é¥°ï¼Œå±äºæ¯ä¸ªå¯¹è±¡ // ç±»å˜é‡æ¨èèµ‹å€¼æ–¹å¼ Student.name = \u0026#34;Java\u0026#34;; // ä¸æ¨èèµ‹å€¼æ–¹å¼ Student s1 = new Student(); s1.name = \u0026#34;True Java\u0026#34;; Student s2 = new Student(); s2.name = \u0026#34;False Java\u0026#34;; System.out.println(s2.name); //False Java System.out.println(Student.name); //False Java // æˆå‘˜å˜é‡ s1.age = 25; s2.age = 15; System.out.println(s1.age); //25 System.out.println(s2.age); //15 //Userç±» public static int number; public User(){ number+=1; //ç±»ä¸­è®¿é—®è‡ªå·±çš„å˜é‡å¯ä»¥ä¸å†™ User(). } //Testç±» public static void main(String[] args) { User u1 = new User(); User u2 = new User(); User u3 = new User(); System.out.println(User.number); //3 } ç±»æ–¹æ³•ï¼šæœ‰staticä¿®é¥°çš„æˆå‘˜æ–¹æ³•ï¼Œå±äºç±»ã€‚ å®ä¾‹æ–¹æ³•ï¼šæ— staticä¿®é¥°çš„æˆå‘˜æ–¹æ³•ï¼Œå±äºå¯¹è±¡ //Student double score; public static void printHelloWorld(){ System.out.println(\u0026#34;Hello World\u0026#34;); System.out.println(\u0026#34;Hello World\u0026#34;); } public void printPass(){ System.out.println(\u0026#34;æˆç»©ï¼š\u0026#34; + (score \u0026gt;= 60 ? \u0026#34;åŠæ ¼\u0026#34; : \u0026#34;ä¸åŠæ ¼\u0026#34;)); } //Test Student.printHelloWorld();//Hello World Hello World Student s = new Student(); s.score = 100; s.printPass(); //æˆç»©ï¼šåŠæ ¼ ç±»æ–¹æ³•çš„å¸¸è§åº”ç”¨æ¡ˆä¾‹ ç±»æ–¹æ³•æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯åšå·¥å…·ç±» å·¥å…·ç±»ï¼šå·¥å…·ç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ä¸€äº›ç±»æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ç”¨æ¥å®Œæˆä¸€ä¸ªåŠŸèƒ½çš„ï¼Œå·¥å…·ç±»æ˜¯ç»™å¼€å‘äººå‘˜å…±åŒä½¿ç”¨çš„\nå¯ä»¥æé«˜ä»£ç å¤ç”¨æ€§ï¼šè°ƒç”¨æ–¹ä¾¿ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡\nä½¿ç”¨ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•æ—¶çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹\nç±»æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è®¿é—®ç±»çš„æˆå‘˜ï¼Œä¸å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹æˆå‘˜ å®ä¾‹æ–¹æ³•ä¸­æ—¢å¯ä»¥ç›´æ¥è®¿é—®ç±»æˆå‘˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹æˆå‘˜ å®ä¾‹æ–¹æ³•ä¸­å¯ä»¥å‡ºç°thiså…³é”®å­—ï¼Œç±»æ–¹æ³•ä¸­ä¸å¯ä»¥å‡ºç°thiså…³é”®å­— ä»£ç å— é™æ€ä»£ç å— æ ¼å¼ ï¼š static{ } ç‰¹ç‚¹ï¼šç±»åŠ è½½æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œç”±äºç±»åªä¼šåŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥é™æ€ä»£ç å—åªä¼šæ‰§è¡Œä¸€æ¬¡ ä½œç”¨ï¼šå®Œæˆç±»çš„åˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼šå¯¹ç±»å˜é‡çš„åˆå§‹åŒ–èµ‹å€¼ å®ä¾‹ä»£ç å—ï¼š æ ¼å¼ï¼š{ } ç‰¹ç‚¹ï¼šæ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ‰§è¡Œå®ä¾‹ä»£ç å—ï¼Œå¹¶åœ¨æ„é€ å™¨å‰æ‰§è¡Œ ä½œç”¨ï¼šå’Œæ„é€ å™¨ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨æ¥å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–çš„ï¼Œä¾‹å¦‚ï¼šå¯¹å®ä¾‹å˜é‡è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ å•ä¾‹è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ å°±æ˜¯è§£å†³é—®é¢˜çš„æœ€ä¼˜è§£ã€‚\nå•ä¾‹è®¾è®¡æ¨¡å¼ï¼šç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡\né¥¿æ±‰å¼å•ä¾‹ç±»\næŠŠç±»çš„æ„é€ å™¨ç§æœ‰ å®šä¹‰ä¸€ä¸ªç±»å˜é‡è®°ä¸ºç±»çš„ä¸€ä¸ªå¯¹è±¡ å®šä¹‰ä¸€ä¸ªç±»æ–¹æ³•ï¼Œè¿”å›å¯¹è±¡ public class A { private static A a = new A(); private A(){ } public static A getObject(){ return a; } } ç»§æ‰¿ ç»§æ‰¿çš„å¥½å¤„ï¼šå‡å°‘é‡å¤ä»£ç çš„ç¼–å†™\npublic class people { private String name; public String getName(){ return this.name; } public void setName(String name){ this.name = name; } } public class teacher extends people{ private String skill; public String getSkill() { return skill; } public void setSkill(String skill) { this.skill = skill; } public void printInfo(){ System.out.println(getName() + \u0026#34;å…·å¤‡çš„æŠ€èƒ½ ï¼š \u0026#34; + skill); } } public class Test { public static void main(String[] args) { teacher t1 = new teacher(); t1.setName(\u0026#34;Kennem\u0026#34;); t1.setSkill(\u0026#34;Java\u0026#34;); System.out.println(t1.getName()); //Kennem System.out.println(t1.getSkill()); //Java t1.printInfo(); //Kennemå…·å¤‡çš„æŠ€èƒ½ ï¼š Java } } ç»§æ‰¿çš„æ³¨æ„äº‹é¡¹ï¼š\næƒé™ä¿®é¥°ç¬¦ å•ç»§æ‰¿ï¼ŒObjectç±» æ–¹æ³•é‡å†™ å­ç±»ä¸­è®¿é—®å…¶ä»–æˆå‘˜çš„ç‰¹ç‚¹ å­ç±»æ„é€ å™¨çš„ç‰¹ç‚¹ æ³¨æ„äº‹é¡¹çš„å°ç»“ ä¿®é¥°ç¬¦ æœ¬ç±»ä¸­ åŒä¸€ä¸ªåŒ…ä¸‹çš„å…¶ä»–ç±»ç»§æ‰¿ ä»»æ„åŒ…ä¸‹çš„å­ç±»ç»§æ‰¿ ä»»æ„åŒ…ä¸‹çš„ä»»ä½•ç±»ç»§æ‰¿ private âœ“ ç¼ºçœ âœ“ âœ“ protected âœ“ âœ“ âœ“ public âœ“ âœ“ âœ“ âœ“ æ³¨æ„ï¼šç”¨protectedä¿®é¥°ï¼Œåªèƒ½åœ¨å­ç±»ä¸­è®¿é—®ï¼Œè€Œä¸æ˜¯å­ç±»çš„å¯¹è±¡è®¿é—®\nå•ç»§æ‰¿ Javaä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œæ”¯æŒå¤šå±‚ç»§æ‰¿\nObjectç±» Objectç±»æ˜¯ä»»ä½•ç±»çš„çˆ¶ç±»ã€‚\næ–¹æ³•é‡å†™ é‡å†™æ³¨æ„äº‹é¡¹\nä½¿ç”¨Overrideæ³¨è§£\n@Override public void print(){ System.out.println(\u0026#34;88888888\u0026#34;); } @Override public void print2(){ System.out.println(\u0026#34;8\u0026#34;); } å­ç±»å¤å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œè®¿é—®æƒé™å¿…é¡»å¤§äºæˆ–è€…ç­‰äºçˆ¶ç±»è¯¥æ–¹æ³•çš„æƒé™ï¼ˆpublc -\u0026gt; protected -\u0026gt; ç¼ºçœï¼‰\né‡å†™çš„æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸è¢«é‡å†™æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸€è‡´ï¼Œæˆ–è€…èŒƒå›´æ›´å°\nç§æœ‰æ–¹æ³•ã€é™æ€æ–¹æ³•ä¸èƒ½è¢«é‡å†™\nå£°æ˜ä¸å˜ï¼Œé‡æ–°å®ç°\ntoString()æ–¹æ³•é‡å†™\n@Override public String toString() { return \u0026#34;Student{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#39;}\u0026#39;; } å­åˆ—æ„é€ å™¨çš„ç‰¹ç‚¹ï¼š\nå­ç±»çš„å…¨éƒ¨æ„é€ å™¨ï¼Œéƒ½ä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå†æ‰§è¡Œè‡ªå·±çš„æ„é€ å™¨ã€‚ å­ç±»æ„é€ å™¨æ˜¯ç¬¦åˆå®ç°è°ƒç”¨çˆ¶ç±»æ„é€ å™¨çš„ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œå­ç±»å…¨éƒ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œéƒ½æ˜¯super()ï¼ˆé»˜è®¤éƒ½æœ‰ï¼‰ï¼Œå®ƒä¼šè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ•°æ„é€ å™¨ã€‚ å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ•°æ„é€ å™¨ï¼Œåˆ™æˆ‘ä»¬å¿…é¡»å†å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€è¡Œæ‰‹å†™super(...)ï¼Œ æŒ‡å®šå»è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ•°æ„é€ å™¨ã€‚ class Student extends People{ private String skill; public Student(String name, int age, String skill){ super(name, age); //è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å™¨ çˆ¶ç±»ä¸­nameå’Œageæ„é€ å™¨ this.skill = skill; } public String getSkill() { return skill; } public void setSkill(String skill) { this.skill = skill; } } è¡¥å……çŸ¥è¯†ï¼šthis(...)è°ƒç”¨å…„å¼Ÿæ„é€ å™¨\nä»»æ„ç±»çš„æ„é€ å™¨ä¸­ï¼Œæ˜¯å¯ä»¥é€šè¿‡this(...)å»è°ƒç”¨è¯¥ç±»çš„å…¶ä»–æ„é€ å™¨çš„ã€‚ this(...) å’Œ super(...) ä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹ this(...)ã€super(...)éƒ½åªèƒ½æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œï¼Œå› æ­¤ï¼Œæœ‰äº†this(...)å°±ä¸èƒ½å†™super(...)äº†ï¼Œåä¹‹äº¦ç„¶ public Boy(String name, int age) { this(name, age, \u0026#34;é»‘é©¬ç¨‹åºå‘˜\u0026#34;); } public Boy(String name, int age, String schoolName) { this.name = name; this.age = age; this.schoolName = schoolName; } å¤šæ€ å¤šæ€æ˜¯åœ¨ç»§æ‰¿/å®ç°æƒ…å†µä¸‹çš„ä¸€ç§ç°è±¡ï¼Œè¡¨ç°ä¸ºï¼šå¯¹è±¡å¤šæ€ï¼Œè¡Œä¸ºå¤šæ€ã€‚\nåœ¨å¤šæ€å½¢å¼ä¸‹ï¼Œå³è¾¹å¯¹è±¡æ˜¯è§£è€¦åˆçš„ï¼Œæ›´åäºæ‰©å±•å’Œç»´æŠ¤ã€‚ public class People { public String name = \u0026#34;æˆ‘æ˜¯äºº\u0026#34;; public void run(){ System.out.println(\u0026#34;äººå¯ä»¥è·‘\u0026#34;); } } public class Student extends People{ public String name = \u0026#34;æˆ‘æ˜¯å­¦ç”Ÿ\u0026#34;; @Override public void run() { System.out.println(\u0026#34;å­¦ç”Ÿè·‘å¾—å¾ˆå¿«ï¼\u0026#34;); } public void test(){ System.out.println(\u0026#34;å­¦ç”Ÿè¦è€ƒè¯•...\u0026#34;); } } public class Teacher extends People{ public String name = \u0026#34;æˆ‘æ˜¯è€å¸ˆ\u0026#34;; @Override public void run() { System.out.println(\u0026#34;è€å¸ˆè·‘çš„æ°”å–˜ååï¼\u0026#34;); } } public class Test { public static void main(String[] args) { People p = new People(); System.out.println(p.name); People p1 = new Student(); System.out.println(p1.name); p1.run(); //ç¼–è¯‘çœ‹çˆ¶ç±»ï¼Œ è¿è¡Œçœ‹å­ç±» People p2 = new Teacher(); System.out.println(p2.name); p2.run(); } } if(p instanceof Student){ Student s = (Student) p; s.test(); }else if(p instanceof Teacher){ Teacher t = (Teacher) p; t.work(); } public class People { public String name = \u0026#34;æˆ‘æ˜¯äºº\u0026#34;; public void run(){ System.out.println(\u0026#34;äººå¯ä»¥è·‘\u0026#34;); } } public class Student extends People { public String name = \u0026#34;æˆ‘æ˜¯å­¦ç”Ÿ\u0026#34;; @Override public void run() { System.out.println(\u0026#34;å­¦ç”Ÿè·‘å¾—å¾ˆå¿«ï¼\u0026#34;); } public void test(){ System.out.println(\u0026#34;å­¦ç”Ÿè¦è€ƒè¯•\u0026#34;); } } public class Teacher extends People { public String name = \u0026#34;æˆ‘æ˜¯è€å¸ˆ\u0026#34;; @Override public void run() { System.out.println(\u0026#34;è€å¸ˆè·‘çš„æ°”å–˜ååï¼\u0026#34;); } public void work(){ System.out.println(\u0026#34;è€å¸ˆè¦ä¸Šç­\u0026#34;); } } final finalå…³é”®å­—æ˜¯æœ€ç»ˆçš„æ„æ€ï¼Œå¯ä»¥ä¿®é¥°ï¼ˆç±»ï¼Œ æ–¹æ³•ï¼Œ å˜é‡ï¼‰ ä¿®é¥°ç±»ï¼šè¯¥ç±»è¢«æˆä¸ºæœ€ç»ˆç±»ï¼Œç‰¹ç‚¹æ˜¯ä¸èƒ½è¢«ç»§æ‰¿äº† ä¿®é¥°æ–¹æ³•ï¼šè¯¥æ–¹æ³•è¢«ç§°ä¸ºæœ€ç»ˆæ–¹æ³•ï¼Œç‰¹ç‚¹æ˜¯ä¸èƒ½è¢«é‡å†™äº† ä¿®é¥°å˜é‡ï¼šè¯¥å˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ public class Test { // 3.å¸¸é‡ï¼Œå»ºè®®åç§°å…¨éƒ¨å¤§å†™ï¼Œå¤šä¸ªå•è¯ä¸‹åˆ’çº¿è¿æ¥ public static final String CURRENT_NAME = \u0026#34;Kennem\u0026#34;; public static void main(String[] args) { // final double pi = 3.14; //pi = 3.1; æŠ¥é”™ï¼Œfinalä¿®é¥°çš„å˜é‡ä¸èƒ½ä¿®æ”¹ final int[] arr = {11, 22, 33}; arr[1] = 13; // 4.finalä¿®é¥°çš„åœ°å€ä¸èƒ½å˜ï¼Œä½†åœ°å€å†…çš„å†…å®¹å¯ä»¥å˜ } } final class A{ // 1.final ä¿®é¥°ç±»ï¼Œç±»ä¸èƒ½è¢«ç»§æ‰¿äº† } // 2.final ä¿®é¥°æ–¹æ³•ï¼Œæ–¹æ³•ä¸èƒ½è¢«é‡å†™äº† class C{ public final void test(){ } } class D extends C{ } å¸¸é‡ ä½¿ç”¨äº†static finalä¿®é¥°çš„æˆå‘˜å˜é‡è¢«ç§°ä¸ºå¸¸é‡\nä½œç”¨ï¼šé€šå¸¸ç”¨äºè®°å½•ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯\nä½¿ç”¨å¸¸é‡è®°å½•ç³»ç»Ÿé…ç½®ä¿¡æ¯çš„ä¼˜åŠ¿ï¼Œæ‰§è¡ŒåŸç†\nä»£ç å¯è¯»æ€§æ›´å¥½ï¼Œå¯ç»´æŠ¤æ€§ä¹Ÿæ›´å¥½ ç¨‹åºç¼–è¯‘åï¼Œå¸¸é‡ä¼šè¢«\u0026quot;å®æ›¿æ¢\u0026quot;ï¼›å‡ºç°å¸¸é‡çš„åœ°æ–¹å…¨éƒ¨ä¼šè¢«æ›¿æ¢æˆå…¶è®°ä½çš„å­—é¢é‡ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä½¿ç”¨å¸¸é‡å’Œç›´æ¥ç”¨å­—é¢é‡çš„æ€§èƒ½æ˜¯ä¸€æ ·çš„ã€‚ æŠ½è±¡ç±» public abstract class A { private String name; public static String schoolName; public abstract void run(); } public class B extends A{ @Override public void run() { System.out.println(\u0026#34;run\u0026#34;); } } æŠ½è±¡ç±»çš„å¥½å¤„ï¼š\nçˆ¶ç±»çŸ¥é“æ¯ä¸ªå­ç±»éƒ½è¦åšæŸä¸ªè¡Œä¸ºï¼Œä½†æ¯ä¸ªå­ç±»è¦åšçš„æƒ…å†µä¸ä¸€æ ·ï¼Œçˆ¶ç±»å°±å®šä¹‰æˆæŠ½è±¡æ–¹æ³•ï¼Œäº¤ç»™å­ç±»å»é‡å†™å®ç°ï¼Œæˆ‘ä»¬è®¾è®¡è¿™æ ·çš„æŠ½è±¡ç±»ï¼Œå°±æ˜¯ä¸ºäº†æ›´å¥½çš„æ”¯æŒå¤šæ€ã€‚ æŠ½è±¡ç±»å¯ä»¥åˆ¶ä½œæ¨¡æ¿ç±»\næ¨¡æ¿ç±» public abstract class People { public abstract String write(); public final void WriteOn(){ System.out.println(\u0026#34;\\t\\tä»Šå¤©æ˜¯2023/04/14\u0026#34;); System.out.println(\u0026#34;\\tèº«ä»½:\u0026#34;); System.out.println(write()); System.out.println(\u0026#34;ä»¥ä¸Šå°±æ˜¯æˆ‘å‘è¡¨çš„å†…å®¹\u0026#34;); System.out.println(\u0026#34;\\t\\tæ„Ÿè°¢å¤§å®¶ï¼\u0026#34;); } } public class Teacher extends People { @Override public String write() { //åªç”¨é‡å†™æ¯ä¸ªç±»ä¸­éœ€è¦ä¸åŒå®ç°çš„æ–¹æ³•å³å¯ return \u0026#34;æˆ‘æ˜¯è€å¸ˆï¼Œè¿™é‡Œæ˜¯è€å¸ˆç±»\u0026#34;; } } public class Student extends People { @Override public String write() { return \u0026#34;æˆ‘æ˜¯å­¦ç”Ÿï¼Œè¿™é‡Œæ˜¯å­¦ç”Ÿç±»\u0026#34;; } } public class Test { public static void main(String[] args) { Teacher t = new Teacher(); t.WriteOn(); Student s = new Student(); s.WriteOn(); } } å»ºè®®ä½¿ç”¨finalå…³é”®å­—ä¿®é¥°æ¨¡æ¿ç±»\næ¨¡æ¿æ–¹æ³•æ˜¯ç»™å¯¹è±¡ç›´æ¥ä½¿ç”¨çš„ä¸èƒ½è¢«ä¿®æ”¹ ä¸€æ—¦å­ç±»é‡å†™äº†æ¨¡æ¿æ–¹æ³•ï¼Œæ¨¡æ¿æ–¹æ³•å°±å¤±æ•ˆäº† æ¥å£ Javaæä¾›äº†ä¸€ä¸ªå…³é”®å­—interface public class Test { public static void main(String[] args) { Driver d = new A(); d.drive(); } } class A extends Student implements Driver, Singer{ @Override public void drive() { } @Override public void sing() { } } class Student{ } interface Driver{ void drive(); } interface Singer{ void sing(); } æ¥å£çš„å¥½å¤„ï¼š\nå¯ä»¥è§£å†³ç±»å•ç»§æ‰¿çš„é—®é¢˜ï¼Œé€šè¿‡æ¥å£ï¼Œ å¯ä»¥è®©ä¸€ä¸ªç±»æœ‰ä¸€ä¸ªç»§æ‰¿çˆ¶ç±»çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥å»æ‰¾å¤šä¸ªæ¥å£å»æ‹“å±•è‡ªå·±çš„åŠŸèƒ½ å› ä¸ºé€šè¿‡æ¥å£å¯ä»¥æ˜¾æ€§çš„çŸ¥é“ä½ æ˜¯è° ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ŒåŒæ ·ï¼Œä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥è¢«å¤šä¸ªç±»å®ç°ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æˆ‘ä»¬çš„ç¨‹åºå¯ä»¥é¢å‘æ¥å£ç¼–ç¨‹äº†ï¼Œè¿™æ ·ç¨‹åºå‘˜å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çµæ´»åˆ‡æ¢å„ç§ä¸šåŠ¡å®ç°äº†ã€‚ æ¥å£çš„ç»¼åˆæ¡ˆä¾‹:\nä½¿ç”¨æ¥å£(StudentOperator)ä¹‹åï¼Œåœ¨ä¸åŒçš„ç»§æ‰¿æ¥å£çš„ç±»(StudentOperatorImpl1, StudentOperatorImpl2)é‡Œé¢ç¼–å†™ä¸åŒçš„ç¨‹åºï¼Œç”¨æ¥å£å¯¹è±¡å®ç°æ“ä½œæ—¶ï¼Œä»…éœ€è¦æ”¹å˜ä¸åŒçš„å®ç°ç±»å³å¯ã€‚\næ¥å£çš„å…¶ä»–æ–¹æ³• public class Student { private String name; private char sex; private int score; public Student() { } } public interface StudentOperator { void printInfo(ArrayList\u0026lt;Student\u0026gt; students); void printAverageScore(ArrayList\u0026lt;Student\u0026gt; students); } public class StudentOperatorImpl1 implements StudentOperator{ @Override public void printInfo(ArrayList\u0026lt;Student\u0026gt; students) { System.out.println(\u0026#34;==å…¨ç­å…¨éƒ¨ä¿¡æ¯å¦‚ä¸‹==\u0026#34;); for (int i = 0; i \u0026lt; students.size(); i++) { Student s = students.get(i); System.out.println(\u0026#34;å§“åä¸º ï¼š \u0026#34; + s.getName() + \u0026#34;, æ€§åˆ«ä¸º ï¼š \u0026#34; + s.getSex() + \u0026#34;, å¾—åˆ†ä¸º ï¼š \u0026#34; + s.getScore()); } System.out.println(\u0026#34;-------------------\u0026#34;); } @Override public void printAverageScore(ArrayList\u0026lt;Student\u0026gt; students) { double total = 0; for (int i = 0; i \u0026lt; students.size(); i++) { Student s = students.get(i); total += s.getScore(); } System.out.println(\u0026#34;ç­çº§å¹³å‡åˆ†ä¸º ï¼š \u0026#34; + (total/(students.size()))); } } public class StudentOperatorImpl2 implements StudentOperator{ @Override public void printInfo(ArrayList\u0026lt;Student\u0026gt; students) { System.out.println(\u0026#34;==å…¨ç­å…¨éƒ¨ä¿¡æ¯å¦‚ä¸‹==\u0026#34;); int count1 = 0; for (int i = 0; i \u0026lt; students.size(); i++) { Student s = students.get(i); System.out.println(\u0026#34;å§“åä¸º ï¼š \u0026#34; + s.getName() + \u0026#34;, æ€§åˆ«ä¸º ï¼š \u0026#34; + s.getSex() + \u0026#34;, å¾—åˆ†ä¸º ï¼š \u0026#34; + s.getScore()); if(s.getSex()==\u0026#39;ç”·\u0026#39;){ count1+=1; } } System.out.println(\u0026#34;ç”·ç”Ÿäººæ•°ä¸º ï¼š \u0026#34; + count1 + \u0026#34;, å¥³ç”Ÿäººæ•°ä¸º ï¼š \u0026#34; + (students.size()-count1)); System.out.println(\u0026#34;ç­çº§æ€»äººæ•°ä¸º : \u0026#34; + (students.size())); System.out.println(\u0026#34;-------------------\u0026#34;); } @Override public void printAverageScore(ArrayList\u0026lt;Student\u0026gt; students) { double total = 0; double max = students.get(0).getScore(); double min = students.get(0).getScore(); for (int i = 0; i \u0026lt; students.size(); i++) { Student s = students.get(i); total += s.getScore(); if(s.getScore()\u0026gt;max){ max = s.getScore(); } else if(s.getScore()\u0026lt;min){ min = s.getScore(); } } System.out.println(\u0026#34;å­¦ç”Ÿçš„æœ€é«˜åˆ†ä¸º ï¼š \u0026#34; + max + \u0026#34;, å­¦ç”Ÿçš„æœ€ä½åˆ†ä¸º\u0026#34; + min); System.out.println(\u0026#34;å»é™¤æœ€ä½åˆ†å’Œæœ€é«˜åˆ†åï¼Œç­çº§å¹³å‡åˆ†ä¸º ï¼š \u0026#34; + (total/(students.size()))); } } public class ClassManagement { private ArrayList\u0026lt;Student\u0026gt; students = new ArrayList\u0026lt;\u0026gt;(); StudentOperator so = new StudentOperatorImpl2(); public ClassManagement() { students.add(new Student(\u0026#34;å°æ˜\u0026#34;, \u0026#39;ç”·\u0026#39;, 99)); students.add(new Student(\u0026#34;å°é»„\u0026#34;, \u0026#39;å¥³\u0026#39;, 100)); students.add(new Student(\u0026#34;å°ç™½\u0026#34;, \u0026#39;ç”·\u0026#39;, 94)); students.add(new Student(\u0026#34;å°äº®\u0026#34;, \u0026#39;å¥³\u0026#39;, 90)); } public void printInfo(){ so.printInfo(students); } public void printScore(){ so.printAverageScore(students); } } public class Test { public static void main(String[] args) { ClassManagement cm = new ClassManagement(); cm.printInfo(); cm.printScore(); } } æ¥å£çš„å…¶ä»–æ–¹æ³•ï¼š\n/** 1. é»˜è®¤æ–¹æ³•ï¼šå¿…é¡»ä½¿ç”¨ default ä¿®é¥°ï¼Œé»˜è®¤ä¼šè¢« public ä¿®é¥° * */ default void test1(){ System.out.println(\u0026#34;===é»˜è®¤æ–¹æ³•===\u0026#34;); test2(); } /** 2. ç§æœ‰æ–¹æ³•ï¼šå¿…é¡»ä½¿ç”¨ private ä¿®é¥°ï¼Œï¼ˆJDK9å¼€å§‹æ”¯æŒï¼‰ * å®ä¾‹æ–¹æ³•å¯¹è±¡çš„æ–¹æ³• */ private void test2(){ System.out.println(\u0026#34;===ç§æœ‰æ–¹æ³•===\u0026#34;); } /** * 3. é™æ€æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨ static ä¿®é¥°ï¼Œé»˜è®¤ä¼šè¢« public ä¿®é¥° */ public static void test3(){ System.out.println(\u0026#34;===é™æ€æ–¹æ³•===\u0026#34;); } æ¥å£çš„å¤šç»§æ‰¿ ä¸€ä¸ªæ¥å£å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªæ¥å£\nä¸€ä¸ªæ¥å£ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œå¦‚æœå¤šä¸ªæ¥å£ä¸­å­˜åœ¨æ–¹æ³•åå†²çªï¼Œåˆ™æ­¤æ—¶ä¸æ”¯æŒå¤šç»§æ‰¿\ninterface I{ void test1(); } interface J{ void test1(); } interface C implements I, J{ //æŠ¥é”™ } ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£ï¼Œå¦‚æœå¤šä¸ªæ¥å£å­˜åœ¨æ–¹æ³•åå†²çªï¼Œåˆ™æ­¤æ—¶ä¸æ”¯æŒå¤šå®ç°\ninterface I{ void test1(); } interface J{ void test1(); } class C implements I, J{ //æŠ¥é”™ } ä¸€ä¸ªç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼Œåˆå®ç°äº†æ¥å£ï¼Œçˆ¶ç±»ä¸­å’Œæ¥å£ä¸­æœ‰åŒåçš„é»˜è®¤æ–¹æ³•ï¼Œå®ç°ç±»ä¼šä¼˜å…ˆä½¿ç”¨çˆ¶ç±»çš„\nclass Fu{ public void run(){ System.out.println(\u0026#34;===çˆ¶ç±»çš„runæ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } } interface IT{ default void run(){ System.out.println(\u0026#34;===æ¥å£ITä¸­çš„runæ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } } class Zi extends Fu implements IT{ } public class Demo2 { public static void main(String[] args) { Zi zi = new Zi(); zi.run(); //===çˆ¶ç±»çš„runæ–¹æ³•æ‰§è¡Œäº† } } ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£ï¼Œå¤šä¸ªæ¥å£ä¸­å­˜åœ¨åŒåçš„é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ä¸å†²çªï¼Œ è¿™ä¸ªç±»é‡å†™è¯¥æ–¹æ³•å³å¯\ninterface I{ void test1(); } interface J{ void test1(); } //interface C implements I, J{ //æŠ¥é”™ // //} class C implements I, J{ @Override public void test1() { } //é‡å†™åä¸ä¼šæŠ¥é”™ } å†…éƒ¨ç±» æˆå‘˜å†…éƒ¨ç±» public class Outer { private String outerName; private int age=88; public static int outerNumber; public class Inner{ private String name; public static int number; // JDK16æ‰å¼€å§‹æ”¯æŒ private int age=99; public void test(){ } public void test2(){ System.out.println(outerName); System.out.println(outerNumber); int age = 66; System.out.println(age); System.out.println(this.age); System.out.println(Outer.this.age); } public Inner() { System.out.println(\u0026#34;Inner has been created.\u0026#34;); } public String getName() { return name; } public void setName(String name) { this.name = name; } public static int getNumber() { return number; } public static void setNumber(int number) { Inner.number = number; } } } public static void main(String[] args) { Outer.Inner in = new Outer().new Inner(); in.test2(); /** * Inner has been created. * null * 0 * 66 * 99 * 88 */ } é™æ€å†…éƒ¨ç±» å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å˜é‡ï¼Œè€Œä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å˜é‡\npublic class StaticInner { private String name; // å®ä¾‹å˜é‡ï¼Œåªèƒ½ç”±å¤–éƒ¨å¯¹è±¡æ¥è®¿é—® public static int age; // é™æ€å˜é‡ï¼Œå¯ä»¥ç”±ç±»åç›´æ¥è®¿é—® // é™æ€å†…éƒ¨ç±» public static class Inner { // åœ¨é™æ€å†…éƒ¨ç±»ä¸­è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å˜é‡æ˜¯åˆæ³•çš„ public void test() { System.out.println(age); // æ— æ³•åœ¨é™æ€å†…éƒ¨ç±»ä¸­ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å˜é‡ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ //System.out.println(name); } } } å±€éƒ¨å†…éƒ¨ç±»ï¼šå®šä¹‰åœ¨æ–¹æ³•ï¼Œä»£ç å—ï¼Œæ„é€ å™¨ä¸­ã€‚\nåŒ¿åå†…éƒ¨ç±» åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹çš„ä¸€ç§æ–¹å¼ï¼ŒåŒæ—¶å®šä¹‰å¹¶å®ç°è¯¥ç±»ã€‚\npublic class Demo1 { public static void main(String[] args) { Animal cat = new Animal(){ //catç±»å¯ä»¥ä¸ç”¨å•å¦æ–°åˆ›å»ºï¼Œå®ç°çš„åŒæ—¶å®šä¹‰è¯¥ç±»å³å¯ @Override public void cry() { System.out.println(\u0026#34;çŒ«å–µå–µå–µçš„å«~~\u0026#34;); } }; cat.cry(); } } // ç”¨æŠ½è±¡æ–¹æ³•å®ç°åŒ¿åå†…éƒ¨ç±» abstract class Animal{ public abstract void cry(); } public class Demo2 { public static void main(String[] args) { go(new Swimming() { @Override public void swim() { System.out.println(\u0026#34;ç‹—æ¸¸çš„å¾ˆå¿«ï¼\u0026#34;); } }); } public static void go(Swimming s){ System.out.println(\u0026#34;===GO====\u0026#34;); s.swim(); } } // ç”¨æ¥å£å®ç°åŒ¿åå†…éƒ¨ç±» interface Swimming{ void swim(); } public class Demo3 { public static void main(String[] args) { JFrame win = new JFrame(\u0026#34;ç™»å½•ç•Œé¢\u0026#34;); JPanel panel = new JPanel(); win.add(panel); JButton btn = new JButton(\u0026#34;ç™»å½•\u0026#34;); panel.add(btn); //åŒ¿åå†…éƒ¨ç±»çš„å®é™…ä½¿ç”¨åœºæ™¯ btn.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { JOptionPane.showConfirmDialog(win, \u0026#34;ä½ ç‚¹å‡»äº†ç™»å½•æŒ‰é’®\u0026#34;); } }); win.setSize(400, 800); win.setLocationRelativeTo(null); win.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE); win.setVisible(true); } } æšä¸¾ æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»\næšä¸¾ç±»çš„ç¬¬ä¸€è¡Œï¼Œåªèƒ½å†™ä¸€äº›åˆæ³•çš„æ ‡è¯†ç¬¦ï¼ˆåç§°ï¼‰ï¼Œ å¤šä¸ªåç§°ç”¨é€—å·éš”å¼€ è¿™äº›åç§°ï¼Œæœ¬è´¨æ˜¯å¸¸é‡ï¼Œæ¯ä¸ªå¸¸é‡éƒ½ä¼šè®°ä½æšä¸¾ç±»çš„ä¸€ä¸ªå¯¹è±¡ public enum A { X, Y, Z; private String name; public String getName() { return name; } public void setName(String name) { this.name = name; } } public class Test { public static void main(String[] args) { A a1 = A.X; System.out.println(a1); //X A a2 = A.Y; A[] as = A.values(); System.out.println(as); //[Lcom.showguan.Enum.A;@3b07d329 A a3 = A.valueOf(\u0026#34;Z\u0026#34;); System.out.println(a3); //Z System.out.println(a3.ordinal()); //2 æ¬¡åº } } æšä¸¾ç±»çš„ç‰¹ç‚¹ï¼š\næšä¸¾ç±»çš„ç¬¬ä¸€è¡Œåªèƒ½ç½—åˆ—ä¸€äº›åç§°ï¼Œè¿™äº›åç§°éƒ½æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”æ¯ä¸ªå¸¸é‡è®°ä½çš„éƒ½æ˜¯æšä¸¾ç±»çš„ä¸€ä¸ªå¯¹è±¡ æšä¸¾éƒ½æ˜¯æœ€ç»ˆç±»ï¼Œä¸å¯ä»¥è¢«ç»§æ‰¿ æšä¸¾ç±»ä¸­ï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œå¯ä»¥å®šä¹‰ç±»çš„å…¶ä»–å„ç§æˆå‘˜ ç¼–è¯‘å™¨ä¸ºæšä¸¾ç±»æ–°å¢äº†å‡ ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æšä¸¾ç±»éƒ½æ˜¯ç»§æ‰¿ ï¼šjava.lang.Enumç±»çš„ï¼Œä»enumç±»ä¹Ÿä¼šç»§æ‰¿åˆ°ä¸€äº›æ–¹æ³• æšä¸¾çš„å®é™…ä½œç”¨ï¼š\npublic enum Constant2 { BOY, GIRL; } public static void check(Constant2 sex) { switch (sex) { case BOY: System.out.println(\u0026#34;ä½ æ˜¯ä¸ªç”·å­©ï¼\u0026#34;); break; case GIRL: System.out.println(\u0026#34;ä½ æ˜¯ä¸ªå¥³å­©ï¼\u0026#34;); break; } } public static void main(String[] args) { check(Constant2.BOY); } æ³›å‹ å®šä¹‰ç±»ï¼Œæ¥å£ï¼Œæ–¹æ³•æ—¶ï¼ŒåŒæ—¶å£°æ˜ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»å‹å˜é‡ï¼ˆå¦‚\u0026lt;E\u0026gt;)ï¼Œæˆä¸ºæ³›å‹ç±»ï¼Œæ³›å‹æ¥å£ï¼Œæ³›å‹æ–¹æ³•ï¼Œå®ƒä»¬ç»Ÿç§°ä¸ºæ³›å‹ã€‚ public class Test { public static void main(String[] args) { ArrayList list = new ArrayList(); list.add(\u0026#34;Java1\u0026#34;); list.add(\u0026#34;Java2\u0026#34;); list.add(\u0026#34;Java3\u0026#34;); list.add(new Cat()); for (int i = 0; i \u0026lt; list.size(); i++) { // Object o = list.get(i); // String s = (String) list.get(i); //æŠ¥é”™ Cat()å¯¹è±¡æ—¶Objectç±»å‹ï¼Œä¸èƒ½è½¬æ¢æˆStringç±»å‹ // System.out.println(s); } ArrayList\u0026lt;String\u0026gt; list2 = new ArrayList(); //æ³›å‹ä¸ºString list2.add(\u0026#34;Java1\u0026#34;); list2.add(\u0026#34;Java2\u0026#34;); list2.add(\u0026#34;Java3\u0026#34;); // list2.add(new Cat()); //åœ¨ç¼–è¯‘é˜¶æ®µå°±é™åˆ¶æ·»åŠ å¯¹è±¡çš„ç±»å‹ ArrayList\u0026lt;Cat\u0026gt; list3 = new ArrayList(); //æ³›å‹ä¸ºCat() } } æ‹“å±•:\npublic class MyArrayList\u0026lt;E, T\u0026gt; //å¯ä»¥å¤šä¸ªç±»å‹ public class MyArrayList\u0026lt;E, T extends Animal\u0026gt; //æŒ‡å®šç±»å‹éœ€è¦ç»§æ‰¿æŸä¸ªç±» æ³›å‹æ¥å£ public interface Data\u0026lt;E\u0026gt;{ void get(E e); ArrayList\u0026lt;E\u0026gt; getName(String name); } public class TeacherData implements Data\u0026lt;Teacher\u0026gt;{ //æŒ‡å®šæ³›å‹ç±»å‹åï¼Œé‡å†™çš„æ–¹æ³•éƒ½ä¼šè‡ªåŠ¨æ¢æˆè¯¥ç±»å‹ @Override public void get(Teacher teacher) { } @Override public ArrayList\u0026lt;Teacher\u0026gt; getName(String name) { return null; } } ä½¿ç”¨é€šé…ç¬¦ ?\npublic static void main(String[] args) { System.out.println(test(\u0026#34;Java\u0026#34;)); Dog d = test(new Dog()); ArrayList\u0026lt;Car\u0026gt; cars = new ArrayList\u0026lt;\u0026gt;(); cars.add(new Car()); cars.add(new Car()); cars.add(new Car()); go(cars); ArrayList\u0026lt;BMW\u0026gt; bmws = new ArrayList\u0026lt;\u0026gt;(); bmws.add(new BMW()); bmws.add(new BMW()); bmws.add(new BMW()); bmws.add(new BMW()); go(bmws); ArrayList\u0026lt;BENZ\u0026gt; benzs = new ArrayList\u0026lt;\u0026gt;(); benzs.add(new BENZ()); benzs.add(new BENZ()); benzs.add(new BENZ()); go(benzs); } public static \u0026lt;T\u0026gt; T test(T t){ return t; } public static void go(ArrayList\u0026lt;? extends Car\u0026gt; cars){ } } API toString()æ–¹æ³•å’Œequals() @Override public String toString() { return \u0026#34;Student{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#39;}\u0026#39;; } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; Student student = (Student) o; return age == student.age \u0026amp;\u0026amp; Objects.equals(name, student.name); } clone() public static void main(String[] args) throws CloneNotSupportedException { Student s1 = new Student(\u0026#34;Kennem\u0026#34;, 21, new double[]{0.0}); System.out.println(s1.toString()); System.out.println(s1.getName()); System.out.println(s1.getAge()); System.out.println(s1); System.out.println(s1.getClass()); System.out.println(s1.getScores()); /** * Student{name=\u0026#39;Kennem\u0026#39;, age=21} * Kennem * 21 * Student{name=\u0026#39;Kennem\u0026#39;, age=21} * class com.showguan.APIObject.Student * [D@27d6c5e0 */ Student s2 = new Student(\u0026#34;Kennem\u0026#34;, 21, new double[]{0.0}); System.out.println(s1.equals(s2)); //true Student s3 = (Student) s1.clone(); System.out.println(s3.getName()); System.out.println(s3.getAge()); System.out.println(s3); System.out.println(s3.getClass()); System.out.println(s3.getScores()); /** * Kennem * 21 * Student{name=\u0026#39;Kennem\u0026#39;, age=21} * class com.showguan.APIObject.Student * [D@4f3f5b24 */ } @Override protected Object clone() throws CloneNotSupportedException { Student tmp = (Student) super.clone(); tmp.scores = tmp.scores.clone(); return tmp; } Objects.\npublic static void main(String[] args) { String s1 = \u0026#34;Java\u0026#34;; String s2 = null; System.out.println(s1.equals(s2)); // System.out.println(s2.equals(s1)); //ç©ºæŒ‡é’ˆå¼‚å¸¸ System.out.println(Objects.equals(s1, s2)); //é˜²æ­¢ç©ºæŒ‡é’ˆå¼‚å¸¸ System.out.println(Objects.isNull(s1)); //false System.out.println(Objects.nonNull(s1)); //true System.out.println(Objects.isNull(s2)); //true System.out.println(Objects.nonNull(s2)); //false } åŒ…è£…ç±» public static void main(String[] args) { Integer a = Integer.valueOf(12); Integer b = 12; int c = b; ArrayList\u0026lt;Integer\u0026gt; arr = new ArrayList\u0026lt;\u0026gt;(); arr.add(12); arr.add(10); arr.get(1); Integer d = 25; String s1 = Integer.toString(d); System.out.println(s1); String s2 = d.toString(); String s3 = d + \u0026#34;\u0026#34;; System.out.println(s2); System.out.println(s3); String s4 = \u0026#34;29\u0026#34;; // int age = Integer.parseInt(s4); int age = Integer.valueOf(s4); System.out.println(age); String s5 = \u0026#34;99.9\u0026#34;; // double score = Double.parseDouble(s5); double score = Double.valueOf(s5); System.out.println(score+0.1); } StringBuilder é€‚åˆå¤šæ¬¡æ‹¼æ¥ï¼Œä¿®æ”¹\npublic static void main(String[] args) { StringBuilder s = new StringBuilder(); s.append(\u0026#34;Java\u0026#34;); s.append(\u0026#34;666\u0026#34;).append(\u0026#34;888\u0026#34;).append(\u0026#34;999\u0026#34;); System.out.println(s); s.reverse(); System.out.println(s); System.out.println(s.length()); String ss = s.toString(); System.out.println(ss); /** * Java666888999 * 999888666avaJ * 13 * 999888666avaJ */ } StringBufferæ–¹æ³•å’ŒStringBuilderç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒStringBuilderæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„\nStringJoiner StringJoiner sj = new StringJoiner(\u0026#34;,\u0026#34;, \u0026#34;[\u0026#34;, \u0026#34;]\u0026#34;); sj.add(\u0026#34;1\u0026#34;); sj.add(\u0026#34;2\u0026#34;); sj.add(\u0026#34;3\u0026#34;); sj.add(\u0026#34;4\u0026#34;); System.out.println(sj); System public class Main { public static void main(String[] args) { // ä¸»å‡½æ•°å…¥å£ // ä»¥ä¸‹ä»£ç å—è¢«æ³¨é‡Šæ‰ï¼Œä½¿ç”¨ System.exit(0) å¯ä»¥ç«‹å³ç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œ // System.exit(0); // æ‰“å°åˆ†éš”çº¿ System.out.println(\u0026#34;----------------\u0026#34;); // ä»¥ä¸‹ä»£ç å—è¢«æ³¨é‡Šæ‰ï¼Œç”¨äºæ‰“å°å½“å‰æ—¶é—´çš„æ¯«ç§’è¡¨ç¤º // System.out.println(System.currentTimeMillis()); // è®°å½•ç¨‹åºå¼€å§‹æ—¶é—´ long t1 = System.currentTimeMillis(); // åˆå§‹åŒ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸² String s = \u0026#34;\u0026#34;; // å¾ªç¯å°†å­—ç¬¦ä¸²\u0026#34;abc\u0026#34;è¿½åŠ åˆ°å­—ç¬¦ä¸²sä¸­ï¼Œé‡å¤200000æ¬¡ for (int i = 0; i \u0026lt; 200000; i++) { s += \u0026#34;abc\u0026#34;; } // è®°å½•ç¨‹åºç»“æŸæ—¶é—´ long t2 = System.currentTimeMillis(); // è®¡ç®—ç¨‹åºæ‰§è¡Œæ—¶é—´å¹¶å°†ç»“æœä»¥ç§’ä¸ºå•ä½æ‰“å°å‡ºæ¥ System.out.println((t2 - t1) / 1000.0 + \u0026#34;s\u0026#34;); //4.656s } } BigDecimal public class Main { public static void main(String[] args) { // ä¸»å‡½æ•°å…¥å£ // ä½¿ç”¨åŒç²¾åº¦æµ®ç‚¹æ•°è¿›è¡Œè¿ç®— double a = 0.1; double b = 0.2; double c = a + b; // ç›´æ¥ç›¸åŠ  System.out.println(c); // è¾“å‡ºç»“æœ // ä½¿ç”¨ BigDecimal ç±»è¿›è¡Œç²¾ç¡®è¿ç®— BigDecimal a1 = BigDecimal.valueOf(a); // å°†åŒç²¾åº¦æµ®ç‚¹æ•°è½¬æ¢ä¸º BigDecimal ç±»å‹ BigDecimal b1 = BigDecimal.valueOf(b); // ä½¿ç”¨ BigDecimal çš„ multiply æ–¹æ³•è¿›è¡Œä¹˜æ³•è¿ç®— BigDecimal c1 = a1.multiply(b1); System.out.println(c1); // è¾“å‡ºç»“æœ // ä½¿ç”¨ BigDecimal çš„ add æ–¹æ³•è¿›è¡ŒåŠ æ³•è¿ç®— BigDecimal c2 = a1.add(b1); System.out.println(c2); // è¾“å‡ºç»“æœ // ä½¿ç”¨ BigDecimal çš„ subtract æ–¹æ³•è¿›è¡Œå‡æ³•è¿ç®— BigDecimal c3 = a1.subtract(b1); System.out.println(c3); // è¾“å‡ºç»“æœ // ä½¿ç”¨ BigDecimal çš„ divide æ–¹æ³•è¿›è¡Œé™¤æ³•è¿ç®— BigDecimal c4 = a1.divide(b1); System.out.println(c4); // è¾“å‡ºç»“æœ // ä½¿ç”¨ BigDecimal è¿›è¡Œé™¤æ³•è¿ç®—ï¼Œå¹¶è®¾ç½®ç²¾ç¡®åº¦å’Œèˆå…¥æ¨¡å¼ BigDecimal i = BigDecimal.valueOf(0.1); BigDecimal j = BigDecimal.valueOf(0.3); BigDecimal k = i.divide(j, 2, RoundingMode.HALF_UP); // è®¾ç½®ç²¾ç¡®åº¦ä¸º2ä½å°æ•°ï¼Œé‡‡ç”¨å››èˆäº”å…¥æ¨¡å¼ System.out.println(k); // è¾“å‡ºç»“æœï¼Œ0.33 } } Date parseæ–¹æ³•å’Œformatæ–¹æ³•\nimport java.text.ParseException; import java.text.SimpleDateFormat; import java.util.Date; public class DateFormatExample { public static void main(String[] args) { // åˆ›å»ºä¸€ä¸ªæ—¥æœŸå¯¹è±¡ Date d = new Date(); // å®šä¹‰æ—¥æœŸæ ¼å¼ SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyyå¹´MMæœˆddæ—¥ HH:mm:ss EEE a\u0026#34;); // æ ¼å¼åŒ–å½“å‰æ—¥æœŸå¹¶è¾“å‡º String rs = sdf.format(d); System.out.println(\u0026#34;å½“å‰æ—¥æœŸæ ¼å¼åŒ–è¾“å‡º: \u0026#34; + rs); // å†æ¬¡æ ¼å¼åŒ–å½“å‰æ—¥æœŸå¹¶è¾“å‡ºï¼ˆå¯ä»¥çœç•¥æ­¤æ­¥éª¤ï¼Œä»…ä¸ºå±•ç¤ºï¼‰ String rs2 = sdf.format(d); System.out.println(\u0026#34;å†æ¬¡æ ¼å¼åŒ–å½“å‰æ—¥æœŸ: \u0026#34; + rs2); // å°†å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸå¯¹è±¡ String dateStr = \u0026#34;2022-12-12 12:12:11\u0026#34;; SimpleDateFormat sdf2 = new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;); try { Date d2 = sdf2.parse(dateStr); System.out.println(\u0026#34;è§£æåçš„æ—¥æœŸ: \u0026#34; + d2); } catch (ParseException e) { e.printStackTrace(); } } } public static void main(String[] args) throws ParseException { String start = \u0026#34;2024å¹´12æœˆ12æ—¥ 00:00:00\u0026#34;; String end = \u0026#34;2024å¹´12æœˆ12æ—¥ 00:10:00\u0026#34;; String xj = \u0026#34;2024å¹´12æœˆ12æ—¥ 00:01:18\u0026#34;; String xp = \u0026#34;2024å¹´12æœˆ12æ—¥ 00:10:57\u0026#34;; SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyyå¹´MMæœˆddæ—¥ HH:mm:ss\u0026#34;); Date startDt = sdf.parse(start); Date endDt = sdf.parse(end); Date xjDt = sdf.parse(xj); Date xpDt = sdf.parse(xp); long startTime = startDt.getTime(); long endTime = endDt.getTime(); long xjTime = xjDt.getTime(); long xpTime = xpDt.getTime(); if(xjTime\u0026gt;=startTime \u0026amp;\u0026amp; xjTime\u0026lt;=endTime){ System.out.println(\u0026#34;å°è´¾ä½ ç§’æ€æˆåŠŸäº†\u0026#34;); }else{ System.out.println(\u0026#34;å°è´¾ä½ ç§’æ€å¤±è´¥äº†\u0026#34;); } if(xpTime\u0026gt;=startTime \u0026amp;\u0026amp; xpTime\u0026lt;=endTime){ System.out.println(\u0026#34;å°çš®ä½ ç§’æ€æˆåŠŸäº†\u0026#34;); }else{ System.out.println(\u0026#34;å°çš®ä½ ç§’æ€å¤±è´¥äº†\u0026#34;); } } Calendar public class Main { public static void main(String[] args) { // è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„ Calendar å¯¹è±¡ Calendar now = Calendar.getInstance(); System.out.println(\u0026#34;å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼š\u0026#34; + now); // è·å–å½“å‰å¹´ä»½ int year = now.get(Calendar.YEAR); System.out.println(\u0026#34;å½“å‰å¹´ä»½ï¼š\u0026#34; + year); // è·å–ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© int days = now.get(Calendar.DAY_OF_YEAR); System.out.println(\u0026#34;ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼š\u0026#34; + days); // è·å–Dateå¯¹è±¡ Date d = now.getTime(); System.out.println(\u0026#34;Dateå¯¹è±¡ï¼š\u0026#34; + d); // è·å–æ—¶é—´æˆ³ long time = now.getTimeInMillis(); System.out.println(\u0026#34;æ—¶é—´æˆ³ï¼š\u0026#34; + time); // è®¾ç½®æœˆä»½ä¸º4æœˆï¼Œæ—¥æœŸä¸º4æœˆ1æ—¥ now.set(Calendar.MONTH, Calendar.APRIL); now.set(Calendar.DAY_OF_MONTH, 1); System.out.println(\u0026#34;è®¾ç½®åçš„æ—¥æœŸï¼š\u0026#34; + now.getTime()); // è·å–è®¾ç½®åçš„æ—¥æœŸ Date d1 = now.getTime(); System.out.println(\u0026#34;è®¾ç½®åçš„Dateå¯¹è±¡ï¼š\u0026#34; + d1); // å¢åŠ 105å¤© now.add(Calendar.DAY_OF_YEAR, 105); Date d2 = now.getTime(); System.out.println(\u0026#34;å¢åŠ 105å¤©åçš„æ—¥æœŸï¼š\u0026#34; + d2); } } JDKä¹‹åæ–°å¢çš„æ—¶é—´\nè®¾è®¡æ›´åˆç†ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ éƒ½æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¿®æ”¹åä¼šè¿”å›æ–°çš„å®è·µå¯¹è±¡ï¼Œä¸ä¼šä¸¢å¤±æœ€å¼€å§‹çš„æ—¶é—´ çº¿ç¨‹å®‰å…¨ èƒ½ç²¾ç¡®åˆ°æ¯«ç§’ã€çº³ç§’ LocalDateï¼Œ LocalTime, LocalDateTime LocalDate public static void main(String[] args) { // è·å–å½“å‰æ—¥æœŸ LocalDate ld = LocalDate.now(); System.out.println(ld); // è·å–æ—¥æœŸçš„å¹´ã€æœˆã€æ—¥ã€å¹´ä¸­çš„ç¬¬å‡ å¤©ã€æ˜ŸæœŸå‡ ç­‰ä¿¡æ¯ int year = ld.getYear(); int month = ld.getMonthValue(); int day = ld.getDayOfMonth(); int dayOfYear = ld.getDayOfYear(); int dayOfWeek = ld.getDayOfWeek().getValue(); System.out.println(year); System.out.println(month); System.out.println(day); System.out.println(dayOfYear); System.out.println(dayOfWeek); // ä½¿ç”¨ with æ–¹æ³•è®¾ç½®æ—¥æœŸçš„å¹´ã€æœˆ LocalDate ld2 = ld.withYear(2077); LocalDate ld3 = ld.withMonth(11); System.out.println(ld2); System.out.println(ld3); // ä½¿ç”¨ plus æ–¹æ³•å¢åŠ æ—¥æœŸçš„å¤©æ•°ã€æœˆæ•° LocalDate ld4 = ld.plusDays(2); LocalDate ld5 = ld.plusMonths(3); // ä½¿ç”¨ minus æ–¹æ³•å‡å°‘æ—¥æœŸçš„å¤©æ•°ã€æœˆæ•° LocalDate ld6 = ld.minusDays(10); LocalDate ld7 = ld.minusMonths(2); // ä½¿ç”¨ of æ–¹æ³•åˆ›å»ºæŒ‡å®šæ—¥æœŸçš„ LocalDate å¯¹è±¡ LocalDate ld8 = LocalDate.of(2077, 12, 12); // ä½¿ç”¨ equalsã€isAfterã€isBefore æ–¹æ³•æ¯”è¾ƒæ—¥æœŸ System.out.println(ld5.equals(ld6)); System.out.println(ld5.isAfter(ld6)); System.out.println(ld5.isBefore(ld6)); } LocalTime public static void main(String[] args) { // 0ã€è·å–æœ¬åœ°æ—¶é—´å¯¹è±¡ LocalTime lt = LocalTime.now(); // è·å–å½“å‰æ—¶é—´ System.out.println(lt); // 1ã€è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯ int hour = lt.getHour(); // è·å–å°æ—¶ int minute = lt.getMinute(); // è·å–åˆ†é’Ÿ int second = lt.getSecond(); // è·å–ç§’ int nano = lt.getNano(); // è·å–çº³ç§’ // 2ã€ä¿®æ”¹æ—¶é—´ï¼šwithHourã€withMinuteã€withSecondã€withNano LocalTime lt3 = lt.withHour(10); // è®¾ç½®å°æ—¶ä¸º10 LocalTime lt4 = lt.withMinute(10); // è®¾ç½®åˆ†é’Ÿä¸º10 LocalTime lt5 = lt.withSecond(10); // è®¾ç½®ç§’ä¸º10 LocalTime lt6 = lt.withNano(10); // è®¾ç½®çº³ç§’ä¸º10 // 3ã€åŠ å¤šå°‘ï¼šplusHoursã€plusMinutesã€plusSecondsã€plusNanos LocalTime lt7 = lt.plusHours(10); // å¢åŠ 10å°æ—¶ LocalTime lt8 = lt.plusMinutes(10); // å¢åŠ 10åˆ†é’Ÿ LocalTime lt9 = lt.plusSeconds(10); // å¢åŠ 10ç§’ LocalTime lt10 = lt.plusNanos(10); // å¢åŠ 10çº³ç§’ // 4ã€å‡å¤šå°‘ï¼šminusHoursã€minusMinutesã€minusSecondsã€minusNanos LocalTime lt11 = lt.minusHours(10); // å‡å°‘10å°æ—¶ LocalTime lt12 = lt.minusMinutes(10); // å‡å°‘10åˆ†é’Ÿ LocalTime lt13 = lt.minusSeconds(10); // å‡å°‘10ç§’ LocalTime lt14 = lt.minusNanos(10); // å‡å°‘10çº³ç§’ // 5ã€è·å–æŒ‡å®šæ—¶é—´çš„LocalTimeå¯¹è±¡ï¼š // public static LocalTime of(int hour, int minute, int second) LocalTime lt15 = LocalTime.of(12, 12, 12); // åˆ›å»ºæŒ‡å®šæ—¶é—´çš„LocalTimeå¯¹è±¡ LocalTime lt16 = LocalTime.of(12, 12, 12); // åˆ›å»ºæŒ‡å®šæ—¶é—´çš„LocalTimeå¯¹è±¡ // 6ã€åˆ¤æ–­2ä¸ªæ—¶é—´å¯¹è±¡ï¼Œæ˜¯å¦ç›¸ç­‰ï¼Œåœ¨å‰è¿˜æ˜¯åœ¨åï¼š equals isBefore isAfter System.out.println(lt15.equals(lt16)); // åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦ç›¸ç­‰ System.out.println(lt15.isAfter(lt)); // åˆ¤æ–­lt15æ˜¯å¦åœ¨ltä¹‹å System.out.println(lt15.isBefore(lt)); // åˆ¤æ–­lt15æ˜¯å¦åœ¨ltä¹‹å‰ } LocalDateTime public static void main(String[] args) { // è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ LocalDateTime ldt = LocalDateTime.now(); System.out.println(\u0026#34;å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼š\u0026#34; + ldt); // è·å–æ—¥æœŸå’Œæ—¶é—´ä¸­çš„ä¿¡æ¯ int year = ldt.getYear(); // å¹´ä»½ int month = ldt.getMonthValue(); // æœˆä»½ int day = ldt.getDayOfMonth(); // æ—¥ int hour = ldt.getHour(); // å°æ—¶ int minute = ldt.getMinute(); // åˆ†é’Ÿ int second = ldt.getSecond(); // ç§’ int nano = ldt.getNano(); // çº³ç§’ System.out.println(\u0026#34;å¹´ä»½ï¼š\u0026#34; + year); System.out.println(\u0026#34;æœˆä»½ï¼š\u0026#34; + month); System.out.println(\u0026#34;æ—¥ï¼š\u0026#34; + day); System.out.println(\u0026#34;å°æ—¶ï¼š\u0026#34; + hour); System.out.println(\u0026#34;åˆ†é’Ÿï¼š\u0026#34; + minute); System.out.println(\u0026#34;ç§’ï¼š\u0026#34; + second); System.out.println(\u0026#34;çº³ç§’ï¼š\u0026#34; + nano); // è®¾ç½®æ—¥æœŸå’Œæ—¶é—´ LocalDateTime ldt2 = ldt.withYear(2025) .withMonth(6) .withDayOfMonth(15) .withHour(18) .withMinute(30) .withSecond(0) .withNano(0); System.out.println(\u0026#34;ä¿®æ”¹åçš„æ—¥æœŸå’Œæ—¶é—´ï¼š\u0026#34; + ldt2); // å¢åŠ å’Œå‡å°‘æ—¥æœŸå’Œæ—¶é—´ LocalDateTime ldt3 = ldt.plusDays(10) .plusHours(2) .minusMinutes(15); System.out.println(\u0026#34;å¢åŠ å’Œå‡å°‘åçš„æ—¥æœŸå’Œæ—¶é—´ï¼š\u0026#34; + ldt3); // åˆ›å»ºæŒ‡å®šæ—¥æœŸå’Œæ—¶é—´çš„ LocalDateTime å¯¹è±¡ LocalDateTime ldt4 = LocalDateTime.of(2030, 12, 31, 23, 59, 59); System.out.println(\u0026#34;æŒ‡å®šæ—¥æœŸå’Œæ—¶é—´ï¼š\u0026#34; + ldt4); // åˆ¤æ–­ä¸¤ä¸ª LocalDateTime å¯¹è±¡çš„å…³ç³» System.out.println(\u0026#34;å½“å‰æ—¥æœŸå’Œæ—¶é—´æ˜¯å¦åœ¨æŒ‡å®šæ—¥æœŸå’Œæ—¶é—´ä¹‹åï¼š\u0026#34; + ldt.isAfter(ldt4)); System.out.println(\u0026#34;å½“å‰æ—¥æœŸå’Œæ—¶é—´æ˜¯å¦åœ¨æŒ‡å®šæ—¥æœŸå’Œæ—¶é—´ä¹‹å‰ï¼š\u0026#34; + ldt.isBefore(ldt4)); } Arrays å¯¹äºè‡ªå®šä¹‰å¯¹è±¡çš„æ’åºï¼š\n@Override public int compareTo(Student o) { // if(this.age \u0026gt; o.age){ //å·¦è¾¹å¤§ï¼Œæ­£æ•´æ•° // return 1; // } // else if(this.age \u0026lt; o.age){ //å³è¾¹å¤§ï¼Œ è´Ÿæ•´æ•° // return -1; // } // return 0; //ç›¸ç­‰ 0 return o.age-this.age; } @Override public String toString() { return \u0026#34;Student{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, height=\u0026#34; + height + \u0026#34;, age=\u0026#34; + age + \u0026#39;}\u0026#39;; } Student[] students = new Student[4]; students[0] = new Student(\u0026#34;Kenn\u0026#34;, 180, 21); students[1] = new Student(\u0026#34;ken\u0026#34;, 181, 22); students[2] = new Student(\u0026#34;ken\u0026#34;, 189, 22); students[3] = new Student(\u0026#34;k\u0026#34;, 168, 20); Arrays.sort(students); System.out.println(Arrays.toString(students)); Arrays.sort(students, new Comparator\u0026lt;Student\u0026gt;() { @Override public int compare(Student o1, Student o2) { return Integer.compare(o1.getAge(), o2.getAge()); } }); Lambdaè¡¨è¾¾å¼ Lambdaè¡¨è¾¾å¼åªèƒ½ç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ï¼\nå‡½æ•°å¼æ¥å£ï¼š\næœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ æ³¨æ„ï¼šå°†æ¥è§åˆ°çš„å¤§éƒ¨åˆ†å‡½æ•°å¼æ¥å£ï¼Œä¸Šé¢éƒ½å¯èƒ½ä¼šæœ‰ä¸€ä¸ª@FunctionalInterfaceçš„æ³¨è§£ï¼Œæœ‰è¯¥æ³¨è§£çš„æ¥å£å¿…å®šæ˜¯å‡½æ•°å¼æ¥å£ // Arrays.sort(students, new Comparator\u0026lt;Student\u0026gt;() { // @Override // public int compare(Student o1, Student o2) { // return Integer.compare(o1.getAge(), o2.getAge()); // } // }); // Arrays.sort(students, (Student o1, Student o2) -\u0026gt;{ // return Double.compare(o1.getHeight(), o2.getHeight()); // }); Arrays.sort(students, (o1, o2) -\u0026gt; { return Double.compare(o1.getHeight(), o2.getHeight()); }); Arrays.sort(students, (o1, o2) -\u0026gt; Double.compare(o1.getHeight(), o2.getHeight())); // Arrays.setAll(prices, new IntToDoubleFunction() { // @Override // public double applyAsDouble(int value) { // return prices[value]*0.8; // } // }); // Arrays.setAll(prices, (int value) -\u0026gt; { // return prices[value]*0.8; // }); // Arrays.setAll(prices, value -\u0026gt; { // return prices[value]*0.8; // }); Arrays.setAll(prices, value -\u0026gt; prices[value]*0.8); æ–¹æ³•å¼•ç”¨ æ–¹æ³•å¼•ç”¨æ˜¯Java 8å¼•å…¥çš„ä¸€ç§ç®€æ´è¯­æ³•ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰æ¥åˆ›å»ºLambdaè¡¨è¾¾å¼ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ä»£ç æ›´ç®€æ´ã€æ˜“è¯»ã€‚æ–¹æ³•å¼•ç”¨å¯ä»¥çœ‹ä½œæ˜¯Lambdaè¡¨è¾¾å¼çš„ç®€åŒ–å½¢å¼ï¼Œä¸»è¦ç”¨äºå¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\né™æ€æ–¹æ³•çš„å¼•ç”¨ é™æ€æ–¹æ³•å¼•ç”¨ç”¨äºå¼•ç”¨ç±»çš„é™æ€æ–¹æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº†CompareByAgeç±»çš„é™æ€æ–¹æ³•comparByAgeã€‚\n// CompareByAge.java public class CompareByAge { public static int comparByAge(Student o1, Student o2) { return o1.getAge() - o2.getAge(); } } // Test.java Student[] students = ... // å‡è®¾å·²ç»åˆå§‹åŒ–çš„å­¦ç”Ÿæ•°ç»„ // ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ’åº Arrays.sort(students, (o1, o2) -\u0026gt; CompareByAge.comparByAge(o1, o2)); // ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ’åºï¼Œä¸ä¸Šé¢çš„ä½œç”¨ç›¸åŒ Arrays.sort(students, CompareByAge::comparByAge); è¯´æ˜ï¼šé€šè¿‡ä½¿ç”¨CompareByAge::comparByAgeæ–¹æ³•å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–Lambdaè¡¨è¾¾å¼ã€‚\nå®ä¾‹æ–¹æ³•å¼•ç”¨ å®ä¾‹æ–¹æ³•å¼•ç”¨ç”¨äºå¼•ç”¨æŸä¸ªç‰¹å®šå¯¹è±¡çš„å®ä¾‹æ–¹æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº†CompareByHeightç±»çš„å®ä¾‹æ–¹æ³•comparebyHeightã€‚\npublic class CompareByHeight { public int comparebyHeight(Student o1, Student o2) { return (int) (o2.getHeight() - o1.getHeight()); } } // Test.java CompareByHeight cmpH = new CompareByHeight(); Student[] students = ... // å‡è®¾å·²ç»åˆå§‹åŒ–çš„å­¦ç”Ÿæ•°ç»„ // ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ’åº Arrays.sort(students, (o1, o2) -\u0026gt; cmpH.comparebyHeight(o1, o2)); // ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ’åºï¼Œä¸ä¸Šé¢çš„ä½œç”¨ç›¸åŒ Arrays.sort(students, cmpH::comparebyHeight); è¯´æ˜ï¼šé€šè¿‡ä½¿ç”¨cmpH::comparebyHeightæ–¹æ³•å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–Lambdaè¡¨è¾¾å¼ã€‚\nç‰¹å®šç±»å‹çš„æ–¹æ³•å¼•ç”¨ ç‰¹å®šç±»å‹çš„æ–¹æ³•å¼•ç”¨ç”¨äºå¼•ç”¨æŸä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹æ–¹æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº†Stringç±»çš„å®ä¾‹æ–¹æ³•compareToIgnoreCaseã€‚\nString[] names = ... // å‡è®¾å·²ç»åˆå§‹åŒ–çš„å­—ç¬¦ä¸²æ•°ç»„ // ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ’åº Arrays.sort(names, (o1, o2) -\u0026gt; o1.compareToIgnoreCase(o2)); // ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ’åºï¼Œä¸ä¸Šé¢çš„ä½œç”¨ç›¸åŒ Arrays.sort(names, String::compareToIgnoreCase); è¯´æ˜ï¼šé€šè¿‡ä½¿ç”¨String::compareToIgnoreCaseæ–¹æ³•å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–Lambdaè¡¨è¾¾å¼ã€‚\næ„é€ å™¨å¼•ç”¨ æ„é€ å™¨å¼•ç”¨ç”¨äºå¼•ç”¨ç±»çš„æ„é€ æ–¹æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº†Carç±»çš„æ„é€ æ–¹æ³•ã€‚\npublic class Car { private String name; private double price; public Car(String name, double price) { this.name = name; this.price = price; } // çœç•¥getterå’Œsetteræ–¹æ³• } @FunctionalInterface interface CreateCar { Car create(String name, double price); } // Test.java // ä½¿ç”¨åŒ¿åå†…éƒ¨ç±» CreateCar cc1 = new CreateCar() { @Override public Car create(String name, double price) { return new Car(name, price); } }; // ä½¿ç”¨Lambdaè¡¨è¾¾å¼ CreateCar cc2 = (name, price) -\u0026gt; new Car(name, price); // ä½¿ç”¨æ„é€ å™¨å¼•ç”¨ CreateCar cc3 = Car::new; è¯´æ˜ï¼šé€šè¿‡ä½¿ç”¨Car::newæ„é€ å™¨å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–Lambdaè¡¨è¾¾å¼ã€‚\næ€»ç»“ æ–¹æ³•å¼•ç”¨å’Œæ„é€ å™¨å¼•ç”¨ä½¿å¾—ä»£ç æ›´ç®€æ´æ˜“è¯»ã€‚ä»¥ä¸‹æ˜¯å››ç§å¸¸è§çš„å¼•ç”¨æ–¹å¼ï¼š\né™æ€æ–¹æ³•å¼•ç”¨ï¼šClassName::staticMethodName å®ä¾‹æ–¹æ³•å¼•ç”¨ï¼šinstance::instanceMethodName ç‰¹å®šç±»å‹çš„æ–¹æ³•å¼•ç”¨ï¼šClassName::instanceMethodName æ„é€ å™¨å¼•ç”¨ï¼šClassName::new å¼•ç”¨æ–¹å¼å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œå¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\nç»¼åˆæ¡ˆä¾‹ Hospital ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B1/","summary":"è¿›é˜¶è¯¾ç¨‹(1) OOP static é™æ€ï¼Œ å¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡ï¼Œæˆå‘˜æ–¹æ³• æˆå‘˜å˜é‡æŒ‰ç…§æœ‰æ— staticä¿®é¥°ï¼Œåˆ†ä¸ºä¸¤ç§ ç±»å˜é‡ ï¼š æœ‰staticä¿®é¥°ï¼Œå±äºç±»ï¼Œåœ¨è®¡ç®—æœºé‡Œåª","title":"Java20å¤©é€Ÿæˆâ€”â€”è¿›é˜¶è¯¾ç¨‹(1)"},{"content":"JAVA 20å¤©é€Ÿæˆ æœ‰å¿—è€…äº‹ç«Ÿæˆ\næ²¡æœ‰å®Œå®Œå…¨å…¨çš„æŠ•å…¥ï¼Œæ£€æµ‹ï¼Œå­¦ä¹ æ˜¯å­¦ä¸åˆ°ä¸œè¥¿çš„ã€‚\nè‡ªæ¬ºæ¬ºäººï¼Œçœ¼é«˜æ‰‹ä½æ˜¯ç»å¯¹æ²¡æœ‰ä»»ä½•ä½œç”¨çš„ã€‚\nJAVAèƒŒæ™¯ä¿¡æ¯ JAVAæ˜¯ä¸€é—¨é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚\nå±äºORACLEå…¬å¸\nJAVAä¹‹çˆ¶â€”â€”è©¹å§†æ–¯Â·é«˜æ–¯æ—\nJAVAä¸»è¦åšäº’è”ç½‘ç³»ç»Ÿçš„å¼€å‘\nä¸»è¦æŠ€æœ¯å¹³å°ï¼šJAVASEï¼Œ JAVAEEï¼Œ JAVAME\nJDKçš„å‘å±•å² Java Development Kit å¼€å‘è€…å·¥å…·åŒ…\nå½“å‰ä½¿ç”¨æ›´å¤šçš„æ˜¯JDK-8ï¼ŒJDK-11\næ•™å­¦åªç”¨JDK-17\næŠ€æœ¯ç±»ç½‘ç«™ ï¼š å®‰è£…è·¯å¾„ä¸‹ä¸è¦åŒ…å«ä¸­æ–‡å’Œç©ºæ ¼\næ‰€æœ‰çš„å¼€å‘å·¥å…·æœ€å¥½å®‰è£…åˆ°ç»Ÿä¸€ç›®å½•\nç”µè„‘å†…JAVAå®‰è£…è·¯å¾„ï¼š\nF:\\Java\\jdk17 C:\\Program Files\\Java\\jdk1.8.0_311\njavac.exe : ç¼–è¯‘å·¥å…· java.exe : æ‰§è¡Œå·¥å…·\nå¸¸ç”¨å‘½ä»¤\nclsï¼š æ¸…å± é€€å›åˆ°ç›˜ç¬¦æ ¹ç›®å½• ï¼š cd\\ å…ˆåˆ‡æ¢ç›˜ç¬¦åœ¨åˆ‡æ¢ç›®å½• Java ç¨‹åºè¦ç»å†çš„æ­¥éª¤ï¼š\nç¼–å†™ã€ç¼–è¯‘ï¼ˆjavac), è¿è¡Œ(java) Javaä»£ç ç¼–å†™æœ‰ä»€ä¹ˆåŸºæœ¬è¦æ±‚ï¼Ÿ\næ–‡ä»¶åç§°å’Œåç¼€å¿…é¡»æ˜¯javaç»“å°¾ æ–‡ä»¶åç§°å¿…é¡»ä¸ä»£ç çš„ç±»åç§°ä¸€è‡´ å¿…é¡»ä½¿ç”¨è‹±æ–‡æ¨¡å¼ä¸‹çš„ç¬¦å· javac .\\HelloWorld.java\rjava HelloWorld public class Main{ public static void main(String[] args){ System.out.println(\u0026#34;Hello World!\u0026#34;); } } JDK11å¼€å§‹æ”¯æŒjavaç›´æ¥è¿è¡Œæºä»£ç æ–‡ä»¶\nJDK ç»„æˆ JREï¼ˆJava Runtime Environmentï¼‰ï¼šJavaçš„è¿è¡Œç¯å¢ƒ\nJVMï¼ˆJava Vitual Machineï¼‰ï¼šJavaè™šæ‹Ÿæœºï¼Œ çœŸæ­£è¿è¡Œjavaç¨‹åºçš„åœ°æ–¹ã€‚\næ ¸å¿ƒç±»åº“ï¼šJavaè‡ªå·±å†™å¥½çš„ç¨‹åºï¼Œç»™ç¨‹åºå‘˜è°ƒç”¨çš„\nå¼€å‘å·¥å…·ï¼šjava, javac\nJDKï¼ˆJava Development Kitï¼‰ï¼šJavaå¼€å‘å·¥å…·åŒ…ï¼ˆåŒ…æ‹¬ä¸Šé¢æ‰€æœ‰ï¼‰ã€‚\nJavaçš„è·¨å¹³å°ã€å·¥ä½œåŸç†\nä¸€æ¬¡ç¼–è¯‘ï¼Œå¤„å¤„å¯ç”¨ Pathç¯å¢ƒå˜é‡ï¼šç”¨äºè®°ä½ç¨‹åºè·¯å¾„ï¼Œæ–¹ä¾¿åœ¨å‘½ä»¤è¡Œçª—å£çš„ä»»æ„ç›®å½•å¯åŠ¨ç¨‹åº\nIDEAç®¡ç†JAVAç¨‹åºçš„ç»“æ„\nprojectï¼ˆé¡¹ç›®ï¼Œå·¥ç¨‹ï¼‰ moduleï¼ˆæ¨¡å—ï¼‰ packageï¼ˆåŒ…ï¼‰ classï¼ˆç±»ï¼‰ IDEAå¿«æ·é”®\nmain/psvm sout\nctrl + D å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œ\nctrl + Y åˆ é™¤æ‰€åœ¨è¡Œï¼Œå»ºè®®ç”¨ctrl + x\nctrl + alt + L æ ¼å¼åŒ–ä»£ç \nALT + SHIFT + â¬† | â¬‡ ä¸Šä¸‹ç§»åŠ¨å½“å‰ä»£ç \nctrl + /, ctrl + shift + / å¯¹ä»£ç è¿›è¡Œæ³¨é‡Š\nIDEAå¸¸ç”¨æ“ä½œï¼š\nåˆ é™¤ç±»æ–‡ä»¶ ä¿®æ”¹ç±»åç§° ä¿®æ”¹æ¨¡å— å¯¼å…¥æ¨¡å— æ–¹æ³•1ï¼š\næ³¨ï¼šç”Ÿæˆimiæ–‡ä»¶\nmvn idea:module æ–¹æ³•2ï¼š\nå¤åˆ¶ä»£ç åˆ°projectç›®å½•ï¼Œ ä¹‹åå†å¯¼å…¥ï¼Œ å¦åˆ™åªæ˜¯ç›¸å…³å¯¼å…¥ï¼Œä¿®æ”¹moduleå†…å®¹ä¼šä¿®æ”¹æºä»£ç \nåˆ é™¤æ¨¡å— æ‰“å¼€å·¥ç¨‹ å…³é—­å·¥ç¨‹ JAVAåŸºç¡€è¯­æ³• 1ã€æ³¨é‡Š // å•è¡Œæ³¨é‡Š /* å¤šè¡Œæ³¨é‡Š */ /** æ–‡æ¡£æ³¨é‡Š * ç›®æ ‡ï¼š */ 2ã€å˜é‡ å˜é‡å°±æ˜¯å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸã€‚\n// äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå‰ç¼€ 0b è¡¨ç¤ºäºŒè¿›åˆ¶ int a1 = 0b01100001; System.out.println(a1); // è¾“å‡ºï¼š97 // åè¿›åˆ¶è¡¨ç¤º int a2 = 97; System.out.println(a2); // è¾“å‡ºï¼š97 // å…«è¿›åˆ¶è¡¨ç¤ºï¼Œå‰ç¼€ 0 è¡¨ç¤ºå…«è¿›åˆ¶ int a3 = 0141; System.out.println(a3); // è¾“å‡ºï¼š97 // åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå‰ç¼€ 0x è¡¨ç¤ºåå…­è¿›åˆ¶ int a4 = 0xFA; System.out.println(a4); // è¾“å‡ºï¼š250 // å£°æ˜å¹¶åˆå§‹åŒ–ä¸åŒç±»å‹çš„å˜é‡ byte a = 10; // byteç±»å‹ï¼Œè¡¨ç¤ºèŒƒå›´ä¸º -128 åˆ° 127 short b = 8888; // shortç±»å‹ï¼Œè¡¨ç¤ºèŒƒå›´ä¸º -32768 åˆ° 32767 int c = 130; // intç±»å‹ï¼Œè¡¨ç¤ºèŒƒå›´ä¸º -2147483648 åˆ° 2147483647 long d = 9393939393993L; // longç±»å‹ï¼Œéœ€è¦åœ¨ç»“å°¾åŠ ä¸ŠLæˆ–lï¼Œè¡¨ç¤ºèŒƒå›´ä¸º -9223372036854775808 åˆ° 9223372036854775807 // è¾“å‡ºä¸åŒç±»å‹çš„æ•´æ•°å˜é‡ System.out.println(a); // è¾“å‡ºï¼š10 System.out.println(b); // è¾“å‡ºï¼š130 System.out.println(c); // è¾“å‡ºï¼š9393939393993 System.out.println(d); // è¾“å‡ºï¼š8888 // æµ®ç‚¹æ•°ç±»å‹ float e = 2.17F; // floatç±»å‹ï¼Œéœ€è¦åœ¨ç»“å°¾åŠ ä¸ŠFæˆ–f double f = 3.141592657; // doubleç±»å‹ï¼Œé»˜è®¤ä¸ºdoubleï¼Œå¯ä»¥ä¸åŠ ä»»ä½•æ ‡è¯† // è¾“å‡ºæµ®ç‚¹æ•°å˜é‡ System.out.println(e); // è¾“å‡ºï¼š2.17 System.out.println(f); // è¾“å‡ºï¼š3.141592657 // å­—ç¬¦ç±»å‹ char ch = \u0026#39;c\u0026#39;; // charç±»å‹ï¼Œè¡¨ç¤ºå•ä¸ªå­—ç¬¦ System.out.println(ch); // è¾“å‡ºï¼šc // å¸ƒå°”ç±»å‹ boolean flag = false; // booleanç±»å‹ï¼Œè¡¨ç¤ºtrueæˆ–false System.out.println(flag); // è¾“å‡ºï¼šfalse // å­—ç¬¦ä¸²ç±»å‹ String st = \u0026#34;string\u0026#34;; // Stringç±»å‹ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² System.out.println(st); // è¾“å‡ºï¼šstring ç±»å‹è½¬æ¢ byte a = 10; // å£°æ˜å¹¶åˆå§‹åŒ–byteç±»å‹å˜é‡a int b = a; // å°†byteç±»å‹çš„å˜é‡aèµ‹å€¼ç»™intç±»å‹çš„å˜é‡bï¼Œå‘ç”Ÿæ‹“å®½è½¬æ¢ System.out.println(b); // è¾“å‡ºï¼š10 int c = 100; // å£°æ˜å¹¶åˆå§‹åŒ–intç±»å‹å˜é‡c double d = c; // å°†intç±»å‹çš„å˜é‡cèµ‹å€¼ç»™doubleç±»å‹çš„å˜é‡dï¼Œå‘ç”Ÿæ‹“å®½è½¬æ¢ System.out.println(d); // è¾“å‡ºï¼š100.0 char e = \u0026#39;b\u0026#39;; // å£°æ˜å¹¶åˆå§‹åŒ–charç±»å‹å˜é‡e int f = e; // å°†charç±»å‹çš„å˜é‡eèµ‹å€¼ç»™intç±»å‹çš„å˜é‡fï¼Œå‘ç”Ÿæ‹“å®½è½¬æ¢ System.out.println(f); // è¾“å‡ºï¼š98ï¼ˆå­—ç¬¦\u0026#39;b\u0026#39;å¯¹åº”çš„ASCIIç å€¼ï¼‰ byte a = 10; // å£°æ˜å¹¶åˆå§‹åŒ–byteç±»å‹å˜é‡a short b = 20; // å£°æ˜å¹¶åˆå§‹åŒ–shortç±»å‹å˜é‡b int c = 30; // å£°æ˜å¹¶åˆå§‹åŒ–intç±»å‹å˜é‡c long d = 40; // å£°æ˜å¹¶åˆå§‹åŒ–longç±»å‹å˜é‡d // å¯¹aã€bã€cã€dè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œç»“æœå­˜å‚¨åœ¨longç±»å‹å˜é‡res1ä¸­ long res1 = a + b + c + d; System.out.println(res1); // è¾“å‡ºï¼š100 // å¯¹aã€bè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå¹¶å°†1.0ï¼ˆdoubleç±»å‹ï¼‰ç›¸åŠ ï¼Œç»“æœå­˜å‚¨åœ¨doubleç±»å‹å˜é‡res2ä¸­ double res2 = a + b + 1.0; System.out.println(res2); // è¾“å‡ºï¼š31.0 // å¯¹aã€bè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œç»“æœå­˜å‚¨åœ¨intç±»å‹å˜é‡res3ä¸­ int res3 = a + b; System.out.println(res3); // è¾“å‡ºï¼š30 byte a1 = 10; // å£°æ˜å¹¶åˆå§‹åŒ–byteç±»å‹å˜é‡a1 byte a2 = 20; // å£°æ˜å¹¶åˆå§‹åŒ–byteç±»å‹å˜é‡a2 // å¯¹a1ã€a2è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œç”±äºbyteç±»å‹ç›¸åŠ å¯èƒ½æº¢å‡ºï¼Œå› æ­¤ç»“æœå­˜å‚¨åœ¨intç±»å‹å˜é‡res4ä¸­ int res4 = a1 + a2; // è¿›è¡Œè¿ç®—æ—¶a1å’Œa2è‡ªåŠ¨è½¬æ¢æˆintç±»å‹ï¼Œç„¶åç›¸åŠ  System.out.println(res4); // è¾“å‡ºï¼š30 å¼ºåˆ¶ç±»å‹è½¬æ¢ int a = 1111111; char b = (char) a; // å¿«æ·é”®ï¼Œ ALT+ENTER System.out.println(b); double c = 99.8; int d = (int) c; // ä¸¢æ‰å°æ•°éƒ¨åˆ† System.out.println(d); 3ã€è¿ç®—ç¬¦ ä½¿ç”¨+ç¬¦å·åšè¿æ¥ç¬¦çš„æƒ…å†µ int a = 10; // å£°æ˜å¹¶åˆå§‹åŒ–æ•´æ•°å˜é‡a // ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥ç¬¦å°†å­—ç¬¦ä¸² \u0026#34;abc\u0026#34; å’Œæ•´æ•°å˜é‡a è¿æ¥èµ·æ¥å¹¶æ‰“å° System.out.println(\u0026#34;abc\u0026#34; + a); // è¾“å‡ºï¼š\u0026#34;abc10\u0026#34; // æ‰“å°æ•´æ•°å˜é‡a åŠ  5 çš„ç»“æœ System.out.println(a + 5); // è¾“å‡ºï¼š15 // å°†å­—ç¬¦ä¸² \u0026#34;abc\u0026#34;ã€æ•´æ•°å˜é‡a å’Œå­—ç¬¦ \u0026#39;a\u0026#39; è¿æ¥èµ·æ¥å¹¶æ‰“å° System.out.println(\u0026#34;abc\u0026#34; + a + \u0026#39;a\u0026#39;); // è¾“å‡ºï¼š\u0026#34;abc10a\u0026#34; // å°†å­—ç¬¦ \u0026#39;a\u0026#39; çš„ASCIIç å€¼ï¼ˆ97ï¼‰å’Œæ•´æ•°å˜é‡a ç›¸åŠ ï¼Œå†å°†ç»“æœä¸å­—ç¬¦ä¸² \u0026#34;abc\u0026#34; è¿æ¥èµ·æ¥å¹¶æ‰“å° // æ³¨ï¼šå­—ç¬¦ \u0026#39;a\u0026#39; çš„ASCIIç å€¼è¢«å½“ä½œæ•´æ•°å‚ä¸è¿ç®—ï¼Œç„¶åå†å°†ç»“æœè½¬æ¢ä¸ºå­—ç¬¦ System.out.println(\u0026#39;a\u0026#39; + a + \u0026#34;abc\u0026#34;); // è¾“å‡ºï¼š\u0026#34;107abc\u0026#34; // åˆå§‹åŒ–å˜é‡nå’Œmåˆ†åˆ«ä¸º3å’Œ5 int n = 3, m = 5; // è®¡ç®—resçš„å€¼ // ++m: å…ˆè‡ªå¢mï¼Œmå˜æˆ6ï¼Œç„¶åè¿”å›6 // --m: å…ˆè‡ªå‡mï¼Œmå˜æˆ5ï¼Œç„¶åè¿”å›5 // m--: å…ˆè¿”å›mçš„å€¼5ï¼Œç„¶åå†è‡ªå‡mï¼Œmå˜æˆ4 // ++n: å…ˆè‡ªå¢nï¼Œnå˜æˆ4ï¼Œç„¶åè¿”å›4 // n--: å…ˆè¿”å›nçš„å€¼4ï¼Œç„¶åå†è‡ªå‡nï¼Œnå˜æˆ3 // è®¡ç®—ï¼š6 - 5 + 5 - 4 + 4 + 3 = 9 int res = ++m - --m + m-- - ++n + n-- + 3; System.out.println(res); // è¾“å‡ºresçš„å€¼ System.out.println(n); // è¾“å‡ºnçš„å€¼ï¼Œæ­¤æ—¶nä¸º3 System.out.println(m); // è¾“å‡ºmçš„å€¼ï¼Œæ­¤æ—¶mä¸º4 // åˆå§‹åŒ–å˜é‡cå’Œdåˆ†åˆ«ä¸º10å’Œ5 int c = 10, d = 5; // è®¡ç®—res2çš„å€¼ // c++: å…ˆè¿”å›cçš„å€¼10ï¼Œç„¶åå†è‡ªå¢cï¼Œcå˜æˆ11 // ++c: å…ˆè‡ªå¢cï¼Œcå˜æˆ12ï¼Œç„¶åè¿”å›12 // --d: å…ˆè‡ªå‡dï¼Œdå˜æˆ4ï¼Œç„¶åè¿”å›4 // ++d: å…ˆè‡ªå¢dï¼Œdå˜æˆ5ï¼Œç„¶åè¿”å›5 // è®¡ç®—ï¼š10 + 12 - 4 - 5 + 1 + c--ï¼Œå…¶ä¸­cæ­¤æ—¶ä¸º12ï¼Œç„¶åå†è‡ªå‡cï¼Œcå˜æˆ11 // è®¡ç®—ï¼š10 + 12 - 4 - 5 + 1 + 12 = 26 int res2 = c++ + ++c - --d - ++d + 1 + c--; System.out.println(res2); // è¾“å‡ºres2çš„å€¼ System.out.println(c); // è¾“å‡ºcçš„å€¼ï¼Œæ­¤æ—¶cä¸º11 System.out.println(d); // è¾“å‡ºdçš„å€¼ï¼Œæ­¤æ—¶dä¸º5 é€»è¾‘è¿ç®— // å®šä¹‰å˜é‡ double size = 9.8; // sizeçš„å€¼ä¸º9.8 double storage = 16; // storageçš„å€¼ä¸º16 // ç¬¬ä¸€ç»„æ¡ä»¶åˆ¤æ–­ System.out.println(\u0026#34;original \u0026#34; + storage); // ä½¿ç”¨æŒ‰ä½ä¸è¿ç®—ç¬¦\u0026#34;\u0026amp;\u0026#34;ï¼Œå³ä½¿ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œstorageä¹Ÿä¼šè‡ªå¢ boolean res11 = size \u0026lt; 8 \u0026amp; storage++ \u0026gt;= 16; // false System.out.println(res11); // è¾“å‡ºfalse System.out.println(storage); // è¾“å‡º17.0ï¼Œå› ä¸ºstorageåœ¨æ¡ä»¶åˆ¤æ–­ä¹‹åè‡ªå¢äº† // ä½¿ç”¨é€»è¾‘ä¸è¿ç®—ç¬¦\u0026#34;\u0026amp;\u0026amp;\u0026#34;ï¼Œè‹¥ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œç¬¬äºŒä¸ªæ¡ä»¶ï¼Œstorageä¸ä¼šè‡ªå¢ boolean res12 = size \u0026lt; 8 \u0026amp;\u0026amp; storage++ \u0026gt;= 16; // false System.out.println(res12); // è¾“å‡ºfalse System.out.println(storage); // è¾“å‡º17.0ï¼Œå› ä¸ºstorageæ²¡æœ‰è‡ªå¢ // ç¬¬äºŒç»„æ¡ä»¶åˆ¤æ–­ System.out.println(\u0026#34;-------------------\u0026#34;); System.out.println(\u0026#34;original \u0026#34; + storage); // ä½¿ç”¨æŒ‰ä½æˆ–è¿ç®—ç¬¦\u0026#34;|\u0026#34;ï¼Œå³ä½¿ç¬¬ä¸€ä¸ªæ¡ä»¶æ»¡è¶³ï¼Œstorageä¹Ÿä¼šè‡ªå¢ boolean res21 = size \u0026gt;= 8 | storage++ \u0026gt;= 8; // true System.out.println(res21); // è¾“å‡ºtrue System.out.println(storage); // è¾“å‡º18.0ï¼Œå› ä¸ºstorageåœ¨æ¡ä»¶åˆ¤æ–­ä¹‹åè‡ªå¢äº† // ä½¿ç”¨é€»è¾‘æˆ–è¿ç®—ç¬¦\u0026#34;||\u0026#34;ï¼Œè‹¥ç¬¬ä¸€ä¸ªæ¡ä»¶æ»¡è¶³ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œç¬¬äºŒä¸ªæ¡ä»¶ï¼Œstorageä¸ä¼šè‡ªå¢ boolean res22 = size \u0026gt;= 8 || storage++ \u0026gt;= 16; // true System.out.println(res22); // è¾“å‡ºtrue System.out.println(storage); // è¾“å‡º18.0ï¼Œå› ä¸ºstorageæ²¡æœ‰è‡ªå¢ System.out.println(\u0026#34;-------------------\u0026#34;); // å…¶ä»–æ“ä½œ // ä½¿ç”¨é€»è¾‘éè¿ç®—ç¬¦\u0026#34;!\u0026#34;ï¼Œå¯¹trueå–åï¼Œç»“æœä¸ºfalse System.out.println((!true)); // è¾“å‡ºfalse // ä½¿ç”¨æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦\u0026#34;^\u0026#34;ï¼Œå¯¹ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œç»“æœä¸º0 System.out.println((1^1)); // è¾“å‡º0 int grade = 10; // å®šä¹‰æˆç»©å˜é‡ä¸º10 // ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦åˆ¤æ–­æˆç»©æ˜¯å¦åˆæ ¼ String res = grade \u0026gt;= 60 ? \u0026#34;æˆç»©åˆæ ¼\u0026#34; : \u0026#34;æˆç»©ä¸åˆæ ¼\u0026#34;; System.out.println(res); // è¾“å‡º \u0026#34;æˆç»©ä¸åˆæ ¼\u0026#34;ï¼Œå› ä¸ºgradeçš„å€¼ä¸º10ï¼Œå°äº60 // ç¬¬ä¸€æ¡é€»è¾‘è¡¨è¾¾å¼ System.out.println(10 \u0026gt; 3 || 10 \u0026gt; 3 \u0026amp;\u0026amp; 10 \u0026lt; 3); // è¾“å‡ºtrue // é€»è¾‘è¿ç®—ç¬¦\u0026#34;\u0026amp;\u0026amp;\u0026#34;çš„ä¼˜å…ˆçº§é«˜äº\u0026#34;||\u0026#34;ï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œ10 \u0026gt; 3 \u0026amp;\u0026amp; 10 \u0026lt; 3ï¼Œç»“æœä¸ºfalseï¼Œç„¶åæ‰§è¡Œ10 \u0026gt; 3 || falseï¼Œç»“æœä¸ºtrueã€‚ // ç¬¬äºŒæ¡é€»è¾‘è¡¨è¾¾å¼ System.out.println((10 \u0026gt; 3 || 10 \u0026gt; 3) \u0026amp;\u0026amp; 10 \u0026lt; 3); // è¾“å‡ºfalse // åŠ äº†æ‹¬å·åï¼Œå…ˆæ‰§è¡Œæ‹¬å·å†…çš„10 \u0026gt; 3 || 10 \u0026gt; 3ï¼Œç»“æœä¸ºtrueï¼Œç„¶åä¸10 \u0026lt; 3è¿›è¡Œé€»è¾‘ä¸è¿ç®—ï¼Œç»“æœä¸ºfalseã€‚ è¾“å…¥ // 1. åˆ›å»ºScannerå¯¹è±¡scï¼Œç”¨äºä»System.inï¼ˆå³æ ‡å‡†è¾“å…¥æµï¼Œé€šå¸¸ä¸ºæ§åˆ¶å°ï¼‰è¯»å–ç”¨æˆ·è¾“å…¥ Scanner sc = new Scanner(System.in); // 2. è¾“å‡ºæç¤ºä¿¡æ¯ï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥å¹´é¾„ System.out.println(\u0026#34;Please input your age:\u0026#34;); // 3. ä½¿ç”¨Scannerå¯¹è±¡scè¯»å–ç”¨æˆ·è¾“å…¥çš„æ•´æ•°å‹å¹´é¾„ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å˜é‡ageä¸­ int age = sc.nextInt(); // 4. æ ¹æ®ç”¨æˆ·è¾“å…¥çš„å¹´é¾„è®¡ç®—å…¶å‡ºç”Ÿå¹´ä»½ï¼ˆå‡è®¾å½“å‰ä¸º2024å¹´ï¼‰ï¼Œç„¶åè¾“å‡ºç»“æœ System.out.println(\u0026#34;Your birth year is :\u0026#34; + (2024 - age)); // 5. è¾“å‡ºæç¤ºä¿¡æ¯ï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥å§“å System.out.println(\u0026#34;Please input your name:\u0026#34;); // 6. ä½¿ç”¨Scannerå¯¹è±¡scè¯»å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²å‹å§“åï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å˜é‡nameä¸­ String name = sc.next(); // 7. é‡å¤è¾“å‡ºç”¨æˆ·å‡ºç”Ÿå¹´ä»½ï¼ˆä¸æ­¥éª¤4ç›¸åŒï¼Œæ­¤å¤„å¯èƒ½æ˜¯ä»£ç å†—ä½™æˆ–ç¬”è¯¯ï¼‰ System.out.println(\u0026#34;Your birth year is :\u0026#34; + (2024 - age)); // 8. è¾“å‡ºæ¬¢è¿ä¿¡æ¯ï¼ŒåŒ…å«ç”¨æˆ·è¾“å…¥çš„å§“å System.out.println(\u0026#34;Welcome: \u0026#34; + name); switchæ³¨æ„äº‹é¡¹ï¼š\nè¡¨è¾¾å¼ç±»å‹åªèƒ½æ˜¯byte, short, int, char, JDK5å¼€å§‹æ”¯æŒæšä¸¾ï¼Œ JDK7å¼€å§‹æ”¯æŒStringï¼Œä¸æ”¯æŒdoubleï¼Œfloat, longã€‚ caseç»™å‡ºçš„å€¼ä¸å…è®¸é‡å¤ï¼Œä¸”åªèƒ½æ˜¯å­—é¢é‡ï¼Œä¸èƒ½æ˜¯å˜é‡ æ­£å¸¸ä½¿ç”¨æ—¶éœ€è¦å†™breakï¼Œ å¦åˆ™ä¼šå‡ºç°ç©¿é€ç°è±¡ switch æŠ€å·§ï¼šè¿ç”¨ç©¿é€æ€§åˆå¹¶åŒæ ·ç»“æœçš„åˆ†æ”¯ã€‚\npublic class SwitchExample { public static void main(String[] args) { int day = 2; String dayType; switch (day) { case 1: case 2: case 3: case 4: case 5: dayType = \u0026#34;å·¥ä½œæ—¥\u0026#34;; break; case 6: case 7: dayType = \u0026#34;å‘¨æœ«\u0026#34;; break; default: dayType = \u0026#34;æ— æ•ˆçš„æ—¥å­\u0026#34;; break; } System.out.println(\u0026#34;ä»Šå¤©æ˜¯: \u0026#34; + dayType); } } while\n// åˆ›å»ºä¸€ä¸ªRandomå¯¹è±¡ç”¨äºç”Ÿæˆéšæœºæ•° Random random = new Random(); // ç”Ÿæˆ1åˆ°100ä¹‹é—´çš„éšæœºæ•°ä½œä¸ºå¹¸è¿æ•°å­— int luckNumber = random.nextInt(100) + 1; // åˆ›å»ºä¸€ä¸ªScannerå¯¹è±¡ç”¨äºæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ Scanner sc = new Scanner(System.in); // æç¤ºç”¨æˆ·è¾“å…¥çŒœæµ‹çš„æ•°å­— System.out.println(\u0026#34;è¯·è¾“å…¥ä½ çŒœçš„æ•°å­—\u0026#34;); // å¾ªç¯ï¼Œç›´åˆ°ç”¨æˆ·çŒœä¸­ä¸ºæ­¢ while (true) { // è·å–ç”¨æˆ·è¾“å…¥çš„çŒœæµ‹æ•°å­— int guessNumber = sc.nextInt(); // åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ•°å­—ä¸å¹¸è¿æ•°å­—çš„å…³ç³»ï¼Œå¹¶ç»™å‡ºç›¸åº”æç¤º if (guessNumber == luckNumber) { // å¦‚æœçŒœä¸­äº†ï¼Œè¾“å‡ºæ­å–œä¿¡æ¯ï¼Œå¹¶ç»“æŸå¾ªç¯ System.out.println(\u0026#34;æ­å–œä½ ï¼Œä½ ä¸­äº†100å…ƒå¤§å¥–\u0026#34;); break; } else if (guessNumber \u0026gt; luckNumber) { // å¦‚æœçŒœçš„æ•°å­—å¤ªå¤§ï¼Œæç¤ºç”¨æˆ·æ•°å­—å¤ªå¤§ System.out.println(\u0026#34;ä½ çŒœçš„æ•°å­—å¤ªå¤§äº†\u0026#34;); } else { // å¦‚æœçŒœçš„æ•°å­—å¤ªå°ï¼Œæç¤ºç”¨æˆ·æ•°å­—å¤ªå° System.out.println(\u0026#34;ä½ çŒœçš„æ•°å­—å¤ªå°äº†\u0026#34;); } } æ•°ç»„ //1.æ ‡å‡†å†™æ³• // åˆå§‹åŒ–æ•´å‹æ•°ç»„agesï¼ŒåŒ…å«5ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä¸º10, 20, 30, 40, 50 int[] ages = new int[]{ 10, 20, 30, 40, 50 }; // åˆå§‹åŒ–åŒç²¾åº¦æµ®ç‚¹å‹æ•°ç»„scoresï¼ŒåŒ…å«5ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä¸º99.9, 88.8, 77.7, 66.6, 55.5 double[] scores = new double[]{ 99.9, 88.8, 77.7, 66.6, 55.5 }; // è¾“å‡ºæ•´å‹æ•°ç»„agesçš„å¼•ç”¨åœ°å€ System.out.println(ages); // è¾“å‡ºåŒç²¾åº¦æµ®ç‚¹å‹æ•°ç»„scoresçš„å¼•ç”¨åœ°å€ //2.ç®€åŒ–å†™æ³• // ä½¿ç”¨ç®€åŒ–è¯­æ³•åˆå§‹åŒ–æ•´å‹æ•°ç»„ages2ï¼ŒåŒ…å«5ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä¸º10, 20, 30, 40, 50 int[] ages2 = { 10, 20, 30, 40, 50 }; // ä½¿ç”¨ç®€åŒ–è¯­æ³•åˆå§‹åŒ–åŒç²¾åº¦æµ®ç‚¹å‹æ•°ç»„scores2ï¼ŒåŒ…å«5ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä¸º99.9, 88.8, 77.7, 66.6, 55.5 //3.å†™æ³•ä¸‰ int age3[] = new int[10]; Java å†…å­˜åˆ†é… æ–¹æ³•åŒº\næ ˆ\nå †\næœ¬åœ°æ–¹æ³•æ ˆ\nç¨‹åºè®¡æ•°å™¨\nint a = 20; int[] arr = new int[3]; ä»¥ä¸Šä¸¤è¡Œä»£ç çš„æ‰§è¡ŒåŸç†ï¼š\naæ˜¯å˜é‡ï¼Œç›´æ¥æ”¾åœ¨æ ˆä¸­ï¼Œaå˜é‡ä¸­å­˜å‚¨çš„æ•°æ®å°±æ˜¯20è¿™ä¸ªå€¼ new int[3]æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œä¼šåœ¨å †å†…å­˜ä¸­å¼€è¾ŸåŒºå­˜å‚¨3ä¸ªæ•´æ•° arræ˜¯å˜é‡ï¼Œåœ¨æ ˆä¸­ï¼Œarrä¸­å­˜å‚¨çš„æ˜¯æ•°ç»„å¯¹è±¡åœ¨å †å†…å­˜ä¸­åœ°å€å€¼ Javaå°æ¡ˆä¾‹â€”â€”åŒè‰²çƒ package com.show.test; import java.util.Random; import java.util.Scanner; public class Test4 { public static void main(String[] args) { System.out.println(1); int[] userNumber = userChooseNumber(); // ç”¨æˆ·é€‰æ‹©å·ç  int[] luckNumer = createLuckNumber(); // åˆ›å»ºå¹¸è¿å·ç  check(userNumber, luckNumer); // æ£€æŸ¥ç”¨æˆ·é€‰æ‹©çš„å·ç ä¸å¹¸è¿å·ç çš„åŒ¹é…æƒ…å†µ } // ç”¨æˆ·é€‰æ‹©å·ç çš„æ–¹æ³• public static int[] userChooseNumber() { System.out.println(\u0026#34;Welcome to this select ball system!\u0026#34;); // æ¬¢è¿è¯­ int[] numbers = new int[6]; // å­˜å‚¨ç”¨æˆ·é€‰æ‹©çš„å·ç æ•°ç»„ Scanner sc = new Scanner(System.in); for (int i = 0; i \u0026lt; 5; i++) { System.out.println(\u0026#34;Please input your No.\u0026#34; + (i + 1) + \u0026#34; ball\u0026#34;); // æç¤ºç”¨æˆ·è¾“å…¥å·ç  while (true) { int n = sc.nextInt(); // æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å·ç  if (n \u0026lt; 1 || n \u0026gt; 33) { // åˆ¤æ–­å·ç æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†… System.out.println(\u0026#34;Your number not in the available zone: [1,33], Please input again\u0026#34;); } else { if (exist(numbers, n)) { // åˆ¤æ–­å·ç æ˜¯å¦å·²ç»è¢«é€‰æ‹© System.out.println(\u0026#34;Current number has been chosen, Please input again\u0026#34;); } else { numbers[i] = n; // å°†å·ç å­˜å…¥æ•°ç»„ break; } } } System.out.println(\u0026#34;Your input number is :\u0026#34; + numbers[i]); // è¾“å‡ºç”¨æˆ·è¾“å…¥çš„å·ç  } System.out.println(\u0026#34;Input your last number\u0026#34;); while (true) { int n = sc.nextInt(); if (n \u0026lt; 1 || n \u0026gt; 16) { System.out.println(\u0026#34;Your number is not available, Please input the number between 1 and 16\u0026#34;); } else { numbers[5] = n; // å­˜å‚¨æœ€åä¸€ä¸ªå·ç  break; } } System.out.println(\u0026#34;Blow is your input numbers\u0026#34;); printArray(numbers); // æ‰“å°ç”¨æˆ·é€‰æ‹©çš„å·ç  return numbers; } // åˆ¤æ–­æ•°å­—æ˜¯å¦å·²å­˜åœ¨äºæ•°ç»„ä¸­çš„æ–¹æ³• public static boolean exist(int[] arr, int x) { for (int i = 0; i \u0026lt; arr.length; i++) { if (arr[i] == x) { return true; } } return false; } // æ‰“å°æ•°ç»„çš„æ–¹æ³• public static void printArray(int[] arr) { for (int i = 0; i \u0026lt; arr.length; i++) { System.out.print(arr[i] + \u0026#34; \u0026#34;); } System.out.println(); } // åˆ›å»ºå¹¸è¿å·ç çš„æ–¹æ³• public static int[] createLuckNumber() { int[] numbers = new int[6]; // å­˜å‚¨å¹¸è¿å·ç æ•°ç»„ Random r = new Random(); for (int i = 0; i \u0026lt; 5; i++) { while (true) { int n = r.nextInt(33) + 1; // ç”Ÿæˆéšæœºå·ç  if (exist(numbers, n)) { continue; } else { numbers[i] = n; // å°†å·ç å­˜å…¥æ•°ç»„ break; } } } int n = r.nextInt(16) + 1; numbers[5] = n; // å­˜å‚¨æœ€åä¸€ä¸ªå·ç ï¼ˆè“çƒï¼‰ System.out.println(\u0026#34;Blow is the LuckNumber!\u0026#34;); // è¾“å‡ºå¹¸è¿å·ç  printArray(numbers); // æ‰“å°å¹¸è¿å·ç  return numbers; } // æ£€æŸ¥ç”¨æˆ·é€‰æ‹©çš„å·ç ä¸å¹¸è¿å·ç çš„åŒ¹é…æƒ…å†µ public static void check(int[] arr1, int[] arr2) { int redCount = 0, blueCount = 0; // çº¢çƒåŒ¹é…æ•°ã€è“çƒåŒ¹é…æ•°åˆå§‹åŒ–ä¸º0 for (int i = 0; i \u0026lt; arr1.length - 1; i++) { if (arr1[i] == arr2[i]) { // åˆ¤æ–­çº¢çƒæ˜¯å¦åŒ¹é… redCount += 1; } } if (arr1[5] == arr2[5]) { // åˆ¤æ–­è“çƒæ˜¯å¦åŒ¹é… blueCount += 1; } // è¾“å‡ºå‘½ä¸­çš„çº¢çƒæ•°é‡å’Œè“çƒæ•°é‡ System.out.println(\u0026#34;æ‚¨å‘½ä¸­çš„çº¢çƒæ•°é‡æ˜¯ï¼š\u0026#34; + redCount); System.out.println(\u0026#34;æ‚¨å‘½ä¸­çš„è“çƒæ•°é‡æ˜¯ï¼š\u0026#34; + blueCount); // æ ¹æ®å‘½ä¸­æƒ…å†µè¾“å‡ºä¸åŒçš„ä¸­å¥–ä¿¡æ¯ if (redCount == 6 \u0026amp;\u0026amp; blueCount == 1) { System.out.println(\u0026#34;æ­å–œæ‚¨ï¼Œä¸­å¥–1000ä¸‡ï¼Œå¯ä»¥å¼€å§‹äº«å—äººç”Ÿäº†~~~\u0026#34;); } else if (redCount == 6 \u0026amp;\u0026amp; blueCount == 0) { System.out.println(\u0026#34;æ­å–œæ‚¨ï¼Œä¸­å¥–500ä¸‡ï¼Œå¯ä»¥ç¨å¾®å¼€å§‹äº«å—äººç”Ÿäº†~~~\u0026#34;); } else if (redCount == 5 \u0026amp;\u0026amp; blueCount == 1) { System.out.println(\u0026#34;æ­å–œæ‚¨ï¼Œä¸­å¥–3000å…ƒï¼Œå¯ä»¥å‡ºå»åƒé¡¿å°é¾™è™¾äº†~\u0026#34;); } else if (redCount == 5 \u0026amp;\u0026amp; blueCount == 0 || redCount == 4 \u0026amp;\u0026amp; blueCount == 1) { System.out.println(\u0026#34;æ­å–œæ‚¨ï¼Œä¸­äº†å°å¥–ï¼š200å…ƒ~\u0026#34;); } else if (redCount == 4 \u0026amp;\u0026amp; blueCount == 0 || redCount == 3 \u0026amp;\u0026amp; blueCount == 1) { System.out.println(\u0026#34;ä¸­äº†10å…ƒ~\u0026#34;); } else if (redCount \u0026lt; 3 \u0026amp;\u0026amp; blueCount == 1) { System.out.println(\u0026#34;ä¸­äº†5å…ƒ~\u0026#34;); } else { System.out.println(\u0026#34;æ„Ÿè°¢æ‚¨å¯¹ç¦åˆ©äº‹ä¸šåšå‡ºçš„å·¨å¤§è´¡çŒ®~~~\u0026#34;); } } } é¢å‘å¯¹è±¡ å¯¹è±¡å°±æ˜¯ä¸€å¼ è¡¨ã€‚\nthisçš„æ‰§è¡ŒåŸç† thisï¼šå°±æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸­ï¼Œæ¥æ‹¿åˆ°å½“å‰å¯¹è±¡ã€‚\nthisä¸»è¦ç”¨æ¥\npublic class PrintThis { public void printThis(){ System.out.println(this); } } public class Test1 { public static void main(String[] args) { PrintThis t = new PrintThis(); t.printThis();//com.show.thisDemo.PrintThis@3b07d329 System.out.println(t); //com.show.thisDemo.PrintThis@3b07d329 } } public class Student1 { int score; public void check(int score){ if(this.score\u0026gt;score){ System.out.println(\u0026#34;Congratulations!\u0026#34;); }else{ System.out.println(\u0026#34;What\u0026#39;s the pity!\u0026#34;); } } } public static void main(String[] args) { Student1 s1 = new Student1(); s1.score = 10; s1.check(100); } æ„é€ å™¨éœ€è¦æ³¨æ„çš„é—®é¢˜ ä¸å†™æ— å‚æ•°æ„é€ å™¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ— å‚æ•°æ„é€ å™¨ è€Œå†™äº†æœ‰å‚æ•°æ„é€ å™¨ä¹‹åï¼Œå°±ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆæ— å‚æ•°æ„é€ å™¨äº†ï¼Œ éœ€è¦æ‰‹åŠ¨å†™ä¸Šã€‚ å°è£… å°±æ˜¯ç”¨ç±»è®¾è®¡å¯¹è±¡å¤„ç†æŸä¸€ä¸ªäº‹ç‰©çš„æ•°æ®æ—¶ï¼Œåº”è¯¥æŠŠè¦å¤„ç†çš„æ•°æ®ï¼Œä»¥åŠå¤„ç†è¿™äº›æ•°æ®çš„æ–¹æ³•ï¼Œè®¾è®¡åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­å» åˆç†éšè—ï¼Œåˆç†æš´éœ²ï¼ˆget, setæ–¹æ³•ï¼‰\nå®ä¾‹JavaBean å®ä½“ç±»ï¼šä¸€ç§ç‰¹æ®Šçš„ç±»\nMovie package com.show.ObjectDemo; public class Movie { // ç§æœ‰å±æ€§ private int id; // ç”µå½±ID private String name; // ç”µå½±åç§° private double price; // ç”µå½±ç¥¨ä»· private double score; // ç”µå½±è¯„åˆ† private String director; // å¯¼æ¼” private String actor; // ä¸»æ¼” private String info; // ç”µå½±ä¿¡æ¯ // æ— å‚æ„é€ æ–¹æ³• public Movie() { } // å¸¦å‚æ„é€ æ–¹æ³• public Movie(int id, String name, double price, double score, String director, String actor, String info) { this.id = id; this.name = name; this.price = price; this.score = score; this.director = director; this.actor = actor; this.info = info; } // Getterå’ŒSetteræ–¹æ³• public int getId() { return id; } public void setId(int id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public double getPrice() { return price; } public void setPrice(double price) { this.price = price; } public double getScore() { return score; } public void setScore(double score) { this.score = score; } public String getDirector() { return director; } public void setDirector(String director) { this.director = director; } public String getActor() { return actor; } public void setActor(String actor) { this.actor = actor; } public String getInfo() { return info; } public void setInfo(String info) { this.info = info; } } MovieOperator package com.show.ObjectDemo; public class MovieOperator { // ç”µå½±æ•°ç»„ private Movie[] movies; // æ„é€ æ–¹æ³• public MovieOperator(Movie[] movies) { this.movies = movies; } // æ‰“å°æ‰€æœ‰ç”µå½±ä¿¡æ¯ public void printAllMovies() { System.out.println(\u0026#34;ç³»ç»Ÿå…¨éƒ¨ç”µå½±ä¿¡æ¯å¦‚ä¸‹â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34;); for (int i = 0; i \u0026lt; movies.length; i++) { Movie m = movies[i]; System.out.println(\u0026#34;ç¼–å·ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getId()); System.out.println(\u0026#34;ç”µå½±åï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getName()); System.out.println(\u0026#34;ä»·æ ¼ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getPrice()); System.out.println(\u0026#34;-----------------------\u0026#34;); } } // æ ¹æ®IDæŸ¥è¯¢ç”µå½±ä¿¡æ¯ public void searchMovieById(int id) { for (int i = 0; i \u0026lt; movies.length; i++) { Movie m = movies[i]; if (id == m.getId()) { System.out.println(\u0026#34;å­˜åœ¨è¯¥ç”µå½±ï¼\u0026#34;); System.out.println(\u0026#34;ç¼–å·ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getId()); System.out.println(\u0026#34;ç”µå½±åï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getName()); System.out.println(\u0026#34;ä»·æ ¼ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getPrice()); System.out.println(\u0026#34;å¯¼æ¼”ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getDirector()); System.out.println(\u0026#34;æ¼”å‘˜ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getActor()); System.out.println(\u0026#34;è¯„åˆ†ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getScore()); System.out.println(\u0026#34;å…¶ä»–ä¿¡æ¯ï¼šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\u0026#34; + m.getInfo()); return; } } System.out.println(\u0026#34;ä¸å­˜åœ¨è¯¥ç”µå½±\u0026#34;); } } Test package com.show.ObjectDemo; import java.util.Scanner; public class Test { public static void main(String[] args) { // åˆ›å»ºMovieå¯¹è±¡æ•°ç»„ï¼Œå­˜å‚¨ç”µå½±ä¿¡æ¯ Movie[] movies = new Movie[4]; movies[0] = new Movie(1, \u0026#34;æ°´é—¨æ¡¥\u0026#34;, 38.9, 9.8, \u0026#34;å¾å…‹\u0026#34;, \u0026#34;å´äº¬\u0026#34;, \u0026#34;12ä¸‡äººæƒ³çœ‹\u0026#34;); movies[1] = new Movie(2, \u0026#34;å‡ºæ‹³å§\u0026#34;, 39, 7.8, \u0026#34;å”æ™“ç™½\u0026#34;, \u0026#34;ç”°é›¨\u0026#34;, \u0026#34;3.5ä¸‡äººæƒ³çœ‹\u0026#34;); movies[2] = new Movie(3, \u0026#34;æœˆçƒé™¨è½\u0026#34;, 42, 7.9, \u0026#34;ç½—å…°\u0026#34;, \u0026#34;è´ç‘\u0026#34;, \u0026#34;17.9ä¸‡äººæƒ³çœ‹\u0026#34;); movies[3] = new Movie(4, \u0026#34;ä¸€ç‚¹å°±åˆ°å®¶\u0026#34;, 35, 8.7, \u0026#34;è®¸å®å®‡\u0026#34;, \u0026#34;åˆ˜æ˜Šç„¶\u0026#34;, \u0026#34;10.8ä¸‡äººæƒ³çœ‹\u0026#34;); // åˆ›å»ºMovieOperatorå¯¹è±¡ï¼Œç”¨äºæ“ä½œMovieæ•°ç»„ MovieOperator movieOperator = new MovieOperator(movies); System.out.println(\u0026#34;åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æŸ¥è¯¢å…³äºæœ€æ–°çš„ç”µå½±ä¿¡æ¯ï¼\u0026#34;); Scanner sc = new Scanner(System.in); while (true) { System.out.println(\u0026#34;è¾“å…¥1æŸ¥çœ‹æ‰€æœ‰ç”µå½±ä¿¡æ¯\u0026#34;); System.out.println(\u0026#34;è¾“å…¥2å¯ä»¥æŸ¥è¯¢æŸä¸ªç‰¹å®šç”µå½±çš„è¯¦ç»†ä¿¡æ¯\u0026#34;); int cmd = sc.nextInt(); switch (cmd) { case 1: movieOperator.printAllMovies(); // æ‰“å°æ‰€æœ‰ç”µå½±ä¿¡æ¯ break; case 2: System.out.println(\u0026#34;è¯·è¾“å…¥ä½ éœ€è¦æŸ¥è¯¢çš„ç”µå½±ID\u0026#34;); int id = sc.nextInt(); movieOperator.searchMovieById(id); // æ ¹æ®IDæŸ¥è¯¢ç”µå½±ä¿¡æ¯ break; default: System.out.println(\u0026#34;éæ³•å‘½ä»¤ï¼Œè¯·é‡æ–°è¾“å…¥\u0026#34;); } } } } æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡ æˆå‘˜å˜é‡ï¼šç±»ä¸­ï¼Œ æ–¹æ³•å¤–ï¼Œ æœ‰é»˜è®¤å€¼ï¼Œ å­˜äºå †å†…å­˜ä¸­ï¼Œ å±äºæ•´ä¸ªå¯¹è±¡ï¼Œ ä¸å¯¹è±¡åŒç”Ÿå…±æ­»\nå±€éƒ¨å˜é‡ï¼šå¸¸è§äºæ–¹æ³•ä¸­ï¼Œæ— é»˜è®¤å€¼ï¼Œéœ€è¦åˆå§‹åŒ–ï¼Œ å­˜äºæ ˆå†…å­˜ä¸­ï¼Œ å±äºæ‰€å±å¤§æ‹¬å·ä¸­ï¼Œ æ–¹æ³•è°ƒç”¨è€Œç”Ÿï¼Œç»“æŸè€Œäº¡\nAPI æ³¨æ„äº‹é¡¹ åŒä¸€ä¸ªåŒ…ä¸‹çš„ç¨‹åºï¼Œå¯ä»¥ç›´æ¥è®¿é—® è®¿é—®å…¶ä»–åŒ…ä¸‹çš„ç¨‹åºï¼Œå¿…é¡»å¯¼åŒ…æ‰å¯ä»¥è®¿é—® è‡ªå·±çš„ç¨‹åºä¸­è°ƒç”¨Javaæä¾›çš„ç¨‹åºï¼Œä¹Ÿéœ€è¦å…ˆå¯¼åŒ…æ‰å¯ä»¥ä½¿ç”¨ æ³¨æ„Java.langåŒ…ä¸‹çš„ç¨‹åºæ˜¯ä¸éœ€è¦å¯¼åŒ…ï¼Œ å¯ä»¥ç›´æ¥ä½¿ç”¨ è®¿é—®å¤šä¸ªå…¶ä»–åŒ…ä¸‹çš„ç¨‹åºï¼Œåœ¨è¿™äº›ç¨‹åºåä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤åªèƒ½åªèƒ½å¯¼å…¥ä¸€ä¸ªç¨‹åºï¼Œå¦å¤–ä¸€ä¸ªç¨‹åºå¿…é¡»å¸¦åŒ…åå’Œç±»åæ¥è®¿é—®ã€‚ Demo d = new Demo(); d.print(); Demo1 d1 = new Demo1(); d1.print(); com.show.pkgDemo3.Demo1 d2 = new com.show.pkgDemo3.Demo1(); d2.print(); String String name = \u0026#34;Java\u0026#34;; System.out.println(name); String rs1 = new String(); System.out.println(rs1); String rs2 = new String(\u0026#34;NewStringJava\u0026#34;); System.out.println(rs2); String æ˜¯ä¸å¯å˜çš„ åªè¦æ˜¯\u0026quot;...\u0026quot;çš„æ–¹å¼å†™å‡ºçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¼šå­˜å‚¨åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œä¸”ç›¸åŒå†…å®¹çš„å­—ç¬¦åªä¼šå­˜å‚¨ä¸€ä»½ è€Œnew Stringåˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šnewå‡ºæ¥ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ”¾åœ¨å †å†…å­˜ä¸­ã€‚ String s1 = \u0026#34;abc\u0026#34;; String s2 = \u0026#34;abc\u0026#34;; System.out.println(s1==s2); //true char[] ch = {\u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;}; String s3 = new String(ch); String s4 = new String(ch); System.out.println(s3==s4); //false String s5 = new String(\u0026#34;abc\u0026#34;); // å®é™…åˆ›å»ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± å½“ä¸­ // å¦ä¸€ä¸ªåœ¨å †å†…å­˜ä¸­ String s6 = \u0026#34;abc\u0026#34;; // å®é™…åˆ›å»ºäº†0ä¸ªå¯¹è±¡ï¼Œå› ä¸º\u0026#34;abc\u0026#34;å·²ç»åœ¨å¸¸é‡æ± å½“ä¸­äº† System.out.println(s5==s6); //false String s7 = \u0026#34;abc\u0026#34;; String s8 = \u0026#34;a\u0026#34;+\u0026#39;b\u0026#39;+\u0026#34;c\u0026#34;; //ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¤„ç† System.out.println(s7==s8); //true String s9 = \u0026#34;abc\u0026#34;; String s10 = \u0026#34;ab\u0026#34;; String s11 = s10 + \u0026#34;c\u0026#34;; //è€Œå¯¹äºå˜é‡åˆ™ä¸ä¼šè‡ªåŠ¨å¤„ç† System.out.println(s9==s11); //false ArrayList ArrayList\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(\u0026#34;heima\u0026#34;); list.add(\u0026#34;Java\u0026#34;); list.add(\u0026#34;çˆªæ´¼\u0026#34;); System.out.println(list);//[heima, Java, çˆªæ´¼] list.add(1, \u0026#34;JAVAJAVA\u0026#34;); System.out.println(list); //[heima, JAVAJAVA, Java, çˆªæ´¼] System.out.println(list.get(1));//JAVAJAVA System.out.println(list.size());//4 System.out.println(list.remove(1));//JAVAJAVA System.out.println(list.remove(\u0026#34;Java\u0026#34;)); //true é»˜è®¤åˆ é™¤ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´  System.out.println(list);//[heima, çˆªæ´¼] System.out.println(list.set(1, \u0026#34;ZhuaWa\u0026#34;));//çˆªæ´¼ System.out.println(list);//[heima, ZhuaWa] ç»¼åˆå®è·µé¡¹ç›®â€”â€”ATM Account package com.showguan; public class Account { private int userId; private String userName; private String cardId; private char sex; private String possword; private double money; private double limit; public int getUserId() { return userId; } public void setUserId(int userId) { this.userId = userId; } public String getUserName() { return userName + (this.sex == \u0026#39;ç”·\u0026#39; ? \u0026#34;å…ˆç”Ÿ\u0026#34; : \u0026#34;å¥³å£«\u0026#34;); } public void setUserName(String userName) { this.userName = userName; } public char getSex() { return sex; } public void setSex(char sex) { this.sex = sex; } public String getPossword() { return possword; } public void setPossword(String possword) { this.possword = possword; } public double getMoney() { return money; } public void setMoney(double money) { this.money = money; } public double getLimit() { return limit; } public void setLimit(double limit) { this.limit = limit; } public String getCardId() { return cardId; } public void setCardId(String cardId) { this.cardId = cardId; } } ATM package com.showguan; import java.util.ArrayList; import java.util.Random; import java.util.Scanner; public class ATM { private ArrayList\u0026lt;Account\u0026gt; accounts = new ArrayList\u0026lt;\u0026gt;(); private Account loginAcc; private Scanner sc = new Scanner(System.in); public void start() { /** * å¯åŠ¨ATMç³»ç»Ÿï¼Œå±•ç¤ºæ¬¢è¿ç•Œé¢ */ while (true) { System.out.println(\u0026#34;æ¬¢è¿æ‚¨è¿›å…¥ATMç³»ç»Ÿï¼\u0026#34;); System.out.println(\u0026#34;1. ç”¨æˆ·ç™»å½•\u0026#34;); System.out.println(\u0026#34;2. ç”¨æˆ·å¼€æˆ·\u0026#34;); System.out.println(\u0026#34;è¯·è¾“å…¥ä½ éœ€è¦è¿›è¡Œçš„æ“ä½œï¼š\u0026#34;); String command = sc.next(); switch (command) { case \u0026#34;1\u0026#34;: login(); break; case \u0026#34;2\u0026#34;: createAccount(); break; default: System.out.println(\u0026#34;ä½ è¾“å…¥çš„æ“ä½œæœ‰è¯¯ï¼Œè¯·é‡æ–°ä¹¦è¾“å…¥ï¼\u0026#34;); System.out.println(); break; } } } private void createAccount() { System.out.println(\u0026#34;===ç³»ç»Ÿå¼€æˆ·æ“ä½œ===\u0026#34;); Account acc = new Account(); System.out.println(\u0026#34;è¯·è¾“å…¥ç”¨æˆ·å\u0026#34;); String name = sc.next(); acc.setUserName(name); while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥æ€§åˆ«ï¼š\u0026#34;); char sex = sc.next().charAt(0); if (sex == \u0026#39;ç”·\u0026#39; || sex == \u0026#39;å¥³\u0026#39;) { acc.setSex(sex); break; } else { System.out.println(\u0026#34;ä½ è¾“å…¥çš„æ€§åˆ«æœ‰è¯¯ï¼è¯·é‡æ–°è¾“å…¥\u0026#34;); } } while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥æ‚¨çš„è´¦æˆ·å¯†ç ï¼š\u0026#34;); String password = sc.next(); System.out.println(\u0026#34;è¯·è¾“å…¥æ‚¨çš„ç¡®è®¤å¯†ç ï¼š\u0026#34;); String confirmPassword = sc.next(); if (password.equals(confirmPassword)) { acc.setPossword(password); System.out.println(\u0026#34;å¯†ç è®¾ç½®æˆåŠŸï¼\u0026#34;); break; } else { System.out.println(\u0026#34;ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼Œè¯·é‡æ–°è®¾ç½®å¯†ç ï¼\u0026#34;); } } System.out.println(\u0026#34;è¯·è¾“å…¥æ‚¨çš„å–ç°æœ€å¤§é¢åº¦\u0026#34;); double limit = sc.nextDouble(); acc.setLimit(limit); String cardId = createCardId(); acc.setCardId(cardId); accounts.add(acc); System.out.println(\u0026#34;æ­å–œä½ ï¼\u0026#34; + acc.getUserName() + \u0026#34;å¼€æˆ·å®Œæˆ, æ‚¨çš„å¡å·æ˜¯:\u0026#34; + acc.getCardId()); } private String createCardId() { while (true) { String cardId = \u0026#34;\u0026#34;; Random r = new Random(); for (int i = 0; i \u0026lt; 8; i++) { int data = r.nextInt(10); cardId += data; } Account acc = getAccountByCardID(cardId); if (acc == null) { return cardId; } } } private Account getAccountByCardID(String cardId) { for (int i = 0; i \u0026lt; accounts.size(); i++) { Account acc = accounts.get(i); if (acc.getCardId().equals(cardId)) { return acc; } } return null; } private void login() { System.out.println(\u0026#34;===ç³»ç»Ÿç™»å½•===\u0026#34;); if (accounts.size() == 0) { System.out.println(\u0026#34;å½“å‰ç³»ç»Ÿå†…è¿˜æ²¡æœ‰ä»»ä½•è´¦æˆ·ï¼Œè¯·å…ˆåˆ›å»ºè´¦æˆ·å†æ¥ç™»å½•ï¼\u0026#34;); return; } System.out.println(\u0026#34;è¯·è¾“å…¥æ‚¨çš„å¡å·\u0026#34;); String cardId = sc.next(); Account acc = getAccountByCardID(cardId); if (acc == null) { System.out.println(\u0026#34;ç”¨æˆ·ä¸å­˜åœ¨\u0026#34;); } else { while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥ç”¨æˆ·å¯†ç \u0026#34;); String passWord = sc.next(); if (passWord.equals(acc.getPossword())) { System.out.println(\u0026#34;ç™»é™†æˆåŠŸï¼\u0026#34;); loginAcc = acc; showUerCommand(); break; } else { System.out.println(\u0026#34;å¯†ç é”™è¯¯ï¼è¯·é‡æ–°è¾“å…¥\u0026#34;); } } } } private void showUerCommand() { while (true) { System.out.println(loginAcc.getUserName() + \u0026#34;æ‚¨å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œ\u0026#34;); System.out.println(\u0026#34;1. æŸ¥è¯¢è´¦æˆ·\u0026#34;); System.out.println(\u0026#34;2. å­˜æ¬¾\u0026#34;); System.out.println(\u0026#34;3. å–æ¬¾\u0026#34;); System.out.println(\u0026#34;4. è½¬è´¦\u0026#34;); System.out.println(\u0026#34;5. ä¿®æ”¹å¯†ç \u0026#34;); System.out.println(\u0026#34;6. é€€å‡º\u0026#34;); System.out.println(\u0026#34;7. æ³¨é”€å½“å‰è´¦æˆ·\u0026#34;); System.out.println(\u0026#34;è¯·é€‰æ‹©æ‚¨è¦è¿›è¡Œçš„æ“ä½œï¼š\u0026#34;); String command = sc.next(); switch (command) { case \u0026#34;1\u0026#34;: showloginAccount(); break; case \u0026#34;2\u0026#34;: depositMoney(); break; case \u0026#34;3\u0026#34;: withDrawMoney(); break; case \u0026#34;4\u0026#34;: transferMoney(); break; case \u0026#34;5\u0026#34;: updatePassword(); return; case \u0026#34;6\u0026#34;: System.out.println(\u0026#34;ç”¨æˆ·\u0026#34; + loginAcc.getUserName() + \u0026#34;æˆåŠŸé€€å‡ºç³»ç»Ÿï¼\u0026#34;); return; case \u0026#34;7\u0026#34;: if (deleteAccount()) { return; } break; default: break; } } } private void updatePassword() { System.out.println(\u0026#34;===è´¦å·å¯†ç ä¿®æ”¹æ“ä½œ===\u0026#34;); while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥å½“å‰è´¦æˆ·å¯†ç \u0026#34;); String password = sc.next(); if (loginAcc.getPossword().equals(password)) { while (true) { System.out.println(\u0026#34;è¯·è¾“å…¥ä½ è¦ä¿®æ”¹ä¸ºçš„æ–°å¯†ç ï¼š\u0026#34;); String newPassword = sc.next(); System.out.println(\u0026#34;è¯·é‡å¤ä½ éœ€è¦ä¿®æ”¹ä¸ºçš„å¯†ç ï¼š\u0026#34;); String confirmNewPassword = sc.next(); if (newPassword.equals(confirmNewPassword)) { System.out.println(\u0026#34;å¯†ç ä¿®æ”¹æˆåŠŸ\u0026#34;); loginAcc.setPossword(newPassword); return; } System.out.println(\u0026#34;ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼Œ è¯·é‡æ–°è¾“å…¥\u0026#34;); } } else { System.out.println(\u0026#34;æ‚¨å½“å‰è¾“å…¥çš„å¯†ç é”™è¯¯ï¼\u0026#34;); } } } private boolean deleteAccount() { System.out.println(\u0026#34;===é”€æˆ·æ“ä½œ===\u0026#34;); System.out.println(\u0026#34;ç¡®å®šè¦é”€æˆ·å—ï¼Ÿy/n\u0026#34;); String command = sc.next(); switch (command) { case \u0026#34;y\u0026#34;: if (loginAcc.getMoney() == 0) { accounts.remove(loginAcc); System.out.println(\u0026#34;é”€æˆ·æˆåŠŸ\u0026#34;); return true; } else { System.out.println(\u0026#34;è´¦æˆ·ä¸‹ä½™é¢ä¸ä¸º0ï¼Œ ä¸å…è®¸é”€æˆ·\u0026#34;); } break; } return false; } private void transferMoney() { System.out.println(\u0026#34;===ç”¨æˆ·è½¬è´¦===\u0026#34;); if (accounts.size() \u0026lt; 2) { System.out.println(\u0026#34;ç³»ç»Ÿå†…åªæœ‰æ‚¨ä¸€ä¸ªè´¦æˆ·ï¼Œæ— æ³•è½¬è´¦\u0026#34;); return; } if (loginAcc.getMoney() \u0026lt; 0) { System.out.println(\u0026#34;æ‚¨è‡ªå·±éƒ½æ²¡é’±äº†ï¼Œå°±åˆ«è½¬äº†å§ï¼\u0026#34;); return; } while (true) { System.out.println(\u0026#34;è¯·æ‚¨è¾“å…¥å¯¹æ–¹çš„å¡å·:\u0026#34;); String receiveCardID = sc.next(); Account acc = getAccountByCardID(receiveCardID); if (acc == null) { System.out.println(\u0026#34;æ‚¨è¾“å…¥çš„å¡å·ä¸å­˜åœ¨ï¼\u0026#34;); } else { String receiveName = \u0026#34;*\u0026#34; + acc.getUserName().substring(1); System.out.println(\u0026#34;è¯·æ‚¨è¾“å…¥ã€\u0026#34; + receiveName + \u0026#34;ã€‘å§“æ°\u0026#34;); System.out.println(receiveName); String firstName = sc.next(); if (acc.getUserName().startsWith(firstName)) { System.out.println(\u0026#34;å§“æ°éªŒè¯æˆåŠŸï¼\u0026#34;); while (true) { System.out.println(); System.out.println(\u0026#34;è¯·æ‚¨è¾“å…¥è½¬è®©ç»™å¯¹æ–¹çš„é‡‘é¢:\u0026#34;); double transfermoney = sc.nextDouble(); if (loginAcc.getMoney() \u0026gt;= transfermoney) { System.out.println(\u0026#34;è½¬è´¦æˆåŠŸï¼\u0026#34;); loginAcc.setMoney(loginAcc.getMoney() - transfermoney); acc.setMoney(acc.getMoney() + transfermoney); return; } else { System.out.println(\u0026#34;ä½™é¢ä¸è¶³ï¼Œæ— æ³•è½¬è´¦ï¼ï¼æœ€å¤šå¯è½¬\u0026#34; + loginAcc.getMoney()); } } } else { System.out.println(\u0026#34;å¯¹ä¸èµ·ï¼Œ æ‚¨è®¤è¯çš„å§“æ°æœ‰é—®é¢˜ï¼\u0026#34;); } } } } private void withDrawMoney() { System.out.println(\u0026#34;===å–é’±æ“ä½œ===\u0026#34;); if (loginAcc.getMoney() \u0026lt; 100) { System.out.println(\u0026#34;æ‚¨çš„è´¦æˆ·ä½™é¢ä¸è¶³100å…ƒï¼Œä¸å…è®¸å–é’±\u0026#34;); return; } while (true) { System.out.println(\u0026#34;è¯·æ‚¨è¾“å…¥å–æ¬¾é‡‘é¢ï¼š\u0026#34;); double drawMoney = sc.nextDouble(); if (loginAcc.getMoney() \u0026gt;= drawMoney) { if (drawMoney \u0026gt; loginAcc.getLimit()) { System.out.println(\u0026#34;å–æ¬¾é‡‘é¢å¤§äºé™å®šé¢åº¦ï¼Œ æ‚¨å½“å‰çš„é™å®šé¢åº¦ä¸º:\u0026#34; + loginAcc.getLimit()); break; } else { loginAcc.setMoney(loginAcc.getMoney() - drawMoney); System.out.println(\u0026#34;å–æ¬¾æˆåŠŸï¼Œ å–æ¬¾é‡‘é¢ä¸º\u0026#34; + drawMoney + \u0026#34;è´¦æˆ·å†…å‰©ä½™ä½™é¢:\u0026#34; + loginAcc.getMoney()); return; } } else { System.out.println(\u0026#34;ä½™é¢ä¸è¶³ï¼Œ æ‚¨å½“å‰çš„è´¦æˆ·ä½™é¢æ˜¯ï¼š\u0026#34; + loginAcc.getMoney()); } } } private void showloginAccount() { System.out.println(\u0026#34;===å½“å‰æ‚¨çš„è´¦æˆ·ä¿¡æ¯å¦‚ä¸‹===\u0026#34;); System.out.println(\u0026#34;ç”¨æˆ·å: \u0026#34; + loginAcc.getUserName()); System.out.println(\u0026#34;æ€§åˆ«: \u0026#34; + loginAcc.getSex()); System.out.println(\u0026#34;å¡å·: \u0026#34; + loginAcc.getCardId()); System.out.println(\u0026#34;ä½™é¢: \u0026#34; + loginAcc.getMoney()); System.out.println(\u0026#34;å–ç°æœ€å¤§é¢åº¦: \u0026#34; + loginAcc.getLimit()); } private void depositMoney() { System.out.println(\u0026#34;==å­˜æ¬¾æ“ä½œ==\u0026#34;); System.out.println(\u0026#34;è¯·è¾“å…¥ä½ è¦å­˜æ¬¾çš„é‡‘é¢\u0026#34;); double money = sc.nextDouble(); loginAcc.setMoney(loginAcc.getMoney() + money); System.out.println(\u0026#34;æ­å–œæ‚¨\u0026#34; + \u0026#34;å­˜æ¬¾ï¼š\u0026#34; + money + \u0026#34;å­˜æ¬¾åä½™é¢:\u0026#34; + loginAcc.getMoney()); } } Test package com.showguan; public class Test { public static void main(String[] args) { ATM atm = new ATM(); atm.start(); } } ","permalink":"https://kennems.github.io/zh/posts/tech/java20%E5%A4%A9%E9%80%9F%E6%88%90%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B/","summary":"JAVA 20å¤©é€Ÿæˆ æœ‰å¿—è€…äº‹ç«Ÿæˆ æ²¡æœ‰å®Œå®Œå…¨å…¨çš„æŠ•å…¥ï¼Œæ£€æµ‹ï¼Œå­¦ä¹ æ˜¯å­¦ä¸åˆ°ä¸œè¥¿çš„ã€‚ è‡ªæ¬ºæ¬ºäººï¼Œçœ¼é«˜æ‰‹ä½æ˜¯ç»å¯¹æ²¡æœ‰ä»»ä½•ä½œç”¨çš„ã€‚ JAVAèƒŒæ™¯ä¿¡æ¯ JAVAæ˜¯ä¸€é—¨","title":"Java20å¤©é€Ÿæˆâ€”â€”åŸºç¡€è¯¾ç¨‹"},{"content":"ç®—æ³•ç¬”è®°ï¼ˆäºŒï¼‰â€”â€”æ•°æ®ç»“æ„(Pythonå®ç°) æ•°æ®ç»“æ„ å•é“¾è¡¨ N = int(1e5+10) e=[0]*N ne=[0]*N head=-1 idx=1 def insert(x): global idx, head e[idx]=x ne[idx]=head head=idx idx+=1 def add(k, x): global idx e[idx]=x ne[idx]=ne[k] ne[k]=idx idx+=1 def remove(k): global idx, head if k==0: head = ne[head] else: ne[k]=ne[ne[k]] n = int(input()) for _ in range(n): s = input().split() op=s[0] if op==\u0026#39;H\u0026#39;: insert(int(s[1])) elif op==\u0026#39;I\u0026#39;: add(int(s[1]), int(s[2])) else: remove(int(s[1])) i=head while i!=-1: print(e[i], end=\u0026#39; \u0026#39;) i=ne[i] åŒé“¾è¡¨ N = int(1e5+10) e=[0]*N l=[0]*N r=[0]*N idx=0 def init(): global idx r[2]=1 l[1]=2 idx=3 def insert(k, x): global idx e[idx]=x l[idx]=k r[idx]=r[k] l[r[k]]=idx r[k]=idx idx+=1 def remove(k): l[r[k]]=l[k] r[l[k]]=r[k] init() m=int(input()) for _ in range(m): s=input().split() if s[0]==\u0026#39;L\u0026#39;: x=int(s[1]) insert(2,x) elif s[0]==\u0026#39;R\u0026#39;: x=int(s[1]) insert(l[1],x) elif s[0]==\u0026#39;D\u0026#39;: k=int(s[1])+2 remove(k) elif s[0]==\u0026#39;IL\u0026#39;: k=int(s[1])+2 x=int(s[2]) insert(l[k],x) elif s[0]==\u0026#39;IR\u0026#39;: k=int(s[1])+2 x=int(s[2]) insert(k,x) i=2 while i!=0: if i==2 or i==1: i=r[i] continue print(e[i],end=\u0026#34; \u0026#34;) i=r[i] æ ˆ N = int(1e5+10) # å‡è®¾Nçš„å€¼ä¸º100 stk = [0] * N tt = 0 # å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•° tt += 1 stk[tt] = x # ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•° tt -= 1 # æ ˆé¡¶çš„å€¼ stk[tt] # åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º if tt \u0026gt; 0: pass é˜Ÿåˆ— N = 100 # å‡è®¾Nçš„å€¼ä¸º100 q = [0] * N hh = 0 tt = -1 # å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° tt += 1 q[tt] = x # ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•° hh += 1 # é˜Ÿå¤´çš„å€¼ q[hh] # åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º if hh \u0026lt;= tt: pass N = 100 # å‡è®¾Nçš„å€¼ä¸º100 q = [0] * N hh = 0 tt = 0 # å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° q[tt] = x tt += 1 if tt == N: tt = 0 # ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•° hh += 1 if hh == N: hh = 0 # é˜Ÿå¤´çš„å€¼ q[hh] # åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º if hh != tt: pass å•è°ƒæ ˆ tt = 0 stk = [0] * (n + 1) for i in range(1, n + 1): while tt and check(stk[tt], i): tt -= 1 stk[tt + 1] = i tt += 1 å•è°ƒé˜Ÿåˆ— n = 10 # å‡è®¾nçš„å€¼ä¸º10 hh = 0 tt = -1 q = [0] * n for i in range(n): while hh \u0026lt;= tt and check_out(q[hh]): hh += 1 while hh \u0026lt;= tt and check(q[tt], i): tt -= 1 q[tt + 1] = i tt += 1 N = int(1e6+10) q=[0 for _ in range(N)] n,k=map(int, input().split()) a=[0]+[int(x) for x in input().split()] hh,tt=0,-1 for i in range(1,n+1): if hh\u0026lt;=tt and i-q[hh]+1\u0026gt;k: hh+=1 while hh\u0026lt;=tt and a[q[tt]] \u0026gt;= a[i]: tt-=1 tt+=1 q[tt]=i if i \u0026gt;= k: print(a[q[hh]], end=\u0026#34; \u0026#34;) print() hh,tt=0,-1 for i in range(1,n+1): if hh\u0026lt;=tt and i-q[hh]+1\u0026gt;k: hh+=1 while hh\u0026lt;=tt and a[q[tt]] \u0026lt;= a[i]: tt-=1 tt+=1 q[tt]=i if i\u0026gt;=k: print(a[q[hh]], end=\u0026#34; \u0026#34;) KMP m = len(p) # å‡è®¾pä¸ºæ¨¡æ¿ä¸²ï¼Œé•¿åº¦ä¸ºm n = len(s) # å‡è®¾sä¸ºæ¨¡å¼ä¸²ï¼Œé•¿åº¦ä¸ºn ne = [0] * (m + 1) # åˆå§‹åŒ–neæ•°ç»„ # æ±‚Nextæ•°ç»„ j = 0 for i in range(2, m + 1): while j and p[i] != p[j + 1]: j = ne[j] if p[i] == p[j + 1]: j += 1 ne[i] = j # åŒ¹é… j = 0 for i in range(1, n + 1): while j and s[i] != p[j + 1]: j = ne[j] if s[i] == p[j + 1]: j += 1 if j == m: j = ne[j] # åŒ¹é…æˆåŠŸåçš„é€»è¾‘ n = int(input()) p = \u0026#39; \u0026#39; + input() m = int(input()) s = \u0026#39; \u0026#39; + input() ne = [0]*(n+1) j = 0 for i in range(2, n+1): while j and p[i]!=p[j+1]: j = ne[j] if p[i]==p[j+1]: j += 1 ne[i] = j j = 0 res = [] for i in range(1, m+1): while j and s[i]!=p[j+1]: j = ne[j] if s[i]==p[j+1]: j += 1 if j==n: res.append(i-j) j = ne[j] print(*res, sep=\u0026#39; \u0026#39;) Zå‡½æ•° def z_function(s): n = len(s) z = [0] * n l, r = 0, 0 for i in range(1, n): if i \u0026lt;= r and z[i - l] \u0026lt; r - i + 1: z[i] = z[i - l] else: z[i] = max(0, r - i + 1) while i + z[i] \u0026lt; n and s[z[i]] == s[i + z[i]]: z[i] += 1 if i + z[i] - 1 \u0026gt; r: l = i r = i + z[i] - 1 return z Tire N = 100010 son = [[0] * 26 for _ in range(N)] cnt = [0] * N idx = 0 # 0å·ç‚¹æ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹ # son[][]å­˜å‚¨æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ # cnt[]å­˜å‚¨ä»¥æ¯ä¸ªèŠ‚ç‚¹ç»“å°¾çš„å•è¯æ•°é‡ # æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸² def insert(s): global idx p = 0 for i in range(len(s)): u = ord(s[i]) - ord(\u0026#39;a\u0026#39;) if not son[p][u]: idx += 1 son[p][u] = idx p = son[p][u] cnt[p] += 1 # æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•° def query(s): p = 0 for i in range(len(s)): u = ord(s[i]) - ord(\u0026#39;a\u0026#39;) if not son[p][u]: return 0 p = son[p][u] return cnt[p] é©¬æ‹‰è½¦ï¼ˆå­—ç¬¦ä¸²å›æ–‡ä¸²ç®—æ³•ï¼‰ class Solution: # æ¨èæ•™å­¦è§†é¢‘ ï¼šhttps://www.bilibili.com/video/BV1Sx4y1k7jG/?spm_id_from=333.337.search-card.all.click\u0026amp;vd_source=a4a2b56f746715b34521bfb853094cf4 def longestPalindrome(self, s: str) -\u0026gt; str: s = \u0026#39;#\u0026#39; + \u0026#39;#\u0026#39;.join(list(s)) + \u0026#39;#\u0026#39; n = len(s) p = [0]*n #æ¯ä¸ªç‚¹çš„ æœ€é•¿å›æ–‡å­—ä¸² èƒ½åˆ°çš„ ä¸¤ä¾§é•¿åº¦ c, r = 0, 0 # å³è¾¹èƒ½åˆ°è¾¾æœ€è¿œçš„è˜‘è‡çš„ä½ç½® å’Œ å…¶æœ€å³è¾¹èƒ½è¾¾åˆ°çš„ä½ç½® for i in range(n): if i\u0026lt;=r: p[i] = min(r-i, p[c + c-i]) # ç”±å·²çŸ¥æ¡ä»¶å¾—åˆ°å½“å‰ä½ç½®èƒ½è¾¾åˆ°çš„æœ€å¤§å³ä¾§è·ç¦»( éœ€è¦å–min(é•œåƒä½ç½®çš„å€¼, å½“å‰æœ€å¤§è˜‘è‡èƒ½è¦†ç›–åˆ°çš„æœ€å¤§å€¼) ) while i+p[i]+1 \u0026lt; n and s[i-p[i]-1] == s[i+p[i]+1]: p[i]+=1 if p[i]+i \u0026gt; r: r = p[i] + i c = i ma = max(p) idx = p.index(ma) return s[idx-ma+1:idx+ma+1:2] å¹¶æŸ¥é›† N = 1000005 # å‡è®¾Nçš„å€¼ä¸º1000005 p = [0] * N # åˆå§‹åŒ–pæ•°ç»„ # è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ def find(x): if p[x] != x: p[x] = find(p[x]) return p[x] \u0026#39;\u0026#39;\u0026#39; éé€’å½’å†™æ³• def find(x): while p[x]!=x: p[x] = p[p[x]] x = p[x] return x \u0026#39;\u0026#39;\u0026#39; # åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n for i in range(1, n + 1): p[i] = i # åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆ p[find(a)] = find(b) ç»´æŠ¤sizeä¿¡æ¯\n# Pythonä¸­æ²¡æœ‰ç±»ä¼¼äºC++çš„æ•°ç»„å£°æ˜æ–¹å¼ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨åˆ—è¡¨æ¥ä»£æ›¿ p = [i for i in range(N)] size = [1] * N # è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ def find(x): if p[x] != x: p[x] = find(p[x]) return p[x] # åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n n = N # å‡è®¾næ˜¯æå‰å®šä¹‰å¥½çš„ for i in range(1, n + 1): p[i] = i size[i] = 1 # åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆ p[find(a)] = find(b) size[b] += size[a] ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†\n# Pythonä¸­æ²¡æœ‰ç±»ä¼¼äºC++çš„æ•°ç»„å£°æ˜æ–¹å¼ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨åˆ—è¡¨æ¥ä»£æ›¿ p = [i for i in range(N)] d = [0] * N # è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ def find(x): if p[x] != x: u = find(p[x]) d[x] += d[p[x]] p[x] = u return p[x] # åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n n = N # å‡è®¾næ˜¯æå‰å®šä¹‰å¥½çš„ for i in range(1, n + 1): p[i] = i d[i] = 0 # åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆ p[find(a)] = find(b) d[find(a)] = distance # æ ¹æ®å…·ä½“é—®é¢˜ï¼Œåˆå§‹åŒ–find(a)çš„åç§»é‡ é¢˜ç›®å¤§æ„\nAlice å’Œ Bob ç©äº†ä¸€ä¸ªå¤è€çš„æ ¼å­æ¸¸æˆã€‚æ¸¸æˆåœ¨ä¸€ä¸ª nÃ—n çš„ç‚¹é˜µä¸Šè¿›è¡Œï¼Œç©å®¶è½®æµåœ¨ç›¸é‚»çš„ç‚¹ä¹‹é—´ç”»çº¿ï¼Œåˆ†åˆ«æ˜¯çº¢è¾¹å’Œè“è¾¹ã€‚ç©å®¶åœ¨ç”»å‡ºä¸€æ¡å°é—­çš„åœˆï¼ˆé¢ç§¯ä¸é™ï¼‰æ—¶æ¸¸æˆç»“æŸï¼Œè¯¥ç©å®¶è·èƒœã€‚é¢˜ç›®è¦æ±‚åˆ¤æ–­æ¸¸æˆåœ¨ç¬¬å‡ æ­¥ç»“æŸï¼ˆå³ç”»å‡ºå°é—­åœˆï¼‰ï¼Œè‹¥ m æ­¥ä¹‹åä¹Ÿæ²¡æœ‰ç»“æŸï¼Œåˆ™è¾“å‡º \u0026ldquo;draw\u0026rdquo;ã€‚ å®ç°æ€è·¯\nè¾“å…¥ä¸åˆå§‹åŒ–ï¼šè¯»å–è¾“å…¥çš„ç‚¹é˜µå¤§å° n å’Œå·²ç”»çš„ m æ¡è¾¹ã€‚åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ p ä½œä¸ºå¹¶æŸ¥é›†ï¼Œp[i] è¡¨ç¤ºç‚¹ i çš„çˆ¶èŠ‚ç‚¹ã€‚ å¹¶æŸ¥é›†çš„æŸ¥æ‰¾å‡½æ•°ï¼šå®šä¹‰ä¸€ä¸ª find å‡½æ•°ç”¨äºæŸ¥æ‰¾ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼ŒåŒæ—¶è¿›è¡Œè·¯å¾„å‹ç¼©ä»¥ä¼˜åŒ–æŸ¥æ‰¾æ•ˆç‡ã€‚ å¤„ç†æ¯æ¡è¾¹ï¼š â€‹ å°†äºŒç»´åæ ‡è½¬æ¢ä¸ºä¸€ç»´æ ‡è¯†ã€‚ â€‹ æ ¹æ®è¾¹çš„æ–¹å‘ï¼ˆå‘å³æˆ–å‘ä¸‹ï¼‰è®¡ç®—å‡ºè¿æ¥çš„ä¸¤ä¸ªç‚¹ã€‚ â€‹ ä½¿ç”¨å¹¶æŸ¥é›†æŸ¥æ‰¾è¿™ä¸¤ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆã€‚å¦‚æœæ˜¯åŒä¸€ä¸ªé›†åˆï¼Œåˆ™è¯´æ˜å½¢æˆäº†å°é—­åœˆï¼Œè¾“å‡ºå½“å‰æ­¥éª¤å¹¶ç»“æŸç¨‹åºã€‚ â€‹ å¦‚æœä¸å±äºåŒä¸€ä¸ªé›†åˆï¼Œåˆ™å°†ä¸¤ä¸ªç‚¹åˆå¹¶ã€‚ è¾“å‡ºç»“æœï¼šå¦‚æœéå†å®Œæ‰€æœ‰è¾¹åä»æœªå½¢æˆå°é—­åœˆï¼Œåˆ™è¾“å‡º \u0026ldquo;draw\u0026rdquo;ã€‚ from sys import stdin input = lambda:stdin.readline().strip() def find(x): while p[x] != x: p[x] = p[p[x]] x = p[x] return x n, m = map(int, input().split()) p = [i for i in range(n*n+1)] for i in range(1, m+1): x, y, op = input().split() x, y = map(int, (x, y)) a = (x-1)*n + y - 1 if op==\u0026#39;D\u0026#39;: b = x*n + y - 1 else: b = (x-1)*n + y pa, pb = find(a), find(b) if pa == pb: print(i) exit() p[pa] = pb print(\u0026#39;draw\u0026#39;) å † # h[N] å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1 # ph pos[k] å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½® # hp ord[k] å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„ N = 1000005 # å‡è®¾Nçš„å€¼ä¸º1000005 h = [0] * N # åˆå§‹åŒ–hæ•°ç»„ ph = [0] * N # åˆå§‹åŒ–phæ•°ç»„ hp = [0] * N # åˆå§‹åŒ–hpæ•°ç»„ size = 0 # åˆå§‹åŒ–sizeä¸º0 # äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³» def heap_swap(a, b): ph[hp[a]], ph[hp[b]] = ph[hp[b]], ph[hp[a]] hp[a], hp[b] = hp[b], hp[a] h[a], h[b] = h[b], h[a] def down(u): t = u if u * 2 \u0026lt;= size and h[u * 2] \u0026lt; h[t]: t = u * 2 if u * 2 + 1 \u0026lt;= size and h[u * 2 + 1] \u0026lt; h[t]: t = u * 2 + 1 if u != t: heap_swap(u, t) down(t) def up(u): while u // 2 and h[u] \u0026lt; h[u // 2]: heap_swap(u, u // 2) u \u0026gt;\u0026gt;= 1 # O(n)å»ºå † for i in range(n // 2, 0, -1): down(i) def add_element(x): global size size += 1 h[size] = x ph[size] = size hp[size] = size up(size) def get_heap_top(): return h[1] def delete_element(k): global size heap_swap(k, size) size -= 1 down(k) up(k) def update_element(k, x): h[k] = x down(k) up(k) # æ·»åŠ å…ƒç´  add_element(x) # å †é¡¶å…ƒç´  heap_top = get_heap_top() # åˆ é™¤ç¬¬sizeä¸ªèŠ‚ç‚¹ delete_element(1) # åˆ é™¤ç¬¬kä¸ªèŠ‚ç‚¹ delete_element(k) # å°†ç¬¬kä¸ªå…ƒç´ èµ‹å€¼ä¸ºx update_element(k, x) import sys from heapq import * input = lambda:sys.stdin.readline().strip() n = int(input()) cnt = 1 d = dict() h = [] for i in range(n): op = input().split() if op[0]==\u0026#39;I\u0026#39;: v = int(op[1]) heappush(h, v) d[cnt] = v; cnt+=1 elif op[0]==\u0026#39;D\u0026#39;: k = int(op[1]) if d[k]==0: continue v = d[k]; d[k]=0 h.remove(v) heapify(h) elif op[0]==\u0026#39;C\u0026#39;: k = int(op[1]) x = int(op[2]) if d[k]==0: continue v = d[k]; d[k]=x h.remove(v) heapify(h) heappush(h, x) elif op[0]==\u0026#39;DM\u0026#39;: heappop(h) elif op[0]==\u0026#39;PM\u0026#39;: print(h[0]) åŠ¨æ€ä¸­ä½æ•° import sys from heapq import * input = lambda:sys.stdin.readline().strip() p = int(input()) for _ in range(p): id, m = map(int, input().split()) print(id, (m+1)//2) cnt1, cnt2 = 0, 0 hl, hu = [], [] while m: a = list(map(int, input().split())) m -= len(a) for i in range(len(a)): if len(hl)==0 or len(hl)==len(hu): heappush(hu, -a[i]) tmp = -heappop(hu) heappush(hl, tmp) else: heappush(hl, a[i]) tmp = heappop(hl) heappush(hu, -tmp) cnt1+=1 if cnt1\u0026amp;1: print(hl[0], end=\u0026#34; \u0026#34;) cnt2+=1 if cnt2%10==0 and m!=0: print() print() å“ˆå¸Œ (1)æ‹‰é“¾æ³• N = 1000005 # å‡è®¾Nçš„å€¼ä¸º1000005 h = [-1] * N # åˆå§‹åŒ–hæ•°ç»„ä¸º-1 e = [0] * N # åˆå§‹åŒ–eæ•°ç»„ ne = [0] * N # åˆå§‹åŒ–neæ•°ç»„ idx = 0 # åˆå§‹åŒ–idxä¸º0 # å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•° def insert(x): k = (x % N + N) % N e[idx] = x ne[idx] = h[k] h[k] = idx idx += 1 # åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨ def find(x): k = (x % N + N) % N i = h[k] while i != -1: if e[i] == x: return True i = ne[i] return False N = 100003 e, ne, h = [0]*N, [0]*N, [-1]*N idx = 0 def insert(x): global idx k = (x%N + N)%N e[idx] = x ne[idx] = h[k] h[k] = idx idx+=1 def query(x): k = (x%N + N)%N i = h[k] while i!=-1: if e[i]==x: return True i = ne[i] return False n = int(input()) for i in range(n): s = input().split() op, k = s[0], int(s[1]) if op==\u0026#39;I\u0026#39;: insert(k) else: if query(k): print(\u0026#34;Yes\u0026#34;) else: print(\u0026#34;No\u0026#34;) (2) å¼€æ”¾å¯»å€æ³• N = 1000005 # å‡è®¾Nçš„å€¼ä¸º1000005 h = [0] * N # åˆå§‹åŒ–hæ•°ç»„ # å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½® def find(x): t = (x % N + N) % N while h[t] != 0 and h[t] != x: t += 1 if t == N: t = 0 return t å­—ç¬¦ä¸²å“ˆå¸Œ è¿™æ®µä»£ç å®ç°äº†å­—ç¬¦ä¸²çš„å“ˆå¸Œç®—æ³•ï¼Œç”¨äºå¿«é€Ÿè®¡ç®—å­ä¸²çš„å“ˆå¸Œå€¼ã€‚ä¸‹é¢æˆ‘æ¥è§£é‡Šä¸€ä¸‹ï¼š\né¢˜ç›®å¤§æ„ï¼š è¿™æ®µä»£ç å®ç°äº†å­—ç¬¦ä¸²å“ˆå¸Œç®—æ³•ï¼Œå¯ä»¥ç”¨äºå¿«é€Ÿè®¡ç®—ç»™å®šå­—ç¬¦ä¸²ä¸­ä»»æ„å­ä¸²çš„å“ˆå¸Œå€¼ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªæ•°ç»„ h å’Œ pï¼Œåˆ†åˆ«ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼å’Œå¹‚æ¬¡å€¼ã€‚ å¯¹äºå­—ç¬¦ä¸²çš„æ¯ä¸ªä½ç½®ï¼Œè®¡ç®—å…¶å¯¹åº”çš„å“ˆå¸Œå€¼å¹¶å­˜å‚¨åœ¨æ•°ç»„ h ä¸­ã€‚åŒæ—¶è®¡ç®—å¹‚æ¬¡å€¼å¹¶å­˜å‚¨åœ¨æ•°ç»„ p ä¸­ã€‚ å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç”±ä»¥ä¸‹å…¬å¼è®¡ç®—å¾—åˆ°ï¼š$h[i] = h[i - 1] \\times P + \\text{ord}(str[i])$å…¶ä¸­ï¼Œ$P$æ˜¯ä¸€ä¸ªé¢„å…ˆå®šä¹‰çš„è´¨æ•°ï¼ˆä¾‹å¦‚ 131 æˆ– 13331ï¼‰ï¼Œ$\\text{ord}(str[i])$ è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­ç¬¬ $i$ ä¸ªå­—ç¬¦çš„ ASCII å€¼ã€‚ è®¡ç®—å­ä¸² $str[l:r]$ çš„å“ˆå¸Œå€¼æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹å…¬å¼ï¼š$ \\text{get}(l, r) = h[r] - h[l - 1] \\times p[r - l + 1] $å…¶ä¸­ï¼Œ$h[r]$ æ˜¯å­ä¸²èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®çš„å“ˆå¸Œå€¼ï¼Œ$h[l - 1]$ æ˜¯å­ä¸²èµ·å§‹ä½ç½®å‰ä¸€ä¸ªä½ç½®çš„å“ˆå¸Œå€¼ï¼Œ$p[r - l + 1]$ æ˜¯å­ä¸²é•¿åº¦å¯¹åº”çš„å¹‚æ¬¡å€¼ã€‚ æ€»ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç å®ç°äº†å­—ç¬¦ä¸²å“ˆå¸Œç®—æ³•ï¼Œç”¨äºå¿«é€Ÿè®¡ç®—ç»™å®šå­—ç¬¦ä¸²ä¸­ä»»æ„å­ä¸²çš„å“ˆå¸Œå€¼ã€‚\nh æ•°ç»„å­˜å‚¨äº†å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ï¼Œå³ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åˆ°å½“å‰ä½ç½®çš„å­ä¸²çš„å“ˆå¸Œå€¼ã€‚ h[i] è¡¨ç¤ºå­—ç¬¦ä¸²ä»ç¬¬ä¸€ä¸ªå­—ç¬¦åˆ°ç¬¬ i ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç¬¬ i ä¸ªå­—ç¬¦ï¼‰çš„å­ä¸²çš„å“ˆå¸Œå€¼ã€‚ p[i] è¡¨ç¤ºå¹‚æ¬¡å€¼ï¼Œå³ $P^i$ çš„å€¼ï¼Œå…¶ä¸­ $P$ æ˜¯ä¸€ä¸ªé¢„å…ˆå®šä¹‰çš„è´¨æ•°ã€‚ p æ•°ç»„å­˜å‚¨äº†å¹‚æ¬¡å€¼ï¼Œç”¨äºè®¡ç®—å­ä¸²çš„å“ˆå¸Œå€¼æ—¶ä½¿ç”¨ã€‚ import sys input = lambda:sys.stdin.readline().strip() mod = 1\u0026lt;\u0026lt;64 def get(l, r): return (h[r] - h[l-1]*p[r-l+1])%mod N = int(1e5) + 10 P = 131 p = [0]*N h = [0]*N n, m = map(int, input().split()) s = \u0026#39; \u0026#39; + input() p[0] = 1 for i in range(1, n+1): h[i] = (h[i-1]*P + ord(s[i]))%mod p[i] = (p[i-1]*P)%mod for i in range(m): l1, r1, l2, r2 = map(int, input().split()) if get(l1, r1) == get(l2, r2): print(\u0026#34;Yes\u0026#34;) else: print(\u0026#34;No\u0026#34;) æ ‘çŠ¶æ•°ç»„ æ¥¼å…°å›¾è…¾\nimport sys input=lambda:sys.stdin.readline() M = 200010 suml, sumg = 0, 0 tr = [0]*M n = int(input()) a = [0]+[int(_) for _ in input().split()] def lowbit(x): return x\u0026amp;-x def add(x,v): while x\u0026lt;M: tr[x]+=v x+=lowbit(x) def query(x): res = 0 while x: res+=tr[x] x-=lowbit(x) return res for i in range(1,n+1): y=a[i] lw = query(y-1) lwr = y-1-lw # the lower element on the right side gr = query(n)-query(y) grr = (n-y) - gr suml += (lw*lwr) sumg += (gr*grr) add(y,1) print(sumg, suml) çº¿æ®µæ ‘ \\1265. æ•°æ˜Ÿæ˜Ÿ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€äº›æ˜Ÿæ˜Ÿçš„åæ ‡ï¼Œä»¥å¹³é¢ç›´è§’åæ ‡ç³»è¡¨ç¤ºï¼Œéœ€è¦ç»Ÿè®¡æ¯ä¸ªæ˜Ÿæ˜Ÿçš„ç­‰çº§ï¼Œå³åœ¨è¯¥æ˜Ÿæ˜Ÿå·¦ä¸‹æ–¹ï¼ˆå«æ­£å·¦ã€æ­£ä¸‹ï¼‰çš„æ˜Ÿæ˜Ÿæ•°é‡ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤æ¯ä¸ªæ˜Ÿæ˜Ÿçš„ç­‰çº§ã€‚ æ„å»ºçº¿æ®µæ ‘ï¼Œåˆå§‹æ—¶æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½ä¸º0ã€‚ è¯»å…¥æ¯ä¸ªæ˜Ÿæ˜Ÿçš„åæ ‡ï¼Œé€šè¿‡æŸ¥è¯¢çº¿æ®µæ ‘ç»Ÿè®¡è¯¥æ˜Ÿæ˜Ÿå·¦è¾¹ï¼ˆå«æ­£å·¦ï¼‰çš„æ˜Ÿæ˜Ÿæ•°é‡ï¼Œå³ä¸ºè¯¥æ˜Ÿæ˜Ÿçš„ç­‰çº§ã€‚ æ›´æ–°çº¿æ®µæ ‘çš„å€¼ï¼Œå°†å½“å‰æ˜Ÿæ˜Ÿçš„æ¨ªåæ ‡ä½ç½®å¯¹åº”çš„èŠ‚ç‚¹å€¼åŠ 1ã€‚ ç»Ÿè®¡æ¯ä¸ªç­‰çº§çš„æ˜Ÿæ˜Ÿæ•°é‡ï¼Œè¾“å‡ºç»“æœã€‚ import sys input = lambda:sys.stdin.readline() N = 15010 M = 32010 tr = [0]*(M*4) level = [0]*N def pushup(u): tr[u] = tr[u \u0026lt;\u0026lt; 1] + tr[u \u0026lt;\u0026lt; 1 | 1] def build(u, l, r): if l == r: tr[u] = 0 else: mid = (l + r) \u0026gt;\u0026gt; 1 build(u \u0026lt;\u0026lt; 1, l, mid) build(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r) pushup(u) def query(u, l, r, ql, qr): if l \u0026gt;= ql and r \u0026lt;= qr: return tr[u] mid = (l + r) \u0026gt;\u0026gt; 1 if mid==l and mid==r: return 0 res = 0 if ql \u0026lt;= mid: res += query(u \u0026lt;\u0026lt; 1, l, mid, ql, qr) if qr \u0026gt; mid: res += query(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, ql, qr) return res def modify(u, x, l, r, val): if l == r: tr[u] += val else: mid = (l + r) \u0026gt;\u0026gt; 1 if x \u0026lt;= mid: modify(u \u0026lt;\u0026lt; 1, x, l, mid, val) else: modify(u \u0026lt;\u0026lt; 1 | 1, x, mid + 1, r, val) pushup(u) l, r = 0, 32000 build(1, l, r) n = int(input()) for i in range(n): x, _ = map(int, input().split()) t = query(1, l, r, 0, x) level[t]+=1 modify(1, x, l, r, 1) for i in range(n): print(level[i]) æœ€å¤§æ•° import sys input = lambda:sys.stdin.readline().strip() m = int(2e5)+2 tr = [0]*(m*4) def pushup(u): tr[u] = max(tr[u\u0026lt;\u0026lt;1], tr[u\u0026lt;\u0026lt;1|1]) def modify(u, l, r, x, v): if l==r: tr[u] = v else: mid = l+r\u0026gt;\u0026gt;1 if x\u0026lt;=mid: modify(u\u0026lt;\u0026lt;1, l, mid, x, v) else: modify(u\u0026lt;\u0026lt;1|1, mid+1, r, x, v) pushup(u) def query(u, l, r, ql, qr): if l\u0026gt;=ql and r\u0026lt;=qr: return tr[u] if l==r: return 0 res = 0 mid = l+r\u0026gt;\u0026gt;1 if ql\u0026lt;=mid: res = query(u\u0026lt;\u0026lt;1, l, mid, ql, qr) if qr\u0026gt;mid: res = max(res, query(u\u0026lt;\u0026lt;1|1, mid+1, r, ql, qr)) return res m, p = map(int, input().split()) n, pre = 0, 0 for i in range(m): op, x = input().split() x = int(x) if op==\u0026#39;Q\u0026#39;: pre = query(1, 1, m, n-x+1, n) print(pre) else: n += 1 modify(1, 1, m, n, (x+pre)%p) \\243. ä¸€ä¸ªç®€å•çš„æ•´æ•°é—®é¢˜2 import sys input = lambda:sys.stdin.readline().strip() N = int(1e5)+10 M = 1\u0026lt;\u0026lt;N.bit_length() + 1 tr = [0]*M add = [0]*M def pushup(u): tr[u] = tr[u\u0026lt;\u0026lt;1] + tr[u\u0026lt;\u0026lt;1|1] def pushdown(u, ln, rn): if add[u]: lazy(u\u0026lt;\u0026lt;1, add[u], ln) lazy(u\u0026lt;\u0026lt;1|1, add[u], rn) add[u] = 0 def lazy(u, v, n): tr[u] += v*n add[u] += v def build(u, l, r): if l==r: tr[u] = w[l] else: mid = l+r\u0026gt;\u0026gt;1 build(u\u0026lt;\u0026lt;1, l, mid) build(u\u0026lt;\u0026lt;1|1, mid+1, r) pushup(u) add[u] = 0 def modify(u, l, r, ml, mr, v): if l\u0026gt;=ml and r\u0026lt;=mr: lazy(u, v, r-l+1) else: mid = l+r\u0026gt;\u0026gt;1 pushdown(u, mid-l+1, r-mid) if ml \u0026lt;= mid: modify(u\u0026lt;\u0026lt;1, l, mid, ml, mr, v) if mr \u0026gt; mid: modify(u\u0026lt;\u0026lt;1|1, mid+1, r, ml, mr, v) pushup(u) def query(u, l, r, ql, qr): if l\u0026gt;=ql and r\u0026lt;=qr: return tr[u] mid = l+r\u0026gt;\u0026gt;1 pushdown(u, mid-l+1, r-mid) res = 0 if ql\u0026lt;=mid: res = query(u\u0026lt;\u0026lt;1, l, mid, ql, qr) if qr\u0026gt;mid: res += query(u\u0026lt;\u0026lt;1|1, mid+1, r, ql, qr) return res # ä¸»ç¨‹åºå¼€å§‹ n, m = map(int, input().split()) # è¾“å…¥èŠ‚ç‚¹æ•°é‡nå’Œæ“ä½œæ•°é‡m w = list(map(int, input().split())) # è¾“å…¥èŠ‚ç‚¹çš„åˆå§‹æƒå€¼ build(1, 0, n-1) res = [] # å­˜å‚¨æŸ¥è¯¢ç»“æœ while m: m -= 1 op, opt = input().split(maxsplit=1) if op == \u0026#39;Q\u0026#39;: l, r = map(int, opt.split()) l-=1; r-=1 res.append(str(query(1, 0, n-1, l, r))) # æŸ¥è¯¢åŒºé—´å’Œå¹¶å°†ç»“æœæ·»åŠ åˆ°resåˆ—è¡¨ä¸­ else: l, r, val = map(int, opt.split()) l-=1; r-=1 modify(1, 0, n-1, l, r, val) # ä¿®æ”¹åŒºé—´çš„å€¼ print(\u0026#34;\\n\u0026#34;.join(res)) # è¾“å‡ºæŸ¥è¯¢ç»“æœ ç»´æŠ¤åºåˆ— é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°åˆ— ğ‘ğ‘–ï¼Œæœ‰ä¸‰ç§æ“ä½œï¼š1. æ ¼å¼1 t g cï¼Œå°†åŒºé—´ [t, g] å†…çš„æ•°ä¹˜ä»¥ cï¼›2. æ ¼å¼2 t g cï¼Œå°†åŒºé—´ [t, g] å†…çš„æ•°åŠ ä¸Š cï¼›3. æ ¼å¼3 t gï¼Œæ±‚åŒºé—´ [t, g] å†…æ•°çš„å’Œï¼Œå¹¶è¾“å‡ºç»“æœæ¨¡ p çš„å€¼ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åŒºé—´å’Œï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¿å­˜åŒºé—´å†…æ•°çš„å’Œã€‚ å¯¹äºæ¯ç§æ“ä½œï¼Œæ ¹æ®æ“ä½œç±»å‹åˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚ å¯¹äºæ ¼å¼1å’Œæ ¼å¼2ï¼Œé‡‡ç”¨å»¶è¿Ÿæ ‡è®°æ¥å®ç°åŒºé—´ä¿®æ”¹ã€‚å¯¹äºæ ¼å¼3ï¼Œé‡‡ç”¨é€’å½’çš„æ–¹å¼æŸ¥è¯¢åŒºé—´å’Œã€‚ å®ç°å…·ä½“çš„æ“ä½œå‡½æ•°ï¼ŒåŒ…æ‹¬å»ºæ ‘ã€ä¿®æ”¹å’ŒæŸ¥è¯¢ã€‚ å¾ªç¯è¯»å…¥æ¯ä¸ªæ“ä½œå¹¶è¿›è¡Œå¤„ç†ï¼Œæœ€åè¾“å‡ºæŸ¥è¯¢ç»“æœã€‚ import sys input = lambda: sys.stdin.readline().strip() N = int(1e5) + 1 M = 1 \u0026lt;\u0026lt; N.bit_length() + 1 tr = [0] * M add = [0] * M mul = [0] * M def lazy(u, n, ad, mu): tr[u] = (tr[u] * mu + n * ad) % p add[u] = (add[u] * mu + ad) % p mul[u] = (mul[u] * mu) % p def pushup(u): tr[u] = tr[u \u0026lt;\u0026lt; 1] + tr[u \u0026lt;\u0026lt; 1 | 1] def pushdown(u, ln, rn): if add[u] != 0 or mul[u] != -1: lazy(u \u0026lt;\u0026lt; 1, ln, add[u], mul[u]) lazy(u \u0026lt;\u0026lt; 1 | 1, rn, add[u], mul[u]) add[u] = 0 mul[u] = 1 def build(u, l, r): if l == r: tr[u] = w[l] else: mid = l + r \u0026gt;\u0026gt; 1 build(u \u0026lt;\u0026lt; 1, l, mid) build(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r) pushup(u) add[u] = 0 mul[u] = 1 def modify(u, l, r, ml, mr, ad, mu): if l \u0026gt;= ml and r \u0026lt;= mr: lazy(u, r - l + 1, ad, mu) else: mid = l + r \u0026gt;\u0026gt; 1 pushdown(u, mid - l + 1, r - mid) if ml \u0026lt;= mid: modify(u \u0026lt;\u0026lt; 1, l, mid, ml, mr, ad, mu) if mr \u0026gt; mid: modify(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, ml, mr, ad, mu) pushup(u) def query(u, l, r, ql, qr): if l \u0026gt;= ql and r \u0026lt;= qr: return tr[u] mid = l + r \u0026gt;\u0026gt; 1 pushdown(u, mid - l + 1, r - mid) res = 0 if ql \u0026lt;= mid: res += query(u \u0026lt;\u0026lt; 1, l, mid, ql, qr) if qr \u0026gt; mid: res += query(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, ql, qr) return res % p n, p = map(int, input().split()) w = [0] + list(map(int, input().split())) m = int(input()) build(1, 1, n) res = [] for i in range(m): op, par = input().split(maxsplit=1) if op == \u0026#34;1\u0026#34;: l, r, mu = map(int, par.split()) modify(1, 1, n, l, r, 0, mu) elif op == \u0026#34;2\u0026#34;: l, r, ad = map(int, par.split()) modify(1, 1, n, l, r, ad, 1) else: l, r = map(int, par.split()) res.append(str(query(1, 1, n, l, r))) print(*res, sep=\u0026#34;\\n\u0026#34;) \\246. åŒºé—´æœ€å¤§å…¬çº¦æ•° from math import gcd from sys import stdin input = stdin.readline def pushup(u): tr[u] = tr[u\u0026lt;\u0026lt;1] + tr[u\u0026lt;\u0026lt;1|1] gd[u] = gcd(gd[u\u0026lt;\u0026lt;1], gd[u\u0026lt;\u0026lt;1|1]) def build(u, l, r): if l==r: tr[u] = gd[u] = arr[l]-arr[l-1] else: mid = l+r\u0026gt;\u0026gt;1 build(u\u0026lt;\u0026lt;1, l, mid) build(u\u0026lt;\u0026lt;1|1, mid+1, r) pushup(u) def modify(u, l, r, x, v): if l==r: tr[u] += v gd[u] += v else: mid = l+r\u0026gt;\u0026gt;1 if x\u0026lt;=mid: modify(u\u0026lt;\u0026lt;1, l, mid, x, v) else: modify(u\u0026lt;\u0026lt;1|1, mid+1, r, x, v) pushup(u) def query(u, l, r, ql, qr): if l\u0026gt;=ql and r\u0026lt;=qr: return (tr[u], gd[u]) mid = l+r\u0026gt;\u0026gt;1 a, b = [0, 0], [0, 0] if ql\u0026lt;=mid: a = query(u\u0026lt;\u0026lt;1, l, mid, ql, qr) if qr\u0026gt;mid: b = query(u\u0026lt;\u0026lt;1|1, mid+1, r, ql, qr) return (a[0]+b[0], gcd(a[1], b[1])) n, m = map(int, input().split()) arr = [0] + list(map(int, input().split())) M = 1\u0026lt;\u0026lt;n.bit_length() + 1 tr = [0]*M gd = [0]*M build(1, 1, n) res = [] for i in range(m): op, par = input().split(maxsplit=1) if op==\u0026#39;Q\u0026#39;: l, r = map(int, par.split()) ans = gcd(query(1, 1, n, 1, l)[0], query(1, 1, n, l+1, r)[1]) if l+1\u0026lt;=r else query(1, 1, n, 1, l)[0] res.append(str(ans)) else: l, r, v = map(int, par.split()) modify(1, 1, n, l, v) if r+1\u0026lt;=n: modify(1, 1, n, r+1, -v) print(*res, sep=\u0026#39;\\n\u0026#39;) ç±»å®ç°çº¿æ®µæ ‘ # å®šä¹‰æ ‘èŠ‚ç‚¹ï¼Œl,r, valè¡¨ç¤ºè¯¥èŠ‚ç‚¹è®°å½•çš„æ˜¯åŒºé—´[l, r]çš„æœ€å¤§å€¼æ˜¯val class Tree(): def __init__(self): self.l = 0 self.r = 0 self.lazy = 0 self.val = 0 # äºŒå‰æ ‘æ˜¯å †å½¢å¼ï¼Œå¯ä»¥ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨ï¼Œæ³¨æ„æ•°ç»„é•¿åº¦è¦å¼€4å€ç©ºé—´ tree = [Tree() for i in range(10*4)] # å»ºæ ‘ï¼Œç”¨cur\u0026lt;\u0026lt;1è®¿é—®å·¦å­æ ‘ï¼Œcur\u0026lt;\u0026lt;1|1è®¿é—®å³å­æ ‘ï¼Œä½è¿ç®—æ“ä½œå¾ˆæ–¹ä¾¿ def build(cur, l, r): tree[cur].l, tree[cur].r, tree[cur].lazy, tree[cur].val = l, r, 0, 0 # å½“l==rçš„æ—¶å€™ç»“æŸé€’å½’ if l \u0026lt; r: mid = l + r \u0026gt;\u0026gt; 1 build(cur\u0026lt;\u0026lt;1, l, mid) build(cur\u0026lt;\u0026lt;1|1, mid+1, r) # å½“å­èŠ‚ç‚¹è®¡ç®—å®Œæˆåï¼Œç”¨å­èŠ‚ç‚¹çš„å€¼æ¥æ›´æ–°è‡ªå·±çš„å€¼ def pushup(cur): tree[cur].val = max(tree[cur\u0026lt;\u0026lt;1].val, tree[cur\u0026lt;\u0026lt;1|1].val) # å•ç‚¹æ›´æ–° def add(cur, x, v): if tree[cur].l == tree[cur].r: tree[cur].val += v else: mid = tree[cur].r + tree[cur].l \u0026gt;\u0026gt; 1 if x \u0026gt; mid: add(cur\u0026gt;\u0026gt;1|1, x, v) else: add(cur\u0026lt;\u0026lt;1, x, v) pushup(cur) # å°†lazyæ ‡è®°å‘ä¸‹ä¼ é€’ä¸€å±‚ def pushdown(cur): if tree[cur].lazy: lazy = tree[cur].lazy tree[cur\u0026lt;\u0026lt;1].lazy += lazy tree[cur\u0026lt;\u0026lt;1|1].lazy += lazy tree[cur\u0026lt;\u0026lt;1].val += lazy tree[cur\u0026lt;\u0026lt;1|1].val += lazy tree[cur].lazy = 0 # åŒºé—´æ›´æ–° def update(cur, l, r, v): if l \u0026lt;= tree[cur].l and tree[cur].r \u0026lt;= r: tree[cur].lazy += v tree[cur].val += v return if r \u0026lt; tree[cur].l or l \u0026gt; tree[cur].r: return if tree[cur].lazy: pushdown(cur) update(cur\u0026lt;\u0026lt;1, l, r, v) update(cur\u0026lt;\u0026lt;1|1, l, r, v) pushup(cur) # åŒºé—´æŸ¥è¯¢ def query(cur, l, r): if l \u0026lt;= tree[cur].l and tree[cur].r \u0026lt;= r: return tree[cur].val if tree[cur].l \u0026gt; r or tree[cur].r \u0026lt; l: return 0 if tree[cur].lazy: pushdown(cur) return max(query(cur\u0026lt;\u0026lt;1, l, r), query(cur\u0026lt;\u0026lt;1|1)) # æµ‹è¯• # ----- # --- # ------- # -- # -- build(1, 1, 10) update(1, 1, 5, 1) update(1, 7, 10, 1) update(1, 2, 8, 1) update(1, 3, 4, 1) update(1, 9, 10, 1) print(query(1, 1, 10)) def pushup(u): tr[u] = tr[u \u0026lt;\u0026lt; 1] + tr[u \u0026lt;\u0026lt; 1 | 1] def build(u, l, r): if l == r: tr[u] = 0 else: mid = (l + r) \u0026gt;\u0026gt; 1 build(u \u0026lt;\u0026lt; 1, l, mid) build(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r) pushup(u) def query(u, l, r, ql, qr): if l \u0026gt;= ql and r \u0026lt;= qr: return tr[u] mid = (l + r) \u0026gt;\u0026gt; 1 if mid==l and mid==r: return 0 res = 0 if ql \u0026lt;= mid: res = query(u \u0026lt;\u0026lt; 1, l, mid, ql, qr) if qr \u0026gt; mid: res += query(u \u0026lt;\u0026lt; 1 | 1, mid + 1, r, ql, qr) return res def modify(u, x, l, r, val): if l == r: tr[u] += val else: mid = (l + r) \u0026gt;\u0026gt; 1 if x \u0026lt;= mid: modify(u \u0026lt;\u0026lt; 1, x, l, mid, val) else: modify(u \u0026lt;\u0026lt; 1 | 1, x, mid + 1, r, val) pushup(u) æœç´¢æ·±å…¥ æ± å¡˜è®¡æ•° import sys from collections import deque input = lambda:sys.stdin.readline().strip() N = int(1e3+10) M = N*N g = [0]*N cnt=0 vis = [ [False]*N for _ in range(N) ] def bfs(x, y): q=deque() q.append( (x,y) ) while q: tx, ty = q[0] q.popleft() for i in range(-1, 2): for j in range(-1, 2): if i==0 and j==0: continue xx, yy = tx+i, ty+j if xx\u0026lt;0 or xx\u0026gt;=n or yy\u0026lt;0 or yy\u0026gt;=m or vis[xx][yy] or g[xx][yy]==\u0026#39;.\u0026#39;: continue vis[xx][yy]=True q.append( (xx,yy) ) n, m = map(int, input().split()) for i in range(n): g[i]=input() for i in range(n): for j in range(m): if g[i][j]!=\u0026#39;W\u0026#39; or vis[i][j]: continue bfs(i, j) cnt+=1 print(cnt) åŸå ¡é—®é¢˜ import sys from collections import deque input = lambda:sys.stdin.readline().strip() N = 55 g = [] vis = [[False]*N for _ in range(N)] area = 0 cnt=0 def bfs(x, y): vis[x][y]=True q = deque() q.append((x, y)) dx, dy = [0, -1, 0, 1], [-1, 0, 1, 0] ans=1 while q: tx, ty = q.popleft() for i in range(4): xx = tx+dx[i] yy = ty+dy[i] if xx\u0026lt;0 or xx\u0026gt;=n or yy\u0026lt;0 or yy\u0026gt;=m or vis[xx][yy]: continue if (g[tx][ty]\u0026gt;\u0026gt;i)\u0026amp;1: continue ans+=1 vis[xx][yy]=True q.append((xx,yy)) return ans n, m = map(int, input().split()) for _ in range(n): g.append(list(map(int, input().split()))) for i in range(n): for j in range(m): if vis[i][j]: continue area = max(area, bfs(i, j)) cnt+=1 print(cnt) print(area) å±±å³°å’Œå±±è°· import sys from collections import deque N = 1010 g = [] vis = [[0]*N for _ in range(N)] pek, val = 0, 0 def bfs(x, y): global higher, lower vis[x][y]=True q = deque() q.append((x,y)) while q: tx,ty = q.popleft() for i in range(-1, 2): for j in range(-1, 2): if i==0 and j==0: continue xx, yy = tx+i, ty+j if xx\u0026lt;0 or xx\u0026gt;=n or yy\u0026lt;0 or yy\u0026gt;=n: continue if g[xx][yy]!=g[tx][ty]: if g[xx][yy]\u0026gt;g[tx][ty]: higher=True elif g[xx][yy]\u0026lt;g[tx][ty]: lower=True elif not vis[xx][yy]: vis[xx][yy]=True q.append((xx,yy)) higher, lower = False, False n = int(input()) for _ in range(n): g.append(list(map(int, input().split()))) # print(g) for i in range(n): for j in range(n): if vis[i][j]: continue higher, lower = False, False bfs(i, j) if not higher:pek+=1 if not lower:val+=1 print(pek, val) BFS P1038 [NOIP2003 æé«˜ç»„] ç¥ç»ç½‘ç»œ é¢˜ç›®å¤§æ„ï¼šå…°å…°æå‡ºäº†ä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œè¯¥æ¨¡å‹å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œå›¾ä¸­çš„èŠ‚ç‚¹ç§°ä¸ºç¥ç»å…ƒï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥ä»£è¡¨ç¥ç»å…ƒä¹‹é—´çš„è”ç³»ã€‚ç¥ç»å…ƒæŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ï¼Œæ„æˆæ•´ä¸ªç¥ç»ç½‘ç»œã€‚æ¯ä¸ªç¥ç»å…ƒéƒ½æœ‰ä¸€ä¸ªçŠ¶æ€å’Œé˜ˆå€¼ï¼Œå½“ç¥ç»å…ƒå¤„äºå…´å¥‹çŠ¶æ€æ—¶ï¼Œä¼šå‘å…¶ä»–ç¥ç»å…ƒä¼ é€ä¿¡å·ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œæ ¹æ®è¾“å…¥çš„ç½‘ç»œç»“æ„ä¿¡æ¯ï¼Œæ„å»ºç¥ç»å…ƒä¹‹é—´çš„è¿æ¥å…³ç³»ã€‚ä½¿ç”¨å­—å…¸gæ¥è¡¨ç¤ºç¥ç»å…ƒä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œä»¥åŠå­—å…¸weiæ¥è¡¨ç¤ºè¿æ¥ç¥ç»å…ƒä¹‹é—´çš„è¾¹çš„æƒå€¼ã€‚ ç„¶åï¼Œæ ¹æ®è¾“å…¥çš„åˆå§‹çŠ¶æ€å’Œé˜ˆå€¼ä¿¡æ¯ï¼Œåˆå§‹åŒ–ç¥ç»å…ƒçš„çŠ¶æ€ã€‚åŒæ—¶ï¼Œè®°å½•è¾“å…¥å±‚ç¥ç»å…ƒçš„åˆå§‹çŠ¶æ€ï¼Œå¦‚æœç¥ç»å…ƒçš„çŠ¶æ€ä¸ä¸º0ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—qä¸­ã€‚ åˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ç®—æ³•ï¼Œéå†ç¥ç»å…ƒï¼Œæ ¹æ®æ¨¡å‹å…¬å¼æ›´æ–°æ¯ä¸ªç¥ç»å…ƒçš„çŠ¶æ€ã€‚åŒæ—¶ï¼Œæ›´æ–°ç¥ç»å…ƒçš„çŠ¶æ€æ—¶ï¼Œè€ƒè™‘åˆ°è¾¹çš„æƒå€¼ä»¥åŠç¥ç»å…ƒçš„é˜ˆå€¼ã€‚ æœ€åï¼Œè¾“å‡ºè¾“å‡ºå±‚ç¥ç»å…ƒçš„çŠ¶æ€ã€‚å¦‚æœè¾“å‡ºå±‚ç¥ç»å…ƒçš„æœ€åçŠ¶æ€å‡å°äºç­‰äº0ï¼Œåˆ™è¾“å‡º\u0026quot;NULL\u0026quot;ï¼Œå¦åˆ™æŒ‰ç…§ç¼–å·ä»å°åˆ°å¤§é¡ºåºè¾“å‡ºè¾“å‡ºå±‚ç¥ç»å…ƒçš„çŠ¶æ€ã€‚ from collections import deque, defaultdict maxn = 1e3 + 10 c = [0] * int(maxn) u = [0] * int(maxn) wei = defaultdict(lambda: defaultdict(int)) vis = [False] * int(maxn) beginer = [False] * int(maxn) g = defaultdict(list) n, p = map(int, input().split()) en = [] q = deque() for i in range(1, n + 1): c[i], u[i] = map(int, input().split()) if c[i] != 0: q.append(i) beginer[i] = True else: en.append(i) if not en: for i in range(1, n + 1): print(i, c[i]) exit() for _ in range(p): s, e, w = map(int, input().split()) g[s].append(e) wei[s][e] = w while q: t = q.popleft() if not beginer[t]: c[t] -= u[t] base = c[t] if base \u0026gt; 0: for j in g[t]: c[j] += base * wei[t][j] if not vis[j]: q.append(j) vis[j] = True ans = 0 for i in en: if c[i] \u0026gt; 0 and not g[i]: print(i, c[i]) ans += 1 if not ans: print(\u0026#34;NULL\u0026#34;) ","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%E4%BA%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84python%E5%AE%9E%E7%8E%B0/","summary":"ç®—æ³•ç¬”è®°ï¼ˆäºŒï¼‰â€”â€”æ•°æ®ç»“æ„(Pythonå®ç°) æ•°æ®ç»“æ„ å•é“¾è¡¨ N = int(1e5+10) e=[0]*N ne=[0]*N head=-1 idx=1 def insert(x): global idx, head e[idx]=x ne[idx]=head head=idx idx+=1 def add(k, x): global idx e[idx]=x ne[idx]=ne[k] ne[k]=idx idx+=1 def remove(k): global idx, head if k==0: head = ne[head] else: ne[k]=ne[ne[k]] n = int(input())","title":"ç®—æ³•ç¬”è®°ï¼ˆäºŒï¼‰â€”â€”æ•°æ®ç»“æ„(Pythonå®ç°)"},{"content":"ç®—æ³•ç¬”è®°ï¼ˆä¸‰ï¼‰â€”â€”å›¾è®ºï¼ˆPythonå®ç°ï¼‰ å›¾è®º æ ‘çš„å­˜å‚¨ é‚»æ¥çŸ©é˜µ # åˆ›å»ºä¸€ä¸ªäºŒç»´åˆ—è¡¨è¡¨ç¤ºé‚»æ¥çŸ©é˜µ n = 10 # é¡¶ç‚¹æ•°é‡ g = [[0] * n for _ in range(n)] # æ·»åŠ ä¸€æ¡è¾¹a-\u0026gt;b def add_edge(a, b): g[a][b] = 1 # åˆå§‹åŒ– g = [[0] * n for _ in range(n)] é‚»æ¥è¡¨ # åˆ›å»ºä¸€ä¸ªåˆ—è¡¨è¡¨ç¤ºé‚»æ¥è¡¨ n = 10 # é¡¶ç‚¹æ•°é‡ h = [-1] * n e = [0] * n ne = [0] * n idx = 0 # æ·»åŠ ä¸€æ¡è¾¹a-\u0026gt;b def add_edge(a, b): global idx e[idx] = b ne[idx] = h[a] h[a] = idx idx += 1 # åˆå§‹åŒ– idx = 0 h = [-1] * n æ ‘å’Œå›¾çš„å­˜å‚¨ # é‚»æ¥è¡¨è¡¨ç¤ºçš„å›¾ N = 100010 # æ ¹æ®å…·ä½“éœ€æ±‚è®¾ç½®åˆé€‚çš„æœ€å¤§èŠ‚ç‚¹æ•°é‡ # å¯¹äºæ¯ä¸ªç‚¹kï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œå­˜å‚¨kæ‰€æœ‰å¯ä»¥èµ°åˆ°çš„ç‚¹ã€‚h[k]å­˜å‚¨è¿™ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹ h = [-1] * N # å­˜å‚¨è¾¹çš„ç›®æ ‡èŠ‚ç‚¹ e = [0] * N # å­˜å‚¨ä¸‹ä¸€æ¡è¾¹çš„ç´¢å¼• ne = [0] * N # è¾¹çš„ç´¢å¼• idx = 0 # æ·»åŠ ä¸€æ¡è¾¹a-\u0026gt;b def add(a, b): global idx e[idx] = b ne[idx] = h[a] h[a] = idx idx += 1 # åˆå§‹åŒ– idx = 0 for i in range(N): h[i] = -1 æ ‘å’Œå›¾çš„éå† DFS def dfs(u): st[u] = True i = h[u] while i!=-1: j = e[i] if not st[j]: dfs(j) i = ne[i] BFS from collections import deque q = deque() st[1] = True q.append(1) while q: t = q.popleft() i = h[t] while i!=-1: j=e[i] if not st[j]: st[j] = True q.append(j) i=ne[i] æ‹“æ‰‘æ’åº from sys import stdin from collections import deque input = lambda:stdin.readline().strip() def topsort(): q = deque() res = [] for i in range(1, n+1): if ind[i]==0: res.append(i) q.append(i) while q: u = q.popleft() for v in g[u]: ind[v] -= 1 if ind[v]==0: q.append(v) res.append(v) return res n = int(input()) ind = [0]*(n+1) g = [[] for _ in range(n+1)] for i in range(1, n+1): a = list(map(int, input().split())) for j in range(len(a)-1): g[i].append(a[j]) ind[a[j]]+=1 res = topsort() print(*res, sep=\u0026#39; \u0026#39;) å¥–é‡‘ from sys import stdin from collections import deque def topsort(): res = [] q = deque() ans = 0 for i in range(1, n+1): if ind[i]==0: res.append(i) q.append((i, 100)) ans += 100 while q: u, m = q.popleft() for v in g[u]: ind[v] -= 1 if ind[v]==0: q.append((v, m+1)) res.append(v) ans += m+1 if len(res)==n: print(ans) else: print(\u0026#34;Poor Xed\u0026#34;) n, m = map(int, input().split()) ind = [0]*(n+1) g = [[] for _ in range(n+1)] for i in range(m): a, b = map(int, input().split()) ind[a] += 1 g[b].append(a) topsort() LCA def lca(x,y): if dep[x] \u0026lt; dep[y]: x,y = y,x d = dep[x]-dep[y] while d: # å¾ªç¯ç›´åˆ°æ·±åº¦å·®ä¸º 0 v = d \u0026amp; -d # è·å– d çš„æœ€ä½ä½çš„ 1 æ‰€åœ¨çš„ä½ç½® i = v.bit_length() - 1 # è®¡ç®—æœ€ä½ä½çš„ä½ç½®ç´¢å¼• x = fa[i][x] # å°†èŠ‚ç‚¹ x ä¸Šç§»åˆ°å’ŒèŠ‚ç‚¹ y åŒä¸€æ·±åº¦ d -= v # æ›´æ–°æ·±åº¦å·® if x==y: return x for k in range(K-1, -1, -1): if fa[k][x] != fa[k][y]: x = fa[k][x] y = fa[k][y] return fa[0][x] # åˆå§‹åŒ–æ·±åº¦ä»¥åŠçˆ¶èŠ‚ç‚¹ä¿¡æ¯ dep[x]=dep[val]+1 dep[y]=dep[val]+1 fa[0][x] = val fa[0][y] = val for k in range(K-1): fa[k+1][x] = fa[k][fa[k][x]] # è‡ªå·±çš„ç¬¬2^(1+1)çº§çˆ¶äº²å³ä¸º è‡ªå·±çš„ç¬¬2^(1)çº§çˆ¶äº² çš„ç¬¬2^(1)çº§çˆ¶äº² fa[k+1][y] = fa[k][fa[k][y]] ç¥–å­™è¯¢é—® from sys import stdin from collections import deque, defaultdict from math import inf K = 17 N = int(4*10e4) + 10 dep = [inf]*(N) fa = [[0]*N for _ in range(K)] def bfs(): dep[0] = 0; dep[root] = 1 q = deque([root]) while q: u = q.popleft() for v in g[u]: if dep[v] \u0026gt; dep[u] + 1: dep[v] = dep[u] + 1 q.append(v) fa[0][v] = u for k in range(1, K-1): fa[k][v] = fa[k-1][fa[k-1][v]] def lca(x, y): if dep[x] \u0026lt; dep[y]: x, y = y, x d = dep[x] - dep[y] while d: v = d \u0026amp; -d i = v.bit_length() - 1 x = fa[i][x] d -= v if x==y: return x for k in range(K-1, -1, -1): if fa[k][x] != fa[k][y]: x = fa[k][x] y = fa[k][y] return fa[0][x] n = int(input()) g = defaultdict(list) for i in range(n): a, b = map(int, input().split()) if b==-1: root = a else: g[a].append(b) g[b].append(a) bfs() # print(dep) m = int(input()) for i in range(m): x, y = map(int, input().split()) res = lca(x, y) if res == x and res != y: print(1) elif res == y and res != x: print(2) else: print(0) æœ€çŸ­è·¯ å•å…ƒæœ€çŸ­è·¯\nâ€‹\tæ‰€æœ‰è¾¹æƒä¸ºæ­£ï¼š\nâ€‹\tæœ´ç´ ç‰ˆDijkstra $O(n^2)$,å †ä¼˜åŒ–ç‰ˆçš„Dijkstra $O(mlogn)$, â€‹\tå­˜åœ¨è´Ÿæƒè¾¹\nâ€‹\tBellman-Ford $O(nm)$, SPFA é˜Ÿåˆ—ä¼˜åŒ–çš„Bellman-Ford, ä¸€èˆ¬æƒ…å†µï¼š$O(m)$ æœ€åæƒ…å†µï¼š$O(nm)$ å¤šå…ƒæ±‡æœ€çŸ­è·¯ï¼š\nâ€‹\tFloyed $O(n^3)$ æœ´ç´ Dijkstra Dijkstraä¸èƒ½å¤„ç†è´Ÿæƒè¾¹ï¼š\nN = int(5e2)+10 INF = 0x3f3f3f3f g = [[INF]*N for _ in range(N)] #g = defaultdict(lambda:defaultdict(lambda:INF)) åŒæ ·çš„æ•ˆæœ dis = [INF]*N st = [False]*N def dijkstra(): dis[1]=0 for i in range(n-1): t=-1 for j in range(1,n+1): if not st[j] and (t==-1 or dis[j]\u0026lt;dis[t]): t=j for j in range(1,n+1): dis[j]=min(dis[j], dis[t] + g[t][j]) st[t]=True if dis[n]==INF: return -1 return dis[n] n, m = map(int, input().split()) for _ in range(m): x, y, z = map(int ,input().split()) g[x][y] = min(g[x][y], z) print(dijkstra()) å †ä¼˜åŒ–ç‰ˆDijkstra from heapq import * import sys input = lambda:sys.stdin.readline().strip() N = 150010 INF = 0x3f3f3f3f e, ne, head, w, dis= [0]*N, [0]*N, [-1]*N, [0]*N, [INF]*N st = [False]*N idx=0 def add(a, b, x): global idx e[idx]=b w[idx]=x ne[idx]=head[a] head[a]=idx idx+=1 def dijkstra(): dis[1]=0 h=[] heappush(h, (0,1)) while h: dist, ver = heappop(h) if st[ver]: continue st[ver]=True i=head[ver] while i!=-1: j=e[i] if not st[j] and dis[j]\u0026gt;dist+w[i]: dis[j]=dist+w[i] heappush(h, (dis[j], j)) i=ne[i] if dis[n]==INF: print(-1) else: print(dis[n]) n, m = map(int, input().split()) for _ in range(m): x, y, z = map(int, input().split()) add(x,y,z) dijkstra() å¦ä¸€ç§å†™æ³• from sys import stdin from math import inf from collections import deque, defaultdict from heapq import heappush, heappop input = lambda:stdin.readline().strip() def dijkstra(): h = [(0, 1)] dis[1] = 0 while h: dist, ver = heappop(h) if vis[ver]: continue vis[ver] = True for nx, z in g[ver]: if dis[nx] \u0026gt; dis[ver] + z: dis[nx] = dis[ver] + z heappush(h, (dis[nx], nx)) return dis[n] n, m = map(int, input().split()) dis = [inf]*(n+1) vis = [False]*(n+1) g = defaultdict(list) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = dijkstra() print(res if res != inf else -1) Bellman-Ford # nè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•° dist = [float(\u0026#39;inf\u0026#39;)] * (n + 1) # dist[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯è·ç¦» # è¾¹ï¼Œaè¡¨ç¤ºå‡ºç‚¹ï¼Œbè¡¨ç¤ºå…¥ç‚¹ï¼Œwè¡¨ç¤ºè¾¹çš„æƒé‡ edges = [] # æ±‚1åˆ°nçš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœæ— æ³•ä»1èµ°åˆ°nï¼Œåˆ™è¿”å›-1ã€‚ def bellman_ford(): dist[1] = 0 # å¦‚æœç¬¬næ¬¡è¿­ä»£ä»ç„¶ä¼šæ¾å¼›ä¸‰è§’ä¸ç­‰å¼ï¼Œå°±è¯´æ˜å­˜åœ¨ä¸€æ¡é•¿åº¦æ˜¯n+1çš„æœ€çŸ­è·¯å¾„ï¼Œç”±æŠ½å±‰åŸç†ï¼Œè·¯å¾„ä¸­è‡³å°‘å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„ç‚¹ï¼Œè¯´æ˜å›¾ä¸­å­˜åœ¨è´Ÿæƒå›è·¯ã€‚ for i in range(n): for j in range(m): a, b, w = edges[j][\u0026#39;a\u0026#39;], edges[j][\u0026#39;b\u0026#39;], edges[j][\u0026#39;w\u0026#39;] if dist[b] \u0026gt; dist[a] + w: dist[b] = dist[a] + w if dist[n] \u0026gt; float(\u0026#39;inf\u0026#39;) / 2: return -1 return dist[n] SPFA from collections import defaultdict, deque import sys input = lambda:sys.stdin.readline().strip() N, INF = int(1e5+10), 0x3f3f3f3f dis, st = [INF]*N, [False]*N g=defaultdict(list) def spfa(): q=deque() q.append(1) st[1]=True dis[1]=0 while q: x=q.popleft() st[x]=False for y, z in g[x]: if dis[y]\u0026gt;dis[x]+z: dis[y]=dis[x]+z if not st[y]: st[y]=True q.append(y) if dis[n]==INF: print(\u0026#39;impossible\u0026#39;) else: print(dis[n]) n, m = map(int, input().split()) for _ in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) spfa() åˆ¤æ–­è´Ÿç¯ from sys import stdin from collections import deque, defaultdict from math import inf input = lambda:stdin.readline().strip() def spfa(): q = deque() for i in range(1, n+1): q.append(i) st[i] = True while q: x = q.popleft() st[x] = False for y, z in g[x]: if dis[y] \u0026gt; dis[x] + z: dis[y] = dis[x] + z cnt[y] = cnt[x] + 1 if cnt[y] \u0026gt;= n: return True if not st[y]: q.append(y) st[y] = True return False n, m = map(int, input().split()) g = defaultdict(list) cnt = [0]*(n+1) st = [False]*(n+1) dis = [0]*(n+1) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = spfa() print(\u0026#34;Yes\u0026#34; if res else \u0026#34;No\u0026#34;) floyd from sys import stdin from math import inf def floyd(): for k in range(1, n+1): for i in range(1, n+1): for j in range(1, n+1): d[i][j] = min(d[i][j], d[i][k] + d[k][j]) n, m, k = map(int, input().split()) d = [[0 if i==j else inf for i in range(n+1)] for j in range(n+1)] for i in range(m): x, y, z = map(int, input().split()) d[x][y] = min(d[x][y], z) floyd() for i in range(k): x, y = map(int, input().split()) print(d[x][y] if d[x][y]!=inf else \u0026#34;impossible\u0026#34;) Prim from math import inf from sys import stdin def prim(): res = 0 dis[1] = 0 for i in range(n): t = -1 for j in range(1, n+1): if not st[j] and (t==-1 or dis[t] \u0026gt; dis[j]): t = j if i and dis[t]==inf: return inf if i: res += dis[t] st[t] = True for j in range(1, n+1): dis[j] = min(dis[j], g[t][j]) return res n, m = map(int, input().split()) g = [[inf]*(n+1) for _ in range(n+1)] dis = [inf]*(n+1) st = [False]*(n+1) for i in range(m): u, v, w = map(int, input().split()) g[u][v] = g[v][u] = min(w, g[u][v]) res = prim() if res==inf: print(\u0026#34;impossible\u0026#34;) else: print(res) Kruskal import sys input = lambda:sys.stdin.readline().strip() def find(x): while p[x] != x: p[x] = p[p[x]] x = p[x] return x def kruskal(): res, cnt = 0, 0 ans = [] for u, v, w in g: fu, fv = find(u), find(v) if fu != fv: res += w cnt += 1 p[fu] = fv ans.append((u, v, w)) ans.sort() if cnt == n-1: print(res) # print(ans) # è®°å½•é€‰æ‹©çš„æ˜¯å“ªäº›è¾¹ else: print(\u0026#34;impossible\u0026#34;) n, m = map(int, input().split()) g = [] p = [i for i in range(n+1)] for i in range(m): u, v, w = map(int, input().split()) g.append((u, v, w)) g.sort(key = lambda e:e[2]) kruskal() æŸ“è‰²æ³• ä½¿ç”¨äº†æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆDFSï¼‰æ¥åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾\näºŒåˆ†å›¾ï¼šé¡¶ç‚¹åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œè¾¹ä»…å­˜åœ¨äºä¸¤ä¸ªä¸åŒçš„é›†åˆä¸­ï¼Œè€Œé›†åˆå†…éƒ¨éƒ½æ²¡æœ‰è¾¹ã€‚\nPythonä¼˜å…ˆä½¿ç”¨BFSï¼Œå› ä¸ºDFSä¼šå‡ºç°å„ç§é—®é¢˜ï¼Œçˆ†æ ˆï¼Œæ®µé”™è¯¯ï¼ˆè¿˜æ²¡ææ¸…æ¥šåŸå› ï¼‰ç­‰\nè¿™æ®µä»£ç ä½¿ç”¨äº†æŸ“è‰²æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ— å‘å›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾ã€‚ä¸‹é¢æˆ‘æ¥è§£é‡Šä¸€ä¸‹ï¼š\né¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªæ— å‘å›¾ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥å°†å…¶é¡¶ç‚¹é›†åˆåˆ’åˆ†ä¸ºä¸¤ä¸ªä¸ç›¸äº¤çš„å­é›†ï¼Œä½¿å¾—æ¯æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«å±äºè¿™ä¸¤ä¸ªå­é›†ã€‚å¦‚æœå¯ä»¥ï¼Œåˆ™è¾“å‡º\u0026quot;Yes\u0026quot;ï¼Œå¦åˆ™è¾“å‡º\u0026quot;No\u0026quot;ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨é‚»æ¥è¡¨ g æ¥è¡¨ç¤ºæ— å‘å›¾ï¼Œå…¶ä¸­ g[u] å­˜å‚¨ä¸é¡¶ç‚¹ u ç›¸è¿çš„æ‰€æœ‰é¡¶ç‚¹ã€‚ å®šä¹‰ä¸€ä¸ªæ•°ç»„ color æ¥æ ‡è®°æ¯ä¸ªé¡¶ç‚¹çš„æŸ“è‰²æƒ…å†µï¼Œåˆå§‹å€¼è®¾ä¸º -1 è¡¨ç¤ºæœªæŸ“è‰²ã€‚ å®šä¹‰ä¸€ä¸ª BFS å‡½æ•° bfs(u, c)ï¼Œå…¶ä¸­ u è¡¨ç¤ºèµ·å§‹é¡¶ç‚¹ï¼Œc è¡¨ç¤ºåˆå§‹é¢œè‰²ã€‚è¯¥å‡½æ•°ä½¿ç”¨ BFS éå†å›¾ï¼Œå¹¶å°†é¡¶ç‚¹æŸ“è‰²ï¼Œä¿è¯ç›¸é‚»é¡¶ç‚¹é¢œè‰²ä¸åŒã€‚ åœ¨ä¸»ä½“éƒ¨åˆ†ï¼Œéå†æ‰€æœ‰é¡¶ç‚¹ï¼Œå¯¹äºæ¯ä¸ªæœªæŸ“è‰²çš„é¡¶ç‚¹ï¼Œè°ƒç”¨ bfs å‡½æ•°è¿›è¡ŒæŸ“è‰²ã€‚å¦‚æœæŸ“è‰²è¿‡ç¨‹ä¸­å‘ç°ç›¸é‚»é¡¶ç‚¹é¢œè‰²ç›¸åŒï¼Œåˆ™è¿”å› \u0026ldquo;No\u0026rdquo;ï¼Œè¡¨ç¤ºæ— æ³•åˆ’åˆ†ä¸ºäºŒåˆ†å›¾ï¼›å¦åˆ™è¿”å› \u0026ldquo;Yes\u0026rdquo;ã€‚ import sys from collections import deque, defaultdict input = lambda:sys.stdin.readline().strip() N = int(1e5)+10 g = defaultdict(list) color = [-1]*N def bfs(u, c): color[u] = c q = deque() q.append((u, c)) while q: cur, col = q.popleft() for nx in g[cur]: if color[nx]==-1: color[nx] = 1-col q.append((nx, 1-col)) elif color[nx]==col: return False return True n, m = map(int, input().split()) for i in range(m): u, v = map(int, input().split()) # if u==v: #***è‡ªç¯ä¸èƒ½å»æ‰*** # continue if u not in g[v]: g[v].append(u) if v not in g[u]: g[u].append(v) for i in range(1, n+1): if color[i]==-1: if not bfs(i, 0): print(\u0026#34;No\u0026#34;) exit() print(\u0026#34;Yes\u0026#34;) åŒˆç‰™åˆ©ç®—æ³• é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ï¼Œå…¶ä¸­å·¦ä¾§é¡¶ç‚¹é›†åˆä¸º (N_1)ï¼Œå³ä¾§é¡¶ç‚¹é›†åˆä¸º (N_2)ï¼Œå›¾ä¸­å­˜åœ¨ä¸€äº›è¾¹ã€‚éœ€è¦æ‰¾åˆ°å°½å¯èƒ½å¤šçš„åŒ¹é…ï¼Œä½¿å¾—å·¦ä¾§çš„æ¯ä¸ªé¡¶ç‚¹æœ€å¤šä¸ä¸€ä¸ªå³ä¾§çš„é¡¶ç‚¹ç›¸è¿ï¼Œè€Œå³ä¾§çš„æ¯ä¸ªé¡¶ç‚¹æœ€å¤šä¸ä¸€ä¸ªå·¦ä¾§çš„é¡¶ç‚¹ç›¸è¿ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ g å­˜å‚¨å›¾çš„é‚»æ¥è¡¨è¡¨ç¤ºã€‚å…¶ä¸­ g[u] è¡¨ç¤ºä¸å·¦ä¾§é¡¶ç‚¹ u ç›¸è¿çš„æ‰€æœ‰å³ä¾§é¡¶ç‚¹çš„é›†åˆã€‚ å®šä¹‰ä¸€ä¸ªå‡½æ•° find(x)ï¼Œç”¨äºä»å·¦ä¾§é¡¶ç‚¹ x å¼€å§‹å°è¯•å¯»æ‰¾å¢å¹¿è·¯å¾„ï¼Œå¦‚æœæ‰¾åˆ°äº†å¢å¹¿è·¯å¾„å°±è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ åœ¨ä¸»ä½“éƒ¨åˆ†ï¼Œéå†å·¦ä¾§çš„æ¯ä¸ªé¡¶ç‚¹ï¼Œå¯¹æ¯ä¸ªé¡¶ç‚¹è°ƒç”¨ find å‡½æ•°è¿›è¡ŒåŒ¹é…ï¼Œè‹¥æˆåŠŸåŒ¹é…ï¼Œåˆ™åŒ¹é…æ•°åŠ ä¸€ã€‚ from sys import stdin from collections import defaultdict def find(u): for v in g[u]: if not st[v]: st[v] = True if mat[v]==0 or find(mat[v]): mat[v] = u return True return False n1, n2, m = map(int, input().split()) mat = [0]*(n2 + 1) g = defaultdict(list) for i in range(m): u, v = map(int, input().split()) g[u].append(v) res = 0 for i in range(1, n1+1): st = [False]*(n2 + 1) if find(i): res += 1 print(res) DFSä¹‹è¿é€šæ€§ é¢˜æ„ï¼šåœ¨ä¸€ä¸ªç»™å®šè¿·å®«ä¸­ï¼Œä»èµ·ç‚¹Aåˆ°ç»ˆç‚¹Bæ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„çš„é—®é¢˜ã€‚è¿·å®«ç”±ä¸€ä¸ªç”± '.' å’Œ '#' æ„æˆçš„çŸ©é˜µè¡¨ç¤ºï¼Œå…¶ä¸­ '.' è¡¨ç¤ºå¯é€šè¡Œçš„æ ¼ç‚¹ï¼Œ'#' è¡¨ç¤ºä¸å¯é€šè¡Œçš„æ ¼ç‚¹ã€‚Extenseåªèƒ½å‘ä¸œå—è¥¿åŒ—å››ä¸ªæ–¹å‘ç§»åŠ¨åˆ°ç›¸é‚»çš„å¯é€šè¡Œæ ¼ç‚¹ä¸Šï¼Œè€Œä¸”è¦æ±‚èµ·ç‚¹å’Œç»ˆç‚¹éƒ½æ˜¯å¯é€šè¡Œçš„ã€‚ä½ éœ€è¦ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥ç¡®å®šåœ¨ç»™å®šçš„è¿·å®«ä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€æ¡ä»Aåˆ°Bçš„è·¯å¾„ã€‚\nimport sys input = lambda:sys.stdin.readline().strip() sys.setrecursionlimit(150000) dir = [(-1, 0), (0, 1), (1, 0), (0, -1)] def dfs(x, y): if g[x][y]==\u0026#39;#\u0026#39; or vis[x][y]: return False if (x, y)==end: return True vis[x][y] = True for i in range(4): a, b = x + dir[i][0], y+dir[i][1] if 0\u0026lt;=a\u0026lt;n and 0\u0026lt;=b\u0026lt;n: if dfs(a, b): return True return False k = int(input()) N = 110 g = [[] for _ in range(N)] for _ in range(k): n = int(input()) vis = [[False]*(n+1) for _ in range(n+1)] for i in range(n): g[i] = list(input()) x1, y1, x2, y2 = map(int, input().split()) end = (x2, y2) if dfs(x1, y1): print(\u0026#34;YES\u0026#34;) else: print(\u0026#34;NO\u0026#34;) é­”æ¿ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ª 8 ä¸ªæ ¼å­çš„é­”æ¿ï¼Œæ¯ä¸ªæ ¼å­æœ‰ä¸€ç§é¢œè‰²ï¼Œç”¨ 1 åˆ° 8 çš„æ•´æ•°è¡¨ç¤ºã€‚æœ‰ä¸‰ç§åŸºæœ¬æ“ä½œå¯ä»¥æ”¹å˜é­”æ¿çš„çŠ¶æ€ï¼šAï¼šäº¤æ¢ä¸Šä¸‹ä¸¤è¡Œï¼›Bï¼šå°†æœ€å³è¾¹çš„ä¸€åˆ—æ’å…¥åˆ°æœ€å·¦è¾¹ï¼›Cï¼šé­”æ¿ä¸­å¤®å¯¹çš„4ä¸ªæ•°ä½œé¡ºæ—¶é’ˆæ—‹è½¬ã€‚ç°åœ¨ç»™å®šä¸€ä¸ªç›®æ ‡çŠ¶æ€ï¼Œæ±‚ç”¨æœ€å°‘çš„åŸºæœ¬æ“ä½œå®ŒæˆåŸºæœ¬çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„è½¬æ¢ï¼Œå¹¶è¾“å‡ºåŸºæœ¬æ“ä½œåºåˆ—ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆå®ç°ä¸‰ç§åŸºæœ¬æ“ä½œ Aã€Bã€C çš„å‡½æ•°ã€‚ ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ç®—æ³•æ¥æ‰¾åˆ°ä»åŸºæœ¬çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„æœ€çŸ­æ“ä½œåºåˆ—ã€‚ ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å­˜å‚¨å¾…å¤„ç†çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ¯ä¸ªçŠ¶æ€çš„å‰é©±çŠ¶æ€å’Œæ‰§è¡Œçš„æ“ä½œã€‚ åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œå°è¯•å¯¹å½“å‰çŠ¶æ€è¿›è¡Œä¸‰ç§åŸºæœ¬æ“ä½œï¼Œå¾—åˆ°æ–°çš„çŠ¶æ€ï¼Œå¦‚æœæ–°çŠ¶æ€æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶è®°å½•å…¶å‰é©±çŠ¶æ€å’Œæ“ä½œã€‚ å½“æ‰¾åˆ°ç›®æ ‡çŠ¶æ€æ—¶ï¼Œæ ¹æ®å‰é©±çŠ¶æ€å›æº¯å¾—åˆ°æœ€çŸ­æ“ä½œåºåˆ—ã€‚ è¾“å‡ºæœ€çŸ­æ“ä½œåºåˆ—çš„é•¿åº¦å’Œå…·ä½“æ“ä½œåºåˆ—ã€‚ from collections import deque def A(t): return t[::-1] def B(t): return t[3] + t[:3] + t[5:] + t[4] def C(t): return t[0] + t[6] + t[1] + t[3] + t[4] + t[2] + t[5] + t[7] pre = dict() def bfs(): q = deque() q.append(st) while q: t = q.popleft() if t==ed: break m = [A(t), B(t), C(t)] for i in range(3): if m[i] not in pre: pre[m[i]] = (chr(65+i), t) q.append(m[i]) nums = input().split() ed = \u0026#39;\u0026#39;.join(nums) st = \u0026#34;12345678\u0026#34; bfs() cnt = 0 res = \u0026#34;\u0026#34; while ed != st: cnt+=1 res = pre[ed][0] + res ed = pre[ed][1] print(cnt) if cnt: print(res) å•è¯æ¥é¾™ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ç»„å•è¯å’Œä¸€ä¸ªå¼€å¤´çš„å­—æ¯ï¼Œè¦æ±‚æ‰¾å‡ºä»¥è¿™ä¸ªå­—æ¯å¼€å¤´çš„æœ€é•¿çš„â€œé¾™â€ï¼Œæ¯ä¸ªå•è¯æœ€å¤šè¢«ä½¿ç”¨ä¸¤æ¬¡ã€‚åœ¨æ„æˆé¾™æ—¶ï¼Œä¸¤ä¸ªå•è¯ç›¸è¿æ—¶ï¼Œå®ƒä»¬çš„é‡åˆéƒ¨åˆ†åˆå¹¶ä¸ºä¸€éƒ¨åˆ†ï¼Œä½†é‡åˆéƒ¨åˆ†çš„é•¿åº¦å¿…é¡»å¤§äºç­‰äº1ä¸”å°äºä¸¤ä¸ªå•è¯çš„é•¿åº¦ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆè¯»å…¥è¾“å…¥æ•°æ®ï¼ŒåŒ…æ‹¬å•è¯æ•° nã€n ä¸ªå•è¯ä»¥åŠå¼€å¤´çš„å­—æ¯ã€‚ æ„å»ºä¸€ä¸ªå­—å…¸ gï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªå•è¯å¯¹åº”çš„å¯è¿æ¥çš„å•è¯ä»¥åŠå¯¹åº”çš„é‡åˆéƒ¨åˆ†çš„é•¿åº¦ã€‚ å¯¹äºæ¯ä¸€å¯¹å•è¯ï¼Œæ¯”è¾ƒå®ƒä»¬çš„é‡åˆéƒ¨åˆ†ï¼Œå¦‚æœç¬¦åˆæ¡ä»¶ï¼Œåˆ™å°†å…¶åŠ å…¥å­—å…¸ g ä¸­ã€‚ ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥æœç´¢ä»¥å¼€å¤´å­—æ¯å¼€å¤´çš„æœ€é•¿çš„â€œé¾™â€ã€‚ åœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå­—å…¸ cnt æ¥è®°å½•æ¯ä¸ªå•è¯çš„ä½¿ç”¨æ¬¡æ•°ï¼Œæ¯ä¸ªå•è¯æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸¤æ¬¡ã€‚ é€’å½’æœç´¢æ¯ä¸ªå¯è¿æ¥çš„å•è¯ï¼Œå¹¶æ›´æ–°æœ€é•¿â€œé¾™â€çš„é•¿åº¦ã€‚ æœ€ç»ˆè¾“å‡ºæœ€é•¿â€œé¾™â€çš„é•¿åº¦ã€‚ from collections import defaultdict n = int(input()) wds = [] for i in range(n): wds.append(input()) st = input() g = {w:[] for w in wds} for i in range(n): for j in range(n): for k in range(1, min( len(wds[i]), len(wds[j]) )): if wds[i][-k:] == wds[j][:k]: g[wds[i]].append((wds[j], k)) cnt = defaultdict(int) def dfs(dra, x): global ans cnt[x] += 1 ans = max(ans, len(dra)) for nx, k in g[x]: if cnt[nx] \u0026lt; 2: dfs(dra + nx[k:], nx) cnt[x] -= 1 ans = 0 for w in wds: if w[0] == st: dfs(w, w) print(ans) åˆ†æˆäº’è´¨ç»„ é¢˜ç›®å¤§æ„ï¼šç»™å®š n ä¸ªæ­£æ•´æ•°ï¼Œè¦æ±‚å°†å®ƒä»¬åˆ†ç»„ï¼Œä½¿å¾—æ¯ç»„ä¸­ä»»æ„ä¸¤ä¸ªæ•°äº’è´¨ã€‚æ±‚æœ€å°‘éœ€è¦åˆ†æˆå¤šå°‘ä¸ªç»„ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆè¯»å…¥è¾“å…¥æ•°æ®ï¼ŒåŒ…æ‹¬æ­£æ•´æ•°çš„ä¸ªæ•° n å’Œ n ä¸ªæ­£æ•´æ•°ã€‚ ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥æœç´¢åˆ†ç»„çš„æ–¹æ³•ã€‚ æ„å»ºä¸€ä¸ªåˆ—è¡¨ gï¼Œç”¨äºå­˜å‚¨åˆ†ç»„æƒ…å†µï¼Œæ¯ä¸ªåˆ†ç»„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­å­˜å‚¨åˆ†ç»„ä¸­çš„æ•°ã€‚ ç¼–å†™ DFS å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­é€’å½’å°è¯•å°†å½“å‰æ•°æ”¾å…¥å·²æœ‰çš„åˆ†ç»„æˆ–æ–°å»ºä¸€ä¸ªåˆ†ç»„ã€‚ åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå½“å‰æ•°å¯ä»¥å’ŒæŸä¸ªåˆ†ç»„ä¸­çš„æ‰€æœ‰æ•°äº’è´¨ï¼Œåˆ™å°†å½“å‰æ•°åŠ å…¥è¯¥åˆ†ç»„ï¼Œå¹¶ç»§ç»­é€’å½’ã€‚ å¦‚æœå½“å‰æ•°æ— æ³•åŠ å…¥ä»»ä½•åˆ†ç»„ï¼Œåˆ™æ–°å»ºä¸€ä¸ªåˆ†ç»„ï¼Œå¹¶ç»§ç»­é€’å½’ã€‚ å½“æ‰€æœ‰æ•°éƒ½è¢«åˆ†ç»„å®Œæ¯•æ—¶ï¼Œæ›´æ–°æœ€å°‘éœ€è¦çš„ç»„æ•°ã€‚ æœ€ç»ˆè¾“å‡ºæœ€å°‘éœ€è¦çš„ç»„æ•°ã€‚ from math import gcd n = int(input()) a = list(map(int, input().split())) g = [] def dfs(u, i): global ans if i==n: ans = min(ans, u) return if u\u0026gt;=ans: return for j in range(u): cnt = sum(1 for k in g[j] if gcd(a[i], k)==1) if cnt==len(g[j]): g[j].append(a[i]) dfs(u, i+1) g[j].pop() g.append([a[i]]) dfs(u+1, i+1) g.pop() ans = n dfs(0, 0) print(ans) è¿­ä»£åŠ æ·± åŠ æˆåºåˆ— é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ‰¾å‡ºæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æœ€å°é•¿åº¦çš„â€œåŠ æˆåºåˆ—â€ï¼šåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º1ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸º nï¼Œåºåˆ—ä¸­çš„å…ƒç´ æ»¡è¶³æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥è¡¨ç¤ºä¸ºåºåˆ—ä¸­å…¶ä»–ä¸¤ä¸ªå…ƒç´ çš„å’Œã€‚\nå®ç°æ€è·¯ï¼š\nå®šä¹‰ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰å‡½æ•° dfsï¼Œç”¨äºæœç´¢ç¬¦åˆæ¡ä»¶çš„åŠ æˆåºåˆ—ã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨ path æ¥è®°å½•å½“å‰æœç´¢çš„åŠ æˆåºåˆ—ï¼Œåˆå§‹åŒ– path[0] = 1ã€‚ é€’å½’åœ°æœç´¢åŠ æˆåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä½¿å¾—æ–°çš„å…ƒç´ æ˜¯å‰é¢å…ƒç´ çš„ä¸¤ä¸¤ç›¸åŠ çš„ç»“æœï¼Œå¹¶æ»¡è¶³æ¡ä»¶ path[u] \u0026lt;= nï¼Œå…¶ä¸­ u è¡¨ç¤ºå½“å‰æœç´¢çš„ä½ç½®ã€‚ å¦‚æœæœç´¢æˆåŠŸï¼Œå³æ‰¾åˆ°äº†ç¬¦åˆæ¡ä»¶çš„åŠ æˆåºåˆ—ï¼Œè¿”å› Trueï¼›å¦åˆ™è¿”å› Falseã€‚ åœ¨ä¸»ç¨‹åºä¸­ï¼Œä¸æ–­è¯»å–è¾“å…¥çš„ nï¼Œå¹¶é€šè¿‡è°ƒç”¨ dfs å‡½æ•°æ¥æœç´¢ç¬¦åˆæ¡ä»¶çš„åŠ æˆåºåˆ—ã€‚ è¾“å‡ºæ»¡è¶³æ¡ä»¶çš„åŠ æˆåºåˆ—ã€‚ def dfs(u): if u==dep: return path[u-1]==n vis = [False]*(n+1) for i in range(u-1, -1, -1): for j in range(i, -1, -1): s = path[i] + path[j] if s\u0026gt;n or s\u0026lt;=path[u-1] or vis[s]: continue vis[s] = True path[u] = s if dfs(u+1): return True return False path = [0]*(110) path[0] = 1 while True: n = int(input()) if not n: break dep = 1 while not dfs(1): dep += 1 print(*path[:dep]) åŒå‘DFS é€ç¤¼ç‰© é¢˜ç›®å¤§æ„ï¼šè¾¾è¾¾å¸®ç¿°ç¿°é€ç¤¼ç‰©ï¼Œä»–ä¸€æ¬¡å¯ä»¥æ¬åŠ¨çš„é‡é‡ä¹‹å’Œä¸è¶…è¿‡ Wï¼Œä¸€å…±æœ‰ N ä¸ªç¤¼ç‰©ï¼Œå…¶ä¸­ç¬¬ i ä¸ªç¤¼ç‰©çš„é‡é‡æ˜¯ G[i]ã€‚æ±‚è¾¾è¾¾åœ¨ä»–çš„åŠ›æ°”èŒƒå›´å†…ä¸€æ¬¡æ€§èƒ½æ¬åŠ¨çš„æœ€å¤§é‡é‡ã€‚\nå®ç°æ€è·¯ï¼š\nå®šä¹‰ä¸¤ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰å‡½æ•° dfs1 å’Œ dfs2ï¼Œç”¨äºæ±‚è§£è¾¾è¾¾ä¸€æ¬¡æ€§èƒ½æ¬åŠ¨çš„æœ€å¤§é‡é‡ã€‚ dfs1 å‡½æ•°ç”¨äºéå†å‰ä¸€åŠçš„ç¤¼ç‰©ï¼Œæ±‚å¾—æ‰€æœ‰å¯èƒ½çš„æ¬åŠ¨é‡é‡ä¹‹å’Œï¼Œå¹¶å­˜å‚¨åœ¨é›†åˆ wgh ä¸­ã€‚ dfs2 å‡½æ•°ç”¨äºéå†åä¸€åŠçš„ç¤¼ç‰©ï¼Œå¹¶é€šè¿‡äºŒåˆ†æŸ¥æ‰¾åœ¨ wgh ä¸­æ‰¾åˆ°åˆé€‚çš„æ¬åŠ¨é‡é‡ï¼Œæ±‚å¾—æœ€å¤§é‡é‡ã€‚ åœ¨ä¸»ç¨‹åºä¸­ï¼Œé¦–å…ˆè¯»å…¥è¾“å…¥çš„ W å’Œ Nï¼Œç„¶åè¯»å…¥ N ä¸ªç¤¼ç‰©çš„é‡é‡ï¼Œå¹¶æŒ‰ç…§é‡é‡ä»å¤§åˆ°å°æ’åºã€‚ è°ƒç”¨ dfs1 å’Œ dfs2 å‡½æ•°æ±‚è§£æœ€å¤§é‡é‡ï¼Œå¹¶è¾“å‡ºç»“æœã€‚ def dfs1(u, tot): if u\u0026gt;k: wgh.add(tot) return if tot + a[u] \u0026lt;= w: dfs1(u+1, tot + a[u]) dfs1(u+1, tot) def dfs2(u, tot): global ans if u\u0026gt;=n: l, r = 0, cnt-1 while l\u0026lt;r: mid = (l+r+1)\u0026gt;\u0026gt;1 if wgh[mid] + tot \u0026lt;= w: l = mid else: r = mid - 1 ans = max(ans, wgh[r] + tot) return if a[u] + tot \u0026lt;= w: dfs2(u+1, a[u] + tot) dfs2(u+1, tot) w, n = map(int, input().split()) a = [] for i in range(n): a.append(int(input())) a.sort(reverse = True) wgh = set() k = n//2 dfs1(0, 0) wgh = sorted(list(wgh)) cnt = len(wgh) ans = -1 dfs2(k+1, 0) print(ans) 37. è§£æ•°ç‹¬ \\166. æ•°ç‹¬ é¢˜ç›®å¤§æ„ï¼šæ•°ç‹¬æ˜¯ä¸€ç§ç›Šæ™ºæ¸¸æˆï¼Œè¦æ±‚å¡«å†™ä¸€ä¸ª9Ã—9çš„ç½‘æ ¼ï¼Œä½¿å¾—æ¯è¡Œã€æ¯åˆ—ã€æ¯ä¸ª3Ã—3çš„ä¹å®«æ ¼å†…æ•°å­—1âˆ¼9å‡æ°å¥½å‡ºç°ä¸€æ¬¡ã€‚\nå®ç°æ€è·¯ï¼šè¯¥å®ç°é‡‡ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„æ–¹æ³•è§£å†³æ•°ç‹¬é—®é¢˜ã€‚é¦–å…ˆï¼Œé€šè¿‡å°†æ¯ä¸ªæ•°å­—æ˜ å°„åˆ°äºŒè¿›åˆ¶ä½æ¥è¿›è¡Œä½è¿ç®—ï¼Œä»¥ä¾¿å¿«é€Ÿè·å–å·²å¡«å……æ•°å­—çš„çŠ¶æ€ã€‚ç„¶åï¼Œåˆ©ç”¨DFSé€’å½’å¡«å……æ•°ç‹¬ä¸­çš„ç©ºç™½æ ¼å­ï¼Œä¼˜å…ˆé€‰æ‹©å½“å‰ç©ºç™½æ ¼å­å¡«å……æ•°å­—çš„é€‰æ‹©ç©ºé—´è¾ƒå°çš„ä½ç½®ã€‚é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯æ‰€æœ‰ç©ºç™½æ ¼å­éƒ½å¡«å……å®Œæ¯•ã€‚\nimport sys N = 9 M = 1 \u0026lt;\u0026lt; N row, col, cell = [0] * N, [0] * N, [[0] * 3 for _ in range(3)] mp = dict() ones = [0] * M for i in range(N): mp[1 \u0026lt;\u0026lt; i] = i for i in range(1 \u0026lt;\u0026lt; N): for j in range(N): ones[i] += (i \u0026gt;\u0026gt; j) \u0026amp; 1 def lowbit(x): return x \u0026amp; -x def get(x, y): return row[x] \u0026amp; col[y] \u0026amp; cell[x // 3][y // 3] def draw(x, y, t, flag): global st, row, col, cell if flag: st[x * N + y] = chr(49 + t) else: st[x * N + y] = \u0026#34;.\u0026#34; v = 1 \u0026lt;\u0026lt; t if not flag: v = -v row[x] -= v col[y] -= v cell[x // 3][y // 3] -= v def dfs(cnt): global st if not cnt: return True minv = 10 for i in range(N): for j in range(N): if st[i * N + j] == \u0026#34;.\u0026#34;: state = get(i, j) if ones[state] \u0026lt; minv: minv = ones[state] x, y = i, j i = get(x, y) while i: t = mp[lowbit(i)] draw(x, y, t, True) if dfs(cnt - 1): return True draw(x, y, t, False) i -= lowbit(i) return False while True: st = sys.stdin.readline().strip() if st == \u0026#34;end\u0026#34;: break st = list(st) cnt = 0 for i in range(N): row[i] = col[i] = M - 1 for i in range(3): for j in range(3): cell[i][j] = M - 1 for i in range(N): for j in range(N): if st[i * N + j] != \u0026#34;.\u0026#34;: t = int(st[i * N + j]) - 1 draw(i, j, t, True) else: cnt += 1 dfs(cnt) print(\u0026#34;\u0026#34;.join(st)) æœ€çŸ­è·¯ 188. æ­¦å£«é£åº¦çš„ç‰› é¢˜ç›®å¤§æ„ï¼šå†œæ°‘ John æƒ³äº¤æ˜“ä»–çš„ä¸€å¤´è¢« Don ç§°ä¸º The Knight çš„ç‰›ã€‚è¿™å¤´ç‰›æœ‰ç‰¹æ®Šèƒ½åŠ›ï¼Œå¯ä»¥æŒ‰ç…§è±¡æ£‹ä¸­é©¬çš„èµ°æ³•è·³è·ƒã€‚å†œåœºè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªäºŒç»´åæ ‡å›¾ï¼Œå…¶ä¸­åŒ…å«äº†æ ‘ã€çŒæœ¨ã€çŸ³å¤´ä»¥åŠè‰çš„ä½ç½®ã€‚The Knight èµ·å§‹ä½ç½®ä¸º Kï¼Œè‰çš„ä½ç½®ä¸º Hã€‚ä»»åŠ¡æ˜¯ç¡®å®š The Knight è¦è·³å¤šå°‘æ¬¡æ‰èƒ½åˆ°è¾¾è‰çš„ä½ç½®ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆè§£æè¾“å…¥ï¼Œå¾—åˆ°å†œåœºçš„åˆ—æ•°å’Œè¡Œæ•°ï¼Œä»¥åŠåœ°å›¾ä¿¡æ¯ï¼ŒåŒ…æ‹¬éšœç¢ç‰©å’Œç›®æ ‡ä½ç½®ï¼ˆè‰çš„ä½ç½®ï¼‰ã€‚ ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ç®—æ³•æ¥æ‰¾åˆ°ä»èµ·å§‹ä½ç½®åˆ°è¾¾ç›®æ ‡ä½ç½®çš„æœ€çŸ­è·¯å¾„ã€‚ åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶å°†èµ·å§‹ä½ç½®åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚ åœ¨å¾ªç¯ä¸­ï¼Œæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä½ç½®ï¼Œå¹¶å°è¯•å‘å…«ä¸ªæ–¹å‘è·³è·ƒï¼ˆè±¡æ£‹ä¸­é©¬çš„æ‰€æœ‰å¯èƒ½èµ°æ³•ï¼‰ï¼Œå¦‚æœè·³è·ƒåçš„ä½ç½®åˆæ³•ä¸”æ²¡æœ‰éšœç¢ç‰©ä¸”æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™å°†è¯¥ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶æ ‡è®°ä¸ºå·²è®¿é—®ã€‚ å½“å–å‡ºçš„ä½ç½®ä¸ºç›®æ ‡ä½ç½®æ—¶ï¼Œè¾“å‡ºè·³è·ƒçš„æ¬¡æ•°ï¼Œå³æœ€çŸ­è·¯å¾„çš„é•¿åº¦ï¼Œç„¶åé€€å‡ºå¾ªç¯ã€‚ å¦‚æœé˜Ÿåˆ—ä¸ºç©ºä»æœªæ‰¾åˆ°ç›®æ ‡ä½ç½®ï¼Œåˆ™è¯´æ˜æ•°æ®ä¿è¯ä¸€å®šæœ‰è§£ï¼Œä¸éœ€è¦å¤„ç†è¿™ç§æƒ…å†µã€‚ from collections import deque dir = [(-2, 1), (-1, 2), (1, 2), (2, 1), (2, -1), (1, -2), (-1, -2), (-2, -1)] c, r = map(int, input().split()) g = [[] for _ in range(r)] vis = [[False]*(c+1) for _ in range(r+1)] for i in range(r): g[i] = list(input()) for j, ch in enumerate(g[i]): if ch==\u0026#39;H\u0026#39;: end = (i, j) if ch==\u0026#39;K\u0026#39;: start = (i, j) q = deque() q.append((*start, 0)) while q: x, y, d= q.popleft() if (x, y)==end: print(d) break for i in range(8): a, b = x + dir[i][0], y + dir[i][1] if 0\u0026lt;=a\u0026lt;r and 0\u0026lt;=b\u0026lt;c: if g[a][b]!=\u0026#39;*\u0026#39; and not vis[a][b]: vis[a][b] = True q.append((a, b, d+1)) å¤šæºBFS é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ª N è¡Œ M åˆ—çš„ 01 çŸ©é˜µ Aï¼Œå®šä¹‰çŸ©é˜µä¸­æ¯ä¸ªä½ç½®ä¸æ‰€æœ‰å€¼ä¸º1çš„ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚æ›¼å“ˆé¡¿è·ç¦»ä¸ºè¯¥ä½ç½®ä¸æ‰€æœ‰å€¼ä¸º1çš„ä½ç½®è¡Œåæ ‡ä¹‹å·®çš„ç»å¯¹å€¼ä¸åˆ—åæ ‡ä¹‹å·®çš„ç»å¯¹å€¼ä¹‹å’Œã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆè¯»å…¥çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œä»¥åŠçŸ©é˜µæœ¬èº«ã€‚ ä½¿ç”¨BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰æ¥è®¡ç®—æ¯ä¸ªä½ç½®åˆ°æ‰€æœ‰å€¼ä¸º1çš„ä½ç½®çš„è·ç¦»ã€‚ åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå°†æ‰€æœ‰å€¼ä¸º1çš„ä½ç½®å…¥é˜Ÿï¼Œè·ç¦»åˆå§‹åŒ–ä¸º0ã€‚ å¯¹é˜Ÿåˆ—è¿›è¡ŒBFSéå†ï¼Œæ¯æ¬¡å–å‡ºé˜Ÿé¦–å…ƒç´ ï¼Œè®¡ç®—å…¶å‘¨å›´å››ä¸ªæ–¹å‘çš„ä½ç½®ï¼Œè‹¥ä½ç½®åˆæ³•ä¸”ä¸º0ä¸”æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™æ›´æ–°è·ç¦»å¹¶å…¥é˜Ÿã€‚ æœ€ç»ˆè¾“å‡ºè·ç¦»çŸ©é˜µBã€‚ import sys from collections import deque input = lambda:sys.stdin.readline().strip() N = int(1e3+10) g = [[] for _ in range(N)] dis = [[-1]*N for _ in range(N)] n, m = map(int, input().split()) for i in range(1, n+1): g[i] = [0] + list(input()) q = deque() for i in range(1, n+1): for j in range(1, m+1): if g[i][j] == \u0026#39;1\u0026#39;: q.append((i, j, 0)) dis[i][j] = 0 dx = [1, 0, -1, 0] dy = [0, 1, 0, -1] while q: x, y, d = q.popleft() for i in range(4): xx = x+dx[i]; yy = y+dy[i] if xx\u0026gt;0 and xx\u0026lt;=n and yy\u0026gt;0 and yy\u0026lt;=m: if g[xx][yy] == \u0026#39;0\u0026#39; and dis[xx][yy] == -1: dis[xx][yy] = d+1 q.append((xx, yy, d+1)) for i in range(1, n+1): print(*dis[i][1:m+1]) åŒç«¯é˜Ÿåˆ—BFS175. ç”µè·¯ç»´ä¿® é¢˜ç›®å¤§æ„ï¼šæœ‰ä¸€ä¸ªç”µè·¯æ¿ï¼Œç”± R è¡Œ C åˆ—çš„ç½‘æ ¼ç»„æˆï¼Œæ¯ä¸ªæ ¼ç‚¹éƒ½æ˜¯ç”µçº¿çš„æ¥ç‚¹ï¼Œæ¯ä¸ªæ ¼å­åŒ…å«ä¸€ä¸ªå¯æ—‹è½¬çš„ç”µå­å…ƒä»¶ï¼Œç”µå­å…ƒä»¶è¿æ¥ä¸€æ¡å¯¹è§’çº¿ä¸Šçš„ä¸¤ä¸ªæ¥ç‚¹ã€‚è¾¾è¾¾å¸Œæœ›é€šè¿‡æ—‹è½¬æœ€å°‘æ•°é‡çš„å…ƒä»¶ï¼Œä½¿ç”µæºä¸å‘åŠ¨è£…ç½®é€šè¿‡è‹¥å¹²æ¡çŸ­ç¼†ç›¸è¿ï¼Œä½†å› ä¸ºæŸäº›å…ƒä»¶çš„æ–¹å‘ä¸æ­£ç¡®ï¼Œå¯¼è‡´ç”µè·¯æ¿å¯èƒ½å¤„äºæ–­è·¯çš„çŠ¶æ€ã€‚éœ€è¦è®¡ç®—æœ€å°‘æ—‹è½¬çš„æ¬¡æ•°æ¥ä½¿å¾—ç”µæºå’Œå‘åŠ¨æœºä¹‹é—´è¿é€šã€‚\nå®ç°æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰æ¥è§£å†³æ­¤é—®é¢˜ã€‚é¦–å…ˆï¼Œåˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„ d ç”¨äºå­˜å‚¨ä»èµ·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»ã€‚ç„¶åï¼Œåˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼éå†ç”µè·¯æ¿çš„æ¯ä¸ªæ ¼ç‚¹ï¼Œå¦‚æœå‘ç°æŸä¸ªæ ¼ç‚¹çš„çŠ¶æ€éœ€è¦æ”¹å˜ï¼ˆå³å½“å‰æ ¼ç‚¹çš„å…ƒä»¶æ–¹å‘ä¸æ‰€éœ€æ–¹å‘ä¸ä¸€è‡´ï¼‰ï¼Œåˆ™æ›´æ–°è¯¥æ ¼ç‚¹çš„çŠ¶æ€å¹¶å°†å…¶åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚æœ€åï¼Œè¿”å›ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»å³å¯ï¼Œå¦‚æœæ— æ³•åˆ°è¾¾ç»ˆç‚¹ï¼Œåˆ™è¾“å‡º \u0026ldquo;NO SOLUTION\u0026rdquo;ã€‚\nimport sys input = lambda:sys.stdin.readline().strip() from collections import deque dire = [(-1, -1), (-1, 1), (1, 1), (1, -1)] mov = [(-1, -1), (-1, 0), (0, 0), (0, -1)] ch = \u0026#34;\\\\/\\\\/\u0026#34; def bfs(): dq = deque() d = [[float(\u0026#39;inf\u0026#39;)]*(c+1) for _ in range(r+1)] d[0][0] = 0 dq.append((0, 0)) while dq: x, y = dq.popleft() for i in range(4): xx, yy = x + dire[i][0], y + dire[i][1] if 0\u0026lt;=xx\u0026lt;=r and 0\u0026lt;=yy\u0026lt;=c: j, k = x+mov[i][0], y + mov[i][1] w = 1 if g[j][k] != ch[i] else 0 if d[xx][yy] \u0026gt; d[x][y] + w: d[xx][yy] = d[x][y] + w if w: dq.append((xx, yy)) else: dq.appendleft((xx, yy)) return -1 if d[r][c] == float(\u0026#39;inf\u0026#39;) else d[r][c] t = int(input()) for _ in range(t): r, c = map(int, input().split()) g = [input() for _ in range(r)] res = bfs() print(res if res != -1 else \u0026#34;NO SOLUTION\u0026#34;) A* 179. å…«æ•°ç  é¢˜ç›®å¤§æ„ï¼šåœ¨ä¸€ä¸ª 3Ã—3 çš„ç½‘æ ¼ä¸­ï¼Œæ•°å­— 1âˆ¼8 ä¸ä¸€ä¸ª x æ°å¥½ä¸é‡ä¸æ¼åœ°åˆ†å¸ƒåœ¨è¿™ä¸ªç½‘æ ¼ä¸­ã€‚å¯ä»¥é€šè¿‡æŠŠ x ä¸å…¶ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ä¹‹ä¸€çš„æ•°å­—äº¤æ¢ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æ¥æ”¹å˜ç½‘æ ¼çš„çŠ¶æ€ï¼Œç›®æ ‡æ˜¯é€šè¿‡æœ€å°‘çš„ç§»åŠ¨æ¬¡æ•°ï¼Œä½¿å¾—ç½‘æ ¼å˜ä¸ºæ­£ç¡®æ’åˆ—ã€‚\nå®ç°æ€è·¯ï¼šä½¿ç”¨ A* ç®—æ³•æ¥è§£å†³è¯¥é—®é¢˜ã€‚é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªå¯å‘å‡½æ•°ç”¨äºä¼°è®¡å½“å‰çŠ¶æ€åˆ°è¾¾ç›®æ ‡çŠ¶æ€çš„æœ€å°ç§»åŠ¨æ¬¡æ•°ã€‚ç„¶åï¼Œåˆ©ç”¨ A* ç®—æ³•è¿›è¡Œæœç´¢ï¼Œä¸æ–­æ›´æ–°å½“å‰çŠ¶æ€åˆ°è¾¾ç›®æ ‡çŠ¶æ€çš„æœ€å°ç§»åŠ¨æ¬¡æ•°ï¼Œå¹¶è®°å½•æ¯ä¸€æ­¥çš„ç§»åŠ¨æ“ä½œã€‚æœ€åï¼Œè¾“å‡ºå¾—åˆ°çš„å®Œæ•´è¡ŒåŠ¨è®°å½•å³å¯ã€‚å¦‚æœä¸å­˜åœ¨è§£å†³æ–¹æ¡ˆï¼Œåˆ™è¾“å‡º \u0026ldquo;unsolvable\u0026rdquo;ã€‚\nfrom heapq import heappush, heappop d = [(-1, 0), (0, 1), (1, 0), (0, -1)] op = \u0026#34;urdl\u0026#34; def heuristic(state): # å¯å‘å¼ ans = 0 for i, st in enumerate(state): if st==\u0026#39;x\u0026#39;: continue t = int(st)-1 ans += abs(t//3 - i//3) + abs(t%3 - i%3) return ans def astar(): dis, pre = dict(), dict() end = \u0026#34;12345678x\u0026#34; dis[start] = 0 h = [] heappush(h, (heuristic(start), start)) while h: _, state = heappop(h) if state == end: break x, y = divmod(state.index(\u0026#39;x\u0026#39;), 3) src = state for i in range(4): a, b = x+d[i][0], y+d[i][1] if 0\u0026lt;=a\u0026lt;3 and 0\u0026lt;=b\u0026lt;3: ls = list(state) ls[3*x+y], ls[3*a+b] = ls[3*a+b], ls[3*x+y] new_state = \u0026#39;\u0026#39;.join(ls) if new_state not in dis or dis[new_state] \u0026gt; dis[src] + 1: dis[new_state] = dis[src] + 1 pre[new_state] = (op[i], src) heappush(h, (dis[new_state] + heuristic(new_state), new_state)) ans = \u0026#39;\u0026#39; while end != start: ans = pre[end][0] + ans end = pre[end][1] return ans start = \u0026#39;\u0026#39;.join(input().split()) s = start.replace(\u0026#39;x\u0026#39;, \u0026#39;\u0026#39;) cnt = sum(s[i]\u0026gt;s[j] for i in range(8) for j in range(i, 8)) if cnt\u0026amp;1: print(\u0026#34;unsolvable\u0026#34;) else: print(astar()) IDA* æ’ä¹¦ å¯»æ‰¾ä¼°ä»·å‡½æ•°ï¼Œ ä¸€å®šå°äºç­‰äºçœŸå®å€¼ï¼Œå¹¶è¶Šæ¥è¿‘çœŸå®å€¼\nè¿™é“é¢˜ç›®è¦æ±‚ç»™å®š n æœ¬ä¹¦ï¼Œæ¯æœ¬ä¹¦ç¼–å·ä¸º 1 åˆ° nï¼Œåˆå§‹çŠ¶æ€ä¸‹ï¼Œä¹¦æ˜¯ä»»æ„æ’åˆ—çš„ã€‚æ¯æ¬¡æ“ä½œå¯ä»¥æŠ½å–å…¶ä¸­è¿ç»­çš„ä¸€æ®µï¼Œå†æŠŠè¿™æ®µæ’å…¥åˆ°å…¶ä»–æŸä¸ªä½ç½®ã€‚ç›®æ ‡æ˜¯å°†ä¹¦æŒ‰ç…§ 1 åˆ° n çš„é¡ºåºä¾æ¬¡æ’åˆ—ã€‚è¦æ±‚è®¡ç®—æœ€å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•° f()ï¼Œç”¨æ¥è®¡ç®—å½“å‰çŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€ä¹‹é—´çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚è¿™ä¸ªå‡½æ•°é€šè¿‡éå†æ¯å¯¹ç›¸é‚»ä¹¦çš„ç¼–å·ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦è¿ç»­ï¼Œå¦‚æœä¸è¿ç»­åˆ™éœ€è¦è¿›è¡Œä¸€æ¬¡æ“ä½œã€‚æœ€åè¿”å›æ“ä½œæ¬¡æ•°ã€‚ ç„¶åå®šä¹‰ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢å‡½æ•° dfs(u)ï¼Œå…¶ä¸­ u è¡¨ç¤ºå½“å‰æœç´¢çš„æ·±åº¦ã€‚åœ¨æ¯æ¬¡æœç´¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰æ·±åº¦åŠ ä¸Šåˆ°ç›®æ ‡çŠ¶æ€çš„æœ€å°æ“ä½œæ¬¡æ•°æ˜¯å¦è¶…è¿‡å·²ç»å¾—åˆ°çš„æœ€å°æ“ä½œæ¬¡æ•°ï¼Œå¦‚æœè¶…è¿‡åˆ™ç›´æ¥è¿”å› Falseï¼Œå¦åˆ™ç»§ç»­æœç´¢ã€‚ åœ¨ dfs å‡½æ•°ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­å¦‚æœå½“å‰çŠ¶æ€å·²ç»æ˜¯ç›®æ ‡çŠ¶æ€ï¼Œåˆ™ç›´æ¥è¿”å› Trueã€‚å¦åˆ™ï¼Œæˆ‘ä»¬éå†æ‰€æœ‰å¯èƒ½çš„æ“ä½œï¼Œä»ä¸­é€‰æ‹©ä¸€ç§æ“ä½œæ–¹å¼ï¼Œç„¶åé€’å½’è°ƒç”¨ dfs å‡½æ•°ã€‚ åœ¨ä¸»ç¨‹åºä¸­ï¼Œä¾æ¬¡è¯»å…¥æ¯ç»„æ•°æ®ï¼Œç„¶åè¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œç›´åˆ°å¾—åˆ°ç»“æœæˆ–è€…æœç´¢æ·±åº¦è¾¾åˆ° 5ã€‚æœ€åæ ¹æ®å¾—åˆ°çš„ç»“æœè¾“å‡ºæœ€å°æ“ä½œæ¬¡æ•°æˆ–è€… \u0026ldquo;5 or more\u0026rdquo;ã€‚ def f(): res = 0 for i in range(n-1): if a[i] != a[i+1]-1: res += 1 return (res+2)//3 def dfs(u): global a if u + f() \u0026gt; dep: return False if f()==0: return True for leng in range(n, 0, -1): for l in range(n-leng+1): r = l+leng-1 for k in range(l, r+1): bk = a[:] j = l for i in range(k+1, r+1): a[j] = bk[i] j+=1 for i in range(l, k+1): a[j] = bk[i] j+=1 if dfs(u+1): return True a = bk[:] t = int(input()) while t: t-=1 n = int(input()) a = list(map(int, input().split())) dep = 0 while dep\u0026lt;5 and not dfs(0): dep += 1 if dep \u0026lt; 5: print(dep) else: print(\u0026#34;5 or more\u0026#34;) ","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%E4%B8%89%E5%9B%BE%E8%AE%BApython%E5%AE%9E%E7%8E%B0/","summary":"ç®—æ³•ç¬”è®°ï¼ˆä¸‰ï¼‰â€”â€”å›¾è®ºï¼ˆPythonå®ç°ï¼‰ å›¾è®º æ ‘çš„å­˜å‚¨ é‚»æ¥çŸ©é˜µ # åˆ›å»ºä¸€ä¸ªäºŒç»´åˆ—è¡¨è¡¨ç¤ºé‚»æ¥çŸ©é˜µ n = 10 # é¡¶ç‚¹æ•°é‡ g = [[0] * n for _ in range(n)] # æ·»åŠ ä¸€æ¡è¾¹a","title":"ç®—æ³•ç¬”è®°ï¼ˆä¸‰ï¼‰â€”â€”å›¾è®ºï¼ˆPythonå®ç°ï¼‰"},{"content":"ç®—æ³•ç¬”è®°ï¼ˆå››ï¼‰â€”â€”æ•°å­¦ï¼ˆPythonå®ç°ï¼‰ æ•°å­¦ è¯•é™¤æ³•åˆ¤å®šè´¨æ•° def check(x): # åˆ¤å®š if x\u0026lt;2: return False for i in range(2, int(x**0.5)+1): if x%i==0: return False return True n = int(input()) for i in range(n): x = int(input()) if check(x): print(\u0026#34;Yes\u0026#34;) else: print(\u0026#34;No\u0026#34;) è¯•é™¤æ³•åˆ†è§£è´¨å› æ•° def get(x): #åˆ†è§£ for i in range(2, int(x**0.5)+1): if x%i==0: cnt=0 while x%i==0: x//=i cnt+=1 print(i, cnt, sep=\u0026#39; \u0026#39;) if x\u0026gt;1: print(x, 1, sep=\u0026#39; \u0026#39;) n = int(input()) for i in range(n): x = int(input()) get(x) print() çº¿æ€§ç­›æ³•æ±‚ç´ æ•° N = int(1e6+10) primes = [] st = [False]*N def get(n): for i in range(2, n+1): if not st[i]: primes.append(i) for j in range(len(primes)): if i*primes[j]\u0026gt;n: break st[i*primes[j]]=True if i%primes[j]==0: break n = int(input()) get(n) print(len(primes)) æœ´ç´ ç­›æ³•æ±‚ç´ æ•° N = 1000005 # æ ¹æ®éœ€è¦ä¿®æ”¹ primes = [] # å­˜å‚¨æ‰€æœ‰ç´ æ•° st = [False] * N # st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰ # ç­›ç´ æ•°å‡½æ•° def get_primes(n): global primes global st for i in range(2, n + 1): if not st[i]: primes.append(i) for j in range(i, n + 1, i): st[j] = True # Example usage: # get_primes(100) # print(primes) è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•° def get(x): res = [1] for i in range(2, int(x**0.5)+1): if x%i==0: res.append(i) if i!=x//i: res.append(x//i) if x\u0026gt;1: res.append(x) return sorted(res) n = int(input()) for i in range(n): x = int(input()) res = get(x) print(*res) çº¦æ•°ä¸ªæ•°å’Œçº¦æ•°ä¹‹å’Œ å¦‚æœ N = p1^c1 * p2^c2 * ... *pk^ck\rçº¦æ•°ä¸ªæ•°ï¼š (c1 + 1) * (c2 + 1) * ... * (ck + 1)\rçº¦æ•°ä¹‹å’Œï¼š (p1^0 + p1^1 + ... + p1^c1) * ... * (pk^0 + pk^1 + ... + pk^ck) çº¦æ•°ä¹‹å’Œ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸¤ä¸ªè‡ªç„¶æ•° A å’Œ Bï¼Œå®šä¹‰ S ä¸º A*B çš„æ‰€æœ‰çº¦æ•°ä¹‹å’Œã€‚æ±‚ S mod 9901 çš„å€¼ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªå¿«é€Ÿå¹‚å‡½æ•° qpow(a, k) æ¥è®¡ç®—å¹‚è¿ç®—çš„ç»“æœã€‚ç„¶åï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•° calc(p, k) æ¥è®¡ç®— p^k çš„ç»“æœå¹¶å¯¹ mod å–ä½™ã€‚åœ¨ä¸»ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯¹ A è¿›è¡Œè´¨å› æ•°åˆ†è§£ï¼Œå¹¶è®¡ç®—æ¯ä¸ªè´¨å› æ•°çš„å¹‚æ¬¡æ–¹ä¸ B çš„ä¹˜ç§¯ï¼Œå¹¶ç´¯åŠ åˆ°æœ€ç»ˆç»“æœ res ä¸­ã€‚æœ€åï¼Œè¾“å‡º res çš„å€¼å¯¹ mod 9901 å–ä½™çš„ç»“æœã€‚\nimport sys input = lambda:sys.stdin.readline().strip() mod = 9901 def qpow(a, k): res = 1 while k: if k\u0026amp;1: res = res*a%mod a = a*a%mod k\u0026gt;\u0026gt;=1 return res def calc(p, k): if k==0: return 1 if k%2==1: return (1+qpow(p, k//2+1)) * calc(p, k//2) % mod return (qpow(p, k)%mod + (1 + qpow(p, (k-1)//2+1)) * calc(p, (k-1)//2)) % mod a, b = map(int, input().split()) res = 1 for i in range(2, a+1): if a\u0026lt;i: break s = 0 while a%i==0: s+=1 a//=i if s: res = res * calc(i, s*b) % mod print(res if a else 0) gcd def gcd(a, b): return gcd(b, a % b) if b else a æ±‚æ¬§æ‹‰å‡½æ•° def get(x): res = x for i in range(2, int(x**0.5)+1): if x%i==0: res = res//i*(i-1) while x%i==0: x//=i if x\u0026gt;1: res = res//x*(x-1) return res n = int(input()) for i in range(n): x = int(input()) print(get(x)) ç­›æ³•æ±‚æ¬§æ‹‰å‡½æ•° N = int(1e6+10) primes = [] euler = [0]*N st = [False]*N cnt = 0 def get(n): euler[1] = 1 for i in range(2, n+1): if not st[i]: primes.append(i) euler[i] = i-1 for j in range(len(primes)): t = primes[j]*i if t\u0026gt;n: break st[t] = True if i%primes[j]==0: euler[t] = euler[i]*primes[j] break euler[t] = euler[i]*(primes[j]-1) n = int(input()) get(n) for i in range(1,n+1): cnt+=euler[i] print(cnt) å¿«é€Ÿå¹‚ # å¿«é€Ÿå¹‚å‡½æ•° def qmi(m, k, p): res, t = 1 % p, m while k: if k \u0026amp; 1: res = res * t % p t = t * t % p k \u0026gt;\u0026gt;= 1 return res # Example usage: # result = qmi(2, 10, 1000000007) # print(result) æ‹“å±•æ¬§å‡ é‡Œå¾— # æ±‚ x, yï¼Œä½¿å¾— ax + by = gcd(a, b) def exgcd(a, b, x, y): if b == 0: x[0], y[0] = 1, 0 return a d = exgcd(b, a % b, y, x) y[0] -= (a // b) * x[0] return d # Example usage: # x = [0] # y = [0] # gcd = exgcd(30, 20, x, y) # print(\u0026#34;x:\u0026#34;, x[0], \u0026#34;y:\u0026#34;, y[0], \u0026#34;gcd:\u0026#34;, gcd) P1082 [NOIP2012 æé«˜ç»„] åŒä½™æ–¹ç¨‹ é¢˜ç›®æè¿°ï¼šæ±‚è§£å…³äºxçš„åŒä½™æ–¹ç¨‹$ax â‰¡ 1 (mod b)$çš„æœ€å°æ­£æ•´æ•°è§£ã€‚\nå®ç°æ€è·¯ï¼šè¿™ä¸ªé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºæ±‚è§£$ax + by = gcd(a, b)$çš„è§£ï¼Œå…¶ä¸­xå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç»“æœã€‚å¯ä»¥åˆ©ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æ¥æ±‚è§£è¿™ä¸ªæ–¹ç¨‹ã€‚å…·ä½“åœ°ï¼Œé€šè¿‡é€’å½’çš„æ–¹å¼æ±‚è§£å‡ºæœ€å¤§å…¬çº¦æ•°ï¼Œå¹¶ä¸”æ±‚è§£å‡ºä½¿å¾—$ax + by = gcd(a, b)$æˆç«‹çš„æ•´æ•°xå’Œyã€‚ç„¶åé€šè¿‡å¯¹xå–æ¨¡bçš„æ“ä½œå¾—åˆ°æœ€å°æ­£æ•´æ•°è§£xã€‚æœ€åè¾“å‡ºxå³å¯ã€‚\n# æ±‚ x, yï¼Œä½¿å¾— ax + by = gcd(a, b) def exgcd(a, b, x, y): if b == 0: x[0], y[0] = 1, 0 return a d = exgcd(b, a % b, y, x) y[0] -= (a // b) * x[0] return d a, b = map(int, input().split()) x, y = [0], [0] exgcd(a, b, x, y) x = x[0] x = (x%b+b)%b print(x) é€’æ¨æ³•æ±‚ç»„åˆæ•° N = int(2e3)+10 mod = int(1e9)+7 c = [[0]*N for _ in range(N)] def get(n): for i in range(n+1): for j in range(i+1): if j==0: c[i][j] = 1 else: c[i][j] = (c[i-1][j]+c[i-1][j-1])%mod MN = int(2e3) get(MN) n = int(input()) for i in range(n): a, b = map(int, input().split()) print(c[a][b]) é€šè¿‡é¢„å¤„ç†é€†å…ƒçš„æ–¹å¼æ±‚ç»„åˆæ•° mod = int(1e9)+7 N = int(2e5)+10 fact, infact = [0]*N, [0]*N def qpow(a, k, p): res = 1 while k: if k\u0026amp;1: res = (res*a)%p a = (a*a)%p k\u0026gt;\u0026gt;=1 return res def init(): fact[0] = infact[0] = 1 for i in range(1, N): fact[i] = (fact[i-1]*i)%mod infact[i] = (infact[i-1]*qpow(i, mod-2, mod))%mod def C(n, m): if n\u0026lt;m: return 0 return (fact[n]*infact[m]%mod*infact[n-m]%mod) init() n = int(input()) for i in range(n): a, b = map(int, input().split()) print(C(a, b)) Lucaså®šç† p = 1000000007 # æ ¹æ®éœ€è¦è°ƒæ•´ # å¿«é€Ÿå¹‚æ¨¡æ¿ def qmi(a, k): res = 1 while k: if k \u0026amp; 1: res = (res * a) % p a = (a * a) % p k \u0026gt;\u0026gt;= 1 return res # é€šè¿‡å®šç†æ±‚ç»„åˆæ•°C(a, b) def C(a, b): res = 1 for i in range(1, b + 1): res = (res * (a - i + 1)) % p res = (res * qmi(i, p - 2)) % p return res # Lucaså®šç†è®¡ç®—ç»„åˆæ•° def lucas(a, b): if a \u0026lt; p and b \u0026lt; p: return C(a, b) return (C(a % p, b % p) * lucas(a // p, b // p)) % p # Example usage: # result = lucas(10, 5) # è®¡ç®—ç»„åˆæ•° C(10, 5) # print(result) åˆ†è§£è´¨å› æ•°æ³•æ±‚ç»„åˆæ•° åˆ†è§£è´¨å› æ•°æ³•è®¡ç®—ç»„åˆæ•°ï¼š\nè·å–å°äºç­‰äº a çš„æ‰€æœ‰è´¨æ•°ã€‚ åˆå§‹åŒ–è´¨æ•°çš„å¹‚æ¬¡åˆ—è¡¨ sã€‚ å¯¹æ¯ä¸ªè´¨æ•° pï¼Œè®¡ç®—åœ¨ a!ï¼Œb! å’Œ (a-b)! ä¸­ p çš„å¹‚æ¬¡ï¼Œé€šè¿‡ get(a, p) - get(b, p) - get(a - b, p) å¾—åˆ°ç»„åˆæ•°åˆ†è§£ä¸­ p çš„æ€»å¹‚æ¬¡ã€‚ é€šè¿‡å¿«é€Ÿå¹‚è®¡ç®—æ¯ä¸ªè´¨æ•° p çš„å¹‚æ¬¡ä¹˜ç§¯ï¼Œæœ€ç»ˆå¾—åˆ°ç»„åˆæ•°ã€‚ def get_primes(n): primes = [] st = [False]*(n+1) for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break return primes def get(n, p): cnt = 0 while n: cnt += n//p n//=p return cnt def qpow(a, k): res = 1 while k: if k\u0026amp;1: res = res * a a = a*a k\u0026gt;\u0026gt;=1 return res def calc(a, b): primes = get_primes(a) n = len(primes) res = 1 for i, p in enumerate(primes): s = get(a, p) - get(b, p) - get(a-b, p) res *= qpow(p, s) return res a, b = map(int, input().split()) print(calc(a, b)) é«˜æ–¯æ¶ˆå…ƒ eps = 1e-8 # æ ¹æ®éœ€è¦è°ƒæ•´ # a æ˜¯å¢å¹¿çŸ©é˜µï¼Œn æ˜¯çŸ©é˜µç»´åº¦ def gauss(a, n): c, r = 0, 0 for c in range(n): t = r for i in range(r, n): if abs(a[i][c]) \u0026gt; abs(a[t][c]): t = i if abs(a[t][c]) \u0026lt; eps: continue for i in range(c, n + 1): a[r][i], a[t][i] = a[t][i], a[r][i] for i in range(n, c - 1, -1): a[r][i] //= a[r][c] for i in range(r + 1, n): if abs(a[i][c]) \u0026gt; eps: for j in range(n, c - 1, -1): a[i][j] -= a[r][j] * a[i][c] r += 1 if r \u0026lt; n: for i in range(r, n): if abs(a[i][n]) \u0026gt; eps: return 2 # æ— è§£ return 1 # æœ‰æ— ç©·å¤šç»„è§£ for i in range(n - 1, -1, -1): for j in range(i + 1, n): a[i][n] -= a[i][j] * a[j][n] return 0 # æœ‰å”¯ä¸€è§£ # Example usage: # a = [[2, 1, -1, 8], [-3, -1, 2, -11], [-2, 1, 2, -3]] # n = 3 # result = gauss(a, n) # print(result) ","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%E5%9B%9B%E6%95%B0%E5%AD%A6python%E5%AE%9E%E7%8E%B0/","summary":"ç®—æ³•ç¬”è®°ï¼ˆå››ï¼‰â€”â€”æ•°å­¦ï¼ˆPythonå®ç°ï¼‰ æ•°å­¦ è¯•é™¤æ³•åˆ¤å®šè´¨æ•° def check(x): # åˆ¤å®š if x\u0026lt;2: return False for i in range(2, int(x**0.5)+1): if x%i==0: return False return True n = int(input()) for i in range(n): x = int(input()) if check(x): print(\u0026#34;Yes\u0026#34;) else: print(\u0026#34;No\u0026#34;) è¯•é™¤æ³•åˆ†è§£","title":"ç®—æ³•ç¬”è®°ï¼ˆå››ï¼‰â€”â€”æ•°å­¦ï¼ˆPythonå®ç°ï¼‰"},{"content":"ç®—æ³•ç¬”è®°ï¼ˆäº”ï¼‰â€”â€”DPï¼ˆPythonå®ç°ï¼‰ DP æ•°å­—ä¸‰è§’å½¢ f=[] n=int(input()) for _ in range(n): f.append([int(x) for x in input().split()]) for i in range(n-2,-1,-1): for j in range(i+1): f[i][j]=max(f[i+1][j], f[i+1][j+1])+f[i][j] print(f[0][0]) èƒŒåŒ… ç©ºé—´ä¼˜åŒ–æˆ1ç»´ä¹‹åï¼Œåªæœ‰å®Œå…¨èƒŒåŒ…é—®é¢˜çš„ä½“ç§¯æ˜¯ä»å°åˆ°å¤§å¾ªç¯çš„\n01èƒŒåŒ… N = int(1e3+10) f=[ 0 for _ in range(N) ] n,v=map(int,input().split()) for i in range(n): vi,wi=map(int,input().split()) for j in range(v, vi-1,-1): f[j]=max(f[j],f[j-vi]+wi) print(f[v]) å¤šé‡èƒŒåŒ… å•è°ƒé˜Ÿåˆ— MN = int(2e4+10) f=[0 for _ in range(MN)] q=[0 for _ in range(MN)] g=[0 for _ in range(MN)] N,V = map(int, input().split()) for i in range(N): v,w,s=map(int, input().split()) g=f[:] for j in range(v): hh,tt=0,-1 for k in range(j,V+1,v): while hh\u0026lt;=tt and q[hh]\u0026lt;k-s*v: hh+=1 while hh\u0026lt;=tt and g[q[tt]]+(k-q[tt])//v*w \u0026lt;= g[k]: tt-=1 tt+=1 q[tt]=k f[k]=g[q[hh]]+(k-q[hh])//v*w print(f[V]) äºŒç»´è´¹ç”¨èƒŒåŒ… N = int(1e2+10) f=[[0]*N for _ in range(N)] n,V,M = map(int , input().split()) for i in range(n): v,m,w=map(int , input().split()) for j in range(V,v-1,-1): for k in range(M, m-1, -1): f[j][k]=max(f[j][k], f[j-v][k-m]+w) print(f[V][M]) å® ç‰©å°ç²¾çµ é¢˜ç›®å¤§æ„ï¼šå°æ™ºåœ¨é‡å¤–æ•æ‰å® ç‰©å°ç²¾çµï¼Œä»–å¸¦äº†ä¸€äº›ç²¾çµçƒå’Œçš®å¡ä¸˜ï¼Œç²¾çµçƒå¯ä»¥æ•æ‰å°ç²¾çµï¼Œä½†æ¯æ•æ‰ä¸€ä¸ªå°ç²¾çµéƒ½ä¼šæ¶ˆè€—ç²¾çµçƒå’Œå‡å°‘çš®å¡ä¸˜çš„ä½“åŠ›ã€‚ç°åœ¨ç»™å®šå°æ™ºæ‹¥æœ‰çš„ç²¾çµçƒæ•°é‡ã€çš®å¡ä¸˜çš„åˆå§‹ä½“åŠ›å€¼ä»¥åŠæ¯ä¸ªå°ç²¾çµéœ€è¦çš„ç²¾çµçƒæ•°é‡å’Œå¯¹çš®å¡ä¸˜é€ æˆçš„ä¼¤å®³æ•°ç›®ï¼Œé—®å°æ™ºæœ€å¤šèƒ½æ•æ‰å¤šå°‘ä¸ªå°ç²¾çµï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçš®å¡ä¸˜çš„å‰©ä½™ä½“åŠ›å€¼æœ€å¤šæ˜¯å¤šå°‘ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼Œå®šä¹‰çŠ¶æ€ f[i][j] è¡¨ç¤ºä½¿ç”¨ i ä¸ªç²¾çµçƒæ—¶ï¼Œå¯¹çš®å¡ä¸˜é€ æˆ j ä¼¤å®³æ—¶èƒ½å¤Ÿæ•æ‰åˆ°çš„å°ç²¾çµæ•°é‡ã€‚ éå†æ¯ä¸ªé‡ç”Ÿå°ç²¾çµï¼Œæ›´æ–°çŠ¶æ€æ•°ç»„ fã€‚ æœ€åè¾“å‡º f[n][m-1] è¡¨ç¤ºæ•æ‰åˆ°çš„å°ç²¾çµæ•°é‡ï¼Œç„¶åå†è®¡ç®—çš®å¡ä¸˜çš„å‰©ä½™ä½“åŠ›å€¼ã€‚ N = int(1e3+10) M = int(5e2+10) f=[[0]*M for _ in range(N)] n,m,kk = map(int, input().split()) for i in range(kk): v1,v2=map(int, input().split()) for j in range(n, v1-1, -1): for k in range(m-1,v2-1,-1): f[j][k]=max(f[j][k], f[j-v1][k-v2]+1) print(f[n][m-1], end=\u0026#34; \u0026#34;) t=m-1 while t\u0026gt;0 and f[n][m-1]==f[n][t-1]: t-=1 print(m-t) æ½œæ°´ æœ€å¤š\næ°å¥½\næœ€å°‘\né¢˜ç›®å¤§æ„ï¼šæ½œæ°´å‘˜éœ€è¦ä½¿ç”¨ç‰¹æ®Šè£…å¤‡ä¸‹æ½œï¼Œè£…å¤‡æœ‰ä¸¤ç§æ°”ç¼¸ï¼Œä¸€ç§æ°§æ°”ï¼Œä¸€ç§æ°®æ°”ï¼Œæ¯ä¸ªæ°”ç¼¸æœ‰ä¸€å®šçš„é‡é‡å’Œæ°”ä½“å®¹é‡ã€‚ä¸‹æ½œçš„æ·±åº¦éœ€è¦ä¸€å®šæ•°é‡çš„æ°§æ°”å’Œæ°®æ°”ã€‚ç°åœ¨ç»™å®šæ½œæ°´å‘˜éœ€è¦çš„æ°§æ°”å’Œæ°®æ°”çš„é‡ï¼Œä»¥åŠæ¯ä¸ªæ°”ç¼¸çš„æ°§æ°”ã€æ°®æ°”å®¹é‡å’Œé‡é‡ï¼Œæ±‚å®Œæˆå·¥ä½œæ‰€éœ€æ°”ç¼¸çš„æ€»é‡çš„æœ€ä½å€¼ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼Œå®šä¹‰çŠ¶æ€ f[i][j] è¡¨ç¤ºæ»¡è¶³æ°§æ°”éœ€æ±‚ä¸º iï¼Œæ°®æ°”éœ€æ±‚ä¸º j æ—¶çš„æœ€å°æ°”ç¼¸æ€»é‡é‡ã€‚ éå†æ¯ä¸ªæ°”ç¼¸ï¼Œæ›´æ–°çŠ¶æ€æ•°ç»„ fã€‚ æœ€åè¾“å‡º f[m][n] è¡¨ç¤ºå®Œæˆå·¥ä½œæ‰€éœ€çš„æ°”ç¼¸çš„æ€»é‡çš„æœ€ä½å€¼ã€‚ N = int(1e2+10) INF = 0x3f3f3f3f f=[ [INF]*N for _ in range(N) ] f[0][0]=0 m,n=map(int, input().split()) k=int(input()) for i in range(k): a,b,c=map(int, input().split()) for j in range(m,-1,-1): for k in range(n,-1,-1): f[j][k]=min(f[j][k], f[max(j-a, 0)][max(k-b, 0)]+c) print(f[m][n]) åº†åŠŸä¼š é¢˜ç›®å¤§æ„ï¼šä¸ºäº†åº†ç¥ç­çº§åœ¨å­¦æ ¡è¿åŠ¨ä¼šä¸Šå–å¾—ç¬¬ä¸€åï¼Œç­ä¸»ä»»å†³å®šå¼€ä¸€åœºåº†åŠŸä¼šï¼Œå¹¶æ‹¨æ¬¾è´­ä¹°å¥–å“çŠ’åŠ³è¿åŠ¨å‘˜ã€‚éœ€è¦é€‰æ‹©è´­ä¹°çš„å¥–å“ï¼Œä½¿å¾—è´­ä¹°çš„å¥–å“çš„æ€»ä»·å€¼æœ€å¤§ï¼Œä¸”ä¸è¶…è¿‡æ‹¨æ¬¾é‡‘é¢ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼Œå®šä¹‰çŠ¶æ€ f[i] è¡¨ç¤ºæ‹¨æ¬¾é‡‘é¢ä¸º i æ—¶å¯ä»¥è´­ä¹°çš„å¥–å“çš„æœ€å¤§æ€»ä»·å€¼ã€‚ éå†æ¯ä¸ªå¥–å“ï¼Œæ›´æ–°çŠ¶æ€æ•°ç»„ fã€‚ æœ€åè¾“å‡º f[m]ï¼Œå³æ‹¨æ¬¾é‡‘é¢ä¸º m æ—¶å¯ä»¥è´­ä¹°çš„å¥–å“çš„æœ€å¤§æ€»ä»·å€¼ã€‚ N = int(6e3+10) f=[0 for _ in range(N)] n,m = map(int, input().split()) for i in range(n): v,w,s=map(int, input().split()) for j in range(1,s+1): for k in range(m, v-1, -1): f[k]=max(f[k], f[k-v]+w) print(f[m]) åˆ†ç»„èƒŒåŒ… åˆ†ç»„èƒŒåŒ…çš„é¡ºåºï¼š\nç‰©å“ç»„ ä½“ç§¯ å†³ç­– N = int(1e2+10) f=[0 for _ in range(N)] v=[0 for _ in range(N)] w=[0 for _ in range(N)] N,V = map(int, input().split()) for i in range(N): # ç‰©å“ç»„ s=int(input()) for j in range(s): v[j],w[j]=map(int, input().split()) for j in range(V,-1,-1): #ä½“ç§¯ for k in range(s): #å†³ç­– if j\u0026gt;=v[k]: f[j]=max(f[j], f[j-v[k]]+w[k]) print(f[V]) æœºå™¨åˆ†é… å¤šé‡èƒŒåŒ…å˜ç§\né¢˜ç›®å¤§æ„ï¼šæ€»å…¬å¸æœ‰Må°ç›¸åŒçš„é«˜æ•ˆè®¾å¤‡ï¼Œè¦åˆ†ç»™Nä¸ªåˆ†å…¬å¸ã€‚æ¯ä¸ªåˆ†å…¬å¸æ ¹æ®åˆ†é…çš„è®¾å¤‡æ•°é‡èƒ½å¤Ÿä¸ºå›½å®¶å¸¦æ¥ä¸€å®šçš„ç›ˆåˆ©ã€‚é—®å¦‚ä½•åˆ†é…è¿™Må°è®¾å¤‡æ‰èƒ½ä½¿å›½å®¶å¾—åˆ°çš„ç›ˆåˆ©æœ€å¤§ï¼Œè¾“å‡ºæœ€å¤§ç›ˆåˆ©å€¼å’Œåˆ†é…æ–¹æ¡ˆã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„èƒŒåŒ…é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚å®šä¹‰çŠ¶æ€dp[i][j]è¡¨ç¤ºå‰iä¸ªåˆ†å…¬å¸ä¸­ï¼Œåˆ†é…jå°è®¾å¤‡æ‰€èƒ½è·å¾—çš„æœ€å¤§ç›ˆåˆ©ã€‚è½¬ç§»æ–¹ç¨‹ä¸ºdp[i][j] = max(dp[i-1][j-k] + w[i][k])ï¼Œå…¶ä¸­kè¡¨ç¤ºç¬¬iä¸ªåˆ†å…¬å¸åˆ†é…çš„è®¾å¤‡æ•°é‡ï¼Œ0 \u0026lt;= k \u0026lt;= jã€‚æœ€åéå†æ±‚è§£å¾—åˆ°æœ€å¤§ç›ˆåˆ©å€¼ï¼Œå¹¶è®°å½•åˆ†é…æ–¹æ¡ˆã€‚\nN = 100 f=[0 for _ in range(N)] w=[[0]*N for _ in range(N)] c=[[0]*N for _ in range(N)] n,m=map(int, input().split()) for i in range(n): w[i]=[0]+[int(x) for x in input().split()] for i in range(n): for j in range(m,-1,-1): for k in range(1,j+1): if f[j-k]+w[i][k] \u0026gt; f[j]: f[j]=f[j-k]+w[i][k] c[i][j]=k print(f[m]) t=m for i in range(n-1,-1,-1): print(i+1, c[i][t]) t-=c[i][t] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ é¢˜ç›®æè¿°ï¼šé‡‘æ˜æƒ³è´­ä¹°ç‰©å“ï¼Œå…¶ä¸­æœ‰ä¸»ä»¶å’Œé™„ä»¶ã€‚æ¯ä¸ªä¸»ä»¶å¯ä»¥æœ‰0ä¸ªã€1ä¸ªæˆ–2ä¸ªé™„ä»¶ï¼Œé™„ä»¶ä¸èƒ½æœ‰ä»å±äºè‡ªå·±çš„é™„ä»¶ã€‚é‡‘æ˜å¸Œæœ›åœ¨ä¸è¶…è¿‡Nå…ƒï¼ˆå¯ä»¥ç­‰äºNå…ƒï¼‰çš„å‰æä¸‹ï¼Œä½¿æ¯ä»¶ç‰©å“çš„ä»·æ ¼ä¸é‡è¦åº¦çš„ä¹˜ç§¯çš„æ€»å’Œæœ€å¤§ã€‚ç‰©å“çš„ä»·æ ¼éƒ½æ˜¯10å…ƒçš„æ•´æ•°å€ã€‚\nå®ç°æ€è·¯ï¼šè¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚é¦–å…ˆï¼Œéœ€è¦å°†ä¸»ä»¶å’Œé™„ä»¶åˆ†å¼€å¤„ç†ã€‚å¯¹äºæ¯ä¸€ä¸ªç‰©å“ï¼Œåˆ†åˆ«è€ƒè™‘ä¸åŒé™„ä»¶æ•°é‡çš„æƒ…å†µï¼Œè®¡ç®—å¯èƒ½çš„ä»·æ ¼ä¸é‡è¦åº¦ä¹˜ç§¯çš„æ€»å’Œï¼Œç„¶åæ›´æ–°åŠ¨æ€è§„åˆ’æ•°ç»„fã€‚æœ€ç»ˆï¼Œè¿”å›f[n]å³å¯å¾—åˆ°ç»“æœã€‚\nN = 80 M = 32010 f=[0 for _ in range(M)] mas=[[0,0] for _ in range(N)] ser=[[] for _ in range(N)] n,m=map(int,input().split()) for i in range(1,m+1): v,p,q=map(int, input().split()) if q==0: mas[i]=[v,v*p] else: ser[q].append((v, v*p)) for i in range(1,m+1): for j in range(n, -1, -1): for k in range( (1 \u0026lt;\u0026lt; len(ser[i]) )): v,p=mas[i] for l in range(len(ser[i])): if k\u0026gt;\u0026gt;l \u0026amp; 1: v+=ser[i][l][0] p+=ser[i][l][1] if j\u0026gt;=v: f[j]=max(f[j], f[j-v]+p) print(f[n]) æ‘˜èŠ±ç”Ÿ N = 105 f=[ [0]*N for _ in range(N)] t=int(input()) for _ in range(t): r,c=map(int, input().split()) for i in range(1,r+1): f[i] = [0] + [int(x) for x in input().split()] for j in range(1,c+1): f[i][j]+=max(f[i-1][j], f[i][j-1]) print(f[r][c]) æœ€å°é€šè¡Œè´¹ N = int(1e3+10) INF = 0x3f3f3f3f f = [[INF]*N for _ in range(N)] f[1][0]=f[0][1]=0 n=int(input()) for i in range(1,n+1): f[i]=[INF]+[int(x) for x in input().split()] for i in range(1,n+1): for j in range(1,n+1): f[i][j]+=min(f[i-1][j],f[i][j-1]) print(f[n][n]) æ–¹æ ¼ N = 15 g = [[0]*N for _ in range(N)] f = [[[[0]*N for _ in range(N)] for _ in range(N)] for _ in range(N)] n=int(input()) while True: r,c,x=map(int,input().split()) if r==0 and c==0 and x==0: break g[r][c]=x for i in range(1,n+1): for j in range(1,n+1): for k in range(1,n+1): for l in range(1,n+1): if i==k and j==l: f[i][j][k][l] = max(f[i-1][j][k-1][l], f[i-1][j][k][l-1], f[i][j-1][k-1][l], f[i][j-1][k][l-1]) + g[i][j] else: f[i][j][k][l] = max(f[i-1][j][k-1][l], f[i-1][j][k][l-1], f[i][j-1][k-1][l], f[i][j-1][k][l-1]) + g[i][j] + g[k][l] print(f[n][n][n][n]) N = 55 g=[[0]*N for _ in range(N)] f=[[[[0]*N for _ in range(N)] for _ in range(N)] for _ in range(N)] m,n=map(int, input().split()) for i in range(1,m+1): g[i]=[0]+[int(x) for x in input().split()] for i in range(1,m+1): for j in range(1,n+1): for k in range(1,m+1): for l in range(1,n+1): if i==k and j==l: f[i][j][k][l]=max(f[i-1][j][k-1][l], f[i-1][j][k][l-1], f[i][j-1][k-1][l], f[i][j-1][k][l-1])+g[i][j] else: f[i][j][k][l]=max(f[i-1][j][k-1][l], f[i-1][j][k][l-1], f[i][j-1][k-1][l], f[i][j-1][k][l-1])+g[i][j]+g[k][l] print(f[m][n][m][n]) LIS \u0026amp; LCS LIS N=int(1e3+10) f=[1 for _ in range(N)] a=[] n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): for j in range(1,i): if a[i]\u0026gt;a[j]: f[i]=max(f[i],f[j]+1) ans = 0 for i in range(1,n+1): ans = max(ans, f[i]) print(ans) LCS N = int(1e3+10) f=[[0]*N for _ in range(N)] a=\u0026#34;\u0026#34; b=\u0026#34;\u0026#34; n,m=map(int, input().split()) a=input() b=input() for i in range(n): for j in range(m): f[i][j]=max(f[i-1][j], f[i][j-1]) if a[i]==b[j]: f[i][j]=f[i-1][j-1]+1 print(f[n-1][m-1]) å›æº¯å¯»æ‰¾æ‰€æœ‰çš„æœ€é•¿å…¬å…±å­åºåˆ—\ndef lcs_length(X, Y): m, n = len(X), len(Y) dp = [[0] * (n + 1) for _ in range(m + 1)] for i in range(1, m + 1): for j in range(1, n + 1): if X[i - 1] == Y[j - 1]: dp[i][j] = dp[i - 1][j - 1] + 1 else: dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]) return dp def find_all_lcs(X, Y, dp): def backtrack(i, j): if i == 0 or j == 0: return {\u0026#34;\u0026#34;} elif X[i - 1] == Y[j - 1]: return {lcs + X[i - 1] for lcs in backtrack(i - 1, j - 1)} else: lcs_set = set() if dp[i - 1][j] \u0026gt;= dp[i][j - 1]: lcs_set.update(backtrack(i - 1, j)) if dp[i][j - 1] \u0026gt;= dp[i - 1][j]: lcs_set.update(backtrack(i, j - 1)) return lcs_set return backtrack(len(X), len(Y)) æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ import copy a=[] f=[] ans=0 n=int(input()) a=[int(x) for x in input().split()] f=copy.deepcopy(a) for i in range(n): for j in range(i): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+a[i]) for i in range(n): ans = max(ans, f[i]) print(ans) N = int(1e3+10) f=[0 for _ in range(N)] ans = 0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): f[i]=a[i] for j in range(1,i): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+a[i]) ans = max(ans, f[i]) print(ans) æœ€å¤§ä¸Šå‡å­åºåˆ—II N = int(1e5+10) INF = 0x3f3f3f3f q=[INF for _ in range(N)] ans=0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): l,r=0,i while l\u0026lt;r: mid = (l+r+1)\u0026gt;\u0026gt;1 if q[mid]\u0026lt;a[i]: l=mid else: r=mid-1 ans = max(ans, l+1) q[l+1]=min(q[l+1], a[i]) print(ans) N = int(1e5+10) q=[0 for _ in range(N)] len = 0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1, n+1): l,r=0,len while l\u0026lt;r: mid = (l+r+1)\u0026gt;\u0026gt;1 if q[mid]\u0026lt;a[i]: l=mid else: r=mid-1 len=max(len, l+1) q[l+1]=a[i] print(len) N = int(1e5+10) q=[0 for _ in range(N)] len = 0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): l,r=0,len while l\u0026lt;r: mid = (l+r+1)\u0026gt;\u0026gt;1 if q[mid]\u0026gt;=a[i]: r=mid-1 else: l=mid len = max(len, l+1) q[l+1]=a[i] print(len) äºŒåˆ†åŸåˆ™ï¼š\næœ‰å•è°ƒæ€§ï¼Œå¹¶ä¸”äºŒåˆ†ä¹‹åèƒ½ä¿æŒå•è°ƒæ€§\næ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼ **é¢˜æ„ï¼š**æ€ªç›—åŸºå¾·éœ€è¦é€ƒè·‘ï¼ŒåŸå¸‚ä¸­æœ‰Nå¹¢å»ºç­‘æ’æˆä¸€æ¡çº¿ï¼Œæ¯å¹¢å»ºç­‘çš„é«˜åº¦å„ä¸ç›¸åŒã€‚ä»–å¸Œæœ›å°½å¯èƒ½å¤šåœ°ç»è¿‡ä¸åŒå»ºç­‘çš„é¡¶éƒ¨ï¼Œä»¥å‡ç¼“ä¸‹é™æ—¶çš„å†²å‡»åŠ›ï¼Œå‡å°‘å—ä¼¤çš„å¯èƒ½æ€§ã€‚ä»–å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ–¹å‘é€ƒè·‘ï¼Œä½†ä¸èƒ½ä¸­é€”æ”¹å˜æ–¹å‘ï¼Œä¸”åªèƒ½ä»è¾ƒé«˜çš„å»ºç­‘æ»‘ç¿”åˆ°è¾ƒä½çš„å»ºç­‘ã€‚æ€ªç›—åŸºå¾·æœ€å¤šå¯ä»¥ç»è¿‡å¤šå°‘å¹¢ä¸åŒå»ºç­‘çš„é¡¶éƒ¨ï¼ˆåŒ…å«åˆå§‹æ—¶çš„å»ºç­‘ï¼‰ã€‚\n**å®ç°æ€è·¯ï¼š**å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚é¦–å…ˆï¼Œå¯¹äºæ¯ä¸€åº§å»ºç­‘ï¼Œåˆ†åˆ«è®¡ç®—ä»¥è¯¥å»ºç­‘ä¸ºç»ˆç‚¹çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦ï¼Œå¾—åˆ°ä»å·¦å¾€å³å’Œä»å³å¾€å·¦çš„ä¸¤ä¸ªæœ€é•¿é€’å¢å­åºåˆ—æ•°ç»„ã€‚ç„¶åå°†è¿™ä¸¤ä¸ªæ•°ç»„å¯¹åº”ä½ç½®çš„æœ€å¤§å€¼ç›¸åŠ ï¼Œå†å‡å»1ï¼ˆå› ä¸ºåˆå§‹ä½ç½®ä¹Ÿç®—ä¸€åº§å»ºç­‘ï¼‰ï¼Œå³ä¸ºæ€ªç›—åŸºå¾·æœ€å¤šå¯ä»¥ç»è¿‡çš„ä¸åŒå»ºç­‘æ•°é‡ã€‚\nN = int(1e3+10) f=[0 for _ in range(N)] t=int(input()) while t: t-=1 ans=0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): f[i]=1 for j in range(1,i): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+1) ans = max(ans, f[i]) for i in range(n,0,-1): f[i]=1 for j in range(n,i,-1): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+1) ans = max(ans, f[i]) print(ans) ç™»å±± N = int(1e3+10) f=[1 for _ in range(N)] g=[1 for _ in range(N)] ans = 0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): for j in range(1,i): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+1) for i in range(n,0,-1): for j in range(n,i,-1): if a[i]\u0026gt;a[j]: g[i]=max(g[i], g[j]+1) for i in range(1,n+1): ans = max(ans, f[i]+g[i]-1) print(ans) åˆå”±é˜Ÿå½¢ N = int(1e3+10) f=[1 for _ in range(N)] g=[1 for _ in range(N)] ans = 0 n=int(input()) a=[0]+[int(x) for x in input().split()] for i in range(1,n+1): for j in range(1,i): if a[i]\u0026gt;a[j]: f[i]=max(f[i], f[j]+1) for i in range(n,0,-1): for j in range(n,i,-1): if a[i]\u0026gt;a[j]: g[i]=max(g[i], g[j]+1) for i in range(1,n+1): ans = max(ans, f[i]+g[i]-1) print(n-ans) å‹å¥½åŸå¸‚ N = int(5e3+10) a=[(-1,-1)] f=[1 for _ in range(N)] ans = 0 n=int(input()) for i in range(n): x,y=map(int, input().split()) a.append((x,y)) a.sort(key=lambda x:x[0]) for i in range(1,n+1): for j in range(1,i): if a[i][1]\u0026gt;a[j][1]: f[i]=max(f[i], f[j]+1) ans = max(f[i], ans) print(ans) æ‹¦æˆªå¯¼å¼¹ è´ªå¿ƒè¯æ˜\né¢˜æ„ï¼šæŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå‘å±•å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿï¼Œä½†æœ‰ç¼ºé™·ï¼šæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚ç»™å®šå¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼Œè®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œå¹¶ä¸”å¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹ï¼Œæœ€å°‘éœ€è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£æœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°ï¼Œç„¶åå†åˆ©ç”¨è´ªå¿ƒç®—æ³•æ±‚è§£æœ€å°‘éœ€è¦é…å¤‡çš„ç³»ç»Ÿæ•°ã€‚å…·ä½“å®ç°æ—¶ï¼Œå…ˆä»å·¦å¾€å³ä¾æ¬¡è®¡ç®—æ¯ä¸ªä½ç½®èƒ½æ‹¦æˆªçš„æœ€å¤§å¯¼å¼¹æ•°ï¼Œç„¶åå†ä»å³å¾€å·¦ä¾æ¬¡è®¡ç®—æ¯ä¸ªä½ç½®èƒ½æ‹¦æˆªçš„æœ€å¤§å¯¼å¼¹æ•°ã€‚æ¥ç€ï¼Œåˆ©ç”¨è´ªå¿ƒç®—æ³•ï¼Œéå†å¯¼å¼¹é«˜åº¦ï¼Œå¦‚æœå½“å‰é«˜åº¦å¤§äºå·²æœ‰ç³»ç»Ÿçš„é«˜åº¦ï¼Œåˆ™å¢åŠ ç³»ç»Ÿæ•°ï¼›å¦åˆ™ï¼Œæ›´æ–°å·²æœ‰ç³»ç»Ÿçš„é«˜åº¦ã€‚æœ€ç»ˆå¾—åˆ°æœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°å’Œæœ€å°‘éœ€è¦é…å¤‡çš„ç³»ç»Ÿæ•°ã€‚\nN = int(1e3+10) f=[1 for _ in range(N)] g=[0 for _ in range(N)] ans = 0 cnt = 0 a=[0]+[int(x) for x in input().split()] n=len(a) for i in range(n-1,0,-1): for j in range(n-1,i,-1): if a[i]\u0026gt;=a[j]: f[i]=max(f[i], f[j]+1) ans = max(ans, f[i]) print(ans) for i in range(1, n): k=0 while k\u0026lt;cnt and g[k]\u0026lt;a[i]: k+=1 if k\u0026gt;=cnt: cnt+=1 g[k]=a[i] print(cnt) å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ **é¢˜æ„ï¼š**Rå›½æ›´æ–°äº†å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿï¼Œä¸€å¥—ç³»ç»Ÿçš„å¯¼å¼¹æ‹¦æˆªé«˜åº¦è¦ä¹ˆä¸€ç›´ä¸¥æ ¼å•è°ƒä¸Šå‡ï¼Œè¦ä¹ˆä¸€ç›´ä¸¥æ ¼å•è°ƒä¸‹é™ã€‚ç»™å®šå³å°†è¢­æ¥çš„ä¸€ç³»åˆ—å¯¼å¼¹çš„é«˜åº¦ï¼Œè¯·ä½ æ±‚å‡ºè‡³å°‘éœ€è¦å¤šå°‘å¥—é˜²å¾¡ç³»ç»Ÿï¼Œæ‰èƒ½å°†å®ƒä»¬å…¨éƒ¨å‡»è½ã€‚\n**å®ç°æ€è·¯ï¼š**å¯ä»¥åˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥è§£å†³ã€‚é¦–å…ˆå®šä¹‰ä¸¤ä¸ªæ•°ç»„upå’Œdownï¼Œåˆ†åˆ«è¡¨ç¤ºä¸Šå‡åºåˆ—å’Œä¸‹é™åºåˆ—ã€‚ç„¶åä½¿ç”¨DFSè¿›è¡ŒçŠ¶æ€æœç´¢ï¼Œæ¯æ¬¡å°è¯•å°†å½“å‰å¯¼å¼¹åŠ å…¥ä¸Šå‡åºåˆ—æˆ–ä¸‹é™åºåˆ—ï¼Œå¹¶æ›´æ–°å½“å‰çš„é˜²å¾¡ç³»ç»Ÿæ•°é‡ã€‚æœ€ç»ˆå¾—åˆ°è‡³å°‘éœ€è¦çš„é˜²å¾¡ç³»ç»Ÿæ•°é‡ã€‚ä»£ç ä¸­çš„dfså‡½æ•°ç”¨äºè¿›è¡ŒçŠ¶æ€æœç´¢ï¼Œå°è¯•å°†å½“å‰å¯¼å¼¹åŠ å…¥ä¸Šå‡åºåˆ—æˆ–ä¸‹é™åºåˆ—ï¼Œå¹¶é€’å½’è°ƒç”¨ä¸‹ä¸€ä¸ªå¯¼å¼¹çš„å¤„ç†ã€‚æœ€ç»ˆè¾“å‡ºæœ€å°‘éœ€è¦çš„é˜²å¾¡ç³»ç»Ÿæ•°é‡ã€‚\nN = int(1e2+10) up=[0 for _ in range(N)] down=[0 for _ in range(N)] ans=0 def dfs(u, su, sd): global ans if su + sd\u0026gt;=ans: return if u==n: ans=su+sd return k=0 while k\u0026lt;su and up[k]\u0026gt;=a[u]: k+=1 t=up[k] up[k]=a[u] if k\u0026gt;=su: dfs(u+1, su+1, sd) else: dfs(u+1, su, sd) up[k]=t k=0 while k\u0026lt;sd and down[k]\u0026lt;=a[u]: k+=1 t=down[k] down[k]=a[u] if k\u0026gt;=sd: dfs(u+1, su, sd+1) else: dfs(u+1, su, sd) down[k]=t while True: n=int(input()) ans = n if n==0: break a=[int(x) for x in input().split()] dfs(0,0,0) print(ans) æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ— é¢˜æ„ï¼šç†Šå¤§å¦ˆçš„å¥¶ç‰›ä»¬åœ¨å°æ²æ²çš„æŒ‡å¯¼ä¸‹ç ”ç©¶äº†æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—ï¼Œå³ä¸¤ä¸ªæ•°åˆ—ä¸­éƒ½åŒ…å«ä¸€æ®µä½ç½®ä¸ä¸€å®šè¿ç»­çš„ä¸¥æ ¼é€’å¢çš„æ•°æ®µï¼Œè¦æ±‚æ‰¾å‡ºæœ€é•¿çš„è¿™æ ·çš„å­åºåˆ—ã€‚ç°åœ¨ä½ éœ€è¦å‘Šè¯‰å¥¶ç‰›ä»¬æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚\nå®ç°æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„fï¼Œå…¶ä¸­f[i][j]è¡¨ç¤ºæ•°åˆ—Açš„å‰iä¸ªå…ƒç´ å’Œæ•°åˆ—Bçš„å‰jä¸ªå…ƒç´ ä¸­ï¼Œä»¥æ•°åˆ—Açš„ç¬¬iä¸ªå…ƒç´ å’Œæ•°åˆ—Bçš„ç¬¬jä¸ªå…ƒç´ ç»“å°¾çš„æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚ç„¶åä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹å¼å¡«è¡¨ï¼Œæœ€ç»ˆæ‰¾å‡ºæœ€é•¿çš„å…¬å…±ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚\nä»£ç ä¸­çš„f[i][j]çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š\nå¦‚æœa[i]ç­‰äºb[j]ï¼Œåˆ™f[i][j]ç­‰äºf[i-1][j-1]+1ï¼ˆè¡¨ç¤ºåœ¨a[i]å’Œb[j]ç›¸ç­‰çš„æƒ…å†µä¸‹å¯ä»¥æ„æˆæ›´é•¿çš„å…¬å…±ä¸Šå‡å­åºåˆ—ï¼‰ã€‚\nå¦‚æœa[i]å¤§äºb[j]ï¼Œåˆ™f[i][j]ç­‰äºf[i-1][j]ï¼ˆè¡¨ç¤ºa[i]ä¸åœ¨å…¬å…±ä¸Šå‡å­åºåˆ—ä¸­ï¼‰ã€‚\nå¦åˆ™ï¼Œf[i][j]ç­‰äºf[i][j-1]ï¼ˆè¡¨ç¤ºb[j]ä¸åœ¨å…¬å…±ä¸Šå‡å­åºåˆ—ä¸­ï¼‰ã€‚\nN = int(3e3+10) f=[[0]*N for _ in range(N)] ans=0 n=int(input()) a=[0]+[int(x) for x in input().split()] b=[0]+[int(x) for x in input().split()] for i in range(1,n+1): maxv=1 for j in range(1,n+1): f[i][j]=f[i-1][j] if a[i]==b[j]: f[i][j]=max(f[i][j], maxv) if a[i]\u0026gt;b[j]: maxv=max(maxv, f[i][j]+1) for i in range(1,n+1): ans = max(ans, f[n][i]) print(ans) çŠ¶æ€æœºæ¨¡å‹ é—«æ°DPåˆ†ææ³•â€”â€”çŠ¶æ€æœºåˆ†ææ³•\nå¤§ç›—é˜¿ç¦ N = int(1e5+10) t=int(input()) while t: t-=1 f=[[0]*2 for _ in range(N)] n=int(input()) a=[0]+[int(x) for x in input().split()] f[1][0]=0 f[1][1]=a[1] for i in range(2,n+1): f[i][0]=max(f[i-1][1],f[i-1][0]) f[i][1]=max(f[i-1][0], f[i-2][1])+a[i] print(max(f[n][0], f[n][1])) ä¹°å–è‚¡ç¥¨ IV é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œè¡¨ç¤ºä¸€ä¸ªç»™å®šè‚¡ç¥¨åœ¨nå¤©å†…çš„ä»·æ ¼ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œè®¡ç®—å¯ä»¥è·å–çš„æœ€å¤§åˆ©æ¶¦ï¼Œæœ€å¤šå¯ä»¥å®Œæˆkç¬”äº¤æ˜“ã€‚æ¯æ¬¡ä¹°å…¥å–å‡ºåˆä¸ºä¸€ç¬”äº¤æ˜“ï¼Œä¸”ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’è§£å†³è¯¥é—®é¢˜ï¼Œå®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„fï¼Œå…¶ä¸­f[i][j][0]è¡¨ç¤ºç¬¬iå¤©ï¼Œå·²å®Œæˆjç¬”äº¤æ˜“ï¼Œå¹¶ä¸”æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦ï¼›f[i][j][1]è¡¨ç¤ºç¬¬iå¤©ï¼Œå·²å®Œæˆjç¬”äº¤æ˜“ï¼Œå¹¶ä¸”æ‰‹ä¸Šæœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚ åˆå§‹åŒ–æ•°ç»„fï¼Œå°†æ‰€æœ‰ä½ç½®çš„åˆ©æ¶¦åˆå§‹åŒ–ä¸ºè´Ÿæ— ç©·-INFï¼Œè¡¨ç¤ºä¸å¯è¾¾ã€‚ éå†è‚¡ç¥¨ä»·æ ¼æ•°ç»„ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’é€’æ¨å‡ºf[i][j][0]å’Œf[i][j][1]ï¼Œå³åœ¨ç¬¬iå¤©å·²å®Œæˆjç¬”äº¤æ˜“æ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚ æœ€ç»ˆï¼Œå–f[n][k][0]ä¸­çš„æœ€å¤§å€¼ä½œä¸ºæœ€ç»ˆç»“æœï¼Œè¡¨ç¤ºç¬¬nå¤©å·²å®Œæˆkç¬”äº¤æ˜“ï¼Œå¹¶ä¸”æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚ ä»£ç å®ç°å·²ç»™å‡ºï¼Œå…¶ä¸­ä½¿ç”¨äº†ä¸¤é‡å¾ªç¯æ¥å¡«å……åŠ¨æ€è§„åˆ’æ•°ç»„fï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nk)ï¼Œå› ä¸ºnçš„æœ€å¤§å€¼ä¸º10^5ï¼Œkçš„æœ€å¤§å€¼ä¸º100ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨åŠ¨æ€è§„åˆ’é€æ­¥è®¡ç®—å‡ºåœ¨æ¯ä¸€å¤©å·²å®Œæˆä¸€å®šæ•°é‡äº¤æ˜“æ—¶çš„æœ€å¤§åˆ©æ¶¦ï¼Œç„¶åæ ¹æ®é—®é¢˜è¦æ±‚å–å¾—æœ€ä¼˜è§£ã€‚\nK = 110 INF = 0x3f3f3f3f f=[[[-INF]*2 for _ in range(K)] for _ in range(2)] n,k = map(int ,input().split()) w=[0]+[int(x) for x in input().split()] f[1][0][0]=0 t=0 for i in range(1,n+1): for j in range(k+1): f[t][j][0]=max(f[t^1][j][0], f[t^1][j][1]+w[i]) f[t][j][1]=max(f[t^1][j][1], f[t^1][j-1][0]-w[i]) t^=1 res =max(f[t^1][i][0] for i in range(k+1)) print(res) è‚¡ç¥¨äº¤æ˜“V é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„pricesï¼Œå…¶ä¸­ç¬¬iå¤©çš„è‚¡ç¥¨ä»·æ ¼ä¸ºprices[i]ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºåœ¨æ»¡è¶³çº¦æŸæ¡ä»¶ä¸‹å¯ä»¥è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚çº¦æŸæ¡ä»¶ä¸ºï¼šå–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ï¼ˆå³å†·å†»æœŸä¸º1å¤©ï¼‰ï¼Œä¸”ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆå¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨åŠ¨æ€è§„åˆ’è§£å†³è¯¥é—®é¢˜ï¼Œå®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„fï¼Œå…¶ä¸­f[i][j]è¡¨ç¤ºç¬¬iå¤©çš„äº¤æ˜“çŠ¶æ€ä¸ºjæ—¶çš„æœ€å¤§åˆ©æ¶¦ï¼Œjæœ‰ä¸‰ç§çŠ¶æ€ï¼š0è¡¨ç¤ºæŒæœ‰è‚¡ç¥¨ï¼Œ1è¡¨ç¤ºä¸æŒæœ‰è‚¡ç¥¨ä¸”å¤„äºå†·å†»æœŸï¼Œ2è¡¨ç¤ºä¸æŒæœ‰è‚¡ç¥¨ä¸”ä¸å¤„äºå†·å†»æœŸã€‚ åˆå§‹åŒ–æ•°ç»„fï¼Œå°†æ‰€æœ‰ä½ç½®çš„åˆ©æ¶¦åˆå§‹åŒ–ä¸ºè´Ÿæ— ç©·-INFï¼Œè¡¨ç¤ºä¸å¯è¾¾ã€‚å¹¶ä¸”å°†f[0][2]åˆå§‹åŒ–ä¸º0ï¼Œè¡¨ç¤ºç¬¬0å¤©ç»“æŸæ—¶ï¼Œä¸æŒæœ‰è‚¡ç¥¨ä¸”ä¸å¤„äºå†·å†»æœŸæ—¶çš„æœ€å¤§åˆ©æ¶¦ä¸º0ã€‚ éå†è‚¡ç¥¨ä»·æ ¼æ•°ç»„ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’é€’æ¨å‡ºf[i][j]ï¼Œå³åœ¨ç¬¬iå¤©çš„äº¤æ˜“çŠ¶æ€ä¸ºjæ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚ æœ€ç»ˆï¼Œå–f[n][1]å’Œf[n][2]ä¸­çš„æœ€å¤§å€¼ä½œä¸ºæœ€ç»ˆç»“æœï¼Œè¡¨ç¤ºæœ€åä¸€å¤©ç»“æŸæ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚ ä»£ç å®ç°å·²ç»™å‡ºï¼Œå…¶ä¸­ä½¿ç”¨äº†ä¸€é‡å¾ªç¯æ¥å¡«å……åŠ¨æ€è§„åˆ’æ•°ç»„fï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œå› ä¸ºnçš„æœ€å¤§å€¼ä¸º5000ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨åŠ¨æ€è§„åˆ’é€æ­¥è®¡ç®—å‡ºåœ¨æ¯ä¸€å¤©ä¸åŒäº¤æ˜“çŠ¶æ€ä¸‹çš„æœ€å¤§åˆ©æ¶¦ï¼Œç„¶åæ ¹æ®é—®é¢˜è¦æ±‚å–å¾—æœ€ä¼˜è§£ã€‚\nN = int(1e5+10) INF = 0x3f3f3f3f f=[[-INF]*3 for _ in range(N)] n=int(input()) w=[0]+[int(x) for x in input().split()] f[0][2]=0 for i in range(1,n+1): f[i][0]=max(f[i-1][0], f[i-1][2]-w[i]) f[i][1]=f[i-1][0]+w[i] f[i][2]=max(f[i-1][1], f[i-1][2]) print(max(f[n][1], f[n][2])) P1220 å…³è·¯ç¯ é¢˜æ„ï¼šè¿™ä¸ªé—®é¢˜æ˜¯å…³äºä¼˜åŒ–è€å¼ å…³ç¯é¡ºåºä»¥æœ€å°åŒ–æ€»åŠŸè€—çš„ã€‚è€å¼ æ¯æ¬¡åœ¨å¤©äº®æ—¶é¦–å…ˆå…³æ‰è‡ªå·±æ‰€å¤„ä½ç½®çš„è·¯ç¯ï¼Œç„¶åå¯ä»¥å‘å·¦æˆ–å‘å³å…³ç¯ã€‚ä¸ºäº†æœ€å°åŒ–æ€»åŠŸè€—ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„å…³ç¯é¡ºåºã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„fï¼Œå…¶ä¸­f[i][j][k]è¡¨ç¤ºä»ç¬¬iç›ç¯åˆ°ç¬¬jç›ç¯ï¼Œè€å¼ æœ€åä¸€ä¸ªå…³ç¯ä½ç½®åœ¨ç¬¬kç›ç¯æ—¶çš„æœ€å°åŠŸè€—ã€‚ ç„¶åï¼Œæˆ‘ä»¬åˆå§‹åŒ–æ•°ç»„fï¼Œå°†æ‰€æœ‰ä½ç½®çš„åŠŸè€—éƒ½åˆå§‹åŒ–ä¸ºæ— ç©·å¤§INFï¼Œè¡¨ç¤ºä¸å¯è¾¾ã€‚ å¯¹äºæ¯ä¸€å¯¹è·¯ç¯iå’Œjï¼Œæˆ‘ä»¬é€šè¿‡åŠ¨æ€è§„åˆ’é€’æ¨å‡ºf[i][j][0]å’Œf[i][j][1]ï¼Œåˆ†åˆ«è¡¨ç¤ºè€å¼ ä»å·¦è¾¹æˆ–å³è¾¹èµ°åˆ°ä½ç½®iåˆ°jçš„æœ€å°åŠŸè€—ã€‚ æœ€åï¼Œæˆ‘ä»¬åªéœ€æ¯”è¾ƒf[1][n][0]å’Œf[1][n][1]ï¼Œå–å…¶ä¸­è¾ƒå°çš„å€¼ä½œä¸ºæœ€ç»ˆç­”æ¡ˆã€‚ ä½¿ç”¨äº†ä¸‰é‡å¾ªç¯æ¥å¡«å……åŠ¨æ€è§„åˆ’æ•°ç»„fï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n^3)$ï¼Œå› ä¸ºnçš„æœ€å¤§å€¼ä¸º50ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚è¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨åŠ¨æ€è§„åˆ’é€æ­¥è®¡ç®—å‡ºè€å¼ ä»å·¦æˆ–å³å…³ç¯åˆ°è¾¾æ¯ä¸ªä½ç½®çš„æœ€å°åŠŸè€—ï¼Œç„¶åæ¯”è¾ƒä¸¤ç§æƒ…å†µä¸‹çš„æœ€å°åŠŸè€—ï¼Œæ‰¾åˆ°æœ€ä¼˜è§£ã€‚\nmaxn = int(8e2) + 100 INF = 0x3f3f3f3f f = [[[INF] * 2 for _ in range(maxn)] for _ in range(maxn)] a = [0] * (maxn + 1) w = [0] * (maxn + 1) sum = [0] * (maxn + 1) n, r = map(int, input().split()) for i in range(1, n + 1): a[i], w[i] = map(int, input().split()) sum[i] = sum[i - 1] + w[i] f[r][r][0] = f[r][r][1] = 0 for i in range(2, n + 1): for j in range(1, n - i + 2): l = j + i - 1 f[j][l][0] = min(f[j + 1][l][0] + (a[j + 1] - a[j]) * (sum[j] + sum[n] - sum[l]), f[j + 1][l][1] + (a[l] - a[j]) * (sum[j] + sum[n] - sum[l])) f[j][l][1] = min(f[j][l - 1][0] + (a[l] - a[j]) * (sum[j - 1] + sum[n] - sum[l - 1]), f[j][l - 1][1] + (a[l] - a[l - 1]) * (sum[j - 1] + sum[n] - sum[l - 1])) ans = min(f[1][n][0], f[1][n][1]) print(ans) çŠ¶æ€å‹ç¼©DP å°å›½ç‹ N = 13 M = 1\u0026lt;\u0026lt;N K = 110 state=[] h=[[] for _ in range(M)] cnt = [0]*M f=[[[0]*M for _ in range(K)] for _ in range(N)] def check(x): global n for i in range(n): if (x\u0026gt;\u0026gt;i)\u0026amp;1 and (x\u0026gt;\u0026gt;i+1)\u0026amp;1: return False return True def count(x): global n cnt=0 for i in range(n): if (x\u0026gt;\u0026gt;i)\u0026amp;1: cnt+=1 return cnt n,m = map(int, input().split()) for i in range(1\u0026lt;\u0026lt;n): if check(i): state.append(i) cnt[i]=count(i) for i in range(len(state)): for j in range(len(state)): a = state[i] b = state[j] if (a\u0026amp;b)==0 and check(a|b): h[i].append(j) f[0][0][0]=1 for i in range(1,n+2): for j in range(m+1): for k in range(len(state)): for t in h[k]: c = cnt[state[k]] if j\u0026gt;=c: f[i][j][state[k]]+=f[i-1][j-c][state[t]] print(f[n+1][m][0]) æ„¤æ€’çš„å°é¸Ÿ eps = 1e-6 N = 18 M = 1\u0026lt;\u0026lt;18 INF = 0x3f3f3f3f def cmp(a,b): if abs(a-b)\u0026lt;eps: return 0 if a\u0026gt;b: return 1 return -1 t = int(input()) for _ in range(t): f = [INF]*M path = [[0]*N for _ in range(N)] q = [0]*N n,m = map(int, input().split()) for i in range(n): x,y = map(float, input().split()) q[i]=(x,y) for i in range(n): path[i][i]=1\u0026lt;\u0026lt;i #å…³é”®ç‚¹ï¼šä¸å…¶ä»–ç‚¹çš„æŠ›ç‰©çº¿å¯èƒ½éƒ½ä¸åˆæ³•ï¼Œæ‰€ä»¥éœ€è¦ç‹¬ç«‹å‡ºä¸€æ¡æŠ›ç‰©çº¿ for j in range(n): x1,y1 = q[i] x2,y2 = q[j] if cmp(x1,x2)==0: continue a = (y1/x1-y2/x2)/(x1-x2) if cmp(a,0)\u0026gt;=0: continue b = y1/x1-a*x1 state=0 for k in range(n): x3,y3 = q[k] if cmp(a*x3*x3+b*x3, y3) == 0: state+=(1\u0026lt;\u0026lt;k) path[i][j]=state f[0]=0 for i in range(1\u0026lt;\u0026lt;n): for j in range(n): if not (i\u0026gt;\u0026gt;j)\u0026amp;1: x=j break for j in range(n): f[i | path[x][j]] = min(f[i | path[x][j]], f[i]+1) print(f[(1\u0026lt;\u0026lt;n)-1]) é›†åˆç±»çŠ¶æ€å‹ç¼©DP æœ€çŸ­Hamiltonè·ç¦» N = 22 M = 1\u0026lt;\u0026lt;20 INF = 0x3f3f3f3f f=[[INF]*N for _ in range(M)] w=[[]*N for _ in range(N)] n=int(input()) for i in range(n): w[i]=[int(_) for _ in input().split()] f[1][0]=0 for i in range(1\u0026lt;\u0026lt;n): for j in range(n): if i\u0026gt;\u0026gt;j\u0026amp;1: for k in range(n): if i\u0026gt;\u0026gt;k\u0026amp;1: f[i][j]=min(f[i][j], f[i-(1\u0026lt;\u0026lt;j)][k]+w[k][j]) print(f[(1\u0026lt;\u0026lt;n)-1][n-1]) åŒºé—´DP çŸ³å­åˆå¹¶ N = 1010 INF = 0x3f3f3f3f f=[[INF]*N for _ in range(N)] s=[0]*N n = int(input()) a=[0]+[int(_) for _ in input().split()] for i in range(1,n+1): f[i][i]=0 s[i]=s[i-1]+a[i] for l in range(2,n+1): for i in range(1,n-l+2): j=i+l-1 for k in range(i,j): f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j]-s[i-1]) print(f[1][n]) ç¯å½¢çŸ³å­åˆå¹¶ N = 410 w=[0]*N s=[0]*N INF = 0x3f3f3f3f f=[[-INF]*N for _ in range(N)] g=[[INF]*N for _ in range(N)] n=int(input()) a= [0]+[int(_) for _ in input().split()] for i in range(1,n+1): w[i] = w[i+n] = a[i] for i in range(1,n*2+1): s[i]=s[i-1]+w[i] for l in range(1,n+1): for i in range(1,n*2-l+2): j=i+l-1 if l==1: f[i][j]=g[i][j]=0 for k in range(i,j): f[i][j] = max(f[i][j], f[i][k]+f[k+1][j]+s[j]-s[i-1]) g[i][j] = min(g[i][j], g[i][k]+g[k+1][j]+s[j]-s[i-1]) minv, maxv = INF, -INF for i in range(1,n+1): minv = min(minv, g[i][i+n-1]) maxv = max(maxv, f[i][i+n-1]) print(minv, maxv, sep=\u0026#39;\\n\u0026#39;) èƒ½é‡é¡¹é“¾ N = 210 w=[0]*N f=[[0]*N for _ in range(N)] n = int(input()) a=[0]+[int(_) for _ in input().split()] for i in range(1,n+1): w[i]=w[i+n]=a[i] for l in range(3,n+2): for i in range(1,n*2-l+2): j=i+l-1 for k in range(i+1,j): f[i][j] = max(f[i][j], f[i][k]+f[k][j]+w[i]*w[k]*w[j]) maxv = -1 for i in range(1,n+1): maxv = max(maxv, f[i][i+n]) print(maxv) å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ† N = 55 INF = 1e30 f=[[INF]*N for _ in range(N)] n = int(input()) w=[0]+[int(_) for _ in input().split()] for i in range(1,n+1): f[i][i+1]=0 for l in range(3,n+1): for i in range(1, n-l+2): j=i+l-1 for k in range(i+1,j): f[i][j] = min(f[i][j], f[i][k]+f[k][j]+w[i]*w[k]*w[j]) print(f[1][n]) åŠ åˆ†äºŒå‰æ ‘ N = 50 def dfs(l, r): if l\u0026gt;r: return k=root[l][r] print(k,end=\u0026#39; \u0026#39;) dfs(l,k-1) dfs(k+1,r) n = int(input()) w = [0]+[int(_) for _ in input().split()] f=[[0]*N for _ in range(N)] root=[[0]*N for _ in range(N)] for l in range(1,n+1): for i in range(1,n-l+2): j=i+l-1 for k in range(i,j+1): left = 1 if k==i else f[i][k-1] right = 1 if k==j else f[k+1][j] s = left*right+w[k] if i==j: s=w[k] if f[i][j]\u0026lt;s: f[i][j]=s root[i][j]=k print(f[1][n]) dfs(1,n) æ ‘å½¢DP æ ‘çš„æœ€é•¿è·¯å¾„ æ³¨æ„æ³¨æ„å†æ³¨æ„ï¼Œwhileå¾ªç¯é“¾ä¸ç¬¦åˆè¦æ±‚æ˜¯éœ€è¦ i=ne[i]\nimport sys sys.setrecursionlimit(int(1e5+10)) N = 10010*2 e = [0]*N ne = [0]*N w = [0]*N h = [-1]*N idx = 1 ans = -1 def add(a, b, c): global idx e[idx]=b w[idx]=c ne[idx]=h[a] h[a]=idx idx+=1 def dfs(root, father): global ans dis, d1, d2 = 0,0,0 i=h[root] while i!=-1: j = e[i] if j==father: i=ne[i] # é‡ç‚¹ continue d = dfs(j, root)+w[i] dis = max(dis, d) if d\u0026gt;d1: d2=d1 d1=d else: d2 = max(d2, d) i=ne[i] ans = max(ans, d1+d2) return dis n = int(input()) for i in range(n-1): a,b,c = map(int, input().split()) add(a,b,c) add(b,a,c) dfs(1,-1) print(ans) æ ‘çš„ä¸­å¿ƒ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€æ£µåŒ…å« n ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ã€‚è¦æ±‚åœ¨æ ‘ä¸­æ‰¾åˆ°ä¸€ä¸ªç‚¹ï¼Œä½¿å¾—è¯¥ç‚¹åˆ°æ ‘ä¸­å…¶ä»–èŠ‚ç‚¹çš„æœ€è¿œè·ç¦»æœ€è¿‘ã€‚\nå®ç°æ€è·¯ï¼š\næ„å»ºæ— å‘å›¾çš„é‚»æ¥è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªé“¾è¡¨ï¼Œå­˜å‚¨å…¶ç›¸é‚»çš„èŠ‚ç‚¹ä»¥åŠå¯¹åº”çš„è¾¹æƒå€¼ã€‚ ä½¿ç”¨ DFS éå†æ ‘ï¼Œåˆ†åˆ«è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€é•¿è·ç¦» d1 å’Œæ¬¡é•¿è·ç¦» d2ï¼Œå¹¶è®°å½•å…¶ç›¸é‚»èŠ‚ç‚¹ s1ã€‚ å†æ¬¡ä½¿ç”¨ DFS éå†æ ‘ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹åˆ°å…¶ç›¸é‚»èŠ‚ç‚¹çš„æœ€é•¿è·ç¦» upã€‚ æœ€åï¼Œéå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ±‚å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¸­æœ€å¤§çš„ max(up[i], d1[i])ï¼Œå³ä¸ºæ‰€æ±‚çš„æœ€è¿‘è·ç¦»ã€‚ N = 10010*2 e = [0]*N ne=[0]*N h=[-1]*N w=[0]*N d1=[0]*N d2=[0]*N s1=[0]*N up=[0]*N idx = 1 def add(a,b,c): global idx e[idx]=b w[idx]=c ne[idx]=h[a] h[a]=idx idx+=1 def dfs1(u, father): i=h[u] while i!=-1: j=e[i] if j==father: i=ne[i] continue dfs1(j,u) dis = d1[j]+w[i] if dis\u0026gt;d1[u]: d2[u]=d1[u] d1[u], s1[u]=dis, j elif dis\u0026gt;d2[u]: d2[u]=dis i=ne[i] def dfs2(u, father): i=h[u] while i!=-1: j=e[i] if j==father: i=ne[i] continue if s1[u]==j: up[j]=max(up[u], d2[u])+w[i] else: up[j]=max(up[u], d1[u])+w[i] i=ne[i] dfs2(j, u) n = int(input()) for i in range(n-1): a,b,c = map(int ,input().split()) add(a,b,c) add(b,a,c) dfs1(1,-1) dfs2(1,-1) ans = 1e10 for i in range(1,n+1): ans = min(ans, max(up[i], d1[i])) print(ans) æ•°å­—è½¬æ¢ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œå¦‚æœä¸€ä¸ªæ•° x çš„çº¦æ•°ä¹‹å’Œ yï¼ˆä¸åŒ…æ‹¬ x æœ¬èº«ï¼‰æ¯”å®ƒæœ¬èº«å°ï¼Œé‚£ä¹ˆ x å¯ä»¥å˜ä¸º yï¼Œy ä¹Ÿå¯ä»¥å˜ä¸º xã€‚é™å®šæ‰€æœ‰æ•°å­—å˜æ¢åœ¨ä¸è¶…è¿‡ n çš„æ­£æ•´æ•°èŒƒå›´å†…è¿›è¡Œï¼Œæ±‚ä¸æ–­è¿›è¡Œæ•°å­—å˜æ¢ä¸”ä¸å‡ºç°é‡å¤æ•°å­—çš„æœ€å¤šå˜æ¢æ­¥æ•°ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œå¯¹äºæ¯ä¸ªæ•° iï¼Œè®¡ç®—å…¶æ‰€æœ‰çº¦æ•°ä¹‹å’Œï¼Œå¹¶å­˜å‚¨åœ¨æ•°ç»„ s ä¸­ã€‚ ç„¶åï¼Œéå†æ‰€æœ‰çš„æ•° iï¼Œå¦‚æœçº¦æ•°ä¹‹å’Œ s[i] å°äº iï¼Œåˆ™å°†å…¶ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°æœ‰å‘å›¾ä¸­ï¼Œè¡¨ç¤ºå¯ä»¥ä» s[i] å˜æ¢åˆ° iã€‚ æ„å»ºæœ‰å‘å›¾åï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ç®—æ³•éå†å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æ±‚å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„é•¿åº¦ã€‚ åœ¨DFSè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨å˜é‡ ans è®°å½•å›¾ä¸­æœ€é•¿è·¯å¾„çš„é•¿åº¦ï¼Œå³æœ€å¤šå˜æ¢æ­¥æ•°ã€‚ æœ€åï¼Œè¾“å‡º ans å³å¯ã€‚ N = int(5e4+10) s=[0]*N st=[False]*N e=[0]*N ne=[0]*N h=[-1]*N idx=1 ans = -1 def add(a,b): global idx e[idx]=b ne[idx]=h[a] h[a]=idx idx+=1 def dfs(u): global ans d1,d2=0,0 i=h[u] while i!=-1: j=e[i] dis = dfs(j)+1 if dis\u0026gt;d1: d2,d1=d1,dis elif dis\u0026gt;d2: d2=dis i=ne[i] ans = max(ans, d1+d2) return d1 n = int(input()) for i in range(1,n+1): for j in range(2,n+1): if i\u0026gt;n//j: break s[i*j]+=i for i in range(2,n+1): if s[i]\u0026lt;i: add(s[i], i) st[i]=True # for i in range(1,n+1): # if not st[i]: # dfs(i) dfs(1) print(ans) æ²¡æœ‰ä¸Šå¸çš„èˆä¼š é¢˜ç›®å¤§æ„ï¼šUralå¤§å­¦æœ‰NåèŒå‘˜ï¼Œç¼–å·ä¸º1âˆ¼Nã€‚ä»–ä»¬çš„å…³ç³»åƒä¸€æ£µä»¥æ ¡é•¿ä¸ºæ ¹çš„æ ‘ï¼Œçˆ¶èŠ‚ç‚¹å°±æ˜¯å­èŠ‚ç‚¹çš„ç›´æ¥ä¸Šå¸ã€‚æ¯ä¸ªèŒå‘˜æœ‰ä¸€ä¸ªå¿«ä¹æŒ‡æ•°ï¼Œç”¨æ•´æ•°Hiè¡¨ç¤ºã€‚ç°åœ¨è¦å¬å¼€ä¸€åœºå‘¨å¹´åº†å®´ä¼šï¼Œä½†æ²¡æœ‰èŒå‘˜æ„¿æ„å’Œç›´æ¥ä¸Šå¸ä¸€èµ·å‚ä¼šã€‚åœ¨æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å‰æä¸‹ï¼Œä¸»åŠæ–¹å¸Œæœ›é‚€è¯·ä¸€éƒ¨åˆ†èŒå‘˜å‚ä¼šï¼Œä½¿å¾—æ‰€æœ‰å‚ä¼šèŒå‘˜çš„å¿«ä¹æŒ‡æ•°æ€»å’Œæœ€å¤§ï¼Œæ±‚è¿™ä¸ªæœ€å¤§å€¼ã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œå»ºç«‹ä¸€æ£µä»¥æ ¡é•¿ä¸ºæ ¹çš„æ ‘ï¼Œä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„væ¥å­˜å‚¨æ ‘çš„ç»“æ„å…³ç³»ï¼Œå…¶ä¸­v[i]è¡¨ç¤ºç¬¬iä¸ªèŒå‘˜çš„ç›´æ¥ä¸‹å±ã€‚ ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„fæ¥è®°å½•æ¯ä¸ªèŒå‘˜å‚åŠ å’Œä¸å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ï¼Œå…¶ä¸­f[i][0]è¡¨ç¤ºç¬¬iä¸ªèŒå‘˜ä¸å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ï¼Œf[i][1]è¡¨ç¤ºç¬¬iä¸ªèŒå‘˜å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ã€‚ ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥éå†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹ä¸å‚åŠ å’Œå‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ã€‚ åœ¨DFSè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹iï¼Œé¦–å…ˆæ›´æ–°è¯¥èŠ‚ç‚¹å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°f[i][1]ä¸ºå½“å‰èŠ‚ç‚¹çš„å¿«ä¹æŒ‡æ•°h[i]ï¼Œç„¶åéå†å½“å‰èŠ‚ç‚¹çš„ç›´æ¥ä¸‹å±ï¼Œæ›´æ–°å½“å‰èŠ‚ç‚¹å‚åŠ å’Œä¸å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ã€‚ æœ€ç»ˆï¼Œå–æ ¹èŠ‚ç‚¹çš„å‚åŠ å’Œä¸å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°çš„è¾ƒå¤§å€¼ä½œä¸ºæœ€ç»ˆç»“æœã€‚ ä»£ç å®ç°å·²ç»™å‡ºï¼Œå…¶ä¸­ä½¿ç”¨äº†æ·±åº¦ä¼˜å…ˆæœç´¢æ¥éå†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼Œå› ä¸ºNçš„æœ€å¤§å€¼ä¸º6000ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢é€æ­¥è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹å‚åŠ å’Œä¸å‚åŠ å®´ä¼šæ—¶çš„æœ€å¤§å¿«ä¹æŒ‡æ•°ï¼Œç„¶åæ ¹æ®é—®é¢˜è¦æ±‚æ‰¾åˆ°æœ€å¤§çš„å¿«ä¹æŒ‡æ•°ã€‚\nimport sys sys.setrecursionlimit(int(1e4)) N = int(7e3) v=[[] for _ in range(N)] f=[[0]*2 for _ in range(N)] st=[False]*N h=[0]*N root=0 def dfs(u): f[u][1]+=h[u] for i in v[u]: dfs(i) f[u][1]+=f[i][0] f[u][0]+=max(f[i][0], f[i][1]) n = int(input()) for i in range(1,n+1): h[i]=int(input()) for i in range(n-1): l,k = map(int, input().split()) v[k].append(l) st[l]=True for i in range(1,n+1): if not st[i]: root=i dfs(root) print(max(f[root][0], f[root][1])) å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„DP æœ€å¤§å­åºå’Œ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œä»ä¸­æ‰¾å‡ºä¸€æ®µé•¿åº¦ä¸è¶…è¿‡mçš„è¿ç»­å­åºåˆ—ï¼Œä½¿å¾—å­åºåˆ—ä¸­æ‰€æœ‰æ•°çš„å’Œæœ€å¤§ã€‚è¦æ±‚è¾“å‡ºè¯¥åºåˆ—çš„æœ€å¤§å­åºå’Œã€‚\nå®ç°æ€è·¯ï¼š\né¦–å…ˆï¼Œå°†è¾“å…¥çš„åºåˆ—è¿›è¡Œé¢„å¤„ç†ï¼Œè®¡ç®—å‡ºå‰ç¼€å’Œæ•°ç»„sï¼Œå…¶ä¸­s[i]è¡¨ç¤ºåºåˆ—çš„å‰iä¸ªæ•°çš„å’Œã€‚ ä½¿ç”¨å•è°ƒé˜Ÿåˆ—æ¥è§£å†³è¯¥é—®é¢˜ã€‚å•è°ƒé˜Ÿåˆ—ç»´æŠ¤çš„æ˜¯å‰ç¼€å’Œæ•°ç»„sä¸­çš„ä¸‹æ ‡ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ æŒ‰ç…§å‰ç¼€å’Œçš„å€¼å•è°ƒé€’å¢ã€‚é˜Ÿåˆ—ä¸­çš„ä¸‹æ ‡è¡¨ç¤ºçš„æ˜¯ä»¥è¯¥ä¸‹æ ‡ç»“å°¾çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œã€‚ éå†åºåˆ—ï¼Œå¯¹äºæ¯ä¸ªä½ç½®iï¼Œæ›´æ–°å•è°ƒé˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œä½¿å¾—é˜Ÿåˆ—ä¸­çš„ä¸‹æ ‡ç¬¦åˆè¦æ±‚ï¼Œå³æ»¡è¶³é•¿åº¦ä¸è¶…è¿‡mçš„è¿ç»­å­åºåˆ—çš„æ¡ä»¶ã€‚ åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ›´æ–°è®°å½•æœ€å¤§å­åºå’Œçš„å˜é‡ansï¼Œæœ€ç»ˆå¾—åˆ°çš„anså³ä¸ºæ‰€æ±‚ç»“æœã€‚ ä»£ç å®ç°å·²ç»™å‡ºï¼Œå…¶ä¸­ä½¿ç”¨äº†å•è°ƒé˜Ÿåˆ—æ¥ç»´æŠ¤æ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå› ä¸ºnçš„æœ€å¤§å€¼ä¸º300000ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤ä»¥æ¯ä¸ªä½ç½®ç»“å°¾çš„æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—çš„æœ€å¤§å’Œï¼Œç„¶åæ ¹æ®é—®é¢˜è¦æ±‚æ‰¾åˆ°æœ€å¤§å­åºå’Œã€‚\nN = 300010 q, s = [0]*N, [0]*N ans = -2**33 hh, tt = 0, 0 n,m = map(int, input().split()) s = [0]+list(map(int, input().split())) for i in range(1,n+1): s[i]+=s[i-1] for i in range(1,n+1): if q[hh]\u0026lt;i-m: hh+=1 ans = max(ans, s[i]-s[q[hh]]) while hh\u0026lt;=tt and s[q[tt]]\u0026gt;=s[i]: tt-=1 tt+=1 q[tt]=i print(ans) æ•°ä½DP 1081\nfrom typing import List N = 35 def init() -\u0026gt; List[List[int]]: f = [[0] * N for _ in range(N)] for i in range(N): for j in range(i + 1): if j == 0: f[i][j] = 1 else: f[i][j] = f[i - 1][j] + f[i - 1][j - 1] return f def dp(n: int, k: int, b: int, f: List[List[int]]) -\u0026gt; int: if n == 0: return 0 nums = [] while n: nums.append(n % b) n //= b res = 0 last = 0 for i in range(len(nums) - 1, -1, -1): x = nums[i] if x \u0026gt; 0: res += f[i][k - last] if x \u0026gt; 1: if k - last - 1 \u0026gt;= 0: res += f[i][k - last - 1] break else: last += 1 if last \u0026gt; k: break if i == 0 and last == k: res += 1 return res def solve(l: int, r: int, k: int, b: int) -\u0026gt; int: f = init() return dp(r, k, b, f) - dp(l - 1, k, b, f) if __name__ == \u0026#34;__main__\u0026#34;: l, r, k, b = map(int, input().split()) print(solve(l, r, k, b)) è®°å¿†åŒ– æ»‘é›ª é¢˜ç›®å¤§æ„ï¼šMichaelå–œæ¬¢æ»‘é›ªï¼Œå¹¶å¸Œæœ›çŸ¥é“åœ¨ä¸€ä¸ªåŒºåŸŸä¸­æœ€é•¿çš„æ»‘å¡ã€‚ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºåŒºåŸŸï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—ä»£è¡¨ç‚¹çš„é«˜åº¦ã€‚ä¸€ä¸ªäººå¯ä»¥ä»æŸä¸ªç‚¹æ»‘å‘ä¸Šä¸‹å·¦å³ç›¸é‚»å››ä¸ªç‚¹ä¹‹ä¸€ï¼Œå½“ä¸”ä»…å½“é«˜åº¦ä¼šå‡å°ã€‚è¦æ±‚æ‰¾åˆ°æœ€é•¿çš„æ»‘å¡ï¼Œå³ä»ä¸€ä¸ªé«˜ç‚¹å¼€å§‹ï¼Œä¸€ç›´æ»‘åˆ°ä¸€ä¸ªä½ç‚¹ã€‚\nå®ç°æ€è·¯ï¼š\nä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰æ¥å®ç°å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚ é¦–å…ˆï¼Œåˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„fç”¨äºå­˜å‚¨ä»æ¯ä¸ªç‚¹å‡ºå‘çš„æœ€é•¿æ»‘å¡è·ç¦»ï¼Œåˆå§‹åŒ–ä¼˜å…ˆé˜Ÿåˆ—pqç”¨äºå­˜å‚¨å¾…æœç´¢çš„ç‚¹ã€‚ å°†æ‰€æœ‰ç‚¹æŒ‰ç…§é«˜åº¦ä»å°åˆ°å¤§åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—pqã€‚ å¯¹äºä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„æ¯ä¸ªç‚¹ï¼Œä¾æ¬¡å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æœç´¢ï¼Œå¦‚æœä¸‹ä¸€ä¸ªç‚¹çš„é«˜åº¦å°äºå½“å‰ç‚¹ï¼Œåˆ™æ›´æ–°ä¸‹ä¸€ä¸ªç‚¹çš„æœ€é•¿æ»‘å¡è·ç¦»ä¸ºå½“å‰ç‚¹çš„æœ€é•¿æ»‘å¡è·ç¦»åŠ 1ã€‚ åœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ›´æ–°è®°å½•æœ€é•¿æ»‘å¡è·ç¦»çš„å˜é‡maï¼Œæœ€ç»ˆå¾—åˆ°çš„maå³ä¸ºæœ€é•¿æ»‘å¡çš„é•¿åº¦ã€‚ ä»£ç å®ç°å·²ç»™å‡ºï¼Œå…¶ä¸­ä½¿ç”¨äº†ä¼˜å…ˆé˜Ÿåˆ—pqæ¥è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nmlog(nm))ï¼Œå› ä¸ºnå’Œmçš„æœ€å¤§å€¼ä¸º100ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ¥å—çš„èŒƒå›´å†…ã€‚\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢é€æ­¥è®¡ç®—å‡ºä»æ¯ä¸ªç‚¹å‡ºå‘çš„æœ€é•¿æ»‘å¡è·ç¦»ï¼Œç„¶åæ ¹æ®é—®é¢˜è¦æ±‚æ‰¾åˆ°æœ€é•¿çš„æ»‘å¡ã€‚\nfrom heapq import * n, m = map(int, input().split()) f = [[0] * (m + 5) for _ in range(n + 5)] # distance g = [[0] * (m + 5) for _ in range(n + 5)] # store heights pq = [] for i in range(1, n + 1): nums = [0] + list(map(int, input().split())) for j, num in enumerate(nums[1:]): f[i][j] = 1 g[i][j] = num heappush(pq, (num, i, j)) # Push (num, i, j) into the priority queue ma = -1 while pq: num, i, j = heappop(pq) if g[i - 1][j] \u0026lt; num: f[i][j] = max(f[i][j], f[i - 1][j] + 1) if g[i + 1][j] \u0026lt; num: f[i][j] = max(f[i][j], f[i + 1][j] + 1) if g[i][j - 1] \u0026lt; num: f[i][j] = max(f[i][j], f[i][j - 1] + 1) if g[i][j + 1] \u0026lt; num: f[i][j] = max(f[i][j], f[i][j + 1] + 1) ma = max(ma, f[i][j]) print(ma) from functools import lru_cache from sys import stdin input = stdin.readline def solve(matrix): if not matrix: return 0 dirs = [(-1, 0), (0, 1), (1, 0), (0, -1)] @lru_cache(None) def dfs(r, c): res = 1 for dx, dy in dirs: a, b = r + dx, c + dy if 0\u0026lt;= a \u0026lt;m and 0\u0026lt;= b \u0026lt;n and matrix[a][b] \u0026gt; matrix[r][c]: res = max(res, dfs(a, b) + 1) return res m, n = len(matrix), len(matrix[0]) res = 0 for i in range(m): for j in range(n): res = max(res, dfs(i, j)) return res r, c = map(int, input().split()) matrix = [[]for _ in range(r)] for i in range(r): matrix[i] = list(map(int, input().split())) print(solve(matrix)) ","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%E4%BA%94dppython%E5%AE%9E%E7%8E%B0/","summary":"ç®—æ³•ç¬”è®°ï¼ˆäº”ï¼‰â€”â€”DPï¼ˆPythonå®ç°ï¼‰ DP æ•°å­—ä¸‰è§’å½¢ f=[] n=int(input()) for _ in range(n): f.append([int(x) for x in input().split()]) for i in range(n-2,-1,-1): for j in range(i+1): f[i][j]=max(f[i+1][j], f[i+1][j+1])+f[i][j] print(f[0][0]) èƒŒåŒ… ç©ºé—´ä¼˜åŒ–æˆ1ç»´ä¹‹åï¼Œåªæœ‰å®Œå…¨èƒŒåŒ…é—®é¢˜çš„","title":"ç®—æ³•ç¬”è®°ï¼ˆäº”ï¼‰â€”â€”DPï¼ˆPythonå®ç°ï¼‰"},{"content":"ç®—æ³•ç¬”è®°ï¼ˆä¸€ï¼‰â€”â€”åŸºç¡€+æ‚é¡¹ï¼ˆPythonå®ç°ï¼‰ åŸºç¡€+æ‚é¡¹ å¿«é€Ÿæ’åº def quick_sort(q, l, r): if l\u0026gt;=r: return i,j,x=l-1,r+1,q[(l+r)\u0026gt;\u0026gt;1] while i\u0026lt;j: i+=1 while q[i]\u0026lt;x: i+=1 j-=1 while q[j]\u0026gt;x: j-=1 if i\u0026lt;j: q[i], q[j] = q[j], q[i] quick_sort(q, l, j) quick_sort(q, j+1, r) n=int(input()) arr=list(map(int, input().split())) quick_sort(arr,0,n-1) print(\u0026#34; \u0026#34;.join(map(str, arr))) å½’å¹¶æ’åº j = mid+1 !!!\nfrom sys import stdin input = lambda:stdin.readline().strip() def merge_sort(q, l, r): if l\u0026gt;=r: return mid = l+r\u0026gt;\u0026gt;1 merge_sort(q, l, mid); merge_sort(q, mid+1, r) i, j = l, mid+1 tmp = [] while i\u0026lt;=mid and j\u0026lt;=r: if q[i] \u0026lt;= q[j]: tmp.append(q[i]) i += 1 else: tmp.append(q[j]) j += 1 if i\u0026lt;=mid: tmp.extend(q[i:mid+1]) if j\u0026lt;=r: tmp.extend(q[j:r+1]) q[l:r+1] = tmp n = int(input()) arr = list(map(int, input().split())) merge_sort(arr, 0, n-1) print(*arr) äºŒåˆ† def check(x): # æ£€æŸ¥ x æ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨ pass # è¿™é‡Œéœ€è¦æ ¹æ®å…·ä½“çš„æƒ…å†µå®ç° def bsearch_1(l, r): while l \u0026lt; r: mid = (l + r) // 2 if check(mid): r = mid else: l = mid + 1 return l def bsearch_2(l, r): while l \u0026lt; r: mid = (l + r + 1) // 2 if check(mid): l = mid else: r = mid - 1 return l # ç¤ºä¾‹ç”¨æ³• # é¦–å…ˆå®šä¹‰ check å‡½æ•°æ¥æ£€æŸ¥æ€§è´¨ # ç„¶åä½¿ç”¨ bsearch_1 æˆ– bsearch_2 æ¥è¿›è¡ŒäºŒåˆ†æœç´¢ æœ€ä½³ç‰›å›´æ  é¢˜æ„ï¼šnå—åœ°ï¼Œæ¯å—åœ°ä¸Šæœ‰å¥¶ç‰›ï¼Œç°åœ¨éœ€è¦ç”¨å›´æ å›´èµ·ä¸€äº›å¥¶ç‰›ï¼Œ ä½†è‡³å°‘æœ‰få—åœ°ï¼Œé—®æœ€ç»ˆå›´èµ·çš„åœ°ä¸­ç‰›çš„æ•°é‡çš„å¹³å‡æ•°çš„æœ€å¤§å€¼ä¸ºå¤šå°‘ã€‚ æµ®ç‚¹æ•°äºŒåˆ†æœ€å¤§æ•°é‡ï¼Œåˆ¤æ–­æ‰€æœ‰æ•°å‡å»å½“å‰äºŒåˆ†çš„å¹³å‡æ•°åï¼Œæœ‰æ²¡æœ‰ä¸€æ®µé•¿åº¦ä¸ºfå¹¶ä¸”æ˜¯å…¨ä¸ºæ­£æ•°çš„ï¼Œå¦‚æœæœ‰åˆ™åˆæ³•ã€‚åˆ¤æ–­æ–¹æ³•ï¼šbæ•°ç»„å­˜åŸæ•°ç»„å‡å»å¹³å‡æ•°ï¼Œæ±‚å‰ç¼€å’Œï¼Œç”¨å‰ç¼€å’Œæ•°ç»„æ±‚æŸä¸€æ®µå†…çš„å’Œæ˜¯å¦ä¸ºæ­£æ•°å³å¯ï¼Œ åªè¦é•¿åº¦å¤§äºfçš„æ‰€æœ‰æ®µéƒ½è¦æšä¸¾ï¼Œä½†æ˜¯æˆ‘ä»¬åªè¦æ±‚$s[i]-s[0-\u0026gt;i-f]$æ˜¯å¦æœ‰ä¸€ä¸ªå¤§äº0å³å¯ï¼Œæ‰€ä»¥åªç”¨æ±‚$min(s[0:i-f])$å³å¯ã€‚æ³¨æ„æµ®ç‚¹æ•°äºŒåˆ†å› ä¸ºè¯¯å·®éœ€è¦ç”¨epsåˆ¤æ–­ï¼Œå¹¶ä¸”rä¼šç¨å¾®å¤§äºç­”æ¡ˆï¼Œlä¼šç¨å¾®å°äºç­”æ¡ˆï¼Œé¢˜ç›®é—®çš„æ˜¯å‘ä¸‹å–æ•´æœ€è¿‘çš„æ•´æ•°ï¼Œæ‰€ä»¥å–rå‘ä¸‹å–æ•´ã€‚ import sys input = lambda:sys.stdin.readline().strip() N = int(1e5+10) a, b = [0]*N, [0]*N n, f = map(int , input().split()) for i in range(1, n+1): a[i] = int(input()) l, r = 0.0, 2e3+10 eps = 1e-6 while r-l \u0026gt; eps: mid = (l+r)/2 s, mi, cur = [0]*N, 1e18, -1e18 for i in range(1, n+1): b[i] = a[i]-mid for i in range(1, n+1): s[i] = s[i-1]+b[i] for i in range(f, n+1): mi = min(mi, s[i-f]) cur = max(cur, s[i]-mi) if cur\u0026gt;=0: l = mid else: r = mid print(int(r*1000)) æµ®ç‚¹æ•°äºŒåˆ† def check(x): # æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨ pass # è¿™é‡Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µå®ç°checkå‡½æ•° def bsearch_3(l, r): eps = 1e-6 # eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚ while r - l \u0026gt; eps: mid = (l + r) / 2 if check(mid): r = mid else: l = mid return l ä¸€ç»´å‰ç¼€å’Œ def prefixSum(arr): n = len(arr) prefixSum = [0] * n prefixSum[0] = arr[0] for i in range(1, n): prefixSum[i] = prefixSum[i-1] + arr[i] for i in range(n): print(prefixSum[i], end=\u0026#34; \u0026#34;) arr = [1, 2, 3, 4, 5] prefixSum(arr) äºŒç»´å‰ç¼€å’Œ import sys # é‡å®šå‘è¾“å…¥å‡½æ•°ä¸ºsys.stdin.readline().strip()ä»¥å»é™¤æœ«å°¾æ¢è¡Œç¬¦ input = lambda:sys.stdin.readline().strip() # è¯»å–nã€mã€qä¸‰ä¸ªæ•´æ•° n, m, q = map(int, input().split()) # åˆ›å»ºä¸€ä¸ªn+1è¡Œï¼Œm+1åˆ—çš„äºŒç»´åˆ—è¡¨gï¼Œåˆå§‹å€¼å‡ä¸º0 g = [[0]*(m+1) for _ in range(n+1)] # è¯»å–åœ°å›¾çš„æ¯ä¸€è¡Œï¼Œå¹¶å°†å€¼è½¬æ¢ä¸ºæ•´æ•°ï¼Œå­˜å‚¨åˆ°gä¸­ for i in range(1, n+1): g[i] = [0] + list(map(int, input().split())) # è®¡ç®—å‰ç¼€å’Œï¼Œg[i][j]è¡¨ç¤ºä»¥(i,j)ä¸ºå³ä¸‹è§’çš„çŸ©å½¢å†…æ‰€æœ‰å…ƒç´ ä¹‹å’Œ for i in range(1, n+1): for j in range(1, m+1): g[i][j] = (g[i][j] + g[i-1][j] + g[i][j-1] - g[i-1][j-1]) # é’ˆå¯¹æ¯ä¸ªæŸ¥è¯¢ï¼Œè®¡ç®—ç»™å®šçŸ©å½¢åŒºåŸŸå†…å…ƒç´ ä¹‹å’Œ for i in range(q): x1, y1, x2, y2 = map(int, input().split()) # è®¡ç®—çŸ©å½¢åŒºåŸŸå†…å…ƒç´ ä¹‹å’Œï¼Œåˆ©ç”¨å‰ç¼€å’Œçš„æ€§è´¨ # g[x2][y2]è¡¨ç¤ºå³ä¸‹è§’åæ ‡ä¸º(x2,y2)çš„çŸ©å½¢å†…æ‰€æœ‰å…ƒç´ ä¹‹å’Œ # g[x1-1][y2]è¡¨ç¤ºå³ä¸Šè§’åæ ‡ä¸º(x1-1,y2)çš„çŸ©å½¢å†…æ‰€æœ‰å…ƒç´ ä¹‹å’Œ # g[x2][y1-1]è¡¨ç¤ºå·¦ä¸‹è§’åæ ‡ä¸º(x2,y1-1)çš„çŸ©å½¢å†…æ‰€æœ‰å…ƒç´ ä¹‹å’Œ # g[x1-1][y1-1]è¡¨ç¤ºå·¦ä¸Šè§’åæ ‡ä¸º(x1-1,y1-1)çš„çŸ©å½¢å†…æ‰€æœ‰å…ƒç´ ä¹‹å’Œ # åˆ©ç”¨ä»¥ä¸Šå››ä¸ªå€¼ï¼Œå¯ä»¥æ±‚å¾—ç›®æ ‡çŸ©å½¢åŒºåŸŸå†…å…ƒç´ ä¹‹å’Œ print(g[x2][y2] - g[x1-1][y2] - g[x2][y1-1] + g[x1-1][y1-1]) ä¸€ç»´å·®åˆ† å·®åˆ†å’Œå‰ç¼€å’Œæ˜¯é€†è¿ç®—ã€‚\néœ€è¦è®¡ç®—æŸä¸€æ®µåŒºé—´$+-$æ“ä½œæ—¶ï¼Œè¿ç”¨å·®åˆ†æ“ä½œ updateRange éœ€è¦å…ˆæ„é€ å·®åˆ†æ•°ç»„\n$s[i] = s[i-1]+a[i]$ é€†è¿ç®— $d[i]=a[i]-a[i-1]$ ï¼ˆåŸæ•°ç»„çœ‹ä½œä¸ºå‰ç¼€å’Œæ•°ç»„ï¼‰\ndef updateRange(B, l, r, c): B[l] += c B[r + 1] -= c def printArray(arr): for i in range(len(arr)): print(arr[i], end=\u0026#34; \u0026#34;) print() n= 5 B = [0] * (n + 1) updateRange(B, 1, 3, 2) updateRange(B, 2, 4, 3) printArray(B) import sys # é‡å®šå‘è¾“å…¥å‡½æ•°ä¸ºsys.stdin.readline().strip()ä»¥å»é™¤æœ«å°¾æ¢è¡Œç¬¦ input = lambda:sys.stdin.readline().strip() # è¯»å–nå’Œmä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—é•¿åº¦å’Œæ“ä½œæ¬¡æ•° n, m = map(int, input().split()) # è¯»å–åºåˆ—aï¼Œé•¿åº¦ä¸ºnï¼Œå°†å…¶è½¬æ¢ä¸ºæ•´æ•°åˆ—è¡¨ï¼ŒåŒæ—¶åœ¨å¼€å¤´æ·»åŠ 0ä»¥ä¾¿å¤„ç†è¾¹ç•Œæƒ…å†µ a = [0] + list(map(int, input().split())) # åˆå§‹åŒ–å·®åˆ†æ•°ç»„dï¼Œé•¿åº¦ä¸ºn+2ï¼Œåˆå§‹å€¼å‡ä¸º0 d = [0]*(n+2) # è®¡ç®—åŸå§‹åºåˆ—aä¸­ç›¸é‚»å…ƒç´ çš„å·®å€¼ï¼Œå­˜å‚¨åˆ°å·®åˆ†æ•°ç»„dä¸­ for i in range(1, n+1): d[i] = a[i] - a[i-1] # æ‰§è¡Œmæ¬¡æ“ä½œ for i in range(m): # è¯»å–æ“ä½œå‚æ•°lã€rã€cï¼Œè¡¨ç¤ºå¯¹[l,r]èŒƒå›´å†…å…ƒç´ å¢åŠ c l, r, c = map(int, input().split()) # åœ¨å·®åˆ†æ•°ç»„ä¸­æ›´æ–°å¯¹åº”åŒºé—´[l,r]å†…å…ƒç´ çš„å¢é‡ d[l] += c d[r+1] -= c # æ ¹æ®å·®åˆ†æ•°ç»„è¿˜åŸåŸå§‹åºåˆ— for i in range(1, n+1): d[i] += d[i-1] # è¾“å‡ºè¿˜åŸåçš„åŸå§‹åºåˆ— print(*d[1:n+1]) äºŒç»´å·®åˆ† # ä»è¾“å…¥ä¸­è·å–ç½‘æ ¼çš„è¡Œæ•°ã€åˆ—æ•°å’Œæ“ä½œæ•°é‡ n, m, q = map(int, input().split()) # åˆå§‹åŒ–åŸå§‹ç½‘æ ¼æ•°ç»„å’Œæ“ä½œå½±å“æ•°ç»„ g = [[0]*(m+1) for _ in range(n+1)] d = [[0]*(m+2) for _ in range(n+2)] # å¡«å……åŸå§‹ç½‘æ ¼æ•°ç»„ for i in range(1, n+1): # å°†æ¯è¡Œçš„æ•°æ®å­˜å…¥äºŒç»´æ•°ç»„gä¸­ g[i] = [0] + list(map(int, input().split())) # å¤„ç†æ¯ä¸ªæ“ä½œ for i in range(q): # è·å–æ“ä½œçš„å·¦ä¸Šè§’åæ ‡ã€å³ä¸‹è§’åæ ‡å’Œè¦æ·»åŠ åˆ°è¯¥åŒºåŸŸå†…çš„å€¼ x1, y1, x2, y2, c = map(int, input().split()) # æ›´æ–°æ“ä½œå½±å“æ•°ç»„ d[x1][y1] += c d[x1][y2+1] -= c d[x2+1][y1] -= c d[x2+1][y2+1] += c # æ ¹æ®æ“ä½œå½±å“æ•°ç»„æ›´æ–°åŸå§‹ç½‘æ ¼æ•°ç»„ for i in range(1, n+1): for j in range(1, m+1): # æ›´æ–°æ“ä½œå½±å“çš„ç´¯ç§¯å€¼ d[i][j] = d[i][j] + d[i-1][j] + d[i][j-1] - d[i-1][j-1] # æ›´æ–°åŸå§‹ç½‘æ ¼æ•°ç»„ä¸­çš„å€¼ g[i][j] += d[i][j] # æ‰“å°æ›´æ–°åçš„åŸå§‹ç½‘æ ¼æ•°ç»„ for i in range(1, n+1): print(*g[i][1:m+1]) åŒæŒ‡é’ˆ for i in range(n): j = 0 while j \u0026lt; i and check(j, i): j += 1 # å…·ä½“é—®é¢˜çš„é€»è¾‘ # å¸¸è§é—®é¢˜åˆ†ç±»ï¼š # (1) å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤ä¸€æ®µåŒºé—´ # (2) å¯¹äºä¸¤ä¸ªåºåˆ—ï¼Œç»´æŠ¤æŸç§æ¬¡åºï¼Œæ¯”å¦‚å½’å¹¶æ’åºä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—çš„æ“ä½œ ä½è¿ç®— åŸç ï¼Œåç ï¼Œè¡¥ç  æ±‚näºŒè¿›åˆ¶è¡¨ç¤ºä¸­ç¬¬kä½æ•°å­—: n \u0026gt;\u0026gt; k \u0026amp; 1 è¿”å›nçš„æœ€åä¸€ä½1ï¼šlowbit(n) = n \u0026amp; -n æ ‘çŠ¶æ•°ç»„åŸºæœ¬æ“ä½œ ç¦»æ•£åŒ– alls = [] # å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼ # å°†æ‰€æœ‰å€¼æ’åº alls.sort() # å»æ‰é‡å¤å…ƒç´  alls = list(set(alls)) # äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼ def find(x): l, r = 0, len(alls) - 1 while l \u0026lt; r: mid = (l + r) // 2 if alls[mid] \u0026gt;= x: r = mid else: l = mid + 1 return r + 1 # æ˜ å°„åˆ°1, 2, ...n import sys input = lambda:sys.stdin.readline().strip() def find(x): l, r = 0, num while l\u0026lt;r: mid = (l+r+1)\u0026gt;\u0026gt;1 if ls[mid] \u0026lt;= x: l = mid else: r = mid-1 return l N = int(1e5)+10 s = [0]*N ls = [] d = dict() n, m = map(int, input().split()) for i in range(n): x, c = map(int, input().split()) if x not in d: d[x] = c ls.append(x) else: d[x] += c ls.sort() num = len(d) ls = [0] + ls for i in range(1, num+1): s[i] = s[i-1] + d[ls[i]] for i in range(m): l, r = map(int, input().split()) pl, pr = find(l), find(r) if l in d: pl -= 1 print(s[pr] - s[pl]) åŒºé—´åˆå¹¶ def merge(segs): segs.sort() # åŒºé—´å·¦ç«¯ç‚¹æ’åº res = [] st, ed = -2e9, -2e9 for seg in segs: if ed \u0026lt; seg[0]: if st != -2e9: res.append((st, ed)) st, ed = seg[0], seg[1] else: ed = max(ed, seg[1]) if st != -2e9: res.append((st, ed)) segs[:] = res n = int(input()) st, ed = -int(2e9), -int(2e9) segs = [] for i in range(n): l, r = map(int, input().split()) segs.append((l, r)) segs.sort() cnt = 0 for seg in segs: s, e = seg if s\u0026gt;ed: st, ed = s, e cnt+=1 else: ed = max(e, ed) print(cnt) çŸ©é˜µå¿«é€Ÿå¹‚ mod = int(1e9) + 7 def mul(a, b): t = [[0]*101 for _ in range(101)] for i in range(1, n+1): for j in range(1, n+1): for k in range(1, n+1): t[i][j] = (t[i][j] + a[i][k]*b[k][j]) % mod return t def qp(a, k): res = [[0]*101 for _ in range(101)] for i in range(1, n+1): res[i][i] = 1 while k: if k\u0026amp;1: res = mul(res, a) a = mul(a, a) k\u0026gt;\u0026gt;=1 return res n, k = map(int, input().split()) a = [[0]*101 for _ in range(101)] for i in range(1, n+1): row = [0] + list(map(int, input().split())) for j in range(1, n+1): a[i][j] = row[j] ans = qp(a, k) for i in range(1, n+1): print(*ans[i][1:n+1], sep=\u0026#39; \u0026#39;) é€’å½’98. åˆ†å½¢ä¹‹åŸ t = int(input()) def calc(n, m): if not m: return (0, 0) l, cnt = 1\u0026lt;\u0026lt;(n-1), 1\u0026lt;\u0026lt;(2*n-2) x, y = calc(n-1, m%cnt) z = m//cnt if z==0: return (y, x) if z==1: return (x, y+l) if z==2: return (x+l, y+l) if z==3: return (2*l-1 - y, l-1 - x) for i in range(t): n, a, b = map(int, input().split()) a-=1; b-=1 xa, ya = calc(n, a) xb, yb = calc(n, b) dis = int(( (xa-xb)**2 + (ya-yb)**2 ) ** 0.5 * 10 + 0.5) print(dis) é€’æ¨95. è´¹è§£çš„å¼€å…³ é¢˜ç›®å¤§æ„ï¼šæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼šæœ‰ 25 ç›ç¯æ’æˆ 5Ã—5 çš„æ–¹å½¢ã€‚æ¯ä¸€ç›ç¯éƒ½æœ‰ä¸€ä¸ªå¼€å…³ï¼Œæ”¹å˜æŸä¸€ç›ç¯çš„çŠ¶æ€ä¼šå¯¼è‡´å…¶ä¸Šä¸‹å·¦å³ç›¸é‚»çš„ç¯ä¹Ÿæ”¹å˜çŠ¶æ€ã€‚ç»™å®šåˆå§‹çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½åœ¨ 6 æ­¥ä»¥å†…ä½¿æ‰€æœ‰çš„ç¯éƒ½å˜äº®ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå‡½æ•° turn(x, y) æ¥å®ç°æ”¹å˜ç¯çš„çŠ¶æ€ä»¥åŠè¿é”ååº”ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯¹äºæ¯ä¸ªåˆå§‹çŠ¶æ€ï¼Œé‡‡ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢æˆ–è€…å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼æ¥æ¨¡æ‹Ÿæ¸¸æˆè¿‡ç¨‹ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„å¼€å…³çŠ¶æ€ç»„åˆï¼Œå¹¶è®°å½•è¾¾åˆ°ç›®æ ‡çŠ¶æ€æ‰€éœ€çš„æ­¥æ•°ã€‚æœ€åï¼Œè¾“å‡ºç»“æœå³å¯ã€‚\nfrom copy import deepcopy dx = [0, 1, 0, -1, 0] dy = [0, 0, 1, 0, -1] g = [[] for _ in range(5)] def turn(x, y): for i in range(5): xx = x+dx[i] yy = y+dy[i] if xx in range(5) and yy in range(5): g[xx][yy] ^= 1 def work(): global g backup = deepcopy(g) ans = float(\u0026#39;inf\u0026#39;) for k in range(1\u0026lt;\u0026lt;5): cur, flag = 0, True g = deepcopy(backup) for i in range(5): if (k\u0026gt;\u0026gt;i)\u0026amp;1: turn(0, i) cur+=1 for i in range(4): for j in range(5): if g[i][j]==0: turn(i+1, j) cur+=1 for i in range(5): if g[4][i]==0: flag = False break if flag: ans = min(ans, cur) return ans t = int(input()) for _ in range(t): for i in range(5): g[i] = [int(_) for _ in list(input())] if _ \u0026lt; t-1: input() res = work() if res\u0026lt;=6:print(res) else:print(-1) ST1273. å¤©æ‰çš„è®°å¿† é¢˜ç›®å¤§æ„ï¼šæœ‰ä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°å­—åºåˆ—ï¼Œç¼–å·ä¸º 1 åˆ° Nï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºä¸¤ä¸ªæ•°å­— A å’Œ Bï¼Œè¦æ±‚å›ç­” A åˆ° B åŒºé—´å†…çš„æœ€å¤§æ•°ã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŒºé—´æœ€å€¼æŸ¥è¯¢é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘è¿›è¡Œæ±‚è§£ã€‚é¦–å…ˆï¼Œéœ€è¦åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„ f ç”¨äºå­˜å‚¨åŒºé—´æœ€å¤§å€¼ä¿¡æ¯ã€‚ç„¶åï¼Œåˆ©ç”¨é¢„å¤„ç†çš„æ–¹å¼ï¼Œè®¡ç®—å‡º log æ•°ç»„ï¼Œç”¨äºå¿«é€Ÿè®¡ç®—åŒºé—´é•¿åº¦çš„å¯¹æ•°ã€‚æ¥ç€ï¼Œåˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œåˆå§‹åŒ– f æ•°ç»„ï¼Œä½¿å¾— f[i][0] ç­‰äºæ•°å­—åºåˆ—ä¸­å¯¹åº”ä½ç½®çš„å€¼ã€‚æ¥ä¸‹æ¥ï¼Œåˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œæ›´æ–° f æ•°ç»„ï¼Œä½¿å¾— f[i][j] ç­‰äºåŒºé—´ [i, i+2^j-1] å†…çš„æœ€å¤§å€¼ã€‚æœ€åï¼Œå¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œåˆ©ç”¨é¢„å¤„ç†çš„åŒºé—´æœ€å€¼ä¿¡æ¯ï¼Œé€šè¿‡ log æ•°ç»„å¿«é€Ÿç¡®å®šåŒºé—´é•¿åº¦çš„å¯¹æ•°ï¼Œç„¶ååˆ©ç”¨åŒºé—´æœ€å€¼ä¿¡æ¯æŸ¥è¯¢åŒºé—´æœ€å¤§å€¼ï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚\nimport sys input = lambda:sys.stdin.readline().strip() N = int(2e5)+10 M = 20 f = [[0]*M for _ in range(N)] log = [0]*N def init(): log[0] = -1 for i in range(1, N): log[i] = log[i\u0026gt;\u0026gt;1] + 1 for j in range(M): for i in range(1, n+1): if not j: f[i][j] = w[i] else: if i + (1\u0026lt;\u0026lt;(j-1)) \u0026gt; n: break f[i][j] = max(f[i][j-1], f[i+(1\u0026lt;\u0026lt;(j-1))][j-1]) def query(l, r): leng = r-l+1 k = log[leng] return max(f[l][k], f[r-(1\u0026lt;\u0026lt;k)+1][k]) n = int(input()) w = [0] + list(map(int, input().split())) init() m = int(input()) for i in range(m): l, r = map(int, input().split()) print(query(l, r)) ","permalink":"https://kennems.github.io/zh/posts/tech/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%E4%B8%80%E5%9F%BA%E7%A1%80+%E6%9D%82%E9%A1%B9python%E5%AE%9E%E7%8E%B0/","summary":"ç®—æ³•ç¬”è®°ï¼ˆä¸€ï¼‰â€”â€”åŸºç¡€+æ‚é¡¹ï¼ˆPythonå®ç°ï¼‰ åŸºç¡€+æ‚é¡¹ å¿«é€Ÿæ’åº def quick_sort(q, l, r): if l\u0026gt;=r: return i,j,x=l-1,r+1,q[(l+r)\u0026gt;\u0026gt;1] while i\u0026lt;j: i+=1 while q[i]\u0026lt;x: i+=1 j-=1 while q[j]\u0026gt;x: j-=1 if i\u0026lt;j: q[i], q[j] = q[j], q[i] quick_sort(q, l, j) quick_sort(q, j+1, r) n=int(input()) arr=list(map(int, input().split())) quick_sort(arr,0,n-1) print(\u0026#34; \u0026#34;.join(map(str,","title":"ç®—æ³•ç¬”è®°ï¼ˆä¸€ï¼‰â€”â€”åŸºç¡€+æ‚é¡¹ï¼ˆPythonå®ç°ï¼‰"},{"content":"å‘¨èµ›240407 å‡ºå¸ˆä¸åˆ©ï¼Œç¬¬ä¸€é¢˜å˜é‡åèƒ½å†™é”™ï¼Œæ…¢å°±æ˜¯å¿«ï¼Œå°‘å°±æ˜¯å¤šï¼Œæäº¤ä¹‹å‰ä¸€å®šè¦æœ‰ä¸‡å…¨çš„æ£€æŸ¥ã€‚\nç¬¬äºŒé¢˜100242. æ»¡è¶³è·ç¦»çº¦æŸä¸”å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸² çº¯æ€ç»´é¢˜ï¼Œå…ˆèŠ±æ—¶é—´æƒ³æ¸…æ¥šåŸºç¡€é—®é¢˜å†æƒ³åé¢çš„é—®é¢˜ã€‚å¸å–æ•™è®­ï¼Œä»£ç ä¸€å®šè¦å†™çš„æ¸…æ™°æ˜äº†ï¼Œè‡ªå·±æ‰èƒ½æ›´å¥½çš„çœ‹æ‡‚å¹¶å†™ä¸‹å»ã€‚\nPython å–æ¨¡è¿ç®—ä¸­ä½™æ•°ç¬¦å·å’Œé™¤æ•°ç¬¦å·ä¸€è‡´ï¼Œå¹¶æ»¡è¶³ï¼š$è¢«é™¤æ•°-é™¤æ•°*å•†(æ•´é™¤)=ä½™æ•°$\næ€è·¯ï¼šè½¬æ¢é—®é¢˜ï¼Œé—®ä¸è¶…è¿‡kï¼Œé‚£ä¹ˆç”¨å®Œ$k$æ˜¯æœ€ä¼˜çš„ï¼Œå› ä¸ºç”¨$k$æ€»èƒ½ä½¿å­—å…¸åºå˜å°(é™¤éåŸåºåˆ—å…¨æ˜¯$a$), é‚£ä¹ˆå°±ä¾æ¬¡æšä¸¾ï¼ŒçŸ¥é“ä¸èƒ½è½¬æ¢ä¸º$a$çš„æƒ…å†µä¸‹å°†å‰©ä½™çš„$k$è½¬æ¢ç§°å¯ä»¥è½¬æ¢æˆçš„æœ€å°çš„å­—å…¸åºå­—æ¯ã€‚\nclass Solution: def getSmallestString(self, s: str, k: int) -\u0026gt; str: s = list(s) n = len(s) for i in range(n): d = min(ord(s[i])-ord(\u0026#39;a\u0026#39;), ord(\u0026#39;a\u0026#39;)-ord(s[i])+26) if k\u0026gt;=d: k-=d s[i]=\u0026#39;a\u0026#39; else: num = ord(s[i])-ord(\u0026#39;a\u0026#39;) ch = min((num-k)%26, (num+k)%26) ch = chr(ch+ord(\u0026#39;a\u0026#39;)) s[i] = ch break return \u0026#39;\u0026#39;.join(s) ç¬¬ä¸‰é¢˜ 3107. ä½¿æ•°ç»„ä¸­ä½æ•°ç­‰äº K çš„æœ€å°‘æ“ä½œæ•° è¿™é¢˜æ¯”è¾ƒç®€ç­”ï¼Œæœ€åä¸€åˆ»ç”¨äºŒåˆ†äº¤çš„ï¼Œç»“æœå³ç«¯ç‚¹å–å€¼ä¿å®ˆé”™äº†ä¸€å‘ã€‚\nå®é™…ä¸éœ€è¦äºŒåˆ†ï¼Œåœ¨æ’å¥½åºçš„åºåˆ—é‡Œï¼Œç”¨ä¸­ä½æ•°å»é è¿‘ä¸­ä½æ•°æ›´ä¼˜ï¼Œæ‰€ä»¥ç›´æ¥æ’åºè®¡ç®—å°†å‰é¢æ¯”kå¤§çš„å’Œåé¢æ¯”$k$å°çš„è®¡ç®—å·®å€¼å°±å¯ä»¥äº†ã€‚\nclass Solution: def minOperationsToMakeMedianK(self, nums: List[int], k: int) -\u0026gt; int: nums.sort() n = len(nums) mid = n // 2 op=abs(nums[mid]-k) for i in range(mid): if nums[i]\u0026gt;k: op += nums[i] - k for i in range(mid+1, n): if nums[i]\u0026lt;k: op += k - nums[i] return op ç¬¬å››é¢˜100244. å¸¦æƒå›¾é‡Œæ—…é€”çš„æœ€å°ä»£ä»· å¹¶æŸ¥é›†+æ€ç»´é¢˜ã€‚å¦‚æœä¸€äº›æ•°å­—ç›¸ä¸$(and)$ï¼Œ å¦‚æœå­˜åœ¨è¾ƒå°çš„æ•°å­—äºŒè¿›åˆ¶ä½ä¸­æ˜¯$0$ï¼Œé‚£ä¹ˆå°±ç®—æœ‰å†å¤šçš„æ•°å­—åœ¨è¿™ä¸€ä½ä¸Šæ˜¯$1$ä¹Ÿæ²¡æœ‰ç”¨äº†ã€‚æ‰€ä»¥åœ¨ä¸€ä¸ªè¿é€šå—å†…æœ€å°ä»£ä»·å°±æ˜¯æ‰€æœ‰è¾¹éƒ½èµ°ä¸€éï¼Œè€Œè¿é€šå—å¯ä»¥ç”¨å¹¶æŸ¥é›†æ¥åˆ¤æ–­ã€‚\nclass Solution: def minimumCost(self, n: int, edges: List[List[int]], query: List[List[int]]) -\u0026gt; List[int]: def find(x): if p[x]!=x: p[x]=find(p[x]) return p[x] p={i:i for i in range(n)} dis={} ret=[] for u,v,_ in edges: p[find(u)]=find(v) for u,v,w in edges: pu = find(u) if pu not in dis: dis[pu]=w else: dis[pu]\u0026amp;=w for x,y in query: if x==y: ret.append(0) continue #å¦‚æœç›¸ç­‰ä¸€å®šè¦continue px, py = find(x), find(y) if px==py: ret.append(dis[px]) else: ret.append(-1) return ret ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B240407/","summary":"å‘¨èµ›240407 å‡ºå¸ˆä¸åˆ©ï¼Œç¬¬ä¸€é¢˜å˜é‡åèƒ½å†™é”™ï¼Œæ…¢å°±æ˜¯å¿«ï¼Œå°‘å°±æ˜¯å¤šï¼Œæäº¤ä¹‹å‰ä¸€å®šè¦æœ‰ä¸‡å…¨çš„æ£€æŸ¥ã€‚ ç¬¬äºŒé¢˜100242. æ»¡è¶³è·ç¦»çº¦æŸä¸”å­—å…¸åºæœ€å°çš„","title":"LeetCodeå‘¨èµ›392(240407)"},{"content":"hugo new content posts/my-first-post.md\n","permalink":"https://kennems.github.io/zh/posts/life/my-first-post/","summary":"hugo new content posts/my-first-post.md","title":"My First Post"},{"content":"VP å‘¨èµ› ç¬¬ 389 åœºå‘¨èµ› ç¬¬ä¸‰é¢˜3085. æˆä¸º K ç‰¹æ®Šå­—ç¬¦ä¸²éœ€è¦åˆ é™¤çš„æœ€å°‘å­—ç¬¦æ•° åŒæŒ‡é’ˆä¼˜åŒ–$O(n)$\nç¬¬ä¸‰é¢˜åšå‡ºæ¥äº†ä½†åšæ³•ä¸ä¼˜å¹¶ä¸”é”™çš„æ¬¡æ•°å¤ªå¤šäº†ã€‚\né¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²wordå’Œä¸€ä¸ªæ•´æ•°kï¼Œå®šä¹‰ç‰¹æ®Šå­—ç¬¦ä¸²ä¸ºæ»¡è¶³|freq(word[i]) - freq(word[j])| \u0026lt;= kå¯¹äºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸‹æ ‡iå’Œjéƒ½æˆç«‹çš„å­—ç¬¦ä¸²ã€‚å…¶ä¸­ï¼Œfreq(x)è¡¨ç¤ºå­—ç¬¦xåœ¨wordä¸­çš„å‡ºç°é¢‘ç‡ï¼Œ|y|è¡¨ç¤ºyçš„ç»å¯¹å€¼ã€‚è¦æ±‚è®¡ç®—ä½¿wordæˆä¸ºkç‰¹æ®Šå­—ç¬¦ä¸²æ‰€éœ€åˆ é™¤çš„å­—ç¬¦çš„æœ€å°æ•°é‡ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆç»Ÿè®¡wordä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°é¢‘ç‡ï¼Œç„¶åå¯¹é¢‘ç‡è¿›è¡Œæ’åºã€‚æ¥ç€éå†é¢‘ç‡åˆ—è¡¨ï¼Œä»æœ€å¤§çš„é¢‘ç‡å¼€å§‹ï¼Œé€æ­¥å‡å°‘é¢‘ç‡ï¼Œç›´åˆ°æ»¡è¶³ç‰¹æ®Šå­—ç¬¦ä¸²çš„æ¡ä»¶ã€‚åœ¨å‡å°‘é¢‘ç‡çš„è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘é¢‘ç‡åˆ—è¡¨ä¸­çš„å½“å‰ä½ç½®ï¼Œä¸æ–­å‘å‰ç§»åŠ¨ï¼Œæ›´æ–°éœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡ã€‚æœ€ç»ˆå¾—åˆ°ä½¿wordæˆä¸ºkç‰¹æ®Šå­—ç¬¦ä¸²æ‰€éœ€åˆ é™¤çš„æœ€å°å­—ç¬¦æ•°é‡ã€‚\nclass Solution: def minimumDeletions(self, word: str, k: int) -\u0026gt; int: ans = 2e9 cnt = sorted(Counter(word).values()) numFre = len(cnt)-1 delCnt = len(word) right = numFre for cur in range(numFre, -1, -1): delCnt-=cnt[cur] maxFre = cnt[cur]+k while right\u0026gt;cur and cnt[right]\u0026gt;maxFre: delCnt+=cnt[right] right-=1 ans = min(ans, delCnt-(numFre-right)*maxFre) return ans ç¬¬å››é¢˜3086. æ‹¾èµ· K ä¸ª 1 éœ€è¦çš„æœ€å°‘è¡ŒåŠ¨æ¬¡æ•° é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„numsï¼Œé•¿åº¦ä¸ºnï¼Œä»¥åŠä¸€ä¸ªæ­£æ•´æ•°kå’Œéè´Ÿæ•´æ•°maxChangesã€‚Aliceåœ¨ä¸€ä¸ªæ¸¸æˆä¸­éœ€è¦ä»numsä¸­æ‹¾èµ·kä¸ª1ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼ŒAliceå¯ä»¥é€‰æ‹©ä»»æ„ä½ç½®ç«™ç«‹ã€‚Aliceå¯ä»¥æ‰§è¡Œä¸¤ç§è¡ŒåŠ¨ï¼šä¸€æ˜¯å°†ä¸€ä¸ª0æ”¹ä¸º1ï¼Œæ¬¡æ•°ä¸è¶…è¿‡maxChangesï¼›äºŒæ˜¯äº¤æ¢ç›¸é‚»ä½ç½®çš„1å’Œ0ã€‚è¿”å›Aliceæ‹¾å–kä¸ª1æ‰€éœ€çš„æœ€å°‘è¡ŒåŠ¨æ¬¡æ•°ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œç»Ÿè®¡numsä¸­1çš„ä½ç½®ï¼ŒåŒæ—¶è®°å½•æ¯ä¸ª1çš„å‰ç¼€å’Œã€‚ç„¶åç¡®å®šæœ€å¤šå¯ä»¥æ‹¾å–çš„1çš„ä¸ªæ•°ï¼Œå³ä¸ºmaxChangeså’Œå½“å‰1çš„ä¸ªæ•°çš„æœ€å°å€¼ã€‚å¦‚æœæœ€å¤§å˜åŒ–æ¬¡æ•°maxChangesè¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¸éœ€è¦äº¤æ¢1çš„ä½ç½®ï¼Œç›´æ¥è®¡ç®—éœ€è¦å˜åŒ–çš„æ¬¡æ•°å³å¯ï¼›å¦åˆ™ï¼Œåˆ©ç”¨äºŒåˆ†æœç´¢ç¡®å®šéœ€è¦äº¤æ¢çš„1çš„ä½ç½®ï¼Œè®¡ç®—äº¤æ¢å’Œå˜åŒ–çš„æ¬¡æ•°ã€‚æœ€ç»ˆè¿”å›è¡ŒåŠ¨æ¬¡æ•°ã€‚\nclass Solution: def minimumMoves(self, nums: List[int], k: int, maxChanges: int) -\u0026gt; int: pos = [] n=len(nums) c=0 for i, v in enumerate(nums): if not v: continue pos.append(i) if c==3: continue c=max(c, 1) if i\u0026gt;0 and nums[i]==nums[i-1]: c = max(2, c) if i\u0026gt;1 and nums[i]==nums[i-1] and nums[i]==nums[i-2]: c = max(3, c) c = min(c, k) if maxChanges\u0026gt;=k-c: return max(0, (k-c)*2)+max(0, c-1) n = len(pos) preSum = list(accumulate(pos, initial = 0)) ret = inf rest = k-maxChanges for right in range(rest, n+1): left = right-rest i=left+right\u0026gt;\u0026gt;1 s1 = pos[i]*(i-left) - (preSum[i]-preSum[left]) s2 = preSum[right]-preSum[i]-pos[i]*(right-i) ret = min(ret, s1+s2) return ret+maxChanges*2 ","permalink":"https://kennems.github.io/zh/posts/tech/vp-%E5%91%A8%E8%B5%9B389/","summary":"VP å‘¨èµ› ç¬¬ 389 åœºå‘¨èµ› ç¬¬ä¸‰é¢˜3085. æˆä¸º K ç‰¹æ®Šå­—ç¬¦ä¸²éœ€è¦åˆ é™¤çš„æœ€å°‘å­—ç¬¦æ•° åŒæŒ‡é’ˆä¼˜åŒ–$O(n)$ ç¬¬ä¸‰é¢˜åšå‡ºæ¥äº†ä½†åšæ³•ä¸ä¼˜å¹¶ä¸”é”™çš„æ¬¡æ•°å¤ªå¤šäº†ã€‚ é¢˜ç›®å¤§","title":"LeetCodeå‘¨èµ›VP389"},{"content":"å‘¨èµ›240331 ç¬¬å››é¢˜ 100240 æœ€å°åŒ–æ›¼å“ˆé¡¿è·ç¦»\né¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªäºŒç»´å¹³é¢ä¸Šçš„ç‚¹é›†ï¼Œæ±‚ç§»é™¤å…¶ä¸­ä¸€ä¸ªç‚¹åï¼Œå‰©ä½™ç‚¹é›†ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»çš„æœ€å°å€¼ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆï¼Œå¯¹äºæ›¼å“ˆé¡¿è·ç¦»è€Œè¨€ï¼Œå®ƒçš„å®šä¹‰æ˜¯ä¸¤ç‚¹åœ¨å„ä¸ªåæ ‡è½´ä¸Šçš„å·®çš„ç»å¯¹å€¼ä¹‹å’Œã€‚æ‰€ä»¥ç§»é™¤ä¸€ä¸ªç‚¹åï¼Œå½±å“åˆ°æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»çš„ä¸»è¦æ˜¯è·ç¦»ç§»é™¤ç‚¹æœ€è¿‘çš„ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å°†ç‚¹çš„åæ ‡è¿›è¡Œè½¬æ¢ï¼Œå°†å…¶è½¬æ¢ä¸º(x+y)å’Œ(x-y)çš„å½¢å¼ï¼Œè¿™æ ·åœ¨å¹³é¢ä¸Šçš„æ›¼å“ˆé¡¿è·ç¦»å°±å¯ä»¥ç­‰æ•ˆä¸ºåœ¨è½¬æ¢åçš„åæ ‡ç³»ä¸‹çš„æ¬§å‡ é‡Œå¾—è·ç¦»ã€‚ç„¶åæˆ‘ä»¬ç”¨ä¸¤ä¸ªæœ‰åºé›†åˆåˆ†åˆ«ç»´æŠ¤x+yå’Œx-yçš„åæ ‡è½´ä¸Šçš„å€¼ï¼Œåˆ†åˆ«ä¸ºxsetå’Œysetã€‚ç„¶åéå†æ¯ä¸ªç‚¹ï¼Œä»ç‚¹é›†ä¸­ç§»é™¤ä¸€ä¸ªç‚¹ï¼Œæ›´æ–°æœ€å¤§è·ç¦»ï¼Œæ‰¾åˆ°æœ€å°å€¼ã€‚\nfrom sortedcontainers import SortedList class Solution: def minimumDistance(self, points: List[List[int]]) -\u0026gt; int: xset, yset = SortedList(), SortedList() for x, y in points: xset.add(x+y) yset.add(x-y) ans = inf for x, y in points: xx = x+y yy = x-y xset.remove(xx) yset.remove(yy) ans = min( ans, max(xset[-1]-xset[0], yset[-1]-yset[0]) ) xset.add(xx) yset.add(yy) return ans ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B240331/","summary":"å‘¨èµ›240331 ç¬¬å››é¢˜ 100240 æœ€å°åŒ–æ›¼å“ˆé¡¿è·ç¦» é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªäºŒç»´å¹³é¢ä¸Šçš„ç‚¹é›†ï¼Œæ±‚ç§»é™¤å…¶ä¸­ä¸€ä¸ªç‚¹åï¼Œå‰©ä½™ç‚¹é›†ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»çš„æœ€å°","title":"LeetCodeå‘¨èµ›240331"},{"content":"å‘¨èµ› 24/3/24 ç¬¬ä¸‰é¢˜ 100258 3092. æœ€é«˜é¢‘ç‡çš„ ID é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„numså’Œfreqï¼Œnumsä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸€ä¸ªIDï¼Œå¯¹åº”çš„freqä¸­çš„å…ƒç´ è¡¨ç¤ºè¿™ä¸ªIDåœ¨é›†åˆä¸­æ­¤æ¬¡æ“ä½œåéœ€è¦å¢åŠ æˆ–è€…å‡å°‘çš„æ•°ç›®ã€‚ç°è¦æ±‚åœ¨æ¯ä¸€æ­¥æ“ä½œåï¼Œè¿”å›å‡ºç°é¢‘ç‡æœ€é«˜çš„IDæ•°ç›®ï¼Œè‹¥é›†åˆä¸ºç©ºåˆ™ä¸º0ã€‚ SortedListå®ç°\nfrom sortedcontainers import SortedList class Solution: def mostFrequentIDs(self, nums: List[int], freq: List[int]) -\u0026gt; List[int]: sl = SortedList(key = lambda x : -x) d = defaultdict(int) ret = [] for x,y in zip(nums, freq): if d[x]!=0: sl.remove(d[x]) d[x]+=y sl.add(d[x]) else: d[x]=y sl.add(d[x]) if sl: ret.append(sl[0]) else: ret.append(0) return ret heap å®ç°\nå®ç°æ€è·¯ï¼š ä½¿ç”¨ä¸€ä¸ªå­—å…¸dæ¥åŠ¨æ€è®°å½•IDçš„å‡ºç°é¢‘ç‡ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç©ºå †heapå’Œç»“æœåˆ—è¡¨retã€‚\néå†numså’Œfreqæ•°ç»„ï¼Œå¯¹äºæ¯å¯¹nums[i]å’Œfreq[i]ï¼Œæ›´æ–°å­—å…¸dä¸­å¯¹åº”IDçš„é¢‘ç‡ã€‚\nå°†(-d[x], x)å…ƒç»„åŠ å…¥å †heapï¼Œå…¶ä¸­-d[x]è¡¨ç¤ºID xçš„å‡ºç°é¢‘ç‡çš„ç›¸åæ•°ï¼Œxè¡¨ç¤ºIDæœ¬èº«ã€‚å †æŒ‰ç…§é¢‘ç‡ä»é«˜åˆ°ä½æ’åºã€‚\nè¿›å…¥å¾ªç¯ï¼Œæ£€æŸ¥å †é¡¶å…ƒç´ æ˜¯å¦æ»¡è¶³å½“å‰é¢‘ç‡ï¼Œè‹¥ä¸æ»¡è¶³åˆ™å¼¹å‡ºç›´è‡³æ»¡è¶³ã€‚\nå°†å½“å‰å †é¡¶å…ƒç´ çš„é¢‘ç‡åŠ å…¥ç»“æœåˆ—è¡¨retã€‚\nè¿”å›ç»“æœåˆ—è¡¨retã€‚\nclass Solution: def mostFrequentIDs(self, nums: List[int], freq: List[int]) -\u0026gt; List[int]: d = defaultdict(int) heap = [] ret = [] for x,y in zip(nums, freq): d[x]+=y heapq.heappush(heap, (-d[x], x)) while True: tx, ty = heap[0] if -tx != d[ty]: heapq.heappop(heap) continue ret.append(-tx) break return ret ç¬¬å››é¢˜ 1002683093. æœ€é•¿å…¬å…±åç¼€æŸ¥è¯¢ Trieæ ‘\né¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„wordsContainerå’ŒwordsQueryï¼Œå¯¹äºæ¯ä¸ªwordsQuery[i]ï¼Œéœ€è¦ä»wordsContainerä¸­æ‰¾åˆ°ä¸€ä¸ªä¸wordsQuery[i]æœ‰æœ€é•¿å…¬å…±åç¼€çš„å­—ç¬¦ä¸²ã€‚è‹¥æœ‰å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²ï¼Œé€‰æ‹©é•¿åº¦æœ€çŸ­çš„ä¸€ä¸ªï¼Œè‹¥é•¿åº¦ç›¸åŒåˆ™é€‰æ‹©åœ¨wordsContainerä¸­å‡ºç°è¾ƒæ—©çš„ä¸€ä¸ªã€‚è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ansï¼Œå…¶ä¸­ans[i]è¡¨ç¤ºwordsContainerä¸­ä¸wordsQuery[i]æœ‰æœ€é•¿å…¬å…±åç¼€çš„å­—ç¬¦ä¸²çš„ä¸‹æ ‡ã€‚\nå®ç°æ€è·¯ï¼š\nåˆå§‹åŒ–ä¸€ä¸ªå˜é‡miè®°å½•wordsContainerä¸­æœ€çŸ­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¹¶è®°å½•å…¶ä¸‹æ ‡ä¸ºidxã€‚ æ„å»ºå­—å…¸trieï¼Œç”¨äºå­˜å‚¨wordsContainerä¸­æ¯ä¸ªå­—ç¬¦ä¸²çš„é€†åºå½¢å¼ï¼Œå¹¶è®°å½•æœ€çŸ­å­—ç¬¦ä¸²çš„ä¸‹æ ‡å’Œé•¿åº¦ã€‚ éå†wordsQueryï¼Œå¯¹äºæ¯ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå°†å…¶é€†åºï¼Œç„¶ååœ¨trieä¸­æœç´¢ä¸ä¹‹åŒ¹é…çš„æœ€é•¿å…¬å…±åç¼€ï¼Œå¹¶è¿”å›å…¶å¯¹åº”çš„ä¸‹æ ‡ã€‚ å°†æ‰€æœ‰æŸ¥è¯¢ç»“æœå­˜å…¥ç»“æœåˆ—è¡¨retï¼Œå¹¶è¿”å›ã€‚ class Solution: def stringIndices(self, c: List[str], q: List[str]) -\u0026gt; List[int]: mi = inf idx = -1 ret = [] for i, w in enumerate(c): if len(w)\u0026lt;mi: mi = len(w) idx = i trie = {} #dict for i, w in enumerate(c): w=w[::-1] cur=trie for wi in w: if wi not in cur: cur[wi] = {} cur = cur[wi] if \u0026#39;#\u0026#39; not in cur: cur[\u0026#39;#\u0026#39;] = (i, len(w)) elif len(w)\u0026lt;cur[\u0026#39;#\u0026#39;][1]: cur[\u0026#39;#\u0026#39;] = (i,len(w)) for i, w in enumerate(q): w=w[::-1] cur = trie ans = idx for wi in w: if wi not in cur: break else: cur = cur[wi] ans = cur[\u0026#39;#\u0026#39;][0] ret.append(ans) return ret ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%91%A8%E8%B5%9B240324/","summary":"å‘¨èµ› 24/3/24 ç¬¬ä¸‰é¢˜ 100258 3092. æœ€é«˜é¢‘ç‡çš„ ID é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„numså’Œfreqï¼Œnumsä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸€ä¸ªIDï¼Œå¯¹åº”çš„freqä¸­çš„å…ƒç´ ","title":"LeetCodeå‘¨èµ›240324"},{"content":"æœºå™¨å­¦ä¹ ç®€ä»‹ Different types of Functions\nRegression : The function outputs a scalar(æ ‡é‡ï¼‰.\npredict the PM2.5 Classification ï¼š Given options (classes), the function outputs the correct one.\nSpam filtering Structured Learning ï¼š create something with structure(image, document)\nExample : YouTube Channel\n1.Function with Unknown Parameters. $$ y=b+wx_1 $$\n2.Define Loss from Training Data Loss is a function of parameters $$ L(b,w) $$\nLoss : how good a set of values is. L is mean absolute error (MAE) $$ e=\\left | y-\\hat{y} \\right | $$\nL is mean square error (MSE) $$ e=(y-\\hat{y})^2 $$\n$$ L=\\frac{1}{N} \\sum_{n}^{}e_n $$\n3.Optimization $$ w^,b^=arg,\\min_{w,b} ,L $$\nGradient Descent\n(Randomly) Pick an initial value ï¼š $$ w^0 $$\nCompute : $$ \\frac {\\partial L} {\\partial w} |_{w=w_0} $$\nNegative : Increase w\nPositive : Decrease w\n$$ \\eta\\frac {\\partial L} {\\partial w} |_{w=w_0} $$\nÎ·ï¼šlearning rate (hyperparameters)\nUpdate w iteratively Local minima global minima ç±»ä¼¼ä¸€ä¸ªå‚æ•°ï¼Œæ¨å¹¿åˆ°å¤šä¸ªå‚æ•°ã€‚\nLinear Models Linear models have severe limitation. Model Bias.\nWe need a more flexible model!\ncurve = constant + sum of a set of Hard Sigmoid Function\n$$ y=c\\frac {1} {1+exp(-(b+wx_1))} \\ =csigmoid(b+wx_1) $$\n$$ y=b+\\sum_{i}sigmoid(b_i+w_ix_i) $$\n$$ y=b+\\sum_{i}sigmoid(b_i+\\sum_{j}w_{ij}x_j) $$\nçº¿æ€§ä»£æ•°è§’åº¦ï¼š\n$$ r=b+Wx $$\n$$ a=\\sigma(r) $$\n$$ y=b+c^Ta $$\nLoss\nLoss is a function of parameters L(Î¸) Loss means how good a set of values is. Optimization of New Model $$ \\theta= \\begin{bmatrix}\n\\theta_1 \\ \\theta_2 \\ \\theta_3 \\ \\dots \\end{bmatrix} $$\n$$ \\theta=arg \\min_\\theta L $$\n(Randomly) Pick initial values Î¸^0 1 epoch = see all the batched once\nupdate : update Î¸ for each batch\nSigmoid -\u0026gt; ReLU (Rectified Linear Unit) ç»Ÿç§°ä¸º Activation function\nNeural Network\n","permalink":"https://kennems.github.io/zh/posts/tech/1.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%80%E4%BB%8B/","summary":"æœºå™¨å­¦ä¹ ç®€ä»‹ Different types of Functions Regression : The function outputs a scalar(æ ‡é‡ï¼‰. predict the PM2.5 Classification ï¼š Given options (classes), the function outputs the correct one. Spam filtering Structured Learning ï¼š create something with structure(image, document) Example : YouTube Channel 1.Function with Unknown Parameters. $$ y=b+wx_1 $$ 2.Define Loss from Training Data Loss is a","title":"1. æœºå™¨å­¦ä¹ ç®€ä»‹"},{"content":"PyTorch PyTorch Tutorial\nPython3ä¸­æœºå™¨å­¦ä¹ æ¡†æ¶\ndataset = MyDataset(file) dataloader = DataLoader(dataset, batch_size = size , shuffle = True) Training : True Testing : False from torch.utils.data import Dataset, DateLoader class MyDataset(Dataset): def __init__(self, file): # read data \u0026amp; preprocess self.data = ... def __getitem__(self,index): #return one sample at a time return self.data[index] def __len__(self): #return the size of the dataset return len(self.data) dataset = MyDataset(file) dataloader = Dataloader(dataset, batch_size, shuffle = True) shuffle : Training -\u0026gt; true Testing -\u0026gt; false Tersors High-dimensional matrices(arrays)\n.shape() # show the dimension #Directly from data (list or numpy.ndarray) x = torch.tensor([1, -1], [-1, 1]) x = torch.from_numpy(np.array([[1, -1], [-1, 1]])) #Tensor of constant zeros \u0026amp; ones x = torch.zeros([2, 2]) x = torch.ones([1, 2, 5]) x+y x-y y=x.pow(2) y=x.sum() y=x.mean() #Transpose : transpose two specified dimensions x = x.transpose(dim0,dim1) # change the dimension dim0 and dim1 #Squeeze : remove the specified dimension with length 1 x = x.squeeze(1) #unsqueeze expand a new dimension x = x.unsqueeze(1) dim in PyTorch == axis in NumPy\ndimensional\nCheck with.shape()\tCreating Tensors Directly from data (list or numpy.ndarray)\nx = torch.tensor([1, -1], [-1, 1]) x = torch.from_numpy(np.array([[1, -1], [-1, 1]])) Tensor of constant zeros \u0026amp; ones\nx = torch.zeros([2,2]) x = torch.ones([1, 2, 5]) Common Operations addition subtraction power summation mean\ntranspose x.shape x.transpose(0,1) Unsqueeze : expand a new dimension\nx = x.unsqueeze(1) **Cat **: conncatenate multiple tensors åˆå¹¶å¤šä¸ªçŸ©é˜µ\ntorch.cat([x, y, z], dim = 1) Data Type: Using different data types for model and data will case errors.\n32-bit -torch.float\n64-bit -torch.long\nDevice\nTensors \u0026amp; modules will be computed with CPU by default Use .to() to move tensors to appropriate devices CPU x = x.to('cpu')\t- ```py x = x.to('cuda') GPU check if your computer has NVIDIA GPU torch.cuda.is_available() - Multiple GPUs : specify- ``` 'cuda:0', 'cuda:1', 'cuda:2',... Cradient Calculation import torch # å®šä¹‰ä¸€ä¸ªéœ€è¦æ±‚å¯¼çš„å¼ é‡ xï¼Œå¹¶å°† requires_grad å‚æ•°è®¾ç½®ä¸º True x = torch.tensor([[1., 0.], [-1., 1.]], requires_grad=True) # è®¡ç®— x çš„å¹³æ–¹å¹¶å¯¹å…¶è¿›è¡Œæ±‚å’Œï¼Œå¾—åˆ°å¼ é‡ z z = x.pow(2).sum() # å¯¹å¼ é‡ z è¿›è¡Œåå‘ä¼ æ’­ï¼Œè‡ªåŠ¨è®¡ç®—å‡º x çš„æ¢¯åº¦ z.backward() # è¾“å‡º x çš„æ¢¯åº¦ print(x.grad) torch.nn Network Layers Linear Layer (Fully-connected Layer) nn.linear(in_features, out_features) #### Non-linear Activation Functions```pynn.Sigmoid()nn.ReLU() Build your own neural network import torch.nn as nn class MyModel(nn.Module): #initialize your model \u0026amp; define layers def __init__(self): super(MyModel, self).__init__() self.net = nn.Sequential( nn.Linear(10, 32), nn.Sigmoid(), nn.Linear(32,1) ) #compute output of your nn def forward(self, x): return self.next() Loss Functions Mean squared Error (for regression tasks) criterion = nn.MSELoss() Cross Entropy (for classification tasks) äº¤å‰ç†µ criterion = nn.CrossEntropyLoss() loss = criterion(model_output, expected_value) ### torch.optim- Stochastic Gradient Descent (SGD) - ```py torch.optim.SGD(model.parameters(), lr, momentum = 0) For every batch of data Call optimizer.zero_grad() to reset gradients of model parameters. Call loss.backward() to backpropagate gradients of prediction loss Call optimizer.step() to adjust model parameters Neural Network Training Setup dataset = MyDataSet(file) tr_set = DataLoader(dataset, 16, shuffle = True) model = MyModel().to(device) criterion = nn.MSELoss() optimizer = torch.optim.SGD(model.parameters(), 0.1) Training Loop for epoch in range(n_epochs): # Iterate over n_epochs model.train() # Set the model to training mode for x, y in tr_set: # Iterate over the training set optimizer.zero_grad() # Clear the gradients x, y = x.to(device), y.to(device) # Move data to the device (e.g., GPU) pred = model(x) # Forward pass, compute predictions loss = criterion(pred, y) # Compute the loss loss.backward() # Backward pass, compute gradients optimizer.step() # Update the model\u0026#39;s parameters using the gradients Validation Loop model.eval() # Set the model to evaluation mode total_loss = 0 for x, y in dv_set: # Iterate over the validation set x, y = x.to(device), y.to(device) # Move data to the device with torch.no_grad(): # Disable gradient computation pred = model(x) # Forward pass, compute predictions loss = criterion(pred, y) # Compute the loss total_loss += loss.cpu().item() * len(x) # Accumulate the loss avg_loss = total_loss / len(dv_set) # Calculate the average loss per sample Testing Loop model.eval() # Set the model to evaluation mode preds = [] for x in tt_set: # Iterate over the test set x = x.to(device) # Move data to the device with torch.no_grad(): # Disable gradient computation pred = model(x) # Forward pass, compute predictions preds.append(pred.cpu()) # Append the predictions to the list Data, demo1 Load data : use pandas to load a csv file\ntrain_data = pd.read_cav(\u0026#39;./name.csv\u0026#39;).drop(columns=[\u0026#39;date\u0026#39;]).values x_train, y_train = train_data[:,:-1], train_data[:,:-1] Dataset init : Read data and preproces\ngetitem : Return one sample at a time, In this case, one sample includes a 117 dimensional feature and a label\nlen : Return the size of the dataset. In this case, it is 2699\nclass COVID19Dataset(Dataset): \u0026#39;\u0026#39;\u0026#39; x: np.ndarray ç‰¹å¾çŸ©é˜µ. y: np.ndarray ç›®æ ‡æ ‡ç­¾, å¦‚æœä¸ºNone,åˆ™æ˜¯é¢„æµ‹çš„æ•°æ®é›† \u0026#39;\u0026#39;\u0026#39; def __init__(self, x, y=None): if y is None: self.y = y else: self.y = torch.FloatTensor(y) self.x = torch.FloatTensor(x) def __getitem__(self, idx): if self.y is None: return self.x[idx] return self.x[idx], self.y[idx] def __len__(self): return len(self.x) Dataloader train_loader = DataLoader(train_dataset, batch_size = 32, shuffle = True, pin_memory = True) Model class My_Model(nn.Module): def __init__(self, input_dim): super(My_Model, self).__init__() # TODO: ä¿®æ”¹æ¨¡å‹ç»“æ„, æ³¨æ„çŸ©é˜µçš„ç»´åº¦ï¼ˆdimensionsï¼‰ self.layers = nn.Sequential( nn.Linear(input_dim, 16), nn.ReLU(), nn.Linear(16, 8), nn.ReLU(), nn.Linear(8, 1) ) def forward(self, x): x = self.layers(x) x = x.squeeze(1) # (B, 1) -\u0026gt; (B) return x Criterion criterion = torch.nn.MSELoss(reduction = \u0026#39;mean\u0026#39;) Optimizer optimizer = torch.optim.SGD(model.parameters(), lr = 1e-5, momentum = 0.9) Training Loop Documentation and Common Errors read pytorch tutorial\nColabï¼ˆhighly recommendedï¼‰ ","permalink":"https://kennems.github.io/zh/posts/tech/2.pytorch/","summary":"PyTorch PyTorch Tutorial Python3ä¸­æœºå™¨å­¦ä¹ æ¡†æ¶ dataset = MyDataset(file) dataloader = DataLoader(dataset, batch_size = size , shuffle = True) Training : True Testing : False from torch.utils.data import Dataset, DateLoader class MyDataset(Dataset): def __init__(self, file): # read data \u0026amp; preprocess self.data = ... def __getitem__(self,index): #return one sample at a time return self.data[index] def __len__(self): #return the size of","title":"2. PyTorch"},{"content":"Officially begin Deep = Many hidden layers\nNeurall Network Find a function in function set.\nGoodness of function Pick the best function\nBackpropagation - Backward Pass(åå‘ä¼ æ’­) åå‘çš„neural network\nRegression Stock Market Forecast Self-driving Car Recommendation Step 1 : Model A set of function\nStep 2 : Goodness of Function $$ \\hat{y}^1ä»£è¡¨x^1å¯¹åº”çš„ç¡®åˆ‡å€¼ $$\nLoss function Lï¼š $$ L(f)=L(w,b) ~ Estimated ~ y ~ basedoninputfunction $$\n$$ L(w,b)=\\sum_{n=1}^{10}(\\hat{y}^n-(b+w\\cdot x_{cp}^n))^2 $$\nStep 3 ï¼šBest Function In linear regression, the loss function L is convex.\nOverfitting\nRegularization $$ L(w,b)=\\sum_{n=1}^{10}(\\hat{y}^n-(b+w\\cdot x_{cp}^n))^2+\\lambda\\cdot \\sum(w_i)^2 $$\nä¸éœ€è¦è€ƒè™‘biasï¼Œè°ƒæ•´å¹³æ»‘ç¨‹åº¦ï¼Œsmooth\nGradient descent Overfitting and Regularization Classification independently and identically distributed(i.i.d) $$ L(h^{train},D_{all})-L(h^{all}, d_{all}) \\leq \\delta\\ we\\ need \\ \\forall h \\in \\H, |L(h,D_{train}) -L(h,D_{all}) | \\leq \\delta/2\\ L(h^{train},D_{all})\\leq L(h^{train},D_{all}) + \\delta/2 $$ é‡æ¸©æ•°ç å®è´ï¼š\næ¨¡å‹å‡ºç°badçš„æ¦‚ç‡ï¼š $$ P(D_{train}\\ is\\ bad)\\leq |H| \\cdot 2exp(-2N\\epsilon^2 ) \\ N \\ge \\frac{log(2|H|/\\delta)}{2\\epsilon^2} $$ Tradeoff of Model Complexity\nTraining data for Classification pair\nIdeal Alternatives Function(Model): $$ f(x)\\ x -\u0026gt; g(x)\u0026gt;0~Output=class1\\ else\\ Output=class2 $$\nlossfunction: The number of times of get incotrrect results on training data. $$ L(f) = \\sum_{n}\\delta(f(x^n)\\neq\\hat{y}^n) $$\nFind the best function; Example : Perceptron, SVM Prior $$ P(C_1|x)=\\frac{P(x|C_1)P(C_1)}{P(x|C_1)P(C_1)+P(x|C_2)P(C_2)} $$\nGaussian Maximum Likelihood\n2D array or 3D array mean the array with 2 or 3 axes respectively, but the n-dimensional vector mean the vector of length n.\nLearn something that can really differ you from others.\nLogistics Regression Function Set $$ f_{w,b}=\\sigma(\\sum_{i}w_ix_i)+b $$\nOutput : Between 0 and 1 $$ f_{w,b}(x)=P_{w,b}(C_1|x) $$\n$$ w^,b^=arg\\ \\underset{w,b}{max}L(w,b)\\ ç­‰åŒäº w^,b^ = arg\\ \\underset{w,b}{min}-lnL(w,b) $$\nCross Entropy: $$ Distribution \\ p: p(x=1)=\\hat{y}^n\\ p(x=0)=1-\\hat{y}^n\\ Distribution \\ q: q(x=1)=f(x^n)\\ q(x=0)=1-f(x^n)\\ H(p,q)=-\\sum_xp(x)ln(q(x)) $$\nLoss Function $$ L(f)=\\sum_nC(f(x^n),\\hat{y}^n)\\ C(f(x^n),\\hat{y}^n)=-[\\hat{y}^nlnf(x^n)+(1-\\hat{y}^n)ln(1-f(x^n))] $$\nUpdate logistic regression å’Œ linear regression å½¢å¼å®Œå…¨ç›¸åŒ $$ w_i\\gets w_i-\\eta \\sum_{n}-(\\hat{y}^n-f_{w,b}(x^n))x_i^n $$\nDiscriminative (logistic) \u0026amp; Generative (Gaussianæè¿°) Generativeåšäº†æŸäº›å‡è®¾ã€‚\nBenefit of generative model With the assumption of probability distribution, less training data is needed With the assumption of probability distribution, more robust to the noise Priors and class-dependent probabilities can be estimated from different sources. Multi-class Classification SoftMax $$ Softmax(z_i)=\\frac{e^{z_i}}{\\sum_{c=1}^{C} e^{z_c}}\\ 1 \u0026gt; y_i\u0026rsquo; \u0026gt; 0\\ \\sum_iy_i\u0026rsquo;=1 $$\nLimitation of Logistic Regression åªèƒ½ç”»ä¸€æ¡ç›´çº¿\nFeature Transformation Cascading logistic regression models Optimization Issue å±‚æ•°è¾ƒå¤šè¡¨ç°çš„åè€Œæ²¡æœ‰å±‚æ•°è¾ƒå°‘çš„å¥½\nOver fitting å¢åŠ è®­ç»ƒèµ„æ–™\nData augmentation\nconstrained model\nLess parameters, sharing parameters Less features Early stopping CNN-\u0026gt;æ¯”è¾ƒæ²¡æœ‰å¼¹æ€§çš„model\nåˆ†Training Set\nN-fold Cross Validation Optimization Fail H : Hessian\nTayler Series Approximation $$ L(\\theta) \\approx L(\\theta^\\prime)+\\frac{1}{2}(\\theta-\\theta^\\prime)^TH(\\theta-\\theta^\\prime) $$\nH is positive definte = All eigen values are positive -\u0026gt; local minima H is negative definte = All eigen values are negative -\u0026gt; **local ** Some eigen values are positive , and some are negative -\u0026gt; Saddle point åœ¨é«˜ç»´ä¸‹local minimaå¯èƒ½ä¼šå˜æˆsaddle poing\nTips for training : Batch and Momentum Batch 1 epoch = see all the batches once -\u0026gt; shuffle after each epoch\nMomentum Movement not just based on gradient, but previous movement.\nDifferent parameters needs different learning rate $$ \\theta_i^{t+1} \\gets \\theta_i^t-\\frac{\\eta}{\\sigma_i^t}g_i^t\\ \\sigma_i^t=\\sqrt{\\frac{1}{t+1}\\sum_{i=0}^t(g_i^t)^2} $$\nAdagred\nRMSProp $$ \\theta_i^{t+1} \\gets \\theta_i^t-\\frac{\\eta}{\\sigma_i^t}g_i^t\\ \\sigma_i^t = \\sqrt{\\alpha(\\sigma_i^{t-1})^2+(1-\\alpha)(g_i^t)^2} $$\nAdam : RMSProp + Momentum\nLearning Rate Sceduling $$ \\theta_i^{t+1} \\gets \\theta_i^t-\\frac{\\eta^t}{\\sigma_i^t}g_i^t\\ $$\nWarm Up New Optimization ","permalink":"https://kennems.github.io/zh/posts/tech/3.regression-and-classification/","summary":"Officially begin Deep = Many hidden layers Neurall Network Find a function in function set. Goodness of function Pick the best function Backpropagation - Backward Pass(åå‘ä¼ æ’­) åå‘çš„neural network Regression Stock Market Forecast Self-driving Car Recommendation Step 1 : Model A set of function Step 2 : Goodness of Function $$ \\ha","title":"3. Regression and Classification"},{"content":"Convolutional network (CNN) Networkçš„æ¶æ„è°ƒæ•´\n1ã€All the images to be classified have the same size.\nReceptive filed\nSimplification 1 - Typical Setting all channels : ä¼šçœ‹æ‰€æœ‰çš„channels\nkernel size : é•¿å’Œå®½ ï¼ˆe.g., 3*3)\nStride : ç§»åŠ¨çš„æ­¥é•¿,å¸Œæœ›æœ‰é«˜åº¦çš„é‡å \npadding : è¡¥å€¼ï¼Œè¡¥å……è¶…å‡ºèŒƒå›´çš„å€¼\nEach receptive field has a set of neurons.\nEach receptive field has the neurons with the same set of parameters, which called filter.\nPooling Flatten ","permalink":"https://kennems.github.io/zh/posts/tech/4.cnn/","summary":"Convolutional network (CNN) Networkçš„æ¶æ„è°ƒæ•´ 1ã€All the images to be classified have the same size. Receptive filed Simplification 1 - Typical Setting all channels : ä¼šçœ‹æ‰€æœ‰çš„channels kernel size : é•¿å’Œå®½ ï¼ˆe.g., 3*3) Stride : ç§»åŠ¨çš„","title":"4. CNN"},{"content":"Spatial Transformerï¼ˆSTNï¼‰ å¤„ç†æ—‹è½¬å’Œæ”¾å¤§å›¾å½¢çš„CNNåˆ†ç±»\ninterpolation æ’å€¼æ³• Self-attention Sequence Labeling consider the context -\u0026gt; å‚æ•°å¾ˆå¤§å¹¶ä¸”å®¹æ˜“Over fitting\nSelf-attentionä¼šæŒæœ‰æ•´ä¸ªsequenceçš„ä¿¡æ¯\ninput : vector\noutput : vector $$ q_i=W^qa^i\\ k_i=W^ka^i\\ v^i=W^va^i $$ Multi-head Self-attention å…¶ä¸­ $$ q_i, k_i, v_iå‡å¯ä»¥æœ‰å¤šä¸ª $$\nSelf-attention for Speech Truncated(æˆªçŸ­çš„) Self-attention\nSelf-attention is the complex version of CNN\nCNN is simplified self-attention\nRecurrent Neural Network(RNN) RNNæ‰€åšçš„äº‹æƒ…éƒ½å¯ä»¥ç”¨Self-attentionæ¥æ›¿ä»£\nSelf-attentionæ›´æœ‰æ•ˆç‡\nRNN\nTransformer Sequence to sequence (Seq2seq) Encoder -\u0026gt; Decoder\nEncoder input some vectors and output some vectors\nDecoder Autoregressive Non-autoregressive Decoder åŒæ—¶è¾“å‡ºBEGINå¹¶ä¸”åŒæ—¶è¾“å‡ºç»“æœå’ŒEND\nAdvantage ï¼š parallel, controllable output length\nNAT is usually worse than AT\nEncoder-Decoder Cross Attention\nTeacher Forcing : using the ground truth as input\nCopy Mechanism\nPointer Network Copying Mechanism Guided Attention Beam Search Scheduled Sampling\n","permalink":"https://kennems.github.io/zh/posts/tech/5.transformer/","summary":"Spatial Transformerï¼ˆSTNï¼‰ å¤„ç†æ—‹è½¬å’Œæ”¾å¤§å›¾å½¢çš„CNNåˆ†ç±» interpolation æ’å€¼æ³• Self-attention Sequence Labeling consider the context -\u0026gt; å‚æ•°å¾ˆå¤§å¹¶ä¸”å®¹æ˜“Over fitting Self-attention","title":"5. Transformer"},{"content":" åç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ","permalink":"https://kennems.github.io/zh/links/","summary":"åç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢","title":"ğŸ¤å‹é“¾"},{"content":" æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ğŸ˜†ï¼Œ ğŸ¤ä¸ªäººç®€å†!ï¼\nåç§°: ShowGuanğŸ˜¶â€ğŸŒ«ï¸ è‡ªæˆ‘ä»‹ç»: ä¸€åç”µå­ä¿¡æ¯ä¸“ä¸šçš„å¤§ä¸‰å­¦ç”Ÿï¼Œä½†æ˜¯çƒ­è¡·äºè½¯ä»¶ï¼Œè¿™é‡Œè®°å½•äº†æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼Œæ›¾ç»é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„å¥½ç”¨çš„å·¥å…·ã€‚ğŸ‘ ","permalink":"https://kennems.github.io/zh/about---%E5%89%AF%E6%9C%AC/","summary":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ğŸ˜†ï¼Œ ğŸ¤ä¸ªäººç®€å†!ï¼ åç§°: ShowGuanğŸ˜¶â€ğŸŒ«ï¸ è‡ªæˆ‘ä»‹ç»: ä¸€åç”µå­ä¿¡æ¯ä¸“ä¸šçš„å¤§ä¸‰å­¦ç”Ÿï¼Œä½†æ˜¯çƒ­è¡·äºè½¯ä»¶ï¼Œè¿™é‡Œè®°å½•äº†æˆ‘çš„å­¦ä¹ ç¬”è®°","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"},{"content":" æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ğŸ˜†ï¼\nåç§°: ShowGuanğŸ˜¶â€ğŸŒ«ï¸ è‡ªæˆ‘ä»‹ç»: ä¸€åç”µå­ä¿¡æ¯ä¸“ä¸šçš„å¤§ä¸‰å­¦ç”Ÿï¼Œä½†æ˜¯çƒ­è¡·äºè½¯ä»¶ï¼Œè¿™é‡Œè®°å½•äº†æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼Œæ›¾ç»é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„å¥½ç”¨çš„å·¥å…·ã€‚ğŸ‘ ","permalink":"https://kennems.github.io/zh/about/","summary":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ğŸ˜†ï¼ åç§°: ShowGuanğŸ˜¶â€ğŸŒ«ï¸ è‡ªæˆ‘ä»‹ç»: ä¸€åç”µå­ä¿¡æ¯ä¸“ä¸šçš„å¤§ä¸‰å­¦ç”Ÿï¼Œä½†æ˜¯çƒ­è¡·äºè½¯ä»¶ï¼Œè¿™é‡Œè®°å½•äº†æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼Œæ›¾ç»é‡åˆ°çš„é—®","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"},{"content":"acwingç®—æ³•å­¦ä¹  [TOC]\nç¬¬ä¸€ç«  è¯¾ä¸Šï¼šå­¦æ€æƒ³\nè¯¾ä¸‹ï¼šèƒŒä»£ç \né¢˜ç›®ï¼Œä¸€é“é¢˜å†™å¥½å‡ é\nç†è§£æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œä½“åŠ›æ´»+è„‘åŠ›æ´»\nè®°å¿†åŠ› æ¯…åŠ›/è‡ªåˆ¶åŠ›\næ²‰ä¸‹å¿ƒèƒŒä¸œè¥¿\nå¿«é€Ÿæ’åºç®—æ³•æ¨¡æ¿ â€”â€” æ¨¡æ¿é¢˜ AcWing 785. å¿«é€Ÿæ’åº åˆ†æ²»\n1ã€ç¡®å®šåˆ†ç•Œç‚¹ï¼Œlã€rã€ï¼ˆl+r)/2 éšæœº\n2ã€è°ƒæ•´åŒºé—´ï¼Œåˆ†ä¸ºä¸¤è¾¹ï¼Œå·¦è¾¹å°äºç­‰äºx,å³è¾¹å¤§äºç­‰äºx\n3ã€é€’å½’å¤„ç†å·¦å³ä¸¤æ®µ\nvoid quick_sort(int q[], int l, int r) { if (l \u0026gt;= r) return; int i = l - 1, j = r + 1, x = q[l + r \u0026gt;\u0026gt; 1]; while (i \u0026lt; j) { do i ++ ; while (q[i] \u0026lt; x); do j -- ; while (q[j] \u0026gt; x); if (i \u0026lt; j) swap(q[i], q[j]); } quick_sort(q, l, j), quick_sort(q, j + 1, r); } -std=c++11 å½’å¹¶æ’åºç®—æ³•æ¨¡æ¿ â€”â€” æ¨¡æ¿é¢˜ AcWing 787. å½’å¹¶æ’åº æ’åºç¨³å®šï¼šåºåˆ—ä¸­ç›¸åŒçš„å€¼æ’åºåçš„ç›¸å¯¹ä½ç½®æ˜¯å¦å‘ç”Ÿæ”¹å˜\næ—¶é—´å¤æ‚åº¦æœ‰ ï¼ˆnlogn)\n1ï¼‰ç¡®å®šåˆ†ç•Œç‚¹mid\n2ï¼‰é€’å½’æ’åºä¸¤è¾¹\n2ï¼‰å½’å¹¶ï¼Œåˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„\nvoid merge_sort(int q[], int l, int r) { if (l \u0026gt;= r) return; int mid = l + r \u0026gt;\u0026gt; 1; merge_sort(q, l, mid); merge_sort(q, mid + 1, r); int k = 0, i = l, j = mid + 1; while (i \u0026lt;= mid \u0026amp;\u0026amp; j \u0026lt;= r) if (q[i] \u0026lt; q[j]) tmp[k ++ ] = q[i ++ ]; else tmp[k ++ ] = q[j ++ ]; while (i \u0026lt;= mid) tmp[k ++ ] = q[i ++ ]; while (j \u0026lt;= r) tmp[k ++ ] = q[j ++ ]; for (i = l, j = 0; i \u0026lt;= r; i ++, j ++ ) q[i] = tmp[j]; } æ•´æ•°äºŒåˆ†ç®—æ³•æ¨¡æ¿ â€”â€” æ¨¡æ¿é¢˜ AcWing 789. æ•°çš„èŒƒå›´ è¾¹ç•Œé—®é¢˜\næœ¬è´¨ï¼šåŒºé—´å†…ä¸€åŠæ»¡è¶³ä¸€åŠä¸æ»¡è¶³\nl=midæ—¶åŠ ä¸€\nbool check(int x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨ // åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š int bsearch_1(int l, int r) { while (l \u0026lt; r) { int mid = l + r \u0026gt;\u0026gt; 1; if (check(mid)) r = mid; // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨ else l = mid + 1; } return l; } // åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š int bsearch_2(int l, int r) { while (l \u0026lt; r) { int mid = l + r + 1 \u0026gt;\u0026gt; 1; if (check(mid)) l = mid; else r = mid - 1; } return l; } æµ®ç‚¹æ•°äºŒåˆ†ç®—æ³•æ¨¡æ¿ â€”â€” æ¨¡æ¿é¢˜ AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ æµ®ç‚¹æ•°äºŒåˆ†ï¼Œæ¯”è¾ƒå¯¹åº”æ•´æ•°äºŒåˆ†\nbool check(double x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨ double bsearch_3(double l, double r) { const double eps = 1e-6; // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚ while (r - l \u0026gt; eps) { double mid = (l + r) / 2; if (check(mid)) r = mid; else l = mid; } return l; } é«˜ç²¾åº¦åŠ æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 791. é«˜ç²¾åº¦åŠ æ³• // C = A + B, A \u0026gt;= 0, B \u0026gt;= 0 vector\u0026lt;int\u0026gt; add(vector\u0026lt;int\u0026gt; \u0026amp;A, vector\u0026lt;int\u0026gt; \u0026amp;B) { if (A.size() \u0026lt; B.size()) return add(B, A); vector\u0026lt;int\u0026gt; C; int t = 0; for (int i = 0; i \u0026lt; A.size(); i ++ ) { t += A[i]; if (i \u0026lt; B.size()) t += B[i]; C.push_back(t % 10); t /= 10; } if (t) C.push_back(t); return C; } é«˜ç²¾åº¦å‡æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 792. é«˜ç²¾åº¦å‡æ³• // C = A - B, æ»¡è¶³A \u0026gt;= B, A \u0026gt;= 0, B \u0026gt;= 0 vector\u0026lt;int\u0026gt; sub(vector\u0026lt;int\u0026gt; \u0026amp;A, vector\u0026lt;int\u0026gt; \u0026amp;B) { vector\u0026lt;int\u0026gt; C; for (int i = 0, t = 0; i \u0026lt; A.size(); i ++ ) { t = A[i] - t; if (i \u0026lt; B.size()) t -= B[i]; C.push_back((t + 10) % 10); if (t \u0026lt; 0) t = 1; else t = 0; } while (C.size() \u0026gt; 1 \u0026amp;\u0026amp; C.back() == 0) C.pop_back(); return C; } é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦ â€”â€” æ¨¡æ¿é¢˜ AcWing 793. é«˜ç²¾åº¦ä¹˜æ³• // C = A * b, A \u0026gt;= 0, b \u0026gt; 0 vector\u0026lt;int\u0026gt; mul(vector\u0026lt;int\u0026gt; \u0026amp;A, int b) { vector\u0026lt;int\u0026gt; C; int t = 0; for (int i = 0; i \u0026lt; A.size() || t; i ++ ) { if (i \u0026lt; A.size()) t += A[i] * b; C.push_back(t % 10); t /= 10; } return C; } é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦ â€”â€” æ¨¡æ¿é¢˜ AcWing 794. é«˜ç²¾åº¦é™¤æ³• // A / b = C ... r, A \u0026gt;= 0, b \u0026gt; 0 vector\u0026lt;int\u0026gt; div(vector\u0026lt;int\u0026gt; \u0026amp;A, int b, int \u0026amp;r) { vector\u0026lt;int\u0026gt; C; r = 0; for (int i = A.size() - 1; i \u0026gt;= 0; i -- ) { r = r * 10 + A[i]; C.push_back(r / b); r %= b; } reverse(C.begin(), C.end()); while (C.size() \u0026gt; 1 \u0026amp;\u0026amp; C.back() == 0) C.pop_back(); return C; } ä¸€ç»´å‰ç¼€å’Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 795. å‰ç¼€å’Œ å¿«é€Ÿæ±‚åŒºé—´å’Œ\nS[i] = a[1] + a[2] + ... a[i] a[l] + ... + a[r] = S[r] - S[l - 1] ä»1å¼€å§‹ï¼Œä¾¿äºå¤„ç†è¾¹ç•Œ äºŒç»´å‰ç¼€å’Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 796. å­çŸ©é˜µçš„å’Œ S[i, j] = ç¬¬iè¡Œjåˆ—æ ¼å­å·¦ä¸Šéƒ¨åˆ†æ‰€æœ‰å…ƒç´ çš„å’Œ ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µçš„å’Œä¸ºï¼š S[x2, y2] - S[x1 - 1, y2] - S[x2, y1 - 1] + S[x1 - 1, y1 - 1] ä¸€ç»´å·®åˆ† â€”â€” æ¨¡æ¿é¢˜ AcWing 797. å·®åˆ† ç»™åŒºé—´[l, r]ä¸­çš„æ¯ä¸ªæ•°åŠ ä¸Šcï¼š B[l] += c, B[r + 1] -= c äºŒç»´å·®åˆ† â€”â€” æ¨¡æ¿é¢˜ AcWing 798. å·®åˆ†çŸ©é˜µ/äºŒç»´å·®åˆ† ç»™ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ åŠ ä¸Šcï¼š S[x1, y1] += c, S[x2 + 1, y1] -= c, S[x1, y2 + 1] -= c, S[x2 + 1, y2 + 1] += c åŒæŒ‡é’ˆç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWIng 799. æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—, AcWing 800. æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ __æ»‘åŠ¨çª—å£ï¼Ÿ æ ¸å¿ƒï¼šæŠŠO(n^2)ç®—æ³•ä¼˜åŒ–ä¸ºO(n)\nfor (int i = 0, j = 0; i \u0026lt; n; i ++ ) { while (j \u0026lt; i \u0026amp;\u0026amp; check(j, i)) j ++ ; // å…·ä½“é—®é¢˜çš„é€»è¾‘ } å¸¸è§é—®é¢˜åˆ†ç±»ï¼š (1) å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤ä¸€æ®µåŒºé—´ (2) å¯¹äºä¸¤ä¸ªåºåˆ—ï¼Œç»´æŠ¤æŸç§æ¬¡åºï¼Œæ¯”å¦‚å½’å¹¶æ’åºä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—çš„æ“ä½œ ä½è¿ç®— â€”â€” æ¨¡æ¿é¢˜ AcWing 801. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° åŸç ï¼Œåç ï¼Œè¡¥ç  æ±‚näºŒè¿›åˆ¶è¡¨ç¤ºä¸­ç¬¬kä½æ•°å­—: n \u0026gt;\u0026gt; k \u0026amp; 1 è¿”å›nçš„æœ€åä¸€ä½1ï¼šlowbit(n) = n \u0026amp; -n æ ‘çŠ¶æ•°ç»„åŸºæœ¬æ“ä½œ æ•´æ•°ç¦»æ•£åŒ– â€”â€” æ¨¡æ¿é¢˜ AcWing 802. åŒºé—´å’Œ vector\u0026lt;int\u0026gt; alls; // å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼ sort(alls.begin(), alls.end()); // å°†æ‰€æœ‰å€¼æ’åº alls.erase(unique(alls.begin(), alls.end())è¿”å›å»é‡åæ•°ç»„æœ«å°¾ç«¯ç‚¹, alls.end()); // å»æ‰é‡å¤å…ƒç´  // äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼ int find(int x) // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½® { int l = 0, r = alls.size() - 1; while (l \u0026lt; r) { int mid = l + r \u0026gt;\u0026gt; 1; if (alls[mid] \u0026gt;= x) r = mid; else l = mid + 1; } return r + 1; // æ˜ å°„åˆ°1, 2, ...n } åŒºé—´åˆå¹¶ â€”â€” æ¨¡æ¿é¢˜ AcWing 803. åŒºé—´åˆå¹¶ // å°†æ‰€æœ‰å­˜åœ¨äº¤é›†çš„åŒºé—´åˆå¹¶ è´ªå¿ƒ void merge(vector\u0026lt;PII\u0026gt; \u0026amp;segs) { vector\u0026lt;PII\u0026gt; res; sort(segs.begin(), segs.end()); //åŒºé—´å·¦ç«¯ç‚¹æ’åº int st = -2e9, ed = -2e9; for (auto seg : segs) if (ed \u0026lt; seg.first) { if (st != -2e9) res.push_back({st, ed}); st = seg.first, ed = seg.second; } else ed = max(ed, seg.second); if (st != -2e9) res.push_back({st, ed}); segs = res; } ä½œè€…ï¼šyxc é“¾æ¥ï¼šhttps://www.acwing.com/blog/content/277/ æ¥æºï¼šAcWing è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\nç¬¬äºŒç«  æ•°æ®ç»“æ„ï¼Œä»¥æ•°ç»„æ¨¡æ‹Ÿçš„å½¢å¼\næŒ‡é’ˆ+ç»“æ„ä½“ ï¼š é¢è¯•é¢˜\nå•é“¾è¡¨ â€”â€” æ¨¡æ¿é¢˜ AcWing 826. å•é“¾è¡¨ é‚»æ¥è¡¨-å­˜å‚¨æ ‘å’Œå›¾ é™æ€é“¾è¡¨\nä¸‹æ ‡ä»0å¼€å§‹\n// headå­˜å‚¨é“¾è¡¨å¤´ï¼Œe[]å­˜å‚¨èŠ‚ç‚¹çš„å€¼ï¼Œne[]å­˜å‚¨èŠ‚ç‚¹çš„nextæŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹ int head, e[N], ne[N], idx; // åˆå§‹åŒ– void init() { head = -1; idx = 0; } // åœ¨é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°a void insert(int a) { e[idx] = a, ne[idx] = head, head = idx ++ ; } // æ’å…¥ä¸‹æ ‡kåé¢ void add(int k,int x) { e[idx]= x, ne[idx] = ne[k], ne[k] = idx++ ; } // å°†å¤´ç»“ç‚¹åˆ é™¤ï¼Œéœ€è¦ä¿è¯å¤´ç»“ç‚¹å­˜åœ¨ void remove() { head = ne[head]; } // å°†kåé¢çš„ç‚¹åˆ æ‰ void remove(int k) { ne[k] = ne[ne[k]]; } åŒé“¾è¡¨ â€”â€” æ¨¡æ¿é¢˜ AcWing 827. åŒé“¾è¡¨ ä¼˜åŒ–æŸäº›é—®é¢˜\n// e[]è¡¨ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œl[]è¡¨ç¤ºèŠ‚ç‚¹çš„å·¦æŒ‡é’ˆï¼Œr[]è¡¨ç¤ºèŠ‚ç‚¹çš„å³æŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹ int e[N], l[N], r[N], idx; // åˆå§‹åŒ– void init() { //0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹ r[0] = 1, l[1] = 0; idx = 2; } // åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x void insert(int a, int x) { e[idx] = x; l[idx] = a, r[idx] = r[a]; l[r[a]] = idx, r[a] = idx ++ ; } // åˆ é™¤èŠ‚ç‚¹a void remove(int a) { l[r[a]] = l[a]; r[l[a]] = r[a]; } æ ˆ â€”â€” æ¨¡æ¿é¢˜ AcWing 828. æ¨¡æ‹Ÿæ ˆ // ttè¡¨ç¤ºæ ˆé¡¶ int stk[N], tt = 0; // å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•° stk[ ++ tt] = x; // ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•° tt -- ; // æ ˆé¡¶çš„å€¼ stk[tt]; // åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º if (tt \u0026gt; 0) { } é˜Ÿåˆ— â€”â€” æ¨¡æ¿é¢˜ AcWing 829. æ¨¡æ‹Ÿé˜Ÿåˆ— æ™®é€šé˜Ÿåˆ—\n// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾ int q[N], hh = 0, tt = -1; // å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° q[ ++ tt] = x; // ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•° hh ++ ; // é˜Ÿå¤´çš„å€¼ q[hh]; // åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º if (hh \u0026lt;= tt) { //ä¸ç©º } å¾ªç¯é˜Ÿåˆ—\n// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½® int q[N], hh = 0, tt = 0; // å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° q[tt ++ ] = x; if (tt == N) tt = 0; // ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•° hh ++ ; if (hh == N) hh = 0; // é˜Ÿå¤´çš„å€¼ q[hh]; // åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º if (hh != tt) { } å•è°ƒæ ˆ â€”â€” æ¨¡æ¿é¢˜ AcWing 830. å•è°ƒæ ˆ å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¦»å®ƒæœ€è¿‘çš„æ¯”å®ƒå¤§/å°çš„æ•° int tt = 0; for (int i = 1; i \u0026lt;= n; i ++ ) { while (tt \u0026amp;\u0026amp; check(stk[tt], i)) tt -- ; stk[ ++ tt] = i; } å•è°ƒé˜Ÿåˆ— â€”â€” æ¨¡æ¿é¢˜ AcWing 154. æ»‘åŠ¨çª—å£ å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼/æœ€å°å€¼ int hh = 0, tt = -1; for (int i = 0; i \u0026lt; n; i ++ ) { while (hh \u0026lt;= tt \u0026amp;\u0026amp; check_out(q[hh])) hh ++ ; // åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦æ»‘å‡ºçª—å£ while (hh \u0026lt;= tt \u0026amp;\u0026amp; check(q[tt], i)) tt -- ; q[ ++ tt] = i; } KMP â€”â€” æ¨¡æ¿é¢˜ AcWing 831. KMPå­—ç¬¦ä¸² ç”¨æ¨¡æ¿ä¸²æ¥åŒ¹é…æ¨¡å¼ä¸²ï¼Œæ‰¾åˆ°æ¨¡å¼ä¸²\nsçš„çœŸå‰ç¼€ä»¥åŠçœŸåç¼€æ˜¯æŒ‡ä¸ç­‰äºsçš„å‰ç¼€ä»¥åŠåç¼€ï¼Œå³è‡³å°‘æ˜¯s[1~n-2]æˆ–s[0~n-1]\nne[i] : ä»¥iç»“å°¾çš„ä¸²ä¸­ æœ€é•¿çœŸå‰ç¼€ä¸çœŸåç¼€ç›¸ç­‰çš„ä¸² çš„é•¿åº¦ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸º0ã€‚\n//å‰ç¼€h vector\u0026lt;int\u0026gt; prefix_function(string s) { int n = (int)s.length(); vector\u0026lt;int\u0026gt; pi(n); for (int i = 1; i \u0026lt; n; i++) { int j = pi[i - 1]; while (j \u0026gt; 0 \u0026amp;\u0026amp; s[i] != s[j]) j = pi[j - 1]; if (s[i] == s[j]) j++; pi[i] = j; } return pi; } å®é™…ä½¿ç”¨èŒƒä¾‹ï¼ˆä¸‹é¢è¿™ä¸ªä¾‹å­å­—ç¬¦ä¸²ä»1å¼€å§‹ï¼‰\n// æ±‚Nextæ•°ç»„ï¼š // ne[i] å­˜å‚¨çœŸå‰ç¼€å’ŒçœŸåç¼€ç›¸ç­‰çš„é•¿åº¦ï¼Œæ‰€ä»¥è‡³å°‘ä»2å¼€å§‹ï¼š //abcab,ä»bå¼€å§‹æ‰æœ‰çœŸå‰ç¼€ // s[]æ˜¯æ¨¡å¼ä¸²ï¼Œp[]æ˜¯æ¨¡æ¿ä¸², næ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦ for (int i = 2, j = 0; i \u0026lt;= m; i ++ ) { while (j \u0026amp;\u0026amp; p[i] != p[j + 1]) j = ne[j]; if (p[i] == p[j + 1]) j ++ ; ne[i] = j; } // åŒ¹é… for (int i = 1, j = 0; i \u0026lt;= n; i ++ ) { while (j \u0026amp;\u0026amp; s[i] != p[j + 1]) j = ne[j]; if (s[i] == p[j + 1]) j ++ ; if (j == m) { j = ne[j]; // åŒ¹é…æˆåŠŸåçš„é€»è¾‘ } } Trieæ ‘ â€”â€” æ¨¡æ¿é¢˜ AcWing 835. Trieå­—ç¬¦ä¸²ç»Ÿè®¡ int son[N][26], cnt[N], idx; // 0å·ç‚¹æ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹ // son[][]å­˜å‚¨æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ // cnt[]å­˜å‚¨ä»¥æ¯ä¸ªèŠ‚ç‚¹ç»“å°¾çš„å•è¯æ•°é‡ // æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸² void insert(char *str) { int p = 0; for (int i = 0; str[i]; i ++ ) { int u = str[i] - \u0026#39;a\u0026#39;; if (!son[p][u]) son[p][u] = ++ idx; p = son[p][u]; } cnt[p] ++ ; } // æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•° int query(char *str) { int p = 0; for (int i = 0; str[i]; i ++ ) { int u = str[i] - \u0026#39;a\u0026#39;; if (!son[p][u]) return 0; p = son[p][u]; } return cnt[p]; } å¹¶æŸ¥é›† â€”â€” æ¨¡æ¿é¢˜ AcWing 836. åˆå¹¶é›†åˆ, AcWing 837. è¿é€šå—ä¸­ç‚¹çš„æ•°é‡ æŒ‰ç§©åˆå¹¶\nå­—ç¬¦æŒ‰å­—ç¬¦ä¸²è¯»å…¥\n(1)æœ´ç´ å¹¶æŸ¥é›†ï¼š\nint p[N]; //å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹ // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ int find(int x) { if (p[x] != x) p[x] = find(p[x]); return p[x]; } // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n for (int i = 1; i \u0026lt;= n; i ++ ) p[i] = i; // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š p[find(a)] = find(b); (2)ç»´æŠ¤sizeçš„å¹¶æŸ¥é›†ï¼š\nint p[N], size[N]; //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, size[]åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„æœ‰æ„ä¹‰ï¼Œè¡¨ç¤ºç¥–å®—èŠ‚ç‚¹æ‰€åœ¨é›†åˆä¸­çš„ç‚¹çš„æ•°é‡ // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ int find(int x) { if (p[x] != x) p[x] = find(p[x]); return p[x]; } // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n for (int i = 1; i \u0026lt;= n; i ++ ) { p[i] = i; size[i] = 1; } // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š p[find(a)] = find(b); size[b] += size[a]; (3)ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†ï¼š\nint p[N], d[N]; //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, d[x]å­˜å‚¨xåˆ°p[x]çš„è·ç¦» // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ int find(int x) { if (p[x] != x) { int u = find(p[x]); d[x] += d[p[x]]; p[x] = u; } return p[x]; } // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n for (int i = 1; i \u0026lt;= n; i ++ ) { p[i] = i; d[i] = 0; } // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š p[find(a)] = find(b); d[find(a)] = distance; // æ ¹æ®å…·ä½“é—®é¢˜ï¼Œåˆå§‹åŒ–find(a)çš„åç§»é‡ å † â€”â€” æ¨¡æ¿é¢˜ AcWing 838. å †æ’åº, AcWing 839. æ¨¡æ‹Ÿå † ç»´æŠ¤é›†åˆçš„æ•°æ®ç»“æ„ ï¼ˆå¤§æ ¹å †ï¼Œçˆ¶èŠ‚ç‚¹å€¼ä¸å°äºå­èŠ‚ç‚¹å€¼ï¼‰\n// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1 // pos[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½® // ord[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„ int h[N], ph[N], hp[N], size; // äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³» void heap_swap(int a, int b) { //swap(ph[hp[a]],ph[hp[b]]); æ ¹æ®é¢˜æ„ //swap(hp[a], hp[b]); swap(h[a], h[b]); } void down(int u) { int t = u; if (u * 2 \u0026lt;= size \u0026amp;\u0026amp; h[u * 2] \u0026lt; h[t]) t = u * 2; if (u * 2 + 1 \u0026lt;= size \u0026amp;\u0026amp; h[u * 2 + 1] \u0026lt; h[t]) t = u * 2 + 1; if (u != t) { heap_swap(u, t); down(t); } } void up(int u) { while (u / 2 \u0026amp;\u0026amp; h[u] \u0026lt; h[u / 2]) { heap_swap(u, u / 2); u \u0026gt;\u0026gt;= 1; } } // O(n)å»ºå † for (int i = n / 2; i; i -- ) down(i); heap[++size] = x; up(size); //æ·»åŠ å…ƒç´  heap[1]; //å †é¡¶å…ƒç´  heap[1]=heap[size]; size--; down(1);//åˆ é™¤ç¬¬sizeä¸ªç»“ç‚¹ heap[k]=heap[size]; size---; down(k);up(k);//åˆ é™¤ç¬¬kä¸ªç»“ç‚¹ heap[k]=x; down(k); up(k); //å°†ç¬¬kä¸ªå…ƒç´ èµ‹å€¼ä¸ºx ä¸€èˆ¬å“ˆå¸Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 840. æ¨¡æ‹Ÿæ•£åˆ—è¡¨ (1) æ‹‰é“¾æ³• int h[N], e[N], ne[N], idx; // å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•° void insert(int x) { int k = (x % N + N) % N; e[idx] = x; ne[idx] = h[k]; h[k] = idx ++ ; } // åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨ bool find(int x) { int k = (x % N + N) % N; for (int i = h[k]; i != -1; i = ne[i]) if (e[i] == x) return true; return false; } (2) å¼€æ”¾å¯»å€æ³• int h[N]; // å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½® int find(int x) { int t = (x % N + N) % N; while (h[t] != null \u0026amp;\u0026amp; h[t] != x) { t ++ ; if (t == N) t = 0; } return t; } å­—ç¬¦ä¸²å“ˆå¸Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 841. å­—ç¬¦ä¸²å“ˆå¸Œ æ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯131æˆ–13331ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½ å°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨2^64ï¼Œè¿™æ ·ç›´æ¥ç”¨unsigned long longå­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœã€‚\ntypedef unsigned long long ULL; const int P = 131 or 13331 ; ULL h[N], p[N]; // h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64 // åˆå§‹åŒ– p[0] = 1; for (int i = 1; i \u0026lt;= n; i ++ ) { h[i] = h[i - 1] * P + str[i]; p[i] = p[i - 1] * P; } // è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼ ULL get(int l, int r) { return h[r] - h[l - 1] * p[r - l + 1]; } C++ STLç®€ä»‹ æ‰€æœ‰å®¹å™¨éƒ½æœ‰size() empty() vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³ size() è¿”å›å…ƒç´ ä¸ªæ•° empty() è¿”å›æ˜¯å¦ä¸ºç©º clear() æ¸…ç©º front()/back() push_back()/pop_back() begin()/end() [] æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº vector\u0026lt;int\u0026gt; a(10,2); a.empty(); pair\u0026lt;int, int\u0026gt; first, ç¬¬ä¸€ä¸ªå…ƒç´  second, ç¬¬äºŒä¸ªå…ƒç´  æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰ pair\u0026lt;int,int\u0026gt; p; p=make_pair(1,1); p={1,1}; stringï¼Œå­—ç¬¦ä¸² size()/length() è¿”å›å­—ç¬¦ä¸²é•¿åº¦ empty() clear() substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦)) è¿”å›å­ä¸² c_str() è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€ strcpy(c,s.c_str());//c_str()çš„ä½¿ç”¨æ–¹æ³• queue, é˜Ÿåˆ— æ²¡æœ‰clearå‡½æ•° æ¸…ç©ºç”¨æ–°å»ºqueue size() empty() push() å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´  front() è¿”å›é˜Ÿå¤´å…ƒç´  back() è¿”å›é˜Ÿå°¾å…ƒç´  pop() å¼¹å‡ºé˜Ÿå¤´å…ƒç´  priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å † push() æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›å †é¡¶å…ƒç´  pop() å¼¹å‡ºå †é¡¶å…ƒç´  å®šä¹‰æˆå°æ ¹å †çš„æ–¹å¼ï¼špriority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, greater\u0026lt;int\u0026gt;\u0026gt; q; stack, æ ˆ size() empty() push() å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›æ ˆé¡¶å…ƒç´  pop() å¼¹å‡ºæ ˆé¡¶å…ƒç´  deque, åŒç«¯é˜Ÿåˆ— size() empty() clear() front()/back() push_back()/pop_back() push_front()/pop_front() begin()/end() [] set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— size() empty() clear() begin()/end() ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn) set/multiset insert() æ’å…¥ä¸€ä¸ªæ•° find() æŸ¥æ‰¾ä¸€ä¸ªæ•° count() è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•° erase() (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x O(k + logn) (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨ lower_bound()/upper_bound() lower_bound(x) è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ upper_bound(x) è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ map/multimap insert() æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair erase() è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨ find() [] æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn) lower_bound()/upper_bound() unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨ å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1) ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ-- bitset, åœ§ä½ bitset\u0026lt;10000\u0026gt; s; ~, \u0026amp;, |, ^ \u0026gt;\u0026gt;, \u0026lt;\u0026lt; ==, != [] count() è¿”å›æœ‰å¤šå°‘ä¸ª1 none() åˆ¤æ–­æ˜¯å¦å…¨ä¸º0 any() åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1 set() æŠŠæ‰€æœ‰ä½ç½®æˆ1 set(k, v) å°†ç¬¬kä½å˜æˆv reset() æŠŠæ‰€æœ‰ä½å˜æˆ0 flip() ç­‰ä»·äº~ flip(k) æŠŠç¬¬kä½å–å ä½œè€…ï¼šyxc é“¾æ¥ï¼šhttps://www.acwing.com/blog/content/404/ æ¥æºï¼šAcWing è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\nç¬¬ä¸‰ç«  æ ‘ä¸å›¾çš„å­˜å‚¨ æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾: æ— ç¯è¿é€šå›¾ï¼Œä¸å›¾çš„å­˜å‚¨æ–¹å¼ç›¸åŒã€‚ å¯¹äºæ— å‘å›¾ä¸­çš„è¾¹abï¼Œå­˜å‚¨ä¸¤æ¡æœ‰å‘è¾¹a-\u0026gt;b, b-\u0026gt;aã€‚ å› æ­¤æˆ‘ä»¬å¯ä»¥åªè€ƒè™‘æœ‰å‘å›¾çš„å­˜å‚¨ã€‚\n(1) é‚»æ¥çŸ©é˜µï¼šg[a][b] å­˜å‚¨è¾¹a-\u0026gt;b (2) é‚»æ¥è¡¨ï¼š // å¯¹äºæ¯ä¸ªç‚¹kï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œå­˜å‚¨kæ‰€æœ‰å¯ä»¥èµ°åˆ°çš„ç‚¹ã€‚h[k]å­˜å‚¨è¿™ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹ int h[N], e[N], ne[N], idx; // æ·»åŠ ä¸€æ¡è¾¹a-\u0026gt;b void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ; } // åˆå§‹åŒ– idx = 0; memset(h, -1, sizeof h); æ ‘ä¸å›¾çš„éå† æ—¶é—´å¤æ‚åº¦ O(n+m)O(n+m), nn è¡¨ç¤ºç‚¹æ•°ï¼Œmm è¡¨ç¤ºè¾¹æ•°\n(1) æ·±åº¦ä¼˜å…ˆéå† â€”â€” æ¨¡æ¿é¢˜ AcWing 846. æ ‘çš„é‡å¿ƒ int dfs(int u) { st[u] = true; // st[u] è¡¨ç¤ºç‚¹uå·²ç»è¢«éå†è¿‡ for (int i = h[u]; i != -1; i = ne[i]) { int j = e[i]; if (!st[j]) dfs(j); } } (2) å®½åº¦ä¼˜å…ˆéå† â€”â€” æ¨¡æ¿é¢˜ AcWing 847. å›¾ä¸­ç‚¹çš„å±‚æ¬¡ queue\u0026lt;int\u0026gt; q; st[1] = true; // è¡¨ç¤º1å·ç‚¹å·²ç»è¢«éå†è¿‡ q.push(1); while (q.size()) { int t = q.front(); q.pop(); for (int i = h[t]; i != -1; i = ne[i]) { int j = e[i]; if (!st[j]) { st[j] = true; // è¡¨ç¤ºç‚¹jå·²ç»è¢«éå†è¿‡ q.push(j); } } } æ‹“æ‰‘æ’åº â€”â€” æ¨¡æ¿é¢˜ AcWing 848. æœ‰å‘å›¾çš„æ‹“æ‰‘åºåˆ— æ—¶é—´å¤æ‚åº¦ O(n+m)O(n+m), nn è¡¨ç¤ºç‚¹æ•°ï¼Œmm è¡¨ç¤ºè¾¹æ•°\nbool topsort() { int hh = 0, tt = -1; // d[i] å­˜å‚¨ç‚¹içš„å…¥åº¦ for (int i = 1; i \u0026lt;= n; i ++ ) if (!d[i]) q[ ++ tt] = i; while (hh \u0026lt;= tt) { int t = q[hh ++ ]; for (int i = h[t]; i != -1; i = ne[i]) { int j = e[i]; if (-- d[j] == 0) q[ ++ tt] = j; } } // å¦‚æœæ‰€æœ‰ç‚¹éƒ½å…¥é˜Ÿäº†ï¼Œè¯´æ˜å­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼›å¦åˆ™ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—ã€‚ return tt == n - 1; } æœ€çŸ­è·¯ å•æºæœ€çŸ­è·¯\næ‰€æœ‰è¾¹æƒå‡ä¸ºæ­£ï¼šæœ´ç´ Dijkstra O(n^2)ï¼›å †ä¼˜åŒ–ç‰ˆçš„Dijkstra(mlogn)\nå­˜åœ¨è´Ÿæƒå˜ï¼šBellman-Ford O(nm) ï¼› SPFAï¼ˆé˜Ÿåˆ—ä¼˜åŒ–Bellman-Ford) ä¸€èˆ¬ï¼šO(m) æœ€å O(nm)\nå¤šå…ƒæ±‡æœ€çŸ­è·¯ï¼šFloyedç®—æ³• O(n^3)\næœ´ç´ dijkstraç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 849. Dijkstraæ±‚æœ€çŸ­è·¯ I åŸºäºè´ªå¿ƒ æ—¶é—´å¤æ‚æ˜¯ O(n^2+m), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint g[N][N]; // å­˜å‚¨æ¯æ¡è¾¹ï¼Œ int dist[N]; // å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦» bool st[N]; // å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦å·²ç»ç¡®å®š // æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1 int dijkstra() { memset(dist, 0x3f, sizeof dist); dist[1] = 0; for (int i = 0; i \u0026lt; n - 1; i ++ ) { int t = -1; // åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹ for (int j = 1; j \u0026lt;= n; j ++ ) if (!st[j] \u0026amp;\u0026amp; (t == -1 || dist[t] \u0026gt; dist[j])) t = j; // ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦» for (int j = 1; j \u0026lt;= n; j ++ ) dist[j] = min(dist[j], dist[t] + g[t][j]); st[t] = true; } if (dist[n] == 0x3f3f3f3f) return -1; return dist[n]; } å †ä¼˜åŒ–ç‰ˆdijkstra â€”â€” æ¨¡æ¿é¢˜ AcWing 850. Dijkstraæ±‚æœ€çŸ­è·¯ II æ—¶é—´å¤æ‚åº¦ O(mlogn), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\ntypedef pair\u0026lt;int, int\u0026gt; PII; int n; // ç‚¹çš„æ•°é‡ int h[N], w[N], e[N], ne[N], idx; // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ int dist[N]; // å­˜å‚¨æ‰€æœ‰ç‚¹åˆ°1å·ç‚¹çš„è·ç¦» bool st[N]; // å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦å·²ç¡®å®š // æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1 int dijkstra() { memset(dist, 0x3f, sizeof dist); dist[1] = 0; priority_queue\u0026lt;PII, vector\u0026lt;PII\u0026gt;, greater\u0026lt;PII\u0026gt;\u0026gt; heap; heap.push({0, 1}); // firstå­˜å‚¨è·ç¦»ï¼Œsecondå­˜å‚¨èŠ‚ç‚¹ç¼–å· while (heap.size()) { auto t = heap.top(); heap.pop(); int ver = t.second, distance = t.first; if (st[ver]) continue; st[ver] = true; for (int i = h[ver]; i != -1; i = ne[i]) { int j = e[i]; if (dist[j] \u0026gt; distance + w[i]) { dist[j] = distance + w[i]; heap.push({dist[j], j}); } } } if (dist[n] == 0x3f3f3f3f) return -1; return dist[n]; } Bellman-Fordç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ æ—¶é—´å¤æ‚åº¦ O(nm), n è¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•° æ³¨æ„åœ¨æ¨¡æ¿é¢˜ä¸­éœ€è¦å¯¹ä¸‹é¢çš„æ¨¡æ¿ç¨ä½œä¿®æ”¹ï¼ŒåŠ ä¸Šå¤‡ä»½æ•°ç»„ï¼Œè¯¦æƒ…è§æ¨¡æ¿é¢˜ã€‚\nint n, m; // nè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•° int dist[N]; // dist[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯è·ç¦» struct Edge // è¾¹ï¼Œaè¡¨ç¤ºå‡ºç‚¹ï¼Œbè¡¨ç¤ºå…¥ç‚¹ï¼Œwè¡¨ç¤ºè¾¹çš„æƒé‡ { int a, b, w; }edges[M]; // æ±‚1åˆ°nçš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœæ— æ³•ä»1èµ°åˆ°nï¼Œåˆ™è¿”å›-1ã€‚ int bellman_ford() { memset(dist, 0x3f, sizeof dist); dist[1] = 0; // å¦‚æœç¬¬næ¬¡è¿­ä»£ä»ç„¶ä¼šæ¾å¼›ä¸‰è§’ä¸ç­‰å¼ï¼Œå°±è¯´æ˜å­˜åœ¨ä¸€æ¡é•¿åº¦æ˜¯n+1çš„æœ€çŸ­è·¯å¾„ï¼Œç”±æŠ½å±‰åŸç†ï¼Œè·¯å¾„ä¸­è‡³å°‘å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„ç‚¹ï¼Œè¯´æ˜å›¾ä¸­å­˜åœ¨è´Ÿæƒå›è·¯ã€‚ for (int i = 0; i \u0026lt; n; i ++ ) { for (int j = 0; j \u0026lt; m; j ++ ) { int a = edges[j].a, b = edges[j].b, w = edges[j].w; if (dist[b] \u0026gt; dist[a] + w) dist[b] = dist[a] + w; } } if (dist[n] \u0026gt; 0x3f3f3f3f / 2) return -1; return dist[n]; } spfa ç®—æ³•ï¼ˆé˜Ÿåˆ—ä¼˜åŒ–çš„Bellman-Fordç®—æ³•ï¼‰ â€”â€” æ¨¡æ¿é¢˜ AcWing 851. spfaæ±‚æœ€çŸ­è·¯ æ—¶é—´å¤æ‚åº¦ å¹³å‡æƒ…å†µä¸‹ O(m)ï¼Œæœ€åæƒ…å†µä¸‹ O(nm), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint n; // æ€»ç‚¹æ•° int h[N], w[N], e[N], ne[N], idx; // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ int dist[N]; // å­˜å‚¨æ¯ä¸ªç‚¹åˆ°1å·ç‚¹çš„æœ€çŸ­è·ç¦» bool st[N]; // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ // æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœä»1å·ç‚¹æ— æ³•èµ°åˆ°nå·ç‚¹åˆ™è¿”å›-1 int spfa() { memset(dist, 0x3f, sizeof dist); dist[1] = 0; queue\u0026lt;int\u0026gt; q; q.push(1); st[1] = true; while (q.size()) { auto t = q.front(); q.pop(); st[t] = false; for (int i = h[t]; i != -1; i = ne[i]) { int j = e[i]; if (dist[j] \u0026gt; dist[t] + w[i]) { dist[j] = dist[t] + w[i]; if (!st[j]) // å¦‚æœé˜Ÿåˆ—ä¸­å·²å­˜åœ¨jï¼Œåˆ™ä¸éœ€è¦å°†jé‡å¤æ’å…¥ { q.push(j); st[j] = true; } } } } if (dist[n] == 0x3f3f3f3f) return -1; return dist[n]; } spfaåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ â€”â€” æ¨¡æ¿é¢˜ AcWing 852. spfaåˆ¤æ–­è´Ÿç¯ æ—¶é—´å¤æ‚åº¦æ˜¯ O(nm), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint n; // æ€»ç‚¹æ•° int h[N], w[N], e[N], ne[N], idx; // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ int dist[N], cnt[N]; // dist[x]å­˜å‚¨1å·ç‚¹åˆ°xçš„æœ€çŸ­è·ç¦»ï¼Œcnt[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯ä¸­ç»è¿‡çš„ç‚¹æ•° bool st[N]; // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ // å¦‚æœå­˜åœ¨è´Ÿç¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚ bool spfa() { // ä¸éœ€è¦åˆå§‹åŒ–distæ•°ç»„ // åŸç†ï¼šå¦‚æœæŸæ¡æœ€çŸ­è·¯å¾„ä¸Šæœ‰nä¸ªç‚¹ï¼ˆé™¤äº†è‡ªå·±ï¼‰ï¼Œé‚£ä¹ˆåŠ ä¸Šè‡ªå·±ä¹‹åä¸€å…±æœ‰n+1ä¸ªç‚¹ï¼Œç”±æŠ½å±‰åŸç†ä¸€å®šæœ‰ä¸¤ä¸ªç‚¹ç›¸åŒï¼Œæ‰€ä»¥å­˜åœ¨ç¯ã€‚ queue\u0026lt;int\u0026gt; q; for (int i = 1; i \u0026lt;= n; i ++ ) { q.push(i); st[i] = true; } while (q.size()) { auto t = q.front(); q.pop(); st[t] = false; for (int i = h[t]; i != -1; i = ne[i]) { int j = e[i]; if (dist[j] \u0026gt; dist[t] + w[i]) { dist[j] = dist[t] + w[i]; cnt[j] = cnt[t] + 1; if (cnt[j] \u0026gt;= n) return true; // å¦‚æœä»1å·ç‚¹åˆ°xçš„æœ€çŸ­è·¯ä¸­åŒ…å«è‡³å°‘nä¸ªç‚¹ï¼ˆä¸åŒ…æ‹¬è‡ªå·±ï¼‰ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯ if (!st[j]) { q.push(j); st[j] = true; } } } } return false; } floydç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 854. Floydæ±‚æœ€çŸ­è·¯ æ—¶é—´å¤æ‚åº¦æ˜¯ O(n3)O(n3), nn è¡¨ç¤ºç‚¹æ•° åˆå§‹åŒ–ï¼š for (int i = 1; i \u0026lt;= n; i ++ ) for (int j = 1; j \u0026lt;= n; j ++ ) if (i == j) d[i][j] = 0; else d[i][j] = INF; // ç®—æ³•ç»“æŸåï¼Œd[a][b]è¡¨ç¤ºaåˆ°bçš„æœ€çŸ­è·ç¦» void floyd() { for (int k = 1; k \u0026lt;= n; k ++ ) for (int i = 1; i \u0026lt;= n; i ++ ) for (int j = 1; j \u0026lt;= n; j ++ ) d[i][j] = min(d[i][j], d[i][k] + d[k][j]); } æœ€å°ç”Ÿæˆæ ‘ï¼ˆæ— å‘å›¾ï¼‰ Prim : æœ´ç´ ç‰ˆPrim O(n^2)(ç¨ å¯†å›¾) ; å †ä¼˜åŒ–ç‰ˆPrim O(mlogn)(ä¸€èˆ¬ä¸ä¼šç”¨)\nKruskal : O(mlogm)(ç¨€ç–å›¾)\næœ´ç´ ç‰ˆprimç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 858. Primç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘ æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2+m), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nåˆå§‹åŒ–è·ç¦»ä¸ºæ­£æ— ç©·ï¼Œè¿­ä»£æ‰€æœ‰ç‚¹ï¼Œæ‰¾åˆ°é›†åˆä¸­æœ€è¿‘çš„ç‚¹ï¼Œæ›´æ–°å®ƒåˆ°é›†åˆçš„è·ç¦»ï¼ŒæŠŠtåŠ åˆ°é›†åˆä¸­ã€‚\nint n; // nè¡¨ç¤ºç‚¹æ•° int g[N][N]; // é‚»æ¥çŸ©é˜µï¼Œå­˜å‚¨æ‰€æœ‰è¾¹ int dist[N]; // å­˜å‚¨å…¶ä»–ç‚¹åˆ°å½“å‰æœ€å°ç”Ÿæˆæ ‘çš„è·ç¦» bool st[N]; // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»åœ¨ç”Ÿæˆæ ‘ä¸­ // å¦‚æœå›¾ä¸è¿é€šï¼Œåˆ™è¿”å›INF(å€¼æ˜¯0x3f3f3f3f), å¦åˆ™è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ ‘è¾¹æƒé‡ä¹‹å’Œ int prim() { memset(dist, 0x3f, sizeof dist); int res = 0; for (int i = 0; i \u0026lt; n; i ++ ) { int t = -1; for (int j = 1; j \u0026lt;= n; j ++ ) if (!st[j] \u0026amp;\u0026amp; (t == -1 || dist[t] \u0026gt; dist[j])) t = j; if (i \u0026amp;\u0026amp; dist[t] == INF) return INF; if (i) res += dist[t]; st[t] = true; for (int j = 1; j \u0026lt;= n; j ++ ) dist[j] = min(dist[j], g[t][j]); } return res; } Kruskalç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 859. Kruskalç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘ æ—¶é—´å¤æ‚åº¦æ˜¯ O(mlogm), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint n, m; // næ˜¯ç‚¹æ•°ï¼Œmæ˜¯è¾¹æ•° int p[N]; // å¹¶æŸ¥é›†çš„çˆ¶èŠ‚ç‚¹æ•°ç»„ struct Edge // å­˜å‚¨è¾¹ { int a, b, w; // é‡è½½å°äºå·è¿ç®—ç¬¦ // ç”¨äºæ¯”è¾ƒä¸¤ä¸ªEdgeå¯¹è±¡çš„å¤§å°å…³ç³» bool operator \u0026lt; (const Edge \u0026amp;W) const { return w \u0026lt; W.w; // å¦‚æœå½“å‰å¯¹è±¡çš„è¾¹æƒå°äºWå¯¹è±¡çš„è¾¹æƒï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false } }edges[M]; int find(int x) // å¹¶æŸ¥é›†æ ¸å¿ƒæ“ä½œ { if (p[x] != x) p[x] = find(p[x]); return p[x]; } int kruskal() { sort(edges, edges + m); for (int i = 1; i \u0026lt;= n; i ++ ) p[i] = i; // åˆå§‹åŒ–å¹¶æŸ¥é›† int res = 0, cnt = 0; for (int i = 0; i \u0026lt; m; i ++ ) { int a = edges[i].a, b = edges[i].b, w = edges[i].w; a = find(a), b = find(b); if (a != b) // å¦‚æœä¸¤ä¸ªè¿é€šå—ä¸è¿é€šï¼Œåˆ™å°†è¿™ä¸¤ä¸ªè¿é€šå—åˆå¹¶ { p[a] = b; res += w; cnt ++ ; } } if (cnt \u0026lt; n - 1) return INF; return res; } æŸ“è‰²æ³•ï¼ˆæœ¬è´¨dfs)åˆ¤åˆ«äºŒåˆ†å›¾ â€”â€” æ¨¡æ¿é¢˜ AcWing 860. æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾ ç»™å®šä¸€ä¸ª n ä¸ªç‚¹mæ¡è¾¹çš„æ— å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ã€‚è¯·ä½ åˆ¤æ–­è¿™ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ã€‚\næ—¶é—´å¤æ‚åº¦æ˜¯ O(n+m), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint n; // nè¡¨ç¤ºç‚¹æ•° int h[N], e[M], ne[M], idx; // é‚»æ¥è¡¨å­˜å‚¨å›¾ int color[N]; // è¡¨ç¤ºæ¯ä¸ªç‚¹çš„é¢œè‰²ï¼Œ-1è¡¨ç¤ºä¸ºæŸ“è‰²ï¼Œ0è¡¨ç¤ºç™½è‰²ï¼Œ1è¡¨ç¤ºé»‘è‰² // å‚æ•°ï¼šuè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ï¼Œcè¡¨ç¤ºå½“å‰ç‚¹çš„é¢œè‰² bool dfs(int u, int c) { color[u] = c; for (int i = h[u]; i != -1; i = ne[i]) { int j = e[i]; if (color[j] == -1) { if (!dfs(j, !c)) return false; } else if (color[j] == c) return false; } return true; } bool check() { memset(color, -1, sizeof color); bool flag = true; for (int i = 1; i \u0026lt;= n; i ++ ) if (color[i] == -1) if (!dfs(i, 0)) { flag = false; break; } return flag; } åŒˆç‰™åˆ©ç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 861. äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é… æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ O(nm)ï¼Œå®é™…è¿è¡Œæ—¶é—´ä¸€èˆ¬è¿œå°äºO(nm)ï¼Œ n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nåšé”™ä¸€ä»¶äº‹ï¼Œé”™è¿‡ä¸€ä»¶äº‹\nint n1, n2; // n1è¡¨ç¤ºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ•°ï¼Œn2è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹æ•° int h[N], e[M], ne[M], idx; // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ï¼ŒåŒˆç‰™åˆ©ç®—æ³•ä¸­åªä¼šç”¨åˆ°ä»ç¬¬äºŒä¸ªé›†åˆæŒ‡å‘ç¬¬ä¸€ä¸ªé›†åˆçš„è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œåªç”¨å­˜ä¸€ä¸ªæ–¹å‘çš„è¾¹ int match[N]; // å­˜å‚¨ç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹å½“å‰åŒ¹é…çš„ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ˜¯å“ªä¸ª bool st[N]; // è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»è¢«éå†è¿‡ bool find(int x) { for (int i = h[x]; i != -1; i = ne[i]) { int j = e[i]; if (!st[j]) { st[j] = true; if (match[j] == 0 || find(match[j])) { match[j] = x; return true; } } } return false; } // æ±‚æœ€å¤§åŒ¹é…æ•°ï¼Œä¾æ¬¡æšä¸¾ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹ int res = 0; for (int i = 1; i \u0026lt;= n1; i ++ ) { memset(st, false, sizeof st); if (find(i)) res ++ ; } ä½œè€…ï¼šyxc é“¾æ¥ï¼šhttps://www.acwing.com/blog/content/405/ æ¥æºï¼šAcWing è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\nç¬¬å››ç«  è¯•é™¤æ³•åˆ¤å®šè´¨æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 866. è¯•é™¤æ³•åˆ¤å®šè´¨æ•° è´¨æ•°ï¼šå¤§äº1çš„æ•´æ•°ä¸­ï¼Œå¦‚æœåªåŒ…å«1å’Œæœ¬èº«ä¸¤ä¸ªçº¦æŸï¼Œç§°ä¸ºè´¨æ•°ï¼ˆç´ æ•°ï¼‰\nï¼ˆ1ï¼‰åˆ¤å®šï¼Œè¯•é™¤æ³•\nï¼ˆ2ï¼‰åˆ†è§£è´¨å› æ•°\nbool is_prime(int x) { if (x \u0026lt; 2) return false; for (int i = 2; i \u0026lt;= x / i; i ++ ) if (x % i == 0) return false; return true; } è¯•é™¤æ³•åˆ†è§£è´¨å› æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 867. åˆ†è§£è´¨å› æ•° void divide(int x) { for (int i = 2; i \u0026lt;= x / i; i ++ ) if (x % i == 0) { int s = 0; while (x % i == 0) x /= i, s ++ ; cout \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; s \u0026lt;\u0026lt; endl; } if (x \u0026gt; 1) cout \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0026#39; \u0026#39; \u0026lt;\u0026lt; 1 \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; endl; } æœ´ç´ ç­›æ³•æ±‚ç´ æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 868. ç­›è´¨æ•° int primes[N], cnt; // primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•° bool st[N]; // st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰ void get_primes(int n) { for (int i = 2; i \u0026lt;= n; i ++ ) { if (st[i]) continue; primes[cnt ++ ] = i; for (int j = i; j \u0026lt;= n; j += i) st[j] = true; } } çº¿æ€§ç­›æ³•æ±‚ç´ æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 868. ç­›è´¨æ•° è¢«æœ€å°è´¨å› å­ç­›æ‰\nint primes[N], cnt; // primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•° bool st[N]; // st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰ void get_primes(int n) { for (int i = 2; i \u0026lt;= n; i ++ ) { if (!st[i]) primes[cnt ++ ] = i; for (int j = 0; primes[j] \u0026lt;= n / i; j ++ ) { st[primes[j] * i] = true; if (i % primes[j] == 0) break; } } } è¯•é™¤æ³•æ±‚æ‰€æœ‰çº¦æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 869. è¯•é™¤æ³•æ±‚çº¦æ•° intèŒƒå›´å†…çº¦æ•°ä¸ªæ•°æœ€å¤šä¸º1500ä¸ªå·¦å³\nvector\u0026lt;int\u0026gt; get_divisors(int x) { vector\u0026lt;int\u0026gt; res; for (int i = 1; i \u0026lt;= x / i; i ++ ) if (x % i == 0) { res.push_back(i); if (i != x / i) res.push_back(x / i); } sort(res.begin(), res.end()); return res; } çº¦æ•°ä¸ªæ•°å’Œçº¦æ•°ä¹‹å’Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 870. çº¦æ•°ä¸ªæ•°, AcWing 871. çº¦æ•°ä¹‹å’Œ å¦‚æœ N = p1^c1 * p2^c2 * ... *pk^ck çº¦æ•°ä¸ªæ•°ï¼š (c1 + 1) * (c2 + 1) * ... * (ck + 1) çº¦æ•°ä¹‹å’Œï¼š (p1^0 + p1^1 + ... + p1^c1) * ... * (pk^0 + pk^1 + ... + pk^ck) æ¬§å‡ é‡Œå¾—ç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 872. æœ€å¤§å…¬çº¦æ•° int gcd(int a, int b) { return b ? gcd(b, a % b) : a; } æ±‚æ¬§æ‹‰å‡½æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 873. æ¬§æ‹‰å‡½æ•° æ¬§æ‹‰å‡½æ•°å…¬å¼ï¼ˆå®¹æ–¥åŸç†) : n*(1-p1)*(1-p2)\u0026hellip;(1-pk)\nint phi(int x) { int res = x; for (int i = 2; i \u0026lt;= x / i; i ++ ) if (x % i == 0) { res = res / i * (i - 1); while (x % i == 0) x /= i; } if (x \u0026gt; 1) res = res / x * (x - 1); return res; } ç­›æ³•æ±‚æ¬§æ‹‰å‡½æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 874. ç­›æ³•æ±‚æ¬§æ‹‰å‡½æ•° O(n) çº¿æ€§æ±‚æ‰€æœ‰æ•°çš„æ¬§æ‹‰å‡½æ•°\nåº”ç”¨ï¼šæ¬§æ‹‰å®šç†ï¼šaä¸näº’è´¨ a^Ï†(n)=1(mod n)\nint primes[N], cnt; // primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•° int euler[N]; // å­˜å‚¨æ¯ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•° bool st[N]; // st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰ void get_eulers(int n) { euler[1] = 1; for (int i = 2; i \u0026lt;= n; i ++ ) { if (!st[i]) { primes[cnt ++ ] = i; euler[i] = i - 1; } for (int j = 0; primes[j] \u0026lt;= n / i; j ++ ) { int t = primes[j] * i; st[t] = true; if (i % primes[j] == 0) { euler[t] = euler[i] * primes[j]; break; } euler[t] = euler[i] * (primes[j] - 1); } } } å¿«é€Ÿå¹‚ â€”â€” æ¨¡æ¿é¢˜ AcWing 875. å¿«é€Ÿå¹‚ æ±‚ m^k mod pï¼Œæ—¶é—´å¤æ‚åº¦ O(logk)ã€‚\nint qmi(int m, int k, int p) { int res = 1 % p, t = m; while (k) { if (k\u0026amp;1) res = res * t % p; t = t * t % p; k \u0026gt;\u0026gt;= 1; } return res; } æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³• â€”â€” æ¨¡æ¿é¢˜ AcWing 877. æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³• // æ±‚x, yï¼Œä½¿å¾—ax + by = gcd(a, b) int exgcd(int a, int b, int \u0026amp;x, int \u0026amp;y) { if (!b) { x = 1; y = 0; return a; } int d = exgcd(b, a % b, y, x); y -= (a/b) * x; return d; } é«˜æ–¯æ¶ˆå…ƒ â€”â€” æ¨¡æ¿é¢˜ AcWing 883. é«˜æ–¯æ¶ˆå…ƒè§£çº¿æ€§æ–¹ç¨‹ç»„ O(n^3)æ—¶é—´å†…è§£nä¸ªæ–¹ç¨‹nä¸ªæœªçŸ¥æ•°çš„è§£ã€‚\nè§£ï¼šæ— è§£ ï¼› æ— ç©·å¤šç»„è§£ ï¼› å”¯ä¸€è§£ ï¼›\nå®Œç¾é˜¶æ¢¯å‹ï¼šå”¯ä¸€è§£ *0=*éé›¶ ï¼š *æ— è§£ 0=0 ï¼š æ— ç©·å¤šç»„è§£ é«˜æ–¯æ¶ˆå…ƒï¼š\næšä¸¾æ¯ä¸€åˆ—cï¼š\næ‰¾åˆ°ç»å¯¹å€¼æœ€å¤§çš„ä¸€è¡Œ å°†è¯¥è¡Œæ¢åˆ°æœ€ä¸Šé¢ å°†è¯¥è¡Œç¬¬ä¸€ä¸ªæ•°å˜æˆ1 å°†ä¸‹é¢æ‰€æœ‰è¡Œçš„ç¬¬cåˆ—æ¶ˆæˆ0 // a[N][N]æ˜¯å¢å¹¿çŸ©é˜µ int gauss() { int c, r; for (c = 0, r = 0; c \u0026lt; n; c ++ ) { int t = r; for (int i = r; i \u0026lt; n; i ++ ) // æ‰¾åˆ°ç»å¯¹å€¼æœ€å¤§çš„è¡Œ if (fabs(a[i][c]) \u0026gt; fabs(a[t][c])) t = i; if (fabs(a[t][c]) \u0026lt; eps) continue; for (int i = c; i \u0026lt;= n; i ++ ) swap(a[t][i], a[r][i]); // å°†ç»å¯¹å€¼æœ€å¤§çš„è¡Œæ¢åˆ°æœ€é¡¶ç«¯ for (int i = n; i \u0026gt;= c; i -- ) a[r][i] /= a[r][c]; // å°†å½“å‰ä¸Šçš„é¦–ä½å˜æˆ1 for (int i = r + 1; i \u0026lt; n; i ++ ) // ç”¨å½“å‰è¡Œå°†ä¸‹é¢æ‰€æœ‰çš„åˆ—æ¶ˆæˆ0 if (fabs(a[i][c]) \u0026gt; eps) for (int j = n; j \u0026gt;= c; j -- ) a[i][j] -= a[r][j] * a[i][c]; r ++ ; } if (r \u0026lt; n) { for (int i = r; i \u0026lt; n; i ++ ) if (fabs(a[i][n]) \u0026gt; eps) return 2; // æ— è§£ return 1; // æœ‰æ— ç©·å¤šç»„è§£ } for (int i = n - 1; i \u0026gt;= 0; i -- ) for (int j = i + 1; j \u0026lt; n; j ++ ) a[i][n] -= a[i][j] * a[j][n]; return 0; // æœ‰å”¯ä¸€è§£ } é€’å½’æ³•æ±‚ç»„åˆæ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 885. æ±‚ç»„åˆæ•° I åä¸‡ 1\u0026lt;b\u0026lt;a\u0026lt;2000 O(n^2)\n// c[a][b] è¡¨ç¤ºä»aä¸ªè‹¹æœä¸­é€‰bä¸ªçš„æ–¹æ¡ˆæ•° for (int i = 0; i \u0026lt; N; i ++ ) for (int j = 0; j \u0026lt;= i; j ++ ) if (!j) c[i][j] = 1; else c[i][j] = (c[i - 1][j] + c[i - 1][j - 1]) % mod; é€šè¿‡é¢„å¤„ç†é€†å…ƒçš„æ–¹å¼æ±‚ç»„åˆæ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 886. æ±‚ç»„åˆæ•° II ä¸€ä¸‡ 1\u0026lt;b\u0026lt;a\u0026lt;10^5 O(logn)\né¦–å…ˆé¢„å¤„ç†å‡ºæ‰€æœ‰é˜¶ä¹˜å–æ¨¡çš„ä½™æ•°fact[N]ï¼Œä»¥åŠæ‰€æœ‰é˜¶ä¹˜å–æ¨¡çš„é€†å…ƒinfact[N] å¦‚æœå–æ¨¡çš„æ•°æ˜¯è´¨æ•°ï¼Œå¯ä»¥ç”¨è´¹é©¬å°å®šç†æ±‚é€†å…ƒ int qmi(int a, int k, int p) // å¿«é€Ÿå¹‚æ¨¡æ¿ { int res = 1; while (k) { if (k \u0026amp; 1) res = (LL)res * a % p; a = (LL)a * a % p; k \u0026gt;\u0026gt;= 1; } return res; } // é¢„å¤„ç†é˜¶ä¹˜çš„ä½™æ•°å’Œé˜¶ä¹˜é€†å…ƒçš„ä½™æ•° fact[0] = infact[0] = 1; for (int i = 1; i \u0026lt; N; i ++ ) { fact[i] = (LL)fact[i - 1] * i % mod; infact[i] = (LL)infact[i - 1] * qmi(i, mod - 2, mod) % mod; } ll C(ll n,ll m){ if(m\u0026gt;n) return 0ll; return fact[n]*infact[m]%mod*infact[n-m]%mod; } Lucaså®šç† â€”â€” æ¨¡æ¿é¢˜ AcWing 887. æ±‚ç»„åˆæ•° III ç»„åˆæ•°ï¼Œ1\u0026lt;b\u0026lt;a\nè‹¥pæ˜¯è´¨æ•°ï¼Œåˆ™å¯¹äºä»»æ„æ•´æ•° 1 \u0026lt;= m \u0026lt;= nï¼Œæœ‰ï¼š C(n, m) = C(n % p, m % p) * C(n / p, m / p) (mod p) int qmi(int a, int k) // å¿«é€Ÿå¹‚æ¨¡æ¿ { int res = 1; while (k) { if (k \u0026amp; 1) res = (LL)res * a % p; a = (LL)a * a % p; k \u0026gt;\u0026gt;= 1; } return res; } int C(int a, int b) // é€šè¿‡å®šç†æ±‚ç»„åˆæ•°C(a, b) { int res = 1; for (int i = 1, j = a; i \u0026lt;= b; i ++, j -- ) { res = (LL)res * j % p; res = (LL)res * qmi(i, p - 2) % p; } return res; } int lucas(LL a, LL b) { if (a \u0026lt; p \u0026amp;\u0026amp; b \u0026lt; p) return C(a, b); return (LL)C(a % p, b % p) * lucas(a / p, b / p) % p; } åˆ†è§£è´¨å› æ•°æ³•æ±‚ç»„åˆæ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 888. æ±‚ç»„åˆæ•° IV å½“æˆ‘ä»¬éœ€è¦æ±‚å‡ºç»„åˆæ•°çš„çœŸå®å€¼ï¼Œè€Œéå¯¹æŸä¸ªæ•°çš„ä½™æ•°æ—¶ï¼Œåˆ†è§£è´¨å› æ•°çš„æ–¹å¼æ¯”è¾ƒå¥½ç”¨ï¼š\n1. ç­›æ³•æ±‚å‡ºèŒƒå›´å†…çš„æ‰€æœ‰è´¨æ•° 2. é€šè¿‡ C(a, b) = a! / b! / (a - b)! è¿™ä¸ªå…¬å¼æ±‚å‡ºæ¯ä¸ªè´¨å› å­çš„æ¬¡æ•°ã€‚ n! ä¸­pçš„æ¬¡æ•°æ˜¯ n / p + n / p^2 + n / p^3 + ... 3. ç”¨é«˜ç²¾åº¦ä¹˜æ³•å°†æ‰€æœ‰è´¨å› å­ç›¸ä¹˜ int primes[N], cnt; // å­˜å‚¨æ‰€æœ‰è´¨æ•° int sum[N]; // å­˜å‚¨æ¯ä¸ªè´¨æ•°çš„æ¬¡æ•° bool st[N]; // å­˜å‚¨æ¯ä¸ªæ•°æ˜¯å¦å·²è¢«ç­›æ‰ void get_primes(int n) // çº¿æ€§ç­›æ³•æ±‚ç´ æ•° { for (int i = 2; i \u0026lt;= n; i ++ ) { if (!st[i]) primes[cnt ++ ] = i; for (int j = 0; primes[j] \u0026lt;= n / i; j ++ ) { st[primes[j] * i] = true; if (i % primes[j] == 0) break; } } } int get(int n, int p) // æ±‚nï¼ä¸­çš„æ¬¡æ•° { int res = 0; while (n) { res += n / p; n /= p; } return res; } vector\u0026lt;int\u0026gt; mul(vector\u0026lt;int\u0026gt; a, int b) // é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦æ¨¡æ¿ { vector\u0026lt;int\u0026gt; c; int t = 0; for (int i = 0; i \u0026lt; a.size(); i ++ ) { t += a[i] * b; c.push_back(t % 10); t /= 10; } while (t) { c.push_back(t % 10); t /= 10; } return c; } get_primes(a); // é¢„å¤„ç†èŒƒå›´å†…çš„æ‰€æœ‰è´¨æ•° for (int i = 0; i \u0026lt; cnt; i ++ ) // æ±‚æ¯ä¸ªè´¨å› æ•°çš„æ¬¡æ•° { int p = primes[i]; sum[i] = get(a, p) - get(b, p) - get(a - b, p); } vector\u0026lt;int\u0026gt; res; res.push_back(1); for (int i = 0; i \u0026lt; cnt; i ++ ) // ç”¨é«˜ç²¾åº¦ä¹˜æ³•å°†æ‰€æœ‰è´¨å› å­ç›¸ä¹˜ for (int j = 0; j \u0026lt; sum[i]; j ++ ) res = mul(res, primes[i]); å¡ç‰¹å…°æ•° â€”â€” æ¨¡æ¿é¢˜ AcWing 889. æ»¡è¶³æ¡ä»¶çš„01åºåˆ— ç»™å®šnä¸ª0å’Œnä¸ª1ï¼Œå®ƒä»¬æŒ‰ç…§æŸç§é¡ºåºæ’æˆé•¿åº¦ä¸º2nçš„åºåˆ—ï¼Œæ»¡è¶³ä»»æ„å‰ç¼€ä¸­0çš„ä¸ªæ•°éƒ½ä¸å°‘äº1çš„ä¸ªæ•°çš„åºåˆ—çš„æ•°é‡ä¸ºï¼š $$ Cat(n) = C(2n, n) / (n + 1) $$\nå®¹æ–¥åŸç† æ‰¾1~nä¸­èƒ½è‡³å°‘è¢«ç´ æ•°p1,p2,\u0026hellip;,pnä¸€ä¸ªæ•´é™¤çš„æ•´æ•°æœ‰å¤šå°‘ä¸ªã€‚\nä½è¿ç®—å¯¹åº”å®¹æ–¥åŸç†é›†åˆï¼Œ1~nä¸­èƒ½è¢«xæ•´é™¤çš„ä¸ªæ•°ä¸ºn/xï¼Œå¥‡æ•°åŠ ä¸Šï¼Œå¶æ•°å‡å»\nNIM(å°¼å§†)æ¸¸æˆ â€”â€” æ¨¡æ¿é¢˜ AcWing 891. Nimæ¸¸æˆ ç»™å®šNå †ç‰©å“ï¼Œç¬¬iå †ç‰©å“æœ‰Aiä¸ªã€‚ä¸¤åç©å®¶è½®æµè¡ŒåŠ¨ï¼Œæ¯æ¬¡å¯ä»¥ä»»é€‰ä¸€å †ï¼Œå–èµ°ä»»æ„å¤šä¸ªç‰©å“ï¼Œå¯æŠŠä¸€å †å–å…‰ï¼Œä½†ä¸èƒ½ä¸å–ã€‚å–èµ°æœ€åä¸€ä»¶ç‰©å“è€…è·èƒœã€‚ä¸¤äººéƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥ï¼Œé—®å…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚\næˆ‘ä»¬æŠŠè¿™ç§æ¸¸æˆç§°ä¸ºNIMåšå¼ˆã€‚æŠŠæ¸¸æˆè¿‡ç¨‹ä¸­é¢ä¸´çš„çŠ¶æ€ç§°ä¸ºå±€é¢ã€‚æ•´å±€æ¸¸æˆç¬¬ä¸€ä¸ªè¡ŒåŠ¨çš„ç§°ä¸ºå…ˆæ‰‹ï¼Œç¬¬äºŒä¸ªè¡ŒåŠ¨çš„ç§°ä¸ºåæ‰‹ã€‚è‹¥åœ¨æŸä¸€å±€é¢ä¸‹æ— è®ºé‡‡å–ä½•ç§è¡ŒåŠ¨ï¼Œéƒ½ä¼šè¾“æ‰æ¸¸æˆï¼Œåˆ™ç§°è¯¥å±€é¢å¿…è´¥ã€‚ æ‰€è°“é‡‡å–æœ€ä¼˜ç­–ç•¥æ˜¯æŒ‡ï¼Œè‹¥åœ¨æŸä¸€å±€é¢ä¸‹å­˜åœ¨æŸç§è¡ŒåŠ¨ï¼Œä½¿å¾—è¡ŒåŠ¨åå¯¹é¢é¢ä¸´å¿…è´¥å±€é¢ï¼Œåˆ™ä¼˜å…ˆé‡‡å–è¯¥è¡ŒåŠ¨ã€‚åŒæ—¶ï¼Œè¿™æ ·çš„å±€é¢è¢«ç§°ä¸ºå¿…èƒœã€‚æˆ‘ä»¬è®¨è®ºçš„åšå¼ˆé—®é¢˜ä¸€èˆ¬éƒ½åªè€ƒè™‘ç†æƒ³æƒ…å†µï¼Œå³ä¸¤äººå‡æ— å¤±è¯¯ï¼Œéƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥è¡ŒåŠ¨æ—¶æ¸¸æˆçš„ç»“æœã€‚ NIMåšå¼ˆä¸å­˜åœ¨å¹³å±€ï¼Œåªæœ‰å…ˆæ‰‹å¿…èƒœå’Œå…ˆæ‰‹å¿…è´¥ä¸¤ç§æƒ…å†µã€‚\nå®šç†ï¼š NIMåšå¼ˆå…ˆæ‰‹å¿…èƒœï¼Œå½“ä¸”ä»…å½“ A1 ^ A2 ^ â€¦ ^ An != 0\nå…¬å¹³ç»„åˆæ¸¸æˆICG è‹¥ä¸€ä¸ªæ¸¸æˆæ»¡è¶³ï¼š\nç”±ä¸¤åç©å®¶äº¤æ›¿è¡ŒåŠ¨ï¼› åœ¨æ¸¸æˆè¿›ç¨‹çš„ä»»æ„æ—¶åˆ»ï¼Œå¯ä»¥æ‰§è¡Œçš„åˆæ³•è¡ŒåŠ¨ä¸è½®åˆ°å“ªåç©å®¶æ— å…³ï¼› ä¸èƒ½è¡ŒåŠ¨çš„ç©å®¶åˆ¤è´Ÿï¼› åˆ™ç§°è¯¥æ¸¸æˆä¸ºä¸€ä¸ªå…¬å¹³ç»„åˆæ¸¸æˆã€‚ NIMåšå¼ˆå±äºå…¬å¹³ç»„åˆæ¸¸æˆï¼Œä½†åŸå»ºçš„æ£‹ç±»æ¸¸æˆï¼Œæ¯”å¦‚å›´æ£‹ï¼Œå°±ä¸æ˜¯å…¬å¹³ç»„åˆæ¸¸æˆã€‚å› ä¸ºå›´æ£‹äº¤æˆ˜åŒæ–¹åˆ†åˆ«åªèƒ½è½é»‘å­å’Œç™½å­ï¼Œèƒœè´Ÿåˆ¤å®šä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œä¸æ»¡è¶³æ¡ä»¶2å’Œæ¡ä»¶3ã€‚\næœ‰å‘å›¾æ¸¸æˆ ç»™å®šä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œå›¾ä¸­æœ‰ä¸€ä¸ªå”¯ä¸€çš„èµ·ç‚¹ï¼Œåœ¨èµ·ç‚¹ä¸Šæ”¾æœ‰ä¸€æšæ£‹å­ã€‚ä¸¤åç©å®¶äº¤æ›¿åœ°æŠŠè¿™æšæ£‹å­æ²¿æœ‰å‘è¾¹è¿›è¡Œç§»åŠ¨ï¼Œæ¯æ¬¡å¯ä»¥ç§»åŠ¨ä¸€æ­¥ï¼Œæ— æ³•ç§»åŠ¨è€…åˆ¤è´Ÿã€‚è¯¥æ¸¸æˆè¢«ç§°ä¸ºæœ‰å‘å›¾æ¸¸æˆã€‚ ä»»ä½•ä¸€ä¸ªå…¬å¹³ç»„åˆæ¸¸æˆéƒ½å¯ä»¥è½¬åŒ–ä¸ºæœ‰å‘å›¾æ¸¸æˆã€‚å…·ä½“æ–¹æ³•æ˜¯ï¼ŒæŠŠæ¯ä¸ªå±€é¢çœ‹æˆå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä»æ¯ä¸ªå±€é¢å‘æ²¿ç€åˆæ³•è¡ŒåŠ¨èƒ½å¤Ÿåˆ°è¾¾çš„ä¸‹ä¸€ä¸ªå±€é¢è¿æœ‰å‘è¾¹ã€‚\nMexè¿ç®— è®¾Sè¡¨ç¤ºä¸€ä¸ªéè´Ÿæ•´æ•°é›†åˆã€‚å®šä¹‰mex(S)ä¸ºæ±‚å‡ºä¸å±äºé›†åˆSçš„æœ€å°éè´Ÿæ•´æ•°çš„è¿ç®—ï¼Œå³ï¼š mex(S) = min{x}, xå±äºè‡ªç„¶æ•°ï¼Œä¸”xä¸å±äºS\nSGå‡½æ•° åœ¨æœ‰å‘å›¾æ¸¸æˆä¸­ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹xï¼Œè®¾ä»xå‡ºå‘å…±æœ‰kæ¡æœ‰å‘è¾¹ï¼Œåˆ†åˆ«åˆ°è¾¾èŠ‚ç‚¹y1, y2, â€¦, ykï¼Œå®šä¹‰SG(x)ä¸ºxçš„åç»§èŠ‚ç‚¹y1, y2, â€¦, yk çš„SGå‡½æ•°å€¼æ„æˆçš„é›†åˆå†æ‰§è¡Œ**mex(S)**è¿ç®—çš„ç»“æœï¼Œå³ï¼š SG(x) = mex({SG(y1), SG(y2), â€¦, SG(yk)}) ç‰¹åˆ«åœ°ï¼Œæ•´ä¸ªæœ‰å‘å›¾æ¸¸æˆGçš„SGå‡½æ•°å€¼è¢«å®šä¹‰ä¸ºæœ‰å‘å›¾æ¸¸æˆèµ·ç‚¹sçš„SGå‡½æ•°å€¼ï¼Œå³SG(G) = SG(s)ã€‚\nint sg(int x){ if (f[x] != -1) return f[x]; unordered_set\u0026lt;int\u0026gt; S; for(int i = 0; i \u0026lt; m; i++ ) { int sum = s[i]; if (x \u0026gt;= sum) S.insert(sg(x - sum)); } for (int i=0; ; i++ ) if (!S.count(i)) return f[x] = i; } æœ‰å‘å›¾æ¸¸æˆçš„å’Œ â€”â€” æ¨¡æ¿é¢˜ AcWing 893. é›†åˆ-Nimæ¸¸æˆ è®¾G1, G2, â€¦, Gm æ˜¯mä¸ªæœ‰å‘å›¾æ¸¸æˆã€‚å®šä¹‰æœ‰å‘å›¾æ¸¸æˆGï¼Œå®ƒçš„è¡ŒåŠ¨è§„åˆ™æ˜¯ä»»é€‰æŸä¸ªæœ‰å‘å›¾æ¸¸æˆGiï¼Œå¹¶åœ¨Giä¸Šè¡ŒåŠ¨ä¸€æ­¥ã€‚Gè¢«ç§°ä¸ºæœ‰å‘å›¾æ¸¸æˆG1, G2, â€¦, Gmçš„å’Œã€‚ æœ‰å‘å›¾æ¸¸æˆçš„å’Œçš„SGå‡½æ•°å€¼ç­‰äºå®ƒåŒ…å«çš„å„ä¸ªå­æ¸¸æˆSGå‡½æ•°å€¼çš„å¼‚æˆ–å’Œï¼Œå³ï¼š SG(G) = SG(G1) ^ SG(G2) ^ â€¦ ^ SG(Gm)\nå®šç† æœ‰å‘å›¾æ¸¸æˆçš„æŸä¸ªå±€é¢å¿…èƒœï¼Œå½“ä¸”ä»…å½“è¯¥å±€é¢å¯¹åº”èŠ‚ç‚¹çš„SGå‡½æ•°å€¼å¤§äº0ã€‚ æœ‰å‘å›¾æ¸¸æˆçš„æŸä¸ªå±€é¢å¿…è´¥ï¼Œå½“ä¸”ä»…å½“è¯¥å±€é¢å¯¹åº”èŠ‚ç‚¹çš„SGå‡½æ•°å€¼ç­‰äº0ã€‚\nä½œè€…ï¼šyxc é“¾æ¥ï¼šhttps://www.acwing.com/blog/content/406/ æ¥æºï¼šAcWing è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\næ—¶ç©ºå¤æ‚åº¦åˆ†æ å½“å¤„ç†ACMæˆ–ç¬”è¯•é¢˜æ—¶ï¼Œé€šå¸¸æ—¶é—´é™åˆ¶ä¸º1ç§’æˆ–2ç§’ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒC++ä»£ç ä¸­çš„æ“ä½œæ¬¡æ•°åº”æ§åˆ¶åœ¨10^7 åˆ° 10^8ä¹‹é—´ï¼Œè¿™æ˜¯æœ€ä½³èŒƒå›´ã€‚\nä»¥ä¸‹æ˜¯åœ¨ä¸åŒæ•°æ®è§„æ¨¡ä¸‹ï¼Œä»£ç çš„æ—¶é—´å¤æ‚åº¦å’Œç®—æ³•é€‰æ‹©çš„æŒ‡å¯¼ï¼š\nn â‰¤ 30ï¼šæŒ‡æ•°çº§åˆ«ï¼Œä½¿ç”¨DFS+å‰ªæï¼ŒçŠ¶æ€å‹ç¼©DPã€‚ n â‰¤ 100ï¼šO(n^3)ï¼Œé€‚ç”¨äºFloydã€DPã€é«˜æ–¯æ¶ˆå…ƒã€‚ n â‰¤ 1000ï¼šO(n^2)æˆ–O(n^2*logn)ï¼Œé€‚ç”¨äºDPã€åˆ†æ²»ã€é«˜æ–¯æ¶ˆå…ƒã€æœ´ç´ ç‰ˆDijkstraã€æœ´ç´ ç‰ˆPrimã€Bellman-Fordã€‚ n â‰¤ 10000ï¼šO(n * âˆšn)ï¼Œé€‚ç”¨äºå—çŠ¶é“¾è¡¨ã€åˆ†å—ã€è«é˜Ÿã€‚ n â‰¤ 100000ï¼šO(nlogn)ï¼Œé€‚ç”¨äºå„ç§æ’åºã€çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„ã€é›†åˆ/æ˜ å°„ã€å †ã€æ‹“æ‰‘æ’åºã€Dijkstra+å †ã€Primã€Kruskalã€SPFAã€æ±‚å‡¸åŒ…ã€æ±‚åŠå¹³é¢äº¤ã€äºŒåˆ†ã€CDQåˆ†æ²»ã€æ•´ä½“äºŒåˆ†ã€åç¼€æ•°ç»„ã€æ ‘é“¾å‰–åˆ†ã€åŠ¨æ€æ ‘ã€‚ n \u0026lt; 1000000ï¼šO(n)æˆ–å¸¸æ•°è¾ƒå°çš„O(nlogn)ï¼Œé€‚ç”¨äºå•è°ƒé˜Ÿåˆ—ã€å“ˆå¸Œæ˜ å°„ã€åŒæŒ‡é’ˆæ‰«æã€BFSã€å¹¶æŸ¥é›†ã€KMPã€ACè‡ªåŠ¨æœºã€å¸¸æ•°è¾ƒå°çš„O(nlogn)çš„åšæ³•ï¼ˆå¦‚æ’åºã€æ ‘çŠ¶æ•°ç»„ã€å †ã€Dijkstraã€SPFAï¼‰ã€‚ n \u0026lt; 10000000ï¼šO(n)ï¼Œé€‚ç”¨äºåŒæŒ‡é’ˆæ‰«æã€KMPã€ACè‡ªåŠ¨æœºã€çº¿æ€§ç­›ç´ æ•°ã€‚ n â‰¤ 10^9ï¼šO(nâˆšn)ï¼Œé€‚ç”¨äºåˆ¤æ–­è´¨æ•°ã€‚ n â‰¤ 10^18ï¼šO(logn)ï¼Œé€‚ç”¨äºæœ€å¤§å…¬çº¦æ•°ã€å¿«é€Ÿå¹‚ã€æ•°ä½DPã€‚ n â‰¤ 10^1000ï¼šO((logn)^2)ï¼Œé€‚ç”¨äºé«˜ç²¾åº¦åŠ å‡ä¹˜é™¤ã€‚ n â‰¤ 10^100000ï¼šO(logk Ã— loglogk)ï¼Œå…¶ä¸­kè¡¨ç¤ºä½æ•°ï¼Œé€‚ç”¨äºé«˜ç²¾åº¦åŠ å‡ã€FFT/NTTã€‚ åŠ¨æ€è§„åˆ’è®¡ç®—é‡ ï¼š çŠ¶æ€æ•° * çŠ¶æ€è½¬ç§»æ•°é‡\n1 Byte = 8 bit\n1KB = 1024 Byte\n1MB = 102410241024 Byte\n1GB = 1024 * 1024 * 1024 Byte\nint 4 Byte\nchar 1 Byte\ndouble, long long 8 Byte\nåŠ¨æ€è§„åˆ’ å¸¸è§æ¨¡å‹\nèƒŒåŒ… ä¹è®² 01èƒŒåŒ… æ¯ä»¶ç‰©å“æœ€å¤šå¯ä»¥ç”¨ä¸€æ¬¡\nä½“ç§¯ä»å¤§åˆ°å°çš„åŸå›  ï¼š å¦‚æœä»å°åˆ°å¤§ï¼Œåˆ™f[j-w[i]]+v[i]å®é™…æ˜¯f[i-1][j-w[i]]+v[i]ï¼Œéœ€è¦çš„æ˜¯ä¸Šä¸€ç»´åº¦f[i-1]ç»´åº¦ï¼Œæ‰€ä»¥ä»å¤§åˆ°å°å¯ä»¥ä½¿ç”¨ä¸Šä¸€ç»´åº¦çš„ï¼Œå› ä¸ºè¿™ä¸€ç»´åº¦çš„è¿˜æ²¡æœ‰è¢«è®¡ç®—åˆ°ã€‚\nfor(int i=1;i\u0026lt;=N;i++){ for(int j=V;j\u0026gt;=w[i];j--){ f[j]=max(f[j],f[j-w[i]]+v[i]); } } å®Œå…¨èƒŒåŒ… æ¯ä»¶ç‰©å“å¯ä»¥ç”¨æ— é™æ¬¡\nfor(int i=1;i\u0026lt;=N;i++){ for(int j=w[i];j\u0026lt;=V;j++){ f[j]=max(f[j],f[j-w[i]]+v[i]); } } å¤šé‡èƒŒåŒ… æ¯ä»¶ç‰©å“ç‰¹å®šæ•°é‡\näºŒè¿›åˆ¶ä¼˜åŒ– for(int i=1;i\u0026lt;=N;i++){ cin\u0026gt;\u0026gt;a\u0026gt;\u0026gt;b\u0026gt;\u0026gt;c; //æƒé‡a,ä»·å€¼bï¼Œæ•°é‡c int k=1; while(k\u0026lt;=c){ cnt++; c-=k; w[cnt]=k*a; v[cnt]=k*b; k*=2; } if(c){ cnt++; w[cnt]=c*a; v[cnt]=c*b; } } //ä¹‹åç”¨01èƒŒåŒ… å•è°ƒé˜Ÿåˆ—ä¼˜åŒ– for(int i=1;i\u0026lt;=N;i++){ // éå†æ¯ä»¶ç‰©å“ memcpy(g, f, sizeof g); // å°†ä¸Šä¸€è½®çš„æœ€ä¼˜è§£æ‹·è´ç»™gæ•°ç»„ for(int r=0;r\u0026lt;v[i];r++){ // éå†ä½™æ•°rï¼ˆç”¨äºä¼˜åŒ–å¾ªç¯ï¼‰ int h=0,t=-1; // æ»‘åŠ¨çª—å£çš„èµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼• for(int l=r;l\u0026lt;=V;l+=v[i]){ // éå†èƒŒåŒ…å®¹é‡ï¼Œé—´éš”ä¸ºå½“å‰ç‰©å“ä½“ç§¯ while(h\u0026lt;=t \u0026amp;\u0026amp; l-q[h]\u0026gt;s[i]*v[i]) h++; // å¦‚æœçª—å£å·¦è¾¹ç•Œè¶…å‡ºé™åˆ¶ï¼Œåˆ™å·¦è¾¹ç•Œå³ç§» while(h\u0026lt;=t \u0026amp;\u0026amp; g[q[t]] + (l-q[t])/v[i]*w[i]\u0026lt;=g[l]) t--; // ä¿æŒçª—å£å•è°ƒæ€§ï¼Œå°†çª—å£å†…ä¸ç¬¦åˆæ¡ä»¶çš„è§£ç§»é™¤ q[++t] = l; // å°†å½“å‰çŠ¶æ€çš„èƒŒåŒ…å®¹é‡åŠ å…¥çª—å£ f[l] = g[q[h]] + (l-q[h])/v[i]*w[i]; // æ›´æ–°å½“å‰çŠ¶æ€çš„æœ€ä¼˜è§£ } } } åˆ†ç»„èƒŒåŒ… è‹¥å¹²ç»„ï¼Œä¸€ç»„åªèƒ½é€‰ä¸€ä¸ª\nfor(int i=1;i\u0026lt;=N;i++){ for(int j=V;j\u0026gt;=0;j--){ for(int k=1;k\u0026lt;=s[i];k++){ if(w[i][k]\u0026lt;=j){ f[j]=max(f[j],f[j- w[i][k] ]+v[i][k]); } } } } æ··åˆèƒŒåŒ… è½¬æ¢æˆ01èƒŒåŒ…é—®é¢˜\nfor(int i=1;i\u0026lt;=N;i++){ cin\u0026gt;\u0026gt;a\u0026gt;\u0026gt;b\u0026gt;\u0026gt;s; if(s==-1) s=1; else if(s==0) s=V/a; k=1; while(k\u0026lt;=s){ s-=k; cnt++; v[cnt] = k*a; w[cnt] = k*b; k*=2; } if(s){ cnt++; v[cnt] = s*a; w[cnt] = s*b; } } for(int i=1;i\u0026lt;=cnt;i++){ for(int j=V;j\u0026gt;=v[i];j--){ f[j] = max(f[j], f[j-v[i]]+w[i]); } } äºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜ é‡‡ç”¨ä¸¤å±‚å¾ªç¯\ncin\u0026gt;\u0026gt;N\u0026gt;\u0026gt;V\u0026gt;\u0026gt;W; for(int i=1;i\u0026lt;=N;i++){ cin\u0026gt;\u0026gt;v\u0026gt;\u0026gt;m\u0026gt;\u0026gt;w; for(int j=V;j\u0026gt;=v;j--){ for(int k=W;k\u0026gt;=m;k--){ f[j][k] = max(f[j][k], f[j-v][k-m] + w); } } } cout\u0026lt;\u0026lt;f[V][W]\u0026lt;\u0026lt;endl; çº¿æ€§dp æ•°å­—ä¸‰è§’å½¢ for(int i=1;i\u0026lt;=n;i++){ for(int j=1;j\u0026lt;=i;j++){ a[i][j]+=max(a[i-1][j],a[i-1][j-1]); } } LIS for(int i=1;i\u0026lt;=n;i++){ for(int j=1;j\u0026lt;i;j++){ if(a[j]\u0026lt;a[i]) f[i]=max(f[j]+1,f[i]); } } for(int i=1;i\u0026lt;=n;i++){ ma=max(f[i],ma); } LCS for(int i=1;i\u0026lt;=n;i++){ for(int j=1;j\u0026lt;=m;j++){ f[i][j]=max(f[i-1][j],f[i][j-1]); if(a[i]==b[j]) f[i][j]=f[i-1][j-1]+1; } } åŒºé—´dp çŸ³å­åˆå¹¶ memset(f, 0x3f, sizeof f); for(int len=2;len\u0026lt;=n;len++){ for(int i=1;i+len-1\u0026lt;=n;i++){ int j=i+len-1; if (len == 1) { f[i][j] = 0; // è¾¹ç•Œåˆå§‹åŒ– continue; } for(int k=i;k\u0026lt;j;k++){ f[l][r]=min(f[l][r],f[l][k]+f[k+1][r]+s[r]-s[l-1]); } } } cout\u0026lt;\u0026lt;f[1][n]; æ•°ä½ç»Ÿè®¡dp çŠ¶æ€è¡¨ç¤º\nåˆ†æƒ…å†µè®¨è®º\nçŠ¶æ€å‹ç¼© dp è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³\næœ€çŸ­Hamiltonè·ç¦»\næ ‘å½¢dp æ²¡æœ‰ä¸Šå¸çš„èˆä¼š\nè®°å¿†åŒ– æ»‘é›ª\n#include\u0026lt;bits/stdc++.h\u0026gt; using namespace std; #define ll long long const int maxn=1e4; ll f[maxn][maxn],g[maxn][maxn]; //distance struct node{ ll i,j,num; }a[maxn]; struct cmp { bool operator () (node x,node y){ return x.num\u0026gt;y.num; } }; int main() { ios::sync_with_stdio(false); cin.tie(0); cout.tie(0); ll n,m,ma=-1; cin\u0026gt;\u0026gt;n\u0026gt;\u0026gt;m; priority_queue\u0026lt;node, vector\u0026lt;node\u0026gt;,cmp\u0026gt;pq; for(ll i=1;i\u0026lt;=n;i++){ for(ll j=1;j\u0026lt;=m;j++){ f[i][j]=1; node a; a.i=i; a.j=j; cin\u0026gt;\u0026gt;a.num; g[i][j]=a.num; pq.push(a); } } while(!pq.empty()){ node t=pq.top(); pq.pop(); ll i=t.i; ll j=t.j; ll nu=t.num; if(g[i-1][j]\u0026lt;nu) f[i][j]=max(f[i][j],f[i-1][j]+1); if(g[i+1][j]\u0026lt;nu) f[i][j]=max(f[i][j],f[i+1][j]+1); if(g[i][j-1]\u0026lt;nu) f[i][j]=max(f[i][j],f[i][j-1]+1); if(g[i][j+1]\u0026lt;nu) f[i][j]=max(f[i][j],f[i][j+1]+1); ma=max(ma,f[i][j]); } cout\u0026lt;\u0026lt;ma\u0026lt;\u0026lt;endl; return 0; } ä¹ é¢˜è¯¾ ","permalink":"https://kennems.github.io/zh/posts/tech/acwing/","summary":"acwingç®—æ³•å­¦ä¹  [TOC] ç¬¬ä¸€ç«  è¯¾ä¸Šï¼šå­¦æ€æƒ³ è¯¾ä¸‹ï¼šèƒŒä»£ç  é¢˜ç›®ï¼Œä¸€é“é¢˜å†™å¥½å‡ é ç†è§£æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œä½“åŠ›æ´»+è„‘åŠ›æ´» è®°å¿†åŠ› æ¯…åŠ›/è‡ªåˆ¶åŠ› æ²‰ä¸‹å¿ƒèƒŒä¸œè¥¿ å¿«é€Ÿæ’","title":""},{"content":"Acwingè®°å½• æ˜“é”™ç‚¹ï¼š\nå˜é‡åï¼Œç¬¦å·å†™é”™ï¼ˆå·²çŸ¥ç®—æ³•çš„æƒ…å†µä¸‹é‡æ–°å†™ä¸€éï¼‰ å‡½æ•°å†™äº†æ²¡æœ‰è°ƒç”¨ ä¿åˆ†\næ ¹æ®æ•°æ®é‡ç”¨ä¸åŒçš„ç®—æ³•\nDPï¼Œ æ•°å­¦ï¼Œå“ˆå¸Œï¼Œåˆ†å—ï¼Œæ ‘çŠ¶æ•°ç»„çº¿æ®µæ ‘\ndef check(x): if x\u0026lt;2: return False for i in range(2, int(x**0.5) + 1): if x%i==0: return False return True n = int(input()) for i in range(n): x = int(input()) if check(x): print(\u0026#34;Yes\u0026#34;) else: print(\u0026#34;No\u0026#34;) def get(x): for i in range(2, int(x**0.5) + 1): cnt = 0 if x%i==0: while x%i==0: x//=i cnt+=1 if cnt: print(i, cnt) if x!=1: print(x, 1) n = int(input()) for i in range(n): x = int(input()) get(x) print() é˜¶ä¹˜åˆ†è§£ def get(n): for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p]=True if i%p==0: break n = int(input()) primes = [] st = [False]*(n+1) get(n) for p in primes: s, t = 0, n while t: s += t//p t//=p print(p, s) \\196. è´¨æ•°è·ç¦» import math inf = math.inf def get(n): for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break N = 50000 primes = [] st = [False]*(N + 5) get(N) while True: try: l, r = map(int, input().split()) except: exit() isprimes = [False]*(r-l+1) inprimes = [] for p in primes: for i in range(max(2*p, (l+p-1)//p*p), r+1, p): isprimes[i-l] = True for i in range(l, r+1): if i\u0026gt;1 and not isprimes[i-l]: inprimes.append(i) if len(inprimes)\u0026lt;2: print(\u0026#34;There are no adjacent primes.\u0026#34;) continue mx, mxl, mxr = -inf, 0, 0 mn, mnl, mnr = inf, 0, 0 for i in range(len(inprimes)-1): p1, p2 = inprimes[i], inprimes[i+1] d = p2 - p1 if d\u0026lt;mn: mn, mnl, mnr = d, p1, p2 if d\u0026gt;mx: mx, mxl, mxr = d, p1, p2 print(\u0026#34;{},{} are closest, {},{} are most distant.\u0026#34;.format(mnl, mnr, mxl, mxr)) AcWing 1293. å¤æ´›å…‹å’Œä»–çš„å¥³æœ‹å‹ def get(n): for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break N = 100010 primes = [] st = [False]*(N+10) get(N) n = int(input()) if n\u0026lt;=2: print(1) else: print(2) for i in range(2, n+2): if not st[i]: print(1, end=\u0026#39; \u0026#39;) else: print(2, end=\u0026#39; \u0026#39;) åˆ†è§£çº¦æ•°\ndef get(x): res = [] for i in range(1, int(x**0.5) + 1): if x%i==0: res.append(i) if i!=x//i: res.append(x//i) return res n = int(input()) for i in range(n): x = int(input()) res = sorted(get(x)) print(*res, sep=\u0026#39; \u0026#39;) from collections import defaultdict mod = int(1e9) + 7 n = int(input()) res = 1 d = defaultdict(int) for i in range(n): x = int(input()) for i in range(2, int(x**0.5) + 1): cnt = 0 if x%i==0: while x%i==0: x//=i cnt += 1 d[i] += cnt if x\u0026gt;1: d[x] += 1 for x in d: res = res * (d[x]+1) % mod print(res) çº¦æ•°ä¹‹å’Œ from collections import defaultdict d = defaultdict(int) mod = 9901 def qpow(a, k): res = 1 while k: if k\u0026amp;1: res = res*a%mod a = a*a%mod k\u0026gt;\u0026gt;=1 return res def calc(a, k): if k==0: return 1 if k\u0026amp;1: return (1 + qpow(a, k//2 + 1)) * calc(a, k//2) % mod return (1 + qpow(a, (k-1)//2 + 1)) * calc( a, (k-1)//2 ) + qpow(a, k) a, b = map(int, input().split()) x = a for i in range(2, int(x**0.5) + 1): if x%i==0: cnt = 0 while x%i==0: x//=i cnt += 1 d[i] += cnt if x\u0026gt;1: d[x] += 1 res = 1 for x in d: res = res * calc(x, d[x]*b) % mod print(res if a else 0) çº¦æ•°ä¹‹å’Œ from collections import defaultdict def qpow(a, k): res = 1 while k: if k\u0026amp;1: res = res*a%mod a = a*a%mod k\u0026gt;\u0026gt;=1 return res def calc(a, k): if k==0: return 1 if k\u0026amp;1: return (1 + qpow(a, k//2+1)) * calc(a, k//2) % mod return ( qpow(a, k) + (1 + qpow(a, (k-1)//2+1)) * calc(a, (k-1)//2) ) % mod n = int(input()) mod = int(1e9) + 7 d = defaultdict(int) for i in range(n): x = int(input()) for j in range(2, int(x**0.5) + 1): if x%j==0: cnt = 0 while x%j==0: cnt += 1 x//=j d[j] += cnt if x\u0026gt;1: d[x] += 1 res = 1 for x in d: res = res * calc(x, d[x])%mod print(res) åˆ†è§£è´¨å› æ•°æ³•æ±‚ç»„åˆæ•° def get_primes(n): primes = [] st = [False]*(n+1) for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break return primes def get(n, p): res = 0 while n: res += n//p n//=p return res def qpow(a, k): res = 1 while k: if k\u0026amp;1: res = res * a a = a*a k\u0026gt;\u0026gt;=1 return res def calc(a, b): primes = get_primes(a) s = [0]*len(primes) for i, p in enumerate(primes): s[i] = get(a, p) - get(b, p) - get(a-b, p) res = 1 for i in range(len(primes)): res = res * qpow(primes[i], s[i]) return res a, b = map(int, input().split()) print(calc(a, b)) Kruskal import sys input = lambda:sys.stdin.readline().strip() def find(x): while p[x] != x: p[x] = p[p[x]] x = p[x] return x def kruskal(): res, cnt = 0, 0 ans = [] for u, v, w in g: fu, fv = find(u), find(v) if fu != fv: res += w cnt += 1 p[fu] = fv ans.append((u, v, w)) ans.sort() if cnt == n-1: print(res) # print(ans) else: print(\u0026#34;impossible\u0026#34;) n, m = map(int, input().split()) g = [] p = [i for i in range(n+1)] for i in range(m): u, v, w = map(int, input().split()) g.append((u, v, w)) g.sort(key = lambda e:e[2]) kruskal() prim from math import inf from sys import stdin def prim(): res = 0 dis[1] = 0 for i in range(n): t = -1 for j in range(1, n+1): if not st[j] and (t==-1 or dis[t] \u0026gt; dis[j]): t = j if i and dis[t]==inf: return inf if i: res += dis[t] st[t] = True for j in range(1, n+1): dis[j] = min(dis[j], g[t][j]) return res n, m = map(int, input().split()) g = [[inf]*(n+1) for _ in range(n+1)] dis = [inf]*(n+1) st = [False]*(n+1) for i in range(m): u, v, w = map(int, input().split()) g[u][v] = g[v][u] = min(w, g[u][v]) res = prim() if res==inf: print(\u0026#34;impossible\u0026#34;) else: print(res) floyd from sys import stdin from math import inf def floyd(): for k in range(1, n+1): for i in range(1, n+1): for j in range(1, n+1): d[i][j] = min(d[i][j], d[i][k] + d[k][j]) n, m, k = map(int, input().split()) d = [[0 if i==j else inf for i in range(n+1)] for j in range(n+1)] for i in range(m): x, y, z = map(int, input().split()) d[x][y] = min(d[x][y], z) floyd() for i in range(k): x, y = map(int, input().split()) print(d[x][y] if d[x][y]!=inf else \u0026#34;impossible\u0026#34;) spfa from sys import stdin from collections import defaultdict, deque from math import inf def spfa(): q = deque([1]) dis[1] = 0 st[1] = True while q: x = q.popleft() st[x] = False for y, z in g[x]: if dis[y] \u0026gt; dis[x] + z: dis[y] = dis[x] + z if not st[y]: q.append(y) st[y] = True return dis[n] n, m = map(int, input().split()) dis = [inf]*(n+1) st = [False]*(n+1) g = defaultdict(list) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = spfa() print(res if res != inf else \u0026#34;impossible\u0026#34;) SPFAåˆ¤æ–­è´Ÿç¯ from sys import stdin from collections import deque, defaultdict from math import inf input = lambda:stdin.readline().strip() def spfa(): q = deque() for i in range(1, n+1): q.append(i) st[i] = True while q: x = q.popleft() st[x] = False for y, z in g[x]: if dis[y] \u0026gt; dis[x] + z: dis[y] = dis[x] + z cnt[y] = cnt[x] + 1 if cnt[y] \u0026gt;= n: return True if not st[y]: q.append(y) st[y] = True return False n, m = map(int, input().split()) g = defaultdict(list) cnt = [0]*(n+1) st = [False]*(n+1) dis = [0]*(n+1) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = spfa() print(\u0026#34;Yes\u0026#34; if res else \u0026#34;No\u0026#34;) äºŒåˆ†å›¾ from sys import stdin from collections import defaultdict, deque def bfs(u, c): color[u] = c q = deque([(u, c)]) while q: cur, col = q.popleft() for nx in g[cur]: if color[nx]==-1: color[nx] = col^1 q.append((nx, col^1)) elif color[nx] == col: return False return True n, m = map(int, input().split()) g = defaultdict(list) color = [-1]*(n+1) for i in range(m): u, v = map(int, input().split()) if u not in g[v]: g[v].append(u) if v not in g[u]: g[u].append(v) for i in range(1, n+1): if color[i] == -1: if not bfs(i, 0): print(\u0026#34;No\u0026#34;) exit() print(\u0026#34;Yes\u0026#34;) åŒˆç‰™åˆ©ç®—æ³• from sys import stdin from collections import defaultdict def find(u): for v in g[u]: if not st[v]: st[v] = True if mat[v]==0 or find(mat[v]): mat[v] = u return True return False n1, n2, m = map(int, input().split()) mat = [0]*(n2 + 1) g = defaultdict(list) for i in range(m): u, v = map(int, input().split()) g[u].append(v) res = 0 for i in range(1, n1+1): st = [False]*(n2 + 1) if find(i): res += 1 print(res) TopSort from sys import stdin from collections import deque input = lambda:stdin.readline().strip() def topsort(): q = deque() res = [] for i in range(1, n+1): if ind[i]==0: res.append(i) q.append(i) while q: u = q.popleft() for v in g[u]: ind[v] -= 1 if ind[v]==0: q.append(v) res.append(v) return res n = int(input()) ind = [0]*(n+1) g = [[] for _ in range(n+1)] for i in range(1, n+1): a = list(map(int, input().split())) for j in range(len(a)-1): g[i].append(a[j]) ind[a[j]]+=1 res = topsort() print(*res, sep=\u0026#39; \u0026#39;) Dijkstra from math import inf from sys import stdin from collections import deque def dijkstra(): dis[1] = 0 # st[1] = True for i in range(n-1): t = -1 for j in range(1, n+1): if not st[j] and (t==-1 or dis[j] \u0026lt; dis[t]): t = j st[t] = True for j in range(1, n+1): dis[j] = min(dis[j], dis[t] + g[t][j]) return dis[n] n, m = map(int, input().split()) g = [[inf]*(n+1) for _ in range(n+1)] st = [False]*(n+1) dis = [inf]*(n+1) for i in range(m): x, y, z = map(int, input().split()) g[x][y] = min(g[x][y], z) res =dijkstra() print(res if res != inf else -1) from sys import stdin from math import inf from collections import defaultdict, deque def spfa(): q = deque([1]) dis[1] = 0 st[1] = True while q: u = q.popleft() st[u] = False for v, z in g[u]: if dis[v] \u0026gt; dis[u] + z: dis[v] = dis[u] + z if not st[v]: st[v] = True q.append(v) return dis[n] n, m = map(int, input().split()) g = defaultdict(list) dis = [inf]*(n+1) st = [False]*(n+1) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = spfa() print(res if res != inf else \u0026#34;impossible\u0026#34;) çƒ­æµª from sys import stdin from collections import deque, defaultdict from math import inf input = lambda:stdin.readline().strip() def spfa(): q = deque([st]) dis[st] = 0 vis[st] = True while q: x = q.popleft() vis[x] = False for y, z in g[x]: if dis[y] \u0026gt; dis[x] + z: dis[y] = dis[x] + z if not vis[y]: vis[y] = True q.append(y) return dis[ed] n, m, st, ed = map(int, input().split()) g = defaultdict(list) dis = [inf]*(n+1) vis = [False]*(n+1) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) g[y].append((x, z)) res = spfa() print(res) å †ä¼˜åŒ–ç‰ˆDijkstra() from sys import stdin from math import inf from collections import deque, defaultdict from heapq import heappush, heappop input = lambda:stdin.readline().strip() def dijkstra(): h = [(0, 1)] dis[1] = 0 while h: dist, ver = heappop(h) if vis[ver]: continue vis[ver] = True for nx, z in g[ver]: if dis[nx] \u0026gt; dis[ver] + z: dis[nx] = dis[ver] + z heappush(h, (dis[nx], nx)) return dis[n] n, m = map(int, input().split()) dis = [inf]*(n+1) vis = [False]*(n+1) g = defaultdict(list) for i in range(m): x, y, z = map(int, input().split()) g[x].append((y, z)) res = dijkstra() print(res if res != inf else -1) 1275 æœ€å¤§æ•° from sys import stdin input = lambda:stdin.readline().strip() def pushup(u): tr[u] = max(tr[u\u0026lt;\u0026lt;1], tr[u\u0026lt;\u0026lt;1|1]) def build(u, l, r): if l==r: tr[u] = 0 else: mid = l+r\u0026gt;\u0026gt;1 build(u\u0026lt;\u0026lt;1, l, mid) build(u\u0026lt;\u0026lt;1|1, mid+1, r) pushup(u) def modify(u, l, r, x, v): if l==r: tr[u] = v return mid = l+r\u0026gt;\u0026gt;1 if x\u0026lt;=mid: modify(u\u0026lt;\u0026lt;1, l, mid, x, v) else: modify(u\u0026lt;\u0026lt;1|1, mid+1, r, x, v) pushup(u) def query(u, l, r, ql, qr): if ql\u0026lt;=l and r\u0026lt;=qr: return tr[u] mid = l+r\u0026gt;\u0026gt;1 res = 0 if ql\u0026lt;=mid: res = query(u\u0026lt;\u0026lt;1, l, mid, ql, qr) if qr\u0026gt;mid: res = max(res, query(u\u0026lt;\u0026lt;1|1, mid+1, r, ql, qr)) return res m, p = map(int, input().split()) tr = [0]*(1\u0026lt;\u0026lt;m.bit_length() + 1) pre = 0 cnt = 0 for i in range(m): op, x = input().split() x = int(x) if op==\u0026#39;Q\u0026#39;: l, r = cnt-x+1, cnt pre = query(1, 1, m, l, r) print(pre) else: cnt += 1 val = (x + pre)%p modify(1, 1, m, cnt, val) åç´ æ•° from sys import stdin input = lambda:stdin.readline().strip() def get(n): primes = [] st = [False]*(n+1) for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break return primes def dfs(i, od, p, cnt): global mxp, mxn if cnt\u0026gt;mxn or (cnt==mxn and p\u0026lt;mxp): mxp, mxn = p, cnt if i\u0026gt;10: return for j in range(1, od+1): if p*primes[i]\u0026gt;n: return p *= primes[i] dfs(i+1, j, p, cnt*(j+1)) primes = get(50) # print(primes) n = int(input()) mxp, mxn = 0, 0 dfs(0, 30, 1, 1) print(mxp) from sys import stdin def get(n): primes = [] st = [False]*(n+1) for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break return primes def dfs(i, od, p, cnt): global mxn, mxp if cnt\u0026gt;mxn or (cnt==mxn and p\u0026lt;mxp): mxp, mxn = p, cnt if i\u0026gt;10: return for j in range(1, od+1): if p * primes[i] \u0026gt; n: break p *= primes[i] dfs(i+1, j, p, cnt*(j+1)) primes = get(50) n = int(input()) mxp, mxn = 0, 0 dfs(0, 30, 1, 1) print(mxp) \\200. Hanksonçš„è¶£å‘³é¢˜ from sys import stdin from math import gcd input = lambda:stdin.readline().strip() def lcm(a, b): return a*b//gcd(a, b) def get(n): for i in range(2, n+1): if not st[i]: primes.append(i) for p in primes: if i*p\u0026gt;n: break st[i*p] = True if i%p==0: break def dfs(i, p): if i==len(pd): if p\u0026lt;=b1: div.append(p) return dfs(i+1, p) for j in range(1, pd[i][1] + 1): p *= pd[i][0] dfs(i+1, p) n = int(input()) N = int(2e9) + 10 N = int(N**0.5) st = [False]*(N+10) primes = [] get(N) for i in range(n): a0, a1, b0, b1 = map(int, input().split()) t = b1 pd = [] for p in primes: if t%p==0: cnt = 0 while t%p==0: cnt += 1 t//=p pd.append((p, cnt)) if t\u0026gt;1: pd.append((t, 1)) div = [] dfs(0, 1) # print(div) res = 0 for x in div: if gcd(x, a0)==a1 and lcm(x, b0)==b1: res += 1 print(res) æ¥¼å…°å›¾è…¾ from sys import stdin M = int(2e5) + 10 tr = [0]*M def lowbit(x): return x\u0026amp;-x def add(x, v): while x\u0026lt;M: tr[x] += v x += lowbit(x) def query(x): res = 0 while x: res += tr[x] x -= lowbit(x) return res n = int(input()) a = list(map(int, input().split())) suml, sumu = 0, 0 for x in a: lwl = query(x) lwr = (x-1) - lwl upr = query(n) - query(x) upl = n-x - upr suml += (lwl * lwr) sumu += (upl * upr) add(x, 1) print(sumu, suml) å¤šé‡èƒŒåŒ… from sys import stdin input = lambda:stdin.readline().strip() N, V = map(int, input().split()) f = [0]*(V+1) v, w = [], [] for i in range(N): vi, wi, si = map(int, input().split()) c = 1 while si\u0026gt;=c: v.append(c*vi) w.append(c*wi) si -= c c *= 2 if si: v.append(si*vi) w.append(si*wi) l = len(v) for i in range(l): for j in range(V, v[i]-1, -1): f[j] = max(f[j], f[j-v[i]] + w[i]) print(f[V]) æ¬§æ‹‰å‡½æ•° def get(x): res = x for i in range(2, int(x**0.5) + 1): if x%i==0: res = res//i*(i-1) while x%i==0: x//=i if x\u0026gt;1: res = res//x*(x-1) return res n = int(input()) for i in range(n): x = int(input()) print(get(x)) çº¿æ€§ç­›æ³•æ±‚æ¬§æ‹‰å‡½æ•° def get(n): euler[1] = 1 for i in range(2, n+1): if not st[i]: primes.append(i) euler[i] = i-1 for p in primes: t = i*p if t\u0026gt;n: break st[t] = True if i%p==0: euler[t] = euler[i] * p break euler[t] = euler[i] * (p-1) n = int(input()) st = [False] * (n+1) primes = [] euler = [0]*(n+1) get(n) res = 0 for i in range(1, n+1): res += euler[i] print(res) ","permalink":"https://kennems.github.io/zh/posts/tech/acwing%E8%AE%B0%E5%BD%95/","summary":"Acwingè®°å½• æ˜“é”™ç‚¹ï¼š å˜é‡åï¼Œç¬¦å·å†™é”™ï¼ˆå·²çŸ¥ç®—æ³•çš„æƒ…å†µä¸‹é‡æ–°å†™ä¸€éï¼‰ å‡½æ•°å†™äº†æ²¡æœ‰è°ƒç”¨ ä¿åˆ† æ ¹æ®æ•°æ®é‡ç”¨ä¸åŒçš„ç®—æ³• DPï¼Œ æ•°å­¦ï¼Œå“ˆå¸Œï¼Œåˆ†å—ï¼Œæ ‘çŠ¶","title":""},{"content":"LeetCodeæ¯æ—¥ä¸€é¢˜(2405) 1235. è§„åˆ’å…¼èŒå·¥ä½œ é¢˜ç›®å¤§æ„ï¼šç»™å®šnä»½å…¼èŒå·¥ä½œï¼Œæ¯ä»½å·¥ä½œéƒ½æœ‰å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’ŒæŠ¥é…¬ã€‚ä»»åŠ¡æ˜¯é€‰æ‹©ä¸€äº›å·¥ä½œï¼Œä½¿å¾—åœ¨ä¸é‡å çš„æƒ…å†µä¸‹èƒ½å¤Ÿè·å¾—æœ€å¤§æŠ¥é…¬ã€‚\nå®ç°æ€è·¯ï¼šé¦–å…ˆå¯¹å·¥ä½œæŒ‰ç…§ç»“æŸæ—¶é—´è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£æœ€å¤§æŠ¥é…¬ã€‚åœ¨åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªæ•°ç»„fï¼Œå…¶ä¸­f[i]è¡¨ç¤ºåœ¨è€ƒè™‘å‰iä¸ªå·¥ä½œæ—¶å¯ä»¥è·å¾—çš„æœ€å¤§æŠ¥é…¬ã€‚éå†æ¯ä¸ªå·¥ä½œï¼Œå¯¹äºç¬¬iä¸ªå·¥ä½œï¼Œæ‰¾åˆ°åœ¨å…¶å¼€å§‹æ—¶é—´ä¹‹å‰ä¸”ç»“æŸæ—¶é—´æœ€æ¥è¿‘çš„å·¥ä½œjï¼Œç„¶åæ›´æ–°f[i]ä¸ºf[j] + ç¬¬iä¸ªå·¥ä½œçš„æŠ¥é…¬ã€‚æœ€ç»ˆè¿”å›f[n]å³ä¸ºæ‰€æ±‚çš„æœ€å¤§æŠ¥é…¬ã€‚\nclass Solution: def jobScheduling(self, startTime: List[int], endTime: List[int], profit: List[int]) -\u0026gt; int: # å…µè´µç¥é€Ÿï¼Œç°åœ¨èƒ½é¢†å…ˆä¸€ç§’ï¼Œä»¥åå°±èƒ½æŒ‰ç…§å¤åˆ©ä¸€ç›´é¢†å…ˆ n = len(startTime) job = [(0, 0, 0)] + sorted(zip(endTime, startTime, profit)) f = [0]*(n+1) for i, (_, st, p) in enumerate(job[1:], start = 1): # l, r = 0, i-1 # while l\u0026lt;r: # mid = (l+r+1)\u0026gt;\u0026gt;1 # if job[mid][0] \u0026gt; st: # r = mid-1 # else: # l = mid # f[i] = max(f[i-1], f[l] + p) l = bisect_left(job, (st+1, ), hi = i, lo = 0) # å†…ç½®åº“åªèƒ½æŸ¥æ‰¾ ä¸¥æ ¼ \u0026gt; \u0026lt; çš„å€¼ # æ— æ³•æ‰¾åˆ° \u0026gt;= \u0026lt;=çš„å€¼ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ‰¾åˆ°æœ€å¤§çš„ \u0026lt;ç›®æ ‡å€¼çš„ i, i-1å³ä¸º\u0026lt;=ç›®æ ‡å€¼çš„ä¸‹æ ‡ f[i] = max(f[i-1], f[l-1] + p) return f[n] 741. æ‘˜æ¨±æ¡ƒ é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªç½‘æ ¼ï¼Œå…¶ä¸­åŒ…å«ç©ºæ ¼ã€æ¨±æ¡ƒå’Œè†æ£˜ï¼Œè¦æ±‚ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œç„¶åè¿”å›å·¦ä¸Šè§’ï¼ŒæŒ‰ç…§è§„å®šçš„èµ°æ³•ï¼Œæœ€å¤šèƒ½æ‘˜åˆ°çš„æ¨±æ¡ƒæ•°é‡ã€‚\nå®ç°æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°dfs(t, j, l)ï¼Œè¡¨ç¤ºåœ¨æ—¶åˆ»tï¼Œç¬¬ä¸€ä¸ªäººä½äº(j, t-j)ï¼Œç¬¬äºŒä¸ªäººä½äº(l, t-l)æ—¶ï¼Œèƒ½å¤Ÿå¾—åˆ°çš„æœ€å¤§æ¨±æ¡ƒæ•°é‡ã€‚é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å…¶ä¸­ä¸€ä¸ªäººèµ°åˆ°äº†è¾¹ç•Œä¹‹å¤–æˆ–è€…ç¢°åˆ°äº†è†æ£˜æ—¶ï¼Œè¿”å›è´Ÿæ— ç©·ã€‚ç„¶åé€’å½’åœ°è®¡ç®—å››ç§å¯èƒ½çš„ç§»åŠ¨æ–¹å‘ï¼šå‘ä¸‹èµ°ã€å‘å³èµ°ã€å‘ä¸‹å’Œå‘å³èµ°ã€å‘å·¦èµ°ï¼ŒåŒæ—¶æ›´æ–°æ¨±æ¡ƒæ•°é‡ã€‚æœ€åè¿”å›ç»è¿‡è·¯å¾„èƒ½å¤Ÿæ‘˜åˆ°çš„æœ€å¤šæ¨±æ¡ƒæ•°é‡ã€‚\nclass Solution: def cherryPickup(self, g: List[List[int]]) -\u0026gt; int: @cache def dfs(t, j, l): if j\u0026lt;0 or l\u0026lt;0 or t-j\u0026lt;0 or t-l\u0026lt;0 or g[t-j][j]==-1 or g[t-l][l]==-1: return -inf if t==0: return g[0][0] return max(dfs(t-1, j, l), dfs(t-1, j-1, l), dfs(t-1, j, l-1), dfs(t-1, j-1, l-1)) \\ + g[t-j][j] + (g[t-l][l] if j!=l else 0) n = len(g) return max(0, dfs(2*n-2, n-1, n-1)) ","permalink":"https://kennems.github.io/zh/posts/tech/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%982405/","summary":"LeetCodeæ¯æ—¥ä¸€é¢˜(2405) 1235. è§„åˆ’å…¼èŒå·¥ä½œ é¢˜ç›®å¤§æ„ï¼šç»™å®šnä»½å…¼èŒå·¥ä½œï¼Œæ¯ä»½å·¥ä½œéƒ½æœ‰å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’ŒæŠ¥é…¬ã€‚ä»»åŠ¡æ˜¯é€‰æ‹©ä¸€äº›å·¥ä½œï¼Œä½¿å¾—","title":""},{"content":"title = \u0026lsquo;åç«¯å…«è‚¡å­¦ä¹ ç¬”è®°\u0026rsquo; date = 2024-04-06T17:47:22+08:00 draft = false\n+++\nåç«¯å…«è‚¡å­¦ä¹ ç¬”è®° æƒ³è¦ç”Ÿæ´»èƒ½è¿›æ­¥ï¼Œå°±ä¸èƒ½èµ°é€€æ­¥è·¯ã€‚\nè®¡ç®—æœºç½‘ç»œ ç½‘ç»œæ˜¯æŠŠä¸»æœºè¿æ¥èµ·æ¥ï¼Œè€Œäº’è”ç½‘(Internet)æ˜¯æŠŠå¤šç§ä¸åŒçš„ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œå› æ­¤äº’è”ç½‘æ˜¯ç½‘ç»œçš„ç½‘ç»œï¼Œè€Œäº’è”ç½‘(Internet)æ˜¯å…¨çƒèŒƒå›´çš„äº’è”ç½‘ã€‚ ISP äº’è”ç½‘æœåŠ¡æä¾›å•†ISPå¯ä»¥ä»äº’è”ç½‘ç®¡ç†æœºæ„è·å¾—è®¸å¤šIPåœ°å€ï¼ŒåŒæ—¶æ‹¥æœ‰é€šä¿¡çº¿è·¯ä»¥åŠè·¯ç”±å™¨ç­‰è”ç½‘è®¾å¤‡ï¼Œä¸ªäººæˆ–æœºæ„å‘ISPç¼´çº³ä¸€å®šçš„è´¹ç”¨å°±å¯ä»¥æ¥å…¥äº’è”ç½‘ã€‚\nç›®å‰çš„äº’è”ç½‘æ˜¯ä¸€ç§å¤šå±‚æ¬¡ISPç»“æ„ï¼ŒISPæ ¹æ®è¦†ç›–é¢ç§¯çš„å¤§å°åˆ†ä¸ºç¬¬ä¸€å±‚ISPï¼ŒåŒºåŸŸISPå’Œæ¥å…¥ISPã€‚**äº’è”ç½‘äº¤æ¢ç‚¹IXPï¼ˆInternet Exchange Point)**å…è®¸ä¸¤ä¸ªISPç›´æ¥ç›¸è¿è€Œä¸ç”¨ç»è¿‡ç¬¬ä¸‰ä¸ªISPã€‚\nä¸»æœºä¹‹é—´çš„é€šä¿¡æ–¹å¼ å®¢æˆ·-æœåŠ¡å™¨ï¼ˆC/Sï¼‰ï¼šå®¢æˆ·æ˜¯æœåŠ¡çš„è¯·æ±‚æ–¹ï¼ŒæœåŠ¡å™¨ æ˜¯æœåŠ¡çš„æä¾›æ–¹ã€‚\nå¯¹ç­‰ï¼ˆP2Pï¼‰ï¼šä¸åŒºåˆ†å®¢æˆ·å’ŒæœåŠ¡å™¨\nç”µè·¯äº¤æ¢ä¸åˆ†ç»„äº¤æ¢ 1.ç”µè·¯äº¤æ¢ ç”µè·¯äº¤æ¢ç”¨äºç”µè¯é€šä¿¡ç³»ç»Ÿï¼Œä¸¤ä¸ªç”¨æˆ·è¦é€šä¿¡ä¹‹å‰éœ€è¦å»ºç«‹ä¸€æ¡ä¸“ç”¨çš„ç‰©ç†é“¾è·¯ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªé€šä¿¡è¿‡ç¨‹ä¸­å§‹ç»ˆå ç”¨è¯¥é“¾è·¯ã€‚ç”±äºé€šä¿¡çš„è¿‡ç¨‹ä¸­ä¸å¯èƒ½ä¸€ç›´åœ¨ä½¿ç”¨ä¼ è¾“çº¿è·¯ï¼Œå› æ­¤ç”µè·¯äº¤æ¢å¯¹çº¿è·¯çš„åˆ©ç”¨ç‡å¾ˆä½ï¼Œå¾€å¾€ä¸åˆ°10%ã€‚\n2.åˆ†ç»„äº¤æ¢ æ¯ä¸ªåˆ†ç»„éƒ½æœ‰é¦–éƒ¨å’Œå°¾éƒ¨ï¼ŒåŒ…å«äº†æºåœ°å€å’Œç›®çš„åœ°å€ç­‰æ§åˆ¶ä¿¡æ¯ï¼Œåœ¨åŒä¸€ä¸ªä¼ è¾“çº¿è·¯ä¸ŠåŒæ—¶ä¼ è¾“å¤šä¸ªåˆ†ç»„äº’ç›¸ä¸å½±å“ï¼Œå› æ­¤åœ¨åŒä¸€æ¡ä¼ è¾“çº¿è·¯ä¸Šå…è®¸åŒæ—¶ä¼ è¾“å¤šä¸ªåˆ†ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ†ç»„äº¤æ¢ä¸éœ€è¦å ç”¨ä¼ è¾“çº¿è·¯ã€‚\nåœ¨åŒä¸€ä¸ªé‚®å±€é€šä¿¡ç³»ç»Ÿä¸­ï¼Œé‚®å±€æ”¶åˆ°ä¸€ä»½é‚®ä»¶ä¹‹åï¼Œå…ˆå­˜å‚¨ä¸‹æ¥ï¼Œç„¶åæŠŠç›¸åŒç›®çš„åœ°çš„é‚®ä»¶ä¸€èµ·è½¬å‘åˆ°ä¸‹ä¸€ä¸ªç›®çš„åœ°ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å­˜å‚¨è½¬å‘çš„è¿‡ç¨‹ï¼Œåˆ†ç»„äº¤æ¢ä¹Ÿä½¿ç”¨äº†å­˜å‚¨è½¬å‘è¿‡ç¨‹ã€‚\næ—¶å»¶ æ€»æ—¶å»¶ = æ’é˜Ÿæ—¶å»¶ + å¤„ç†æ—¶å»¶ + ä¼ è¾“æ—¶å»¶ + ä¼ æ’­æ—¶å»¶\n1.æ’é˜Ÿæ—¶å»¶ åˆ†ç»„åœ¨è·¯ç”±å™¨çš„è¾“å…¥é˜Ÿåˆ—å’Œè¾“å‡ºé˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…çš„æ—¶é—´ï¼Œå–å†³äºç½‘ç»œå½“å‰çš„é€šä¿¡é‡ã€‚\n2.å¤„ç†æ—¶å»¶ ä¸»æœºæˆ–è·¯ç”±å™¨æ”¶åˆ°åˆ†ç»„æ—¶è¿›è¡Œå¤„ç†æ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¾‹å¦‚åˆ†æé¦–éƒ¨ã€ä»åˆ†ç»„ä¸­æå–æ•°æ®ã€è¿›è¡Œå·®é”™æ£€éªŒæˆ–æŸ¥æ‰¾é€‚å½“çš„è·¯ç”±ç­‰ã€‚\n3.ä¼ è¾“æ—¶å»¶ ä¸»æœºæˆ–è·¯ç”±å™¨ä¼ è¾“æ•°æ®å¸§æ‰€éœ€è¦çš„æ—¶é—´ã€‚ $$ delay = \\frac{l(bit)}{v(bit/s)} $$ $l$:æ•°æ®å¸§çš„é•¿åº¦, $v$:ä¼ è¾“é€Ÿç‡\n4.ä¼ æ’­æ—¶å»¶ ç”µç£æ³¢åœ¨ä¿¡é“ä¸­ä¼ æ’­æ‰€éœ€è¦èŠ±è´¹çš„æ—¶é—´ï¼Œç”µç£æ³¢ä¼ æ’­çš„é€Ÿåº¦æ¥è¿‘å…‰é€Ÿã€‚ $$ delay = \\frac{l(m)}{v(m/s)} $$ $l$:è¡¨ç¤ºä¿¡é“é•¿åº¦ï¼Œ $v$:è¡¨ç¤ºç”µç£æ³¢åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€Ÿåº¦\nè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ 1.äº”å±‚åè®® åº”ç”¨å±‚ï¼šä¸ºç‰¹å®šåº”ç”¨ç¨‹åºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œä¾‹å¦‚HTTPï¼ŒDNSç­‰åè®®ã€‚æ•°æ®å•ä½ä¸ºæŠ¥æ–‡ã€‚\nä¼ è¾“å±‚ï¼šä¸ºè¿›ç¨‹æä¾›é€šç”¨æ•°æ®ä¼ è¾“æœåŠ¡ã€‚ç”±äºåº”ç”¨å±‚åè®®å¾ˆå¤šï¼Œå®šä¹‰é€šç”¨çš„ä¼ è¾“å±‚åè®®å°±å¯ä»¥æ”¯æŒä¸æ–­å¢å¤šçš„åº”ç”¨å±‚åè®®ã€‚è¿è¾“å±‚åŒ…æ‹¬ä¸¤ç§åè®®ï¼šä¼ è¾“æ§åˆ¶åè®®TCPï¼Œæä¾›é¢å‘è¿æ¥ã€å¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œæ•°æ®å•ä½ä¸ºæŠ¥æ–‡æ®µï¼›ç”¨æˆ·æ•°æ®æŠ¥åè®®UDPï¼Œæä¾›æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œæ•°æ®å•ä½ä¸ºç”¨æˆ·æ•°æ®æŠ¥ã€‚TCPä¸»è¦æä¾›å®Œæ•´æ€§æœåŠ¡ï¼ŒUDPä¸»è¦æä¾›åŠæ—¶æ€§æœåŠ¡ã€‚\nç½‘ç»œå±‚ï¼šä¸ºä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚è€Œä¼ è¾“å±‚åè®®æ˜¯ä¸ºä¸»æœºä¸­çš„è¿›ç¨‹æä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚ç½‘ç»œå±‚æŠŠä¼ è¾“å±‚ä¼ é€’ä¸‹æ¥çš„æŠ¥æ–‡æ®µæˆ–è€…ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„ã€‚\næ•°æ®é“¾è·¯å±‚ï¼šç½‘ç»œå±‚é’ˆå¯¹çš„è¿˜æ˜¯ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œè€Œä¸»æœºä¹‹é—´å¯ä»¥æœ‰å¾ˆå¤šé“¾è·¯ï¼Œé“¾è·¯å±‚åè®®å°±æ˜¯ä¸ºåŒä¸€é“¾è·¯çš„ä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚æ•°æ®é“¾è·¯å±‚æŠŠç½‘ç»œå±‚ä¼ ä¸‹æ¥çš„åˆ†ç»„å°è£…æˆå¸§ã€‚\nç‰©ç†å±‚ï¼šè€ƒè™‘çš„æ˜¯æ€æ ·åœ¨ä¼ è¾“åª’ä½“ä¸Šä¼ è¾“æ¯”ç‰¹æµï¼Œè€Œä¸æ˜¯æŒ‡å…·ä½“çš„ä¼ è¾“åª’ä½“ã€‚ç‰©ç†å±‚çš„ä½œç”¨æ˜¯å°½å¯èƒ½å±è”½ä¼ è¾“åª’ä½“å’Œé€šä¿¡æ‰‹æ®µçš„å·®å¼‚ï¼Œä½¿æ•°æ®é“¾è·¯å±‚æ„Ÿè§‰ä¸åˆ°è¿™äº›å·®å¼‚ã€‚\n2.OSI (Open Systems Interconnectionï¼Œå¼€æ”¾å¼ç³»ç»Ÿäº’è”)\nå…¶ä¸­è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚ç”¨é€”å¦‚ä¸‹ï¼š\nè¡¨ç¤ºå±‚ï¼šæ•°æ®å‹ç¼©ã€åŠ å¯†ä»¥åŠæ•°æ®æè¿°ï¼Œè¿™ä½¿å¾—åº”ç”¨ç¨‹åºä¸å¿…å…³å¿ƒåœ¨å„å°ä¸»æœºä¸­æ•°æ®å†…éƒ¨æ ¼å¼ä¸åŒçš„é—®é¢˜ã€‚ ä¼šè¯å±‚ï¼šå»ºç«‹åŠç®¡ç†ä¼šè¯ã€‚ äº”å±‚åè®®æ²¡æœ‰è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚ï¼Œè€Œæ˜¯å°†è¿™äº›åŠŸèƒ½ç•™ç»™åº”ç”¨ç¨‹åºå¼€å‘è€…å¤„ç†ã€‚\n3.TCP/IP åªæœ‰å››å±‚ï¼Œç›¸å½“äºäº”å±‚åè®®ä¸­æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚åˆå¹¶ä¸ºç½‘ç»œæ¥å£å±‚ã€‚\nTCP/IPä½“ç³»ç»“æ„ä¸ä¸¥æ ¼éµå¾ªOSIåˆ†å±‚æ¦‚å¿µï¼Œåº”ç”¨å±‚å¯èƒ½ä¼šç›´æ¥ä½¿ç”¨IPå±‚æˆ–è€…ç½‘ç»œæ¥å£å±‚ã€‚\n4.æ•°æ®åœ¨å„å±‚ä¹‹é—´çš„ä¼ é€’è¿‡ç¨‹ åœ¨å‘ä¸‹çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ·»åŠ ä¸‹å±‚åè®®æ‰€éœ€è¦çš„é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œè€Œåœ¨å‘ä¸Šçš„è¿‡ç¨‹ä¸­ä¸æ–­æ‹†å¼€é¦–éƒ¨å’Œå°¾éƒ¨ã€‚\nè·¯ç”±å™¨åªæœ‰ä¸‹é¢ä¸‰å±‚åè®®ï¼Œå› ä¸ºè·¯ç”±å™¨ä½äºç½‘ç»œæ ¸å¿ƒä¸­ï¼Œä¸éœ€è¦ä¸ºè¿›ç¨‹æˆ–è€…åº”ç”¨ç¨‹åºæä¾›æœåŠ¡ï¼Œå› æ­¤ä¹Ÿå°±ä¸éœ€è¦ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚\nç‰©ç†å±‚ é€šä¿¡æ–¹å¼ æ ¹æ®ä¿¡æ¯åœ¨ä¼ è¾“çº¿ä¸Šçš„ä¼ é€æ–¹å‘ï¼Œåˆ†ä¸ºä¸€ä¸‹ä¸‰ç§é€šä¿¡æ–¹å¼ï¼š\nå•å·¥é€šä¿¡ï¼šå•å‘ä¼ è¾“ åŠåŒå·¥é€šä¿¡ï¼šåŒå‘äº¤æ›¿ä¼ è¾“ å…¨åŒå·¥é€šä¿¡ï¼šåŒå‘åŒæ—¶ä¼ è¾“ å¸¦é€šè°ƒåˆ¶ æ¨¡æ‹Ÿä¿¡å·æ˜¯è¿ç»­çš„ä¿¡å·ï¼Œæ•°å­—ä¿¡å·æ˜¯ç¦»æ•£çš„ä¿¡å·ã€‚å¸¦é€šè°ƒåˆ¶æŠŠæ•°å­—ä¿¡å·è½¬æ¢ä¸ºæ¨¡æ‹Ÿä¿¡å·ã€‚\né“¾è·¯å±‚ åŸºæœ¬é—®é¢˜ 1.å°è£…æˆå¸§ æŠŠç½‘ç»œå±‚ä¼ ä¸‹æ¥çš„åˆ†ç»„æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç”¨äºæ ‡è®°å¸§çš„å¼€å§‹å’Œç»“æŸã€‚\n2.é€æ˜ä¼ è¾“ é€æ˜è¡¨ç¤ºä¸€ä¸ªå®é™…å­˜åœ¨çš„äº‹ç‰©çœ‹èµ·æ¥å¥½åƒä¸å­˜åœ¨ä¸€æ ·ã€‚\nå¸§ä½¿ç”¨é¦–éƒ¨å’Œå°¾éƒ¨è¿›è¡Œå®šç•Œï¼Œå¦‚æœå¸§çš„æ•°æ®éƒ¨åˆ†å«æœ‰å’Œé¦–éƒ¨å°¾éƒ¨ç›¸åŒçš„å†…å®¹ï¼Œé‚£ä¹ˆå¸§çš„å¼€å§‹å’Œç»“æŸä½ç½®å°±ä¼šè¢«é”™è¯¯çš„åˆ¤å®šã€‚éœ€è¦åœ¨æ•°æ®éƒ¨åˆ†å‡ºç°é¦–éƒ¨å°¾éƒ¨ç›¸åŒçš„å†…å®¹å‰é¢æ’å…¥è½¬ä¹‰å­—ç¬¦ã€‚å¦‚æœæ•°æ®éƒ¨åˆ†å‡ºç°è½¬ä¹‰å­—ç¬¦ï¼Œé‚£ä¹ˆå°±åœ¨è½¬ä¹‰å­—ç¬¦å‰é¢å†åŠ ä¸ªè½¬ä¹‰å­—ç¬¦ã€‚åœ¨æ¥æ”¶ç«¯å¤„ç†ä¹‹åå¯ä»¥è¿˜åŸå‡ºåŸå§‹æ•°æ®ã€‚è¿™ä¸ªè¿‡ç¨‹é€æ˜ä¼ è¾“çš„å†…å®¹æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œç”¨æˆ·å¯Ÿè§‰ä¸åˆ°è½¬ä¹‰å­—ç¬¦çš„å­˜åœ¨ã€‚\n3.å·®é”™æ£€æµ‹ ç›®å‰æ•°æ®é“¾è·¯å±‚å¹¿æ³›ä½¿ç”¨äº†**å¾ªç¯å†—ä½™æ£€éªŒï¼ˆCRCï¼ŒCyclic Redundancy Checkï¼‰**æ¥æ£€æŸ¥æ¯”ç‰¹å·®é”™ã€‚\nä¿¡é“åˆ†ç±» 1.å¹¿æ’­ä¿¡å· ä¸€å¯¹å¤šé€šä¿¡ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‘é€çš„æ•°æ®èƒ½å¤Ÿè¢«å¹¿æ’­ä¿¡é“ä¸Šæ‰€æœ‰çš„èŠ‚ç‚¹æ¥å—åˆ°ã€‚\næ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨åŒä¸€ä¸ªå¹¿æ’­ä¿¡é“ä¸Šå‘é€æ•°æ®ï¼Œå› æ­¤éœ€è¦æœ‰ä¸“é—¨çš„æ§åˆ¶æ–¹æ³•è¿›è¡Œåè°ƒï¼Œé¿å…å‘ç”Ÿå†²çªï¼ˆå†²çªä¹Ÿå«ç¢°æ’ï¼‰ã€‚\nä¸»è¦æœ‰ä¸¤ç§æ§åˆ¶æ–¹æ³•è¿›è¡Œåè°ƒï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼›å¦ä¸€ä¸ªæ˜¯ä½¿ç”¨CSMA/CDåè®®ã€‚\n2.ç‚¹å¯¹ç‚¹ä¿¡é“ ä¸€å¯¹ä¸€é€šä¿¡ã€‚\nå› ä¸ºä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œå› æ­¤ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨PPPï¼ˆPoint-to-Point Protocolï¼‰åè®®è¿›è¡Œæ§åˆ¶ã€‚\nä¿¡é“å¤ç”¨æŠ€æœ¯ 1.é¢‘åˆ†å¤ç”¨ é¢‘åˆ†å¤ç”¨çš„æ‰€æœ‰ä¸»æœºåœ¨ç›¸åŒçš„æ—¶é—´å ç”¨ä¸åŒçš„é¢‘ç‡å¸¦å®½èµ„æºã€‚\n2.æ—¶åˆ†å¤ç”¨ æ—¶åˆ†å¤ç”¨çš„æ‰€æœ‰ä¸»æœºåœ¨ä¸åŒçš„äº‹ä»¶å ç”¨ç›¸åŒçš„é¢‘ç‡å¸¦å®½èµ„æºã€‚\nä½¿ç”¨é¢‘åˆ†å¤ç”¨å’Œæ—¶åˆ†å¤ç”¨è¿›è¡Œé€šä¿¡ï¼Œåœ¨é€šä¿¡çš„è¿‡ç¨‹ä¸­ä¸»æœºä¼šä¸€ç›´å ç”¨ä¸€éƒ¨åˆ†ä¿¡é“èµ„æºã€‚ä½†æ˜¯ç”±äºè®¡ç®—æœºæ•°æ®çš„çªå‘æ€§è´¨ï¼Œé€šä¿¡è¿‡ç¨‹æ²¡å¿…è¦ä¸€ç›´å ç”¨ä¿¡é“èµ„æºè€Œä¸è®©å‡ºç»™å…¶ä»–ç”¨æˆ·ä½¿ç”¨ï¼Œå› æ­¤è¿™ä¸¤ç§æ–¹å¼å¯¹ä¿¡é“çš„åˆ©ç”¨ç‡éƒ½ä¸é«˜ã€‚\n3.ç»Ÿè®¡æ—¶åˆ†å¤ç”¨ æ˜¯å¯¹æ—¶åˆ†å¤ç”¨çš„ä¸€ç§æ”¹è¿›ï¼Œä¸å›ºå®šæ¯ä¸ªç”¨æˆ·åœ¨æ—¶åˆ†å¤ç”¨å¸§ä¸­çš„ä½ç½®ï¼Œåªè¦æœ‰æ•°æ®å°±é›†ä¸­èµ·æ¥ç»„æˆç»Ÿè®¡æ—¶åˆ†å¤ç”¨å¸§ç„¶åå‘é€ã€‚\n4.æ³¢åˆ†å¤ç”¨ å…‰çš„é¢‘åˆ†å¤ç”¨ã€‚ç”±äºå…‰çš„é¢‘ç‡å¾ˆé«˜ï¼Œå› æ­¤ä¹ æƒ¯ä¸Šç”¨æ³¢é•¿è€Œä¸æ˜¯é¢‘ç‡æ¥è¡¨ç¤ºæ‰€ä½¿ç”¨çš„å…‰è½½æ³¢ã€‚\n5.ç åˆ†å¤ç”¨ ä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…$m\\ bit$ çš„ç ç‰‡ï¼Œå¹¶ä¸”æ‰€æœ‰çš„ç ç‰‡æ­£äº¤ï¼Œå¯¹äºä»»æ„ä¸¤ä¸ªç ç‰‡$\\vec{S}$å’Œ$\\vec{T}$æœ‰ $$ \\frac{1}{m}\\vec{S}\\ \\cdot \\vec{T} = 0 $$ ä¸ºäº†è®¨è®ºæ–¹ä¾¿ï¼Œå–$m=8$, è®¾ç ç‰‡$\\vec{S}$ä¸º$00011011$ã€‚åœ¨æ‹¥æœ‰è¯¥ç ç‰‡é¢ç”¨æˆ·å‘é€æ¯”ç‰¹1æ—¶å°±å‘é€è¯¥ç ç‰‡ï¼Œå‘é€æ¯”ç‰¹0æ—¶å°±å‘é€è¯¥ç ç‰‡çš„åç $11100100$\nåœ¨è®¡ç®—æ—¶å°†$00011011$è®°ä½œï¼ˆ$-1-1-1+1+1-1+1+1$ï¼‰,å¯ä»¥å¾—åˆ°ï¼š $$ \\frac{1}{m}\\vec{S} \\cdot \\vec{S}=1 $$\n$$ \\frac{1}{m}\\vec{S} \\cdot \\vec{S}\u0026rsquo;=-1 $$\nå…¶ä¸­$\\vec{S}\u0026rsquo;$æ˜¯$\\vec{S}$çš„åç \nåˆ©ç”¨ä¸Šé¢çš„å¼å­å¯çŸ¥ï¼Œå½“æ¥æ”¶ç«¯ä½¿ç”¨ç ç‰‡$\\vec{S}\u0026rsquo;$å¯¹æ¥å—åˆ°çš„æ•°æ®è¿›è¡Œå†…ç§¯è¿ç®—æ—¶ï¼Œ ç»“æœä¸º0çš„æ˜¯å…¶å®ƒç”¨æˆ·å‘é€çš„æ•°æ®ï¼Œç»“æœä¸º1çš„æ˜¯ç”¨æˆ·å‘é€çš„æ¯”ç‰¹1,ç»“æœä¸º-1çš„æ˜¯ç”¨æˆ·å‘é€çš„æ¯”ç‰¹0ã€‚\nç åˆ†å¤ç”¨éœ€è¦å‘é€çš„æ•°æ®é‡ä¸ºåŸå…ˆçš„må€ã€‚\nCSMA/CDåè®® CSMA/CDè¡¨ç¤ºè½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥/ç¢°æ’æ£€æµ‹ã€‚\nå¤šç‚¹æ¥å…¥ï¼šè¯´æ˜è¿™æ˜¯æ€»çº¿å‹ç½‘ç»œï¼Œè®¸å¤šä¸»æœºä»¥å¤šç‚¹çš„æ–¹å¼è¿æ¥åˆ°æ€»çº¿ä¸Š è½½æ³¢ç›‘å¬ï¼šæ¯ä¸ªä¸»æœºéƒ½å¿…é¡»ä¸åœåœ°ç›‘å¬ä¿¡é“ã€‚åœ¨å‘é€å‰ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“æ­£åœ¨ä½¿ç”¨ï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚ ç¢°æ’æ£€æµ‹ï¼šåœ¨å‘é€ä¸­ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“å·²æœ‰å…¶ä»–ä¸»æœºæ­£åœ¨å‘é€æ•°æ®ï¼Œå°±è¡¨ç¤ºå‘ç”Ÿäº†ç¢°æ’ã€‚è™½ç„¶æ¯ä¸ªä¸»æœºåœ¨å‘é€æ•°æ®ä¹‹å‰éƒ½å·²ç»ç›‘å¬åˆ°ä¿¡é“ä¸ºç©ºé—²ï¼Œä½†æ˜¯ç”±äºç”µç£æ³¢çš„ä¼ æ’­æ—¶å»¶çš„å­˜åœ¨ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šå‘ç”Ÿç¢°æ’ã€‚ è®°ç«¯åˆ°ç«¯çš„ä¼ æ’­æ—¶å»¶ä¸º$\\tau$, æœ€å…ˆå‘é€çš„ç«™ç‚¹æœ€å¤šç»è¿‡$2\\tau$å°±å¯ä»¥çŸ¥é“æ˜¯å¦å‘ç”Ÿäº†ç¢°æ’ï¼Œç§°$2\\tau$ä¸ºäº‰ç”¨æœŸã€‚åªæœ‰ç»è¿‡äº‰ç”¨æœŸä¹‹åè¿˜æ²¡æœ‰æ£€æµ‹åˆ°ç¢°æ’ï¼Œæ‰èƒ½è‚¯å®šè¿™æ¬¡å‘é€ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚\nå½“å‘ç”Ÿç¢°æ’æ—¶ï¼Œ ç«™ç‚¹è¦åœæ­¢å‘é€ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´å†å‘é€ã€‚è¿™ä¸ªæ—¶é—´é‡‡ç”¨æˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•æ¥ç¡®å®šã€‚ä»ç¦»æ•£çš„æ•´æ•°é›†åˆ${0, 1, \u0026hellip;, (2^k-1)}$ä¸­éšæœºå–å‡ºä¸€ä¸ªæ•°ï¼Œè®°ä½œ$r$ï¼Œ ç„¶åå–$r$å€çš„äº‰ç”¨æœŸä½œä¸ºé‡ä¼ ç­‰å¾…æ—¶é—´ã€‚\nPPPåè®® äº’è”ç½‘ç”¨æˆ·é€šå¸¸éœ€è¦è¿æ¥åˆ°æŸä¸ªISPä¹‹åæ‰èƒ½æ¥å…¥äº’è”ç½‘ï¼ŒPPPåè®®æ—¶ç”¨æˆ·è®¡ç®—æœºå’ŒISPè¿›è¡Œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„æ•°æ®é“¾è·¯å±‚åè®®ã€‚\nPPPçš„å¸§æ ¼å¼ï¼š\nFå­—æ®µä¸ºå¸§çš„å®šç•Œç¬¦ Aå’ŒCå­—æ®µæš‚æ—¶æ²¡æœ‰æ„ä¹‰ FCSå­—æ®µæ˜¯ä½¿ç”¨CRCçš„æ£€éªŒåºåˆ— ä¿¡æ¯éƒ¨åˆ†çš„é•¿åº¦ä¸è¶…è¿‡1500 MACåœ°å€ MACåœ°å€æ˜¯é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º6å­—èŠ‚ï¼ˆ48ä½ï¼‰ï¼Œ ç”¨äºå”¯ä¸€è¡¨ç¤ºç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰ã€‚\nä¸€å°ä¸»æœºæ‹¥æœ‰å¤šå°‘ä¸ªç½‘ç»œé€‚é…å™¨å°±æœ‰å¤šå°‘ä¸ªMACåœ°å€ã€‚ä¾‹å¦‚ç¬”è®°æœ¬ç”µè„‘æ™®éå­˜åœ¨æ— é™ç½‘ç»œé€‚é…å™¨å’Œæœ‰çº¿ç½‘ç»œé€‚é…å™¨ï¼Œå› æ­¤å°±æœ‰ä¸¤ä¸ªMACåœ°å€ã€‚\nå±€åŸŸç½‘ å±€åŸŸç½‘æ˜¯ä¸€ç§å…¸å‹çš„å¹¿æ’­ä¿¡é“ï¼Œä¸»è¦ç‰¹ç‚¹æ˜¯ç½‘ç»œä¸ºä¸€ä¸ªå•ä½æ‰€æ‹¥æœ‰ï¼Œ ä¸”åœ°ç†èŒƒå›´å’Œç«™ç‚¹æ•°ç›®å‡æœ‰é™ã€‚\nä¸»è¦æœ‰ä»¥å¤ªç½‘ã€ä»¤ç‰Œç¯ç½‘ç»œã€FDDIå’ŒATMç­‰å±€åŸŸç½‘æŠ€æœ¯ï¼Œç›®å‰ä»¥å¤ªç½‘å é¢†ç€æœ‰çº¿å±€åŸŸç½‘å¸‚åœºã€‚\nå¯ä»¥æŒ‰ç…§ç½‘ç»œæ‹“æ‰‘ç»“æ„å¯¹å±€åŸŸç½‘è¿›è¡Œåˆ†ç±»ã€‚\nä»¥å¤ªç½‘ ä»¥å¤ªç½‘æ˜¯ä¸€ç§æ˜Ÿå‹æ‹“æ‰‘ç»“æ„å±€åŸŸç½‘ã€‚\næ—©èµ·ä½¿ç”¨é›†çº¿å™¨è¿›è¡Œè¿æ¥ï¼Œé›†çº¿å™¨æ˜¯ä¸€ç§ç‰©ç†å±‚è®¾å¤‡ã€‚ä½œç”¨äºæ¯”ç‰¹è€Œä¸æ˜¯å¸§ï¼Œå½“ä¸€ä¸ªæ¯”ç‰¹åˆ°è¾¾æ¥å£æ—¶ï¼Œé›†çº¿å™¨é‡æ–°ç”Ÿæˆè¿™ä¸ªæ¯”ç‰¹ï¼Œå¹¶å°†å…¶èƒ½é‡å¼ºåº¦æ”¾å¤§ï¼Œä»è€Œæ‰©å¤§ç½‘ç»œçš„ä¼ è¾“è·ç¦»ï¼Œä¹‹åå†å°†è¿™ä¸ªæ¯”ç‰¹å‘é€åˆ°å…¶ä»–æ‰€æœ‰æ¥å£ã€‚å¦‚æœé›†çº¿å™¨åŒæ—¶æ”¶åˆ°ä¸¤ä¸ªä¸åŒæ¥å£çš„å¸§ï¼Œé‚£ä¹ˆå°±å‘ç”Ÿäº†ç¢°æ’ã€‚\nç›®å‰ä»¥å¤ªç½‘ä½¿ç”¨äº¤æ¢æœºæ›¿ä»£äº†é›†çº¿å™¨ï¼Œäº¤æ¢æœºæ˜¯ä¸€ç§é“¾è·¯å±‚è®¾å¤‡ï¼Œå®ƒä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œèƒ½æ ¹æ®MACåœ°å€è¿›è¡Œå­˜å‚¨è½¬å‘ã€‚\nä»¥å¤ªç½‘æ ¼å¼ï¼š\nç±»å‹ï¼šæ ‡è®°ä¸Šå±‚ä½¿ç”¨çš„åè®® æ•°æ®ï¼šé•¿åº¦ä¸º46~1500ä¹‹é—´ï¼Œå¦‚æœå¤ªå°åˆ™éœ€è¦å¡«å…… FCSï¼šçœŸæ£€éªŒåºåˆ—ï¼Œä½¿ç”¨çš„æ—¶CRCæ£€éªŒæ–¹æ³• äº¤æ¢æœº ","permalink":"https://kennems.github.io/zh/posts/tech/%E5%90%8E%E7%AB%AF%E5%85%AB%E8%82%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","summary":"title = \u0026lsquo;åç«¯å…«è‚¡å­¦ä¹ ç¬”è®°\u0026rsquo; date = 2024-04-06T17:47:22+08:00 draft = false +++ åç«¯å…«è‚¡å­¦ä¹ ç¬”è®° æƒ³è¦ç”Ÿæ´»èƒ½è¿›æ­¥ï¼Œå°±ä¸èƒ½èµ°é€€æ­¥è·¯ã€‚ è®¡ç®—æœºç½‘ç»œ ç½‘ç»œæ˜¯æŠŠä¸»æœºè¿æ¥èµ·æ¥","title":""},{"content":"é€šä¿¡åŸç†å¤§ä½œä¸š é¢˜ç›®ä¸ƒï¼š2DPSKç³»ç»Ÿçš„ä»¿çœŸ\nè¦æ±‚ï¼š\nï¼ˆ1ï¼‰æ¨¡å—ç›´æ¥å®ç°æ³•ï¼Œç»˜åˆ¶ç³»ç»Ÿçš„çœ¼å›¾å’Œè¯¯æ¯”ç‰¹ç‡æ›²çº¿ï¼›\nä¿¡é“ä¸­åŠ å…¥é«˜æ–¯ç™½å™ªå£°ï¼Œæ”¹å˜é«˜æ–¯ç™½å™ªå£°çš„å‚æ•°ï¼Œè§‚å¯Ÿæ¥å—ç«¯è¾“å‡ºä¿¡å·çš„å˜åŒ–æƒ…å†µï¼Œå¹¶ç»˜åˆ¶ç³»ç»Ÿçš„çœ¼å›¾å’Œè¯¯æ¯”ç‰¹ç‡æ›²çº¿ã€‚\nï¼ˆ2ï¼‰æ ¹æ®åŸç†é—´æ¥å®ç°è°ƒåˆ¶è§£è°ƒè¿‡ç¨‹ï¼Œç”¨ç¤ºæ³¢å™¨æ˜¾ç¤º2FSKè°ƒåˆ¶æ³¢å½¢å’Œè§£è°ƒæ³¢å½¢ã€‚\nï¼ˆ3ï¼‰æ”¹å˜ä¿¡å·æºçš„é¢‘ç‡å’Œè½½æ³¢çš„é¢‘ç‡ï¼Œè°ƒæ•´å¸¦é€šæ»¤æ³¢å™¨å’Œä½é€šæ»¤æ³¢å™¨çš„æˆªæ­¢é¢‘ç‡ï¼Œå†æ¬¡è§‚å¯Ÿç¤ºæ³¢å™¨æ˜¾ç¤º2FSKè°ƒåˆ¶æ³¢å½¢å’Œè§£è°ƒæ³¢å½¢ã€‚\n","permalink":"https://kennems.github.io/zh/posts/tech/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86%E5%A4%A7%E4%BD%9C%E4%B8%9A/","summary":"é€šä¿¡åŸç†å¤§ä½œä¸š é¢˜ç›®ä¸ƒï¼š2DPSKç³»ç»Ÿçš„ä»¿çœŸ è¦æ±‚ï¼š ï¼ˆ1ï¼‰æ¨¡å—ç›´æ¥å®ç°æ³•ï¼Œç»˜åˆ¶ç³»ç»Ÿçš„çœ¼å›¾å’Œè¯¯æ¯”ç‰¹ç‡æ›²çº¿ï¼› ä¿¡é“ä¸­åŠ å…¥é«˜æ–¯ç™½å™ªå£°ï¼Œæ”¹å˜é«˜æ–¯ç™½å™ªå£°çš„å‚","title":""}]